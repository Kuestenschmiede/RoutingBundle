!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=274)}([function(e,t,r){"use strict";r.r(t),r.d(t,"boundingExtent",(function(){return a})),r.d(t,"buffer",(function(){return s})),r.d(t,"clone",(function(){return l})),r.d(t,"closestSquaredDistanceXY",(function(){return u})),r.d(t,"containsCoordinate",(function(){return c})),r.d(t,"containsExtent",(function(){return h})),r.d(t,"containsXY",(function(){return p})),r.d(t,"coordinateRelationship",(function(){return d})),r.d(t,"createEmpty",(function(){return f})),r.d(t,"createOrUpdate",(function(){return g})),r.d(t,"createOrUpdateEmpty",(function(){return m})),r.d(t,"createOrUpdateFromCoordinate",(function(){return y})),r.d(t,"createOrUpdateFromCoordinates",(function(){return _})),r.d(t,"createOrUpdateFromFlatCoordinates",(function(){return b})),r.d(t,"createOrUpdateFromRings",(function(){return v})),r.d(t,"equals",(function(){return w})),r.d(t,"extend",(function(){return O})),r.d(t,"extendCoordinate",(function(){return E})),r.d(t,"extendCoordinates",(function(){return T})),r.d(t,"extendFlatCoordinates",(function(){return S})),r.d(t,"extendRings",(function(){return C})),r.d(t,"extendXY",(function(){return x})),r.d(t,"forEachCorner",(function(){return k})),r.d(t,"getArea",(function(){return R})),r.d(t,"getBottomLeft",(function(){return P})),r.d(t,"getBottomRight",(function(){return I})),r.d(t,"getCenter",(function(){return j})),r.d(t,"getCorner",(function(){return L})),r.d(t,"getEnlargedArea",(function(){return A})),r.d(t,"getForViewAndSize",(function(){return F})),r.d(t,"getHeight",(function(){return M})),r.d(t,"getIntersectionArea",(function(){return N})),r.d(t,"getIntersection",(function(){return D})),r.d(t,"getMargin",(function(){return G})),r.d(t,"getSize",(function(){return U})),r.d(t,"getTopLeft",(function(){return z})),r.d(t,"getTopRight",(function(){return B})),r.d(t,"getWidth",(function(){return V})),r.d(t,"intersects",(function(){return W})),r.d(t,"isEmpty",(function(){return K})),r.d(t,"returnOrUpdate",(function(){return H})),r.d(t,"scaleFromCenter",(function(){return Y})),r.d(t,"intersectsSegment",(function(){return X})),r.d(t,"applyTransform",(function(){return Z}));var n=r(19),i=r(165),o=r(77);function a(e){for(var t=f(),r=0,n=e.length;r<n;++r)E(t,e[r]);return t}function s(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function u(e,t,r){var n,i;return(n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*n+(i=r<e[1]?e[1]-r:e[3]<r?r-e[3]:0)*i}function c(e,t){return p(e,t[0],t[1])}function h(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function p(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function d(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=t[0],l=t[1],u=o.a.UNKNOWN;return s<r?u|=o.a.LEFT:s>i&&(u|=o.a.RIGHT),l<n?u|=o.a.BELOW:l>a&&(u|=o.a.ABOVE),u===o.a.UNKNOWN&&(u=o.a.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function g(e,t,r,n,i){return i?(i[0]=e,i[1]=t,i[2]=r,i[3]=n,i):[e,t,r,n]}function m(e){return g(1/0,1/0,-1/0,-1/0,e)}function y(e,t){var r=e[0],n=e[1];return g(r,n,r,n,t)}function _(e,t){return T(m(t),e)}function b(e,t,r,n,i){return S(m(i),e,t,r,n)}function v(e,t){return C(m(t),e)}function w(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function O(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function E(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function T(e,t){for(var r=0,n=t.length;r<n;++r)E(e,t[r]);return e}function S(e,t,r,n,i){for(;r<n;r+=i)x(e,t[r],t[r+1]);return e}function C(e,t){for(var r=0,n=t.length;r<n;++r)T(e,t[r]);return e}function x(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function k(e,t){var r;return(r=t(P(e)))?r:(r=t(I(e)))?r:(r=t(B(e)))?r:(r=t(z(e)))||!1}function R(e){var t=0;return K(e)||(t=V(e)*M(e)),t}function P(e){return[e[0],e[1]]}function I(e){return[e[2],e[1]]}function j(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function L(e,t){var r;return t===i.a.BOTTOM_LEFT?r=P(e):t===i.a.BOTTOM_RIGHT?r=I(e):t===i.a.TOP_LEFT?r=z(e):t===i.a.TOP_RIGHT?r=B(e):Object(n.a)(!1,13),r}function A(e,t){var r=Math.min(e[0],t[0]),n=Math.min(e[1],t[1]);return(Math.max(e[2],t[2])-r)*(Math.max(e[3],t[3])-n)}function F(e,t,r,n,i){var o=t*n[0]/2,a=t*n[1]/2,s=Math.cos(r),l=Math.sin(r),u=o*s,c=o*l,h=a*s,p=a*l,d=e[0],f=e[1],m=d-u+p,y=d-u-p,_=d+u-p,b=d+u+p,v=f-c-h,w=f-c+h,O=f+c+h,E=f+c-h;return g(Math.min(m,y,_,b),Math.min(v,w,O,E),Math.max(m,y,_,b),Math.max(v,w,O,E),i)}function M(e){return e[3]-e[1]}function N(e,t){return R(D(e,t))}function D(e,t,r){var n=r||[1/0,1/0,-1/0,-1/0];return W(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):m(n),n}function G(e){return V(e)+M(e)}function U(e){return[e[2]-e[0],e[3]-e[1]]}function z(e){return[e[0],e[3]]}function B(e){return[e[2],e[3]]}function V(e){return e[2]-e[0]}function W(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function K(e){return e[2]<e[0]||e[3]<e[1]}function H(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Y(e,t){var r=(e[2]-e[0])/2*(t-1),n=(e[3]-e[1])/2*(t-1);e[0]-=r,e[2]+=r,e[1]-=n,e[3]+=n}function X(e,t,r){var n=!1,i=d(e,t),a=d(e,r);if(i===o.a.INTERSECTING||a===o.a.INTERSECTING)n=!0;else{var s=e[0],l=e[1],u=e[2],c=e[3],h=t[0],p=t[1],f=r[0],g=r[1],m=(g-p)/(f-h),y=void 0,_=void 0;a&o.a.ABOVE&&!(i&o.a.ABOVE)&&(n=(y=f-(g-c)/m)>=s&&y<=u),n||!(a&o.a.RIGHT)||i&o.a.RIGHT||(n=(_=g-(f-u)*m)>=l&&_<=c),n||!(a&o.a.BELOW)||i&o.a.BELOW||(n=(y=f-(g-l)/m)>=s&&y<=u),n||!(a&o.a.LEFT)||i&o.a.LEFT||(n=(_=g-(f-s)*m)>=l&&_<=c)}return n}function Z(e,t,r){var n=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];return t(n,n,2),function(e,t,r){return g(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),r)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}},function(e,t,r){"use strict";r.r(t),r.d(t,"boundingExtent",(function(){return a})),r.d(t,"buffer",(function(){return s})),r.d(t,"clone",(function(){return l})),r.d(t,"closestSquaredDistanceXY",(function(){return u})),r.d(t,"containsCoordinate",(function(){return c})),r.d(t,"containsExtent",(function(){return h})),r.d(t,"containsXY",(function(){return p})),r.d(t,"coordinateRelationship",(function(){return d})),r.d(t,"createEmpty",(function(){return f})),r.d(t,"createOrUpdate",(function(){return g})),r.d(t,"createOrUpdateEmpty",(function(){return m})),r.d(t,"createOrUpdateFromCoordinate",(function(){return y})),r.d(t,"createOrUpdateFromCoordinates",(function(){return _})),r.d(t,"createOrUpdateFromFlatCoordinates",(function(){return b})),r.d(t,"createOrUpdateFromRings",(function(){return v})),r.d(t,"equals",(function(){return w})),r.d(t,"extend",(function(){return O})),r.d(t,"extendCoordinate",(function(){return E})),r.d(t,"extendCoordinates",(function(){return T})),r.d(t,"extendFlatCoordinates",(function(){return S})),r.d(t,"extendRings",(function(){return C})),r.d(t,"extendXY",(function(){return x})),r.d(t,"forEachCorner",(function(){return k})),r.d(t,"getArea",(function(){return R})),r.d(t,"getBottomLeft",(function(){return P})),r.d(t,"getBottomRight",(function(){return I})),r.d(t,"getCenter",(function(){return j})),r.d(t,"getCorner",(function(){return L})),r.d(t,"getEnlargedArea",(function(){return A})),r.d(t,"getForViewAndSize",(function(){return F})),r.d(t,"getHeight",(function(){return M})),r.d(t,"getIntersectionArea",(function(){return N})),r.d(t,"getIntersection",(function(){return D})),r.d(t,"getMargin",(function(){return G})),r.d(t,"getSize",(function(){return U})),r.d(t,"getTopLeft",(function(){return z})),r.d(t,"getTopRight",(function(){return B})),r.d(t,"getWidth",(function(){return V})),r.d(t,"intersects",(function(){return W})),r.d(t,"isEmpty",(function(){return K})),r.d(t,"returnOrUpdate",(function(){return H})),r.d(t,"scaleFromCenter",(function(){return Y})),r.d(t,"intersectsSegment",(function(){return X})),r.d(t,"applyTransform",(function(){return Z}));var n=r(25),i=r(163),o=r(76);function a(e){for(var t=f(),r=0,n=e.length;r<n;++r)E(t,e[r]);return t}function s(e,t,r){return r?(r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function u(e,t,r){var n,i;return(n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*n+(i=r<e[1]?e[1]-r:e[3]<r?r-e[3]:0)*i}function c(e,t){return p(e,t[0],t[1])}function h(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function p(e,t,r){return e[0]<=t&&t<=e[2]&&e[1]<=r&&r<=e[3]}function d(e,t){var r=e[0],n=e[1],i=e[2],a=e[3],s=t[0],l=t[1],u=o.a.UNKNOWN;return s<r?u|=o.a.LEFT:s>i&&(u|=o.a.RIGHT),l<n?u|=o.a.BELOW:l>a&&(u|=o.a.ABOVE),u===o.a.UNKNOWN&&(u=o.a.INTERSECTING),u}function f(){return[1/0,1/0,-1/0,-1/0]}function g(e,t,r,n,i){return i?(i[0]=e,i[1]=t,i[2]=r,i[3]=n,i):[e,t,r,n]}function m(e){return g(1/0,1/0,-1/0,-1/0,e)}function y(e,t){var r=e[0],n=e[1];return g(r,n,r,n,t)}function _(e,t){return T(m(t),e)}function b(e,t,r,n,i){return S(m(i),e,t,r,n)}function v(e,t){return C(m(t),e)}function w(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function O(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function E(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function T(e,t){for(var r=0,n=t.length;r<n;++r)E(e,t[r]);return e}function S(e,t,r,n,i){for(;r<n;r+=i)x(e,t[r],t[r+1]);return e}function C(e,t){for(var r=0,n=t.length;r<n;++r)T(e,t[r]);return e}function x(e,t,r){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],r),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],r)}function k(e,t){var r;return(r=t(P(e)))?r:(r=t(I(e)))?r:(r=t(B(e)))?r:(r=t(z(e)))||!1}function R(e){var t=0;return K(e)||(t=V(e)*M(e)),t}function P(e){return[e[0],e[1]]}function I(e){return[e[2],e[1]]}function j(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function L(e,t){var r;return t===i.a.BOTTOM_LEFT?r=P(e):t===i.a.BOTTOM_RIGHT?r=I(e):t===i.a.TOP_LEFT?r=z(e):t===i.a.TOP_RIGHT?r=B(e):Object(n.a)(!1,13),r}function A(e,t){var r=Math.min(e[0],t[0]),n=Math.min(e[1],t[1]);return(Math.max(e[2],t[2])-r)*(Math.max(e[3],t[3])-n)}function F(e,t,r,n,i){var o=t*n[0]/2,a=t*n[1]/2,s=Math.cos(r),l=Math.sin(r),u=o*s,c=o*l,h=a*s,p=a*l,d=e[0],f=e[1],m=d-u+p,y=d-u-p,_=d+u-p,b=d+u+p,v=f-c-h,w=f-c+h,O=f+c+h,E=f+c-h;return g(Math.min(m,y,_,b),Math.min(v,w,O,E),Math.max(m,y,_,b),Math.max(v,w,O,E),i)}function M(e){return e[3]-e[1]}function N(e,t){return R(D(e,t))}function D(e,t,r){var n=r||[1/0,1/0,-1/0,-1/0];return W(e,t)?(e[0]>t[0]?n[0]=e[0]:n[0]=t[0],e[1]>t[1]?n[1]=e[1]:n[1]=t[1],e[2]<t[2]?n[2]=e[2]:n[2]=t[2],e[3]<t[3]?n[3]=e[3]:n[3]=t[3]):m(n),n}function G(e){return V(e)+M(e)}function U(e){return[e[2]-e[0],e[3]-e[1]]}function z(e){return[e[0],e[3]]}function B(e){return[e[2],e[3]]}function V(e){return e[2]-e[0]}function W(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function K(e){return e[2]<e[0]||e[3]<e[1]}function H(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Y(e,t){var r=(e[2]-e[0])/2*(t-1),n=(e[3]-e[1])/2*(t-1);e[0]-=r,e[2]+=r,e[1]-=n,e[3]+=n}function X(e,t,r){var n=!1,i=d(e,t),a=d(e,r);if(i===o.a.INTERSECTING||a===o.a.INTERSECTING)n=!0;else{var s=e[0],l=e[1],u=e[2],c=e[3],h=t[0],p=t[1],f=r[0],g=r[1],m=(g-p)/(f-h),y=void 0,_=void 0;a&o.a.ABOVE&&!(i&o.a.ABOVE)&&(n=(y=f-(g-c)/m)>=s&&y<=u),n||!(a&o.a.RIGHT)||i&o.a.RIGHT||(n=(_=g-(f-u)*m)>=l&&_<=c),n||!(a&o.a.BELOW)||i&o.a.BELOW||(n=(y=f-(g-l)/m)>=s&&y<=u),n||!(a&o.a.LEFT)||i&o.a.LEFT||(n=(_=g-(f-s)*m)>=l&&_<=c)}return n}function Z(e,t,r){var n=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];return t(n,n,2),function(e,t,r){return g(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),r)}([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}},function(e,t,r){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(e,t,r){"use strict";r.r(t);var n,i=r(195),o=r(0),a=r(17),s=r(145),l=r(65),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=6378137*Math.PI,h=[-c,-c,c,c],p=[-180,-85,180,85],d=function(e){function t(t){return e.call(this,{code:t,units:l.b.METERS,extent:h,global:!0,worldExtent:p,getPointResolution:function(e,t){return e/Object(a.b)(t[1]/6378137)}})||this}return u(t,e),t}(s.a),f=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=c,s=0;s<n;s+=i){o[s]=a*e[s]/180;var l=6378137*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function m(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i)o[a]=180*e[a]/c,o[a+1]=360*Math.atan(Math.exp(e[a+1]/6378137))/Math.PI-90;return o}var y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=[-180,-90,180,90],b=6378137*Math.PI/180,v=function(e){function t(t,r){return e.call(this,{code:t,units:l.b.DEGREES,extent:_,axisOrientation:r,global:!0,metersPerUnit:b,worldExtent:_})||this}return y(t,e),t}(s.a),w=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:EPSG::4326","neu"),new v("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new v("urn:x-ogc:def:crs:EPSG:4326","neu")],O=(r(8),{});function E(e,t,r){var n=e.getCode(),i=t.getCode();n in O||(O[n]={}),O[n][i]=r}var T={};function S(e,t,r){var n;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];n=t}else n=e.slice();return n}function C(e,t,r){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function x(e){!function(e,t){T[e]=t}(e.getCode(),e),E(e,e,S)}function k(e){e.forEach(x)}function R(e){return"string"==typeof e?T[e]||null:e||null}function P(e,t,r,n){var o,a=(e=R(e)).getPointResolutionFunc();if(a)o=a(t,r),n&&n!==e.getUnits()&&(s=e.getMetersPerUnit())&&(o=o*s/l.a[n]);else if(e.getUnits()==l.b.DEGREES&&!n||n==l.b.DEGREES)o=t;else{var s,u=U(e,R("EPSG:4326")),c=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];c=u(c,c,2),o=(Object(i.a)(c.slice(0,2),c.slice(2,4))+Object(i.a)(c.slice(4,6),c.slice(6,8)))/2,void 0!==(s=n?l.a[n]:e.getMetersPerUnit())&&(o/=s)}return o}function I(e){k(e),e.forEach((function(t){e.forEach((function(e){t!==e&&E(t,e,S)}))}))}function j(e,t,r,n){e.forEach((function(e){t.forEach((function(t){E(e,t,r),E(t,e,n)}))}))}function L(){T={},O={}}function A(e,t){return e?"string"==typeof e?R(e):e:R(t)}function F(e){return function(t,r,n){for(var i=t.length,o=void 0!==n?n:2,a=void 0!==r?r:new Array(i),s=0;s<i;s+=o){var l=e([t[s],t[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=t[s+u]}return a}}function M(e,t,r,n){var i=R(e),o=R(t);E(i,o,F(r)),E(o,i,F(n))}function N(e,t){return B(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function D(e,t){var r=B(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Object(a.d)(n+180,360)-180),r}function G(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();return e.getCode()===t.getCode()?r:U(e,t)===S&&r}function U(e,t){var r=function(e,t){var r;return e in O&&t in O[e]&&(r=O[e][t]),r}(e.getCode(),t.getCode());return r||(r=C),r}function z(e,t){return U(R(e),R(t))}function B(e,t,r){return z(t,r)(e,void 0,e.length)}function V(e,t,r){var n=z(t,r);return Object(o.applyTransform)(e,n)}function W(e,t,r){return U(t,r)(e)}r.d(t,"cloneTransform",(function(){return S})),r.d(t,"identityTransform",(function(){return C})),r.d(t,"addProjection",(function(){return x})),r.d(t,"addProjections",(function(){return k})),r.d(t,"get",(function(){return R})),r.d(t,"getPointResolution",(function(){return P})),r.d(t,"addEquivalentProjections",(function(){return I})),r.d(t,"addEquivalentTransforms",(function(){return j})),r.d(t,"clearAllProjections",(function(){return L})),r.d(t,"createProjection",(function(){return A})),r.d(t,"createTransformFromCoordinateTransform",(function(){return F})),r.d(t,"addCoordinateTransforms",(function(){return M})),r.d(t,"fromLonLat",(function(){return N})),r.d(t,"toLonLat",(function(){return D})),r.d(t,"equivalent",(function(){return G})),r.d(t,"getTransformFromProjections",(function(){return U})),r.d(t,"getTransform",(function(){return z})),r.d(t,"transform",(function(){return B})),r.d(t,"transformExtent",(function(){return V})),r.d(t,"transformWithProjections",(function(){return W})),r.d(t,"setUserProjection",(function(){return H})),r.d(t,"clearUserProjection",(function(){return Y})),r.d(t,"getUserProjection",(function(){return X})),r.d(t,"useGeographic",(function(){return Z})),r.d(t,"toUserCoordinate",(function(){return q})),r.d(t,"fromUserCoordinate",(function(){return Q})),r.d(t,"toUserExtent",(function(){return $})),r.d(t,"fromUserExtent",(function(){return J})),r.d(t,"addCommon",(function(){return ee})),r.d(t,"METERS_PER_UNIT",(function(){return l.a})),r.d(t,"Projection",(function(){return s.a}));var K=null;function H(e){K=R(e)}function Y(){K=null}function X(){return K}function Z(){H("EPSG:4326")}function q(e,t){return K?B(e,t,K):e}function Q(e,t){return K?B(e,K,t):e}function $(e,t){return K?V(e,t,K):e}function J(e,t){return K?V(e,K,t):e}function ee(){I(f),I(w),j(w,f,g,m)}ee()},function(e,t,r){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a}));var i=0;function o(e){return e.ol_uid||(e.ol_uid=String(++i))}var a="6.1.1"},function(e,t,r){"use strict";function n(){return function(){throw new Error("Unimplemented abstract method.")}()}r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a}));var i=0;function o(e){return e.ol_uid||(e.ol_uid=String(++i))}var a="6.1.1"},function(e,t,r){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(e,t,r){"use strict";r.r(t);var n,i=r(177),o=r(1),a=r(21),s=r(66),l=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||s.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}(),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=6378137*Math.PI,h=[-c,-c,c,c],p=[-180,-85,180,85],d=function(e){function t(t){return e.call(this,{code:t,units:s.b.METERS,extent:h,global:!0,worldExtent:p,getPointResolution:function(e,t){return e/Object(a.b)(t[1]/6378137)}})||this}return u(t,e),t}(l),f=[new d("EPSG:3857"),new d("EPSG:102100"),new d("EPSG:102113"),new d("EPSG:900913"),new d("urn:ogc:def:crs:EPSG:6.18:3:3857"),new d("urn:ogc:def:crs:EPSG::3857"),new d("http://www.opengis.net/gml/srs/epsg.xml#3857")];function g(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=c,s=0;s<n;s+=i){o[s]=a*e[s]/180;var l=6378137*Math.log(Math.tan(Math.PI*(+e[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function m(e,t,r){var n=e.length,i=r>1?r:2,o=t;void 0===o&&(o=i>2?e.slice():new Array(n));for(var a=0;a<n;a+=i)o[a]=180*e[a]/c,o[a+1]=360*Math.atan(Math.exp(e[a+1]/6378137))/Math.PI-90;return o}var y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_=[-180,-90,180,90],b=6378137*Math.PI/180,v=function(e){function t(t,r){return e.call(this,{code:t,units:s.b.DEGREES,extent:_,axisOrientation:r,global:!0,metersPerUnit:b,worldExtent:_})||this}return y(t,e),t}(l),w=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:EPSG::4326","neu"),new v("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new v("urn:x-ogc:def:crs:EPSG:4326","neu")],O=(r(22),{});function E(e,t,r){var n=e.getCode(),i=t.getCode();n in O||(O[n]={}),O[n][i]=r}var T={};function S(e,t,r){var n;if(void 0!==t){for(var i=0,o=e.length;i<o;++i)t[i]=e[i];n=t}else n=e.slice();return n}function C(e,t,r){if(void 0!==t&&e!==t){for(var n=0,i=e.length;n<i;++n)t[n]=e[n];e=t}return e}function x(e){!function(e,t){T[e]=t}(e.getCode(),e),E(e,e,S)}function k(e){e.forEach(x)}function R(e){return"string"==typeof e?T[e]||null:e||null}function P(e,t,r,n){var o,a=(e=R(e)).getPointResolutionFunc();if(a)o=a(t,r),n&&n!==e.getUnits()&&(l=e.getMetersPerUnit())&&(o=o*l/s.a[n]);else if(e.getUnits()==s.b.DEGREES&&!n||n==s.b.DEGREES)o=t;else{var l,u=U(e,R("EPSG:4326")),c=[r[0]-t/2,r[1],r[0]+t/2,r[1],r[0],r[1]-t/2,r[0],r[1]+t/2];c=u(c,c,2),o=(Object(i.getDistance)(c.slice(0,2),c.slice(2,4))+Object(i.getDistance)(c.slice(4,6),c.slice(6,8)))/2,void 0!==(l=n?s.a[n]:e.getMetersPerUnit())&&(o/=l)}return o}function I(e){k(e),e.forEach((function(t){e.forEach((function(e){t!==e&&E(t,e,S)}))}))}function j(e,t,r,n){e.forEach((function(e){t.forEach((function(t){E(e,t,r),E(t,e,n)}))}))}function L(){T={},O={}}function A(e,t){return e?"string"==typeof e?R(e):e:R(t)}function F(e){return function(t,r,n){for(var i=t.length,o=void 0!==n?n:2,a=void 0!==r?r:new Array(i),s=0;s<i;s+=o){var l=e([t[s],t[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=t[s+u]}return a}}function M(e,t,r,n){var i=R(e),o=R(t);E(i,o,F(r)),E(o,i,F(n))}function N(e,t){return B(e,"EPSG:4326",void 0!==t?t:"EPSG:3857")}function D(e,t){var r=B(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),n=r[0];return(n<-180||n>180)&&(r[0]=Object(a.d)(n+180,360)-180),r}function G(e,t){if(e===t)return!0;var r=e.getUnits()===t.getUnits();return e.getCode()===t.getCode()?r:U(e,t)===S&&r}function U(e,t){var r=function(e,t){var r;return e in O&&t in O[e]&&(r=O[e][t]),r}(e.getCode(),t.getCode());return r||(r=C),r}function z(e,t){return U(R(e),R(t))}function B(e,t,r){return z(t,r)(e,void 0,e.length)}function V(e,t,r){var n=z(t,r);return Object(o.applyTransform)(e,n)}function W(e,t,r){return U(t,r)(e)}r.d(t,"cloneTransform",(function(){return S})),r.d(t,"identityTransform",(function(){return C})),r.d(t,"addProjection",(function(){return x})),r.d(t,"addProjections",(function(){return k})),r.d(t,"get",(function(){return R})),r.d(t,"getPointResolution",(function(){return P})),r.d(t,"addEquivalentProjections",(function(){return I})),r.d(t,"addEquivalentTransforms",(function(){return j})),r.d(t,"clearAllProjections",(function(){return L})),r.d(t,"createProjection",(function(){return A})),r.d(t,"createTransformFromCoordinateTransform",(function(){return F})),r.d(t,"addCoordinateTransforms",(function(){return M})),r.d(t,"fromLonLat",(function(){return N})),r.d(t,"toLonLat",(function(){return D})),r.d(t,"equivalent",(function(){return G})),r.d(t,"getTransformFromProjections",(function(){return U})),r.d(t,"getTransform",(function(){return z})),r.d(t,"transform",(function(){return B})),r.d(t,"transformExtent",(function(){return V})),r.d(t,"transformWithProjections",(function(){return W})),r.d(t,"setUserProjection",(function(){return H})),r.d(t,"clearUserProjection",(function(){return Y})),r.d(t,"getUserProjection",(function(){return X})),r.d(t,"useGeographic",(function(){return Z})),r.d(t,"toUserCoordinate",(function(){return q})),r.d(t,"fromUserCoordinate",(function(){return Q})),r.d(t,"toUserExtent",(function(){return $})),r.d(t,"fromUserExtent",(function(){return J})),r.d(t,"addCommon",(function(){return ee})),r.d(t,"METERS_PER_UNIT",(function(){return s.a})),r.d(t,"Projection",(function(){return l}));var K=null;function H(e){K=R(e)}function Y(){K=null}function X(){return K}function Z(){H("EPSG:4326")}function q(e,t){return K?B(e,t,K):e}function Q(e,t){return K?B(e,K,t):e}function $(e,t){return K?V(e,t,K):e}function J(e,t){return K?V(e,K,t):e}function ee(){I(f),I(w),j(w,f,g,m)}ee()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(e){for(var t in e)delete e[t]}var o="function"==typeof Object.values?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function a(e){var t;for(t in e)return!1;return!t}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var n=r(22);function i(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function o(e,t,r,n){return i(e,t,r,n,!0)}function a(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(n.b)(e))}},function(e,t,r){"use strict";function n(e,t,r){for(var n,o,a=r||i,s=0,l=e.length,u=!1;s<l;)(o=+a(e[n=s+(l-s>>1)],t))<0?s=n+1:(l=n,u=!o);return u?s:~s}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t){return e.indexOf(t)>=0}function a(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(e[i]<t)return i-1}else if(r<0){for(i=1;i<n;++i)if(e[i]<=t)return i}else for(i=1;i<n;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return n-1}function s(e,t,r){for(;t<r;){var n=e[t];e[t]=e[r],e[r]=n,++t,--r}}function l(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i=0;i<n;i++)e[e.length]=r[i]}function u(e,t){var r=e.indexOf(t),n=r>-1;return n&&e.splice(r,1),n}function c(e,t){for(var r,n=e.length>>>0,i=0;i<n;i++)if(t(r=e[i],i,e))return r;return null}function h(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function p(e,t){var r;return!e.every((function(n,i){return r=i,!t(n,i,e)}))?r:-1}function d(e,t,r){var n=t||i;return e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||r&&0===o)}))}r.d(t,"a",(function(){return n})),r.d(t,"i",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return a})),r.d(t,"k",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"j",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"g",(function(){return d}))},function(e,t,r){"use strict";t.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"}},function(e,t,r){"use strict";t.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",WHEEL:"wheel"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a}));var n=r(8);function i(e,t,r,n,i){if(n&&n!==e&&(r=r.bind(n)),i){var o=r;r=function(){e.removeEventListener(t,r),o.apply(this,arguments)}}var a={target:e,type:t,listener:r};return e.addEventListener(t,r),a}function o(e,t,r,n){return i(e,t,r,n,!0)}function a(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),Object(n.b)(e))}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"j",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"l",(function(){return f})),r.d(t,"b",(function(){return g})),r.d(t,"d",(function(){return m})),r.d(t,"k",(function(){return y}));var n=r(19),i=new Array(6);function o(){return[1,0,0,1,0,0]}function a(e){return l(e,1,0,0,1,0,0)}function s(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3],p=t[4],d=t[5];return e[0]=r*l+i*u,e[1]=n*l+o*u,e[2]=r*c+i*h,e[3]=n*c+o*h,e[4]=r*p+i*d+a,e[5]=n*p+o*d+s,e}function l(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function h(e,t){var r=Math.cos(t),n=Math.sin(t);return s(e,l(i,r,n,-n,r,0,0))}function p(e,t,r){return s(e,l(i,t,0,0,r,0,0))}function d(e,t,r){return l(e,t,0,0,r,0,0)}function f(e,t,r){return s(e,l(i,1,0,0,1,t,r))}function g(e,t,r,n,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return e[0]=n*u,e[1]=i*l,e[2]=-n*l,e[3]=i*u,e[4]=a*n*u-s*n*l+t,e[5]=a*i*l+s*i*u+r,e}function m(e,t){var r,i=(r=t)[0]*r[3]-r[1]*r[2];Object(n.a)(0!==i,32);var o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5];return e[0]=l/i,e[1]=-a/i,e[2]=-s/i,e[3]=o/i,e[4]=(s*c-l*u)/i,e[5]=-(o*c-a*u)/i,e}function y(e){return"matrix("+e.join(", ")+")"}},function(e,t,r){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(e,t,r){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(e,t,r){"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return h}));var i="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2};function o(e,t,r,n,i,o){var s=i-r,l=o-n;if(0!==s||0!==l){var u=((e-r)*s+(t-n)*l)/(s*s+l*l);u>1?(r=i,n=o):u>0&&(r+=s*u,n+=l*u)}return a(e,t,r,n)}function a(e,t,r,n){var i=r-e,o=n-t;return i*i+o*o}function s(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,i=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>i&&(i=a,n=o)}if(0===i)return null;var s=e[n];e[n]=e[r],e[r]=s;for(var l=r+1;l<t;l++)for(var u=-e[l][r]/e[r][r],c=r;c<t+1;c++)r==c?e[l][c]=0:e[l][c]+=u*e[r][c]}for(var h=new Array(t),p=t-1;p>=0;p--){h[p]=e[p][t]/e[p][p];for(var d=p-1;d>=0;d--)e[d][t]-=e[d][p]*h[p]}return h}function l(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function c(e,t){var r=e%t;return r*t<0?r+t:r}function h(e,t,r){return e+r*(t-e)}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"j",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"l",(function(){return f})),r.d(t,"b",(function(){return g})),r.d(t,"d",(function(){return m})),r.d(t,"k",(function(){return y}));var n=r(25),i=new Array(6);function o(){return[1,0,0,1,0,0]}function a(e){return l(e,1,0,0,1,0,0)}function s(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=t[0],u=t[1],c=t[2],h=t[3],p=t[4],d=t[5];return e[0]=r*l+i*u,e[1]=n*l+o*u,e[2]=r*c+i*h,e[3]=n*c+o*h,e[4]=r*p+i*d+a,e[5]=n*p+o*d+s,e}function l(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function u(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e,t){var r=t[0],n=t[1];return t[0]=e[0]*r+e[2]*n+e[4],t[1]=e[1]*r+e[3]*n+e[5],t}function h(e,t){var r=Math.cos(t),n=Math.sin(t);return s(e,l(i,r,n,-n,r,0,0))}function p(e,t,r){return s(e,l(i,t,0,0,r,0,0))}function d(e,t,r){return l(e,t,0,0,r,0,0)}function f(e,t,r){return s(e,l(i,1,0,0,1,t,r))}function g(e,t,r,n,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return e[0]=n*u,e[1]=i*l,e[2]=-n*l,e[3]=i*u,e[4]=a*n*u-s*n*l+t,e[5]=a*i*l+s*i*u+r,e}function m(e,t){var r,i=(r=t)[0]*r[3]-r[1]*r[2];Object(n.a)(0!==i,32);var o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5];return e[0]=l/i,e[1]=-a/i,e[2]=-s/i,e[3]=o/i,e[4]=(s*c-l*u)/i,e[5]=-(o*c-a*u)/i,e}function y(e){return"matrix("+e.join(", ")+")"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(169);function i(e,t){if(!e)throw new n.a(t)}},function(e,t,r){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(e,t,r){"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return l})),r.d(t,"i",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"c",(function(){return h}));var i="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2};function o(e,t,r,n,i,o){var s=i-r,l=o-n;if(0!==s||0!==l){var u=((e-r)*s+(t-n)*l)/(s*s+l*l);u>1?(r=i,n=o):u>0&&(r+=s*u,n+=l*u)}return a(e,t,r,n)}function a(e,t,r,n){var i=r-e,o=n-t;return i*i+o*o}function s(e){for(var t=e.length,r=0;r<t;r++){for(var n=r,i=Math.abs(e[r][r]),o=r+1;o<t;o++){var a=Math.abs(e[o][r]);a>i&&(i=a,n=o)}if(0===i)return null;var s=e[n];e[n]=e[r],e[r]=s;for(var l=r+1;l<t;l++)for(var u=-e[l][r]/e[r][r],c=r;c<t+1;c++)r==c?e[l][c]=0:e[l][c]+=u*e[r][c]}for(var h=new Array(t),p=t-1;p>=0;p--){h[p]=e[p][t]/e[p][p];for(var d=p-1;d>=0;d--)e[d][t]-=e[d][p]*h[p]}return h}function l(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function c(e,t){var r=e%t;return r*t<0?r+t:r}function h(e,t,r){return e+r*(t-e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}));var n="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1,i=arguments.length;n<i;++n){var o=arguments[n];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a])}return r};function i(e){for(var t in e)delete e[t]}var o="function"==typeof Object.values?Object.values:function(e){var t=[];for(var r in e)t.push(e[r]);return t};function a(e){var t;for(t in e)return!1;return!t}},function(e,t,r){"use strict";var n,i=r(42),o=r(29),a=r(22),s=r(18),l=r(5),u=r(219),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.consumers={},r}return c(t,e),t.prototype.clear=function(){this.consumers={},e.prototype.clear.call(this)},t.prototype.get=function(t,r){var n=e.prototype.get.call(this,t),i=Object(l.c)(r);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][t]=!0,n},t.prototype.prune=function(){e:for(;this.canExpireCache();){var e=this.peekLastKey();for(var t in this.consumers)if(e in this.consumers[t])break e;var r=this.pop();for(var t in r.width=0,r.height=0,this.consumers)delete this.consumers[t][e]}},t.prototype.release=function(e){delete this.consumers[Object(l.c)(e)]},t}(u.a);r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return _})),r.d(t,"i",(function(){return b})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return O})),r.d(t,"j",(function(){return E})),r.d(t,"h",(function(){return T})),r.d(t,"o",(function(){return S})),r.d(t,"a",(function(){return R})),r.d(t,"q",(function(){return L})),r.d(t,"p",(function(){return F})),r.d(t,"r",(function(){return M})),r.d(t,"s",(function(){return N})),r.d(t,"n",(function(){return G}));var p,d="10px sans-serif",f="#000",g="round",m=[],y=0,_="round",b=10,v="#000",w="center",O="middle",E=[0,0,0,0],T=1,S=new h,C={},x=null,k={},R=function(){var e,t,r=C,n=["monospace","serif"],o=n.length,s="wmytzilWMYTZIL@#/&?$%10";function l(e,r,i){for(var a=P(),l=!0,u=0;u<o;++u){var c=n[u];if(a.font=e+" "+r+" 32px "+c,t=a.measureText(s).width,i!=c){a.font=e+" "+r+" 32px "+i+","+c;var h=a.measureText(s).width;l=l&&h!=t}}return!!l}function u(){var t=!0;for(var n in r)r[n]<100&&(l.apply(this,n.split("\n"))?(r[n]=100,Object(a.b)(k),x=null,p=void 0,S.getCount()&&S.clear()):(++r[n],t=!1));t&&(clearInterval(e),e=void 0)}return function(t){var n=Object(i.g)(t);if(n)for(var o=n.families,a=0,s=o.length;a<s;++a){var c=o[a],h=n.style+"\n"+n.weight+"\n"+c;h in r||(r[h]=100,l(n.style,n.weight,c)||(r[h]=0,void 0===e&&(e=setInterval(u,32))))}}}();function P(){return x||(x=Object(o.a)(1,1)),x}var I,j,L=(j=k,function(e){var t=j[e];return null==t&&(I||((I=document.createElement("div")).innerHTML="M",I.style.margin="0 !important",I.style.padding="0 !important",I.style.position="absolute !important",I.style.left="-99999px !important"),I.style.font=e,document.body.appendChild(I),t=I.offsetHeight,j[e]=t,document.body.removeChild(I)),t});function A(e,t){var r=P();return e!=p&&(r.font=e,p=r.font),r.measureText(t).width}function F(e,t,r){if(t in r)return r[t];var n=A(e,t);return r[t]=n,n}function M(e,t,r){for(var n=t.length,i=0,o=0;o<n;++o){var a=A(e,t[o]);i=Math.max(i,a),r.push(a)}return i}function N(e,t,r,n){0!==t&&(e.translate(r,n),e.rotate(t),e.translate(-r,-n))}var D=Object(s.c)();function G(e,t,r,n,i,o,a,s,l,u,c){var h;1!=r&&(h=e.globalAlpha,e.globalAlpha=h*r),t&&e.setTransform.apply(e,t),e.drawImage(n,i,o,a,s,l,u,a*c,s*c),1!=r&&(e.globalAlpha=h),t&&e.setTransform.apply(e,D)}},function(e,t,r){"use strict";var n,i=r(69),o=r(32),a=r(8),s=r(14),l=r(4),u=r(235),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.consumers={},r}return c(t,e),t.prototype.clear=function(){this.consumers={},e.prototype.clear.call(this)},t.prototype.get=function(t,r){var n=e.prototype.get.call(this,t),i=Object(l.c)(r);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][t]=!0,n},t.prototype.prune=function(){e:for(;this.canExpireCache();){var e=this.peekLastKey();for(var t in this.consumers)if(e in this.consumers[t])break e;var r=this.pop();for(var t in r.width=0,r.height=0,this.consumers)delete this.consumers[t][e]}},t.prototype.release=function(e){delete this.consumers[Object(l.c)(e)]},t}(u.a);r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return m})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return _})),r.d(t,"i",(function(){return b})),r.d(t,"k",(function(){return v})),r.d(t,"l",(function(){return w})),r.d(t,"m",(function(){return O})),r.d(t,"j",(function(){return E})),r.d(t,"h",(function(){return T})),r.d(t,"o",(function(){return S})),r.d(t,"a",(function(){return R})),r.d(t,"q",(function(){return L})),r.d(t,"p",(function(){return F})),r.d(t,"r",(function(){return M})),r.d(t,"s",(function(){return N})),r.d(t,"n",(function(){return G}));var p,d="10px sans-serif",f="#000",g="round",m=[],y=0,_="round",b=10,v="#000",w="center",O="middle",E=[0,0,0,0],T=1,S=new h,C={},x=null,k={},R=function(){var e,t,r=C,n=["monospace","serif"],o=n.length,s="wmytzilWMYTZIL@#/&?$%10";function l(e,r,i){for(var a=P(),l=!0,u=0;u<o;++u){var c=n[u];if(a.font=e+" "+r+" 32px "+c,t=a.measureText(s).width,i!=c){a.font=e+" "+r+" 32px "+i+","+c;var h=a.measureText(s).width;l=l&&h!=t}}return!!l}function u(){var t=!0;for(var n in r)r[n]<100&&(l.apply(this,n.split("\n"))?(r[n]=100,Object(a.b)(k),x=null,p=void 0,S.getCount()&&S.clear()):(++r[n],t=!1));t&&(clearInterval(e),e=void 0)}return function(t){var n=Object(i.f)(t);if(n)for(var o=n.families,a=0,s=o.length;a<s;++a){var c=o[a],h=n.style+"\n"+n.weight+"\n"+c;h in r||(r[h]=100,l(n.style,n.weight,c)||(r[h]=0,void 0===e&&(e=setInterval(u,32))))}}}();function P(){return x||(x=Object(o.a)(1,1)),x}var I,j,L=(j=k,function(e){var t=j[e];return null==t&&(I||((I=document.createElement("div")).innerHTML="M",I.style.margin="0 !important",I.style.padding="0 !important",I.style.position="absolute !important",I.style.left="-99999px !important"),I.style.font=e,document.body.appendChild(I),t=I.offsetHeight,j[e]=t,document.body.removeChild(I)),t});function A(e,t){var r=P();return e!=p&&(r.font=e,p=r.font),r.measureText(t).width}function F(e,t,r){if(t in r)return r[t];var n=A(e,t);return r[t]=n,n}function M(e,t,r){for(var n=t.length,i=0,o=0;o<n;++o){var a=A(e,t[o]);i=Math.max(i,a),r.push(a)}return i}function N(e,t,r,n){0!==t&&(e.translate(r,n),e.rotate(t),e.translate(-r,-n))}var D=Object(s.c)();function G(e,t,r,n,i,o,a,s,l,u,c){var h;1!=r&&(h=e.globalAlpha,e.globalAlpha=h*r),t&&e.setTransform.apply(e,t),e.drawImage(n,i,o,a,s,l,u,a*c,s*c),1!=r&&(e.globalAlpha=h),t&&e.setTransform.apply(e,D)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(216);function i(e,t){if(!e)throw new n.a(t)}},function(e,t,r){"use strict";function n(e,t,r){for(var n,o,a=r||i,s=0,l=e.length,u=!1;s<l;)(o=+a(e[n=s+(l-s>>1)],t))<0?s=n+1:(l=n,u=!o);return u?s:~s}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t){return e.indexOf(t)>=0}function a(e,t,r){var n=e.length;if(e[0]<=t)return 0;if(t<=e[n-1])return n-1;var i=void 0;if(r>0){for(i=1;i<n;++i)if(e[i]<t)return i-1}else if(r<0){for(i=1;i<n;++i)if(e[i]<=t)return i}else for(i=1;i<n;++i){if(e[i]==t)return i;if(e[i]<t)return e[i-1]-t<t-e[i]?i-1:i}return n-1}function s(e,t,r){for(;t<r;){var n=e[t];e[t]=e[r],e[r]=n,++t,--r}}function l(e,t){for(var r=Array.isArray(t)?t:[t],n=r.length,i=0;i<n;i++)e[e.length]=r[i]}function u(e,t){var r=e.indexOf(t),n=r>-1;return n&&e.splice(r,1),n}function c(e,t){for(var r,n=e.length>>>0,i=0;i<n;i++)if(t(r=e[i],i,e))return r;return null}function h(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function p(e,t){var r;return!e.every((function(n,i){return r=i,!t(n,i,e)}))?r:-1}function d(e,t,r){var n=t||i;return e.every((function(t,i){if(0===i)return!0;var o=n(e[i-1],t);return!(o>0||r&&0===o)}))}r.d(t,"a",(function(){return n})),r.d(t,"i",(function(){return i})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return a})),r.d(t,"k",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"j",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"b",(function(){return h})),r.d(t,"e",(function(){return p})),r.d(t,"g",(function(){return d}))},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[n.FILL],o=[n.STROKE],a=[n.BEGIN_PATH],s=[n.CLOSE_PATH];t.c=n},function(e,t,r){"use strict";r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},i=[n.FILL],o=[n.STROKE],a=[n.BEGIN_PATH],s=[n.CLOSE_PATH];t.c=n},function(e,t,r){"use strict";function n(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function i(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function a(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function s(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function l(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function u(e,t){for(var r=e.childNodes,n=0;;++n){var i=r[n],o=t[n];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--n):e.appendChild(o))}}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return u}))},function(e,t,r){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(e,t,r){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(e,t,r){"use strict";function n(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function i(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function o(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function a(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function s(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function l(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function u(e,t){for(var r=e.childNodes,n=0;;++n){var i=r[n],o=t[n];if(!i&&!o)break;i!==o&&(i?o?e.insertBefore(o,i):(e.removeChild(i),--n):e.appendChild(o))}}r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"g",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return u}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"h",(function(){return h})),r.d(t,"i",(function(){return p})),r.d(t,"e",(function(){return d})),r.d(t,"j",(function(){return f}));var n=r(17),i=r(109);function o(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function a(e,t){var r=t.getRadius(),n=t.getCenter(),i=n[0],o=n[1],a=e[0]-i,s=e[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+r*a/l,o+r*s/l]}function s(e,t){var r,n,i=e[0],o=e[1],a=t[0],s=t[1],l=a[0],u=a[1],c=s[0],h=s[1],p=c-l,d=h-u,f=0===p&&0===d?0:(p*(i-l)+d*(o-u))/(p*p+d*d||0);return f<=0?(r=l,n=u):f>=1?(r=c,n=h):(r=l+f*p,n=u+f*d),[r,n]}function l(e,t,r){var o=Object(n.d)(t+180,360)-180,a=Math.abs(3600*o),s=r||0,l=Math.pow(10,s),u=Math.floor(a/3600),c=Math.floor((a-3600*u)/60),h=a-3600*u-60*c;return(h=Math.ceil(h*l)/l)>=60&&(h=0,c+=1),c>=60&&(c=0,u+=1),u+"° "+Object(i.b)(c,2)+"′ "+Object(i.b)(h,2,s)+"″"+(0==o?"":" "+e.charAt(o<0?1:0))}function u(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function c(e,t){var r=Math.cos(t),n=Math.sin(t),i=e[0]*r-e[1]*n,o=e[1]*r+e[0]*n;return e[0]=i,e[1]=o,e}function h(e,t){return e[0]*=t,e[1]*=t,e}function p(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function d(e,t){return Math.sqrt(p(e,t))}function f(e,t){return p(e,s(e,t))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(26);function i(){return!0}function o(){return!1}function a(){}function s(e){var t,r,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&Object(n.b)(a,r)||(o=!0,i=this,r=a,t=e.apply(this,arguments)),t}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(10);function i(){return!0}function o(){return!1}function a(){}function s(e){var t,r,i,o=!1;return function(){var a=Array.prototype.slice.call(arguments);return o&&this===i&&Object(n.b)(a,r)||(o=!0,i=this,r=a,t=e.apply(this,arguments)),t}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n,i=r(5),o=r(116),a=r(215),s=r(50),l=r(22),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.key=r,i.oldValue=n,i}return u(t,e),t}(s.a),h=function(e){function t(t){var r=e.call(this)||this;return Object(i.c)(r),r.values_={},void 0!==t&&r.setProperties(t),r}return u(t,e),t.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return Object(l.a)({},this.values_)},t.prototype.notify=function(e,t){var r;r=d(e),this.dispatchEvent(new c(r,e,t)),r=o.a.PROPERTYCHANGE,this.dispatchEvent(new c(r,e,t))},t.prototype.set=function(e,t,r){if(r)this.values_[e]=t;else{var n=this.values_[e];this.values_[e]=t,n!==t&&this.notify(e,n)}},t.prototype.setProperties=function(e,t){for(var r in e)this.set(r,e[r],t)},t.prototype.unset=function(e,t){if(e in this.values_){var r=this.values_[e];delete this.values_[e],t||this.notify(e,r)}},t}(a.a),p={};function d(e){return p.hasOwnProperty(e)?p[e]:p[e]="change:"+e}t.a=h},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return c})),r.d(t,"i",(function(){return h}));r(21),r(159);function n(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function i(e,t){var r=t.getRadius(),n=t.getCenter(),i=n[0],o=n[1],a=e[0]-i,s=e[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[i+r*a/l,o+r*s/l]}function o(e,t){var r,n,i=e[0],o=e[1],a=t[0],s=t[1],l=a[0],u=a[1],c=s[0],h=s[1],p=c-l,d=h-u,f=0===p&&0===d?0:(p*(i-l)+d*(o-u))/(p*p+d*d||0);return f<=0?(r=l,n=u):f>=1?(r=c,n=h):(r=l+f*p,n=u+f*d),[r,n]}function a(e,t){for(var r=!0,n=e.length-1;n>=0;--n)if(e[n]!=t[n]){r=!1;break}return r}function s(e,t){var r=Math.cos(t),n=Math.sin(t),i=e[0]*r-e[1]*n,o=e[1]*r+e[0]*n;return e[0]=i,e[1]=o,e}function l(e,t){return e[0]*=t,e[1]*=t,e}function u(e,t){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function c(e,t){return Math.sqrt(u(e,t))}function h(e,t){return u(e,o(e,t))}},function(e,t,r){"use strict";r.d(t,"b",(function(){return d}));var n,i=r(4),o=r(137),a=r(170),s=r(51),l=r(8),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.key=r,i.oldValue=n,i}return u(t,e),t}(s.a),h=function(e){function t(t){var r=e.call(this)||this;return Object(i.c)(r),r.values_={},void 0!==t&&r.setProperties(t),r}return u(t,e),t.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return Object(l.a)({},this.values_)},t.prototype.notify=function(e,t){var r;r=d(e),this.dispatchEvent(new c(r,e,t)),r=o.a.PROPERTYCHANGE,this.dispatchEvent(new c(r,e,t))},t.prototype.set=function(e,t,r){if(r)this.values_[e]=t;else{var n=this.values_[e];this.values_[e]=t,n!==t&&this.notify(e,n)}},t.prototype.setProperties=function(e,t){for(var r in e)this.set(r,e[r],t)},t.prototype.unset=function(e,t){if(e in this.values_){var r=this.values_[e];delete this.values_[e],t||this.notify(e,r)}},t}(a.a),p={};function d(e){return p.hasOwnProperty(e)?p[e]:p[e]="change:"+e}t.a=h},function(e,t,r){"use strict";var n=r(11);t.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(e,t,r){"use strict";var n=r(12);t.a={SINGLECLICK:"singleclick",CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return T})),r.d(t,"d",(function(){return S})),r.d(t,"c",(function(){return C})),r.d(t,"e",(function(){return x}));var n,i=r(10),o=r(0),a=r(20),s=r(2),l=r(134),u=r(45),c=r(73),h=r(195),p=r(182),d=r(97),f=r(121),g=r(79),m=r(81),y=r(161),_=r(151),b=r(123),v=r(115),w=r(17),O=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e){function t(t,r,n){var i=e.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==r&&n?(i.setFlatCoordinates(r,t),i.ends_=n):i.setCoordinates(t,r),i}return O(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(i.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(f.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(p.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(b.d)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Object(m.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(o.getCenter)(this.getExtent());this.flatInteriorPoint_=Object(y.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new u.a(this.getFlatInteriorPoint(),a.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new l.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.ends_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o],u=new l.a(t.slice(i,s),e);n.push(u),i=s}return n},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(b.b)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(b.d)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(v.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,n),new t(r,a.a.XY,n)},t.prototype.getType=function(){return s.a.POLYGON},t.prototype.intersectsExtent=function(e){return Object(_.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(g.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(c.a);function T(e,t,r,n){for(var o=r||32,s=[],l=0;l<o;++l)Object(i.c)(s,Object(h.b)(e,t,2*Math.PI*l/o,n));return s.push(s[0],s[1]),new E(s,a.a.XY,[s.length])}function S(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=[t,r,t,i,n,i,n,r,t,r];return new E(o,a.a.XY,[o.length])}function C(e,t,r){for(var n=t||32,i=e.getStride(),o=e.getLayout(),a=e.getCenter(),s=i*(n+1),l=new Array(s),u=0;u<s;u+=i){l[u]=0,l[u+1]=0;for(var c=2;c<i;c++)l[u+c]=a[c]}var h=[l.length],p=new E(l,o,h);return x(p,a,e.getRadius(),r),p}function x(e,t,r,n){for(var i=e.getFlatCoordinates(),o=e.getStride(),a=i.length/o-1,s=n||0,l=0;l<=a;++l){var u=l*o,c=s+2*Object(w.d)(l,a)*Math.PI/a;i[u]=t[0]+r*Math.cos(c),i[u+1]=t[1]+r*Math.sin(c)}e.changed()}t.b=E},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"g",(function(){return h}));var n,i,o="ol-hidden",a="ol-selectable",s="ol-unselectable",l="ol-unsupported",u="ol-control",c="ol-collapsed",h=(i={},function(e){if(n||(n=document.createElement("div").style),!(e in i)){n.font=e;var t=n.fontFamily,r=n.fontWeight,o=n.fontStyle;if(n.font="",!t)return null;var a=t.split(/,\s?/);i[e]={families:a,weight:r,style:o}}return i[e]})},function(e,t,r){"use strict";t.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(e,t,r){"use strict";t.a={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}},function(e,t,r){"use strict";var n,i=r(0),o=r(2),a=r(73),s=r(79),l=r(17),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r){var n=e.call(this)||this;return n.setCoordinates(t,r),n}return u(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){var i=this.flatCoordinates,o=Object(l.f)(e,t,i[0],i[1]);if(o<n){for(var a=this.stride,s=0;s<a;++s)r[s]=i[s];return r.length=a,o}return n},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(i.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},t.prototype.getType=function(){return o.a.POINT},t.prototype.intersectsExtent=function(e){return Object(i.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(a.a);t.a=c},function(e,t,r){"use strict";var n,i=r(19),o=r(13),a=r(12),s=r(38),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener(Object(s.b)(r.geometryName_),r.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var n=t;r.setGeometry(n)}else{var i=t;r.setProperties(i)}return r}return l(t,e),t.prototype.clone=function(){var e=new t(this.getProperties());e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(o.a)(e,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;var t;Array.isArray(e)?t=e:(Object(i.a)("function"==typeof e.getZIndex,41),t=[e]);return function(){return t}}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(s.a);t.a=u},function(e,t,r){"use strict";var n,i=r(10),o=r(0),a=r(20),s=r(2),l=r(73),u=r(97),c=r(79),h=r(81),p=r(144),d=r(151),f=r(239),g=r(234),m=r(115),y=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=function(e){function t(t,r){var n=e.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return y(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(i.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.forEachSegment=function(e){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=a.a.XYM&&this.layout!=a.a.XYZM)return null;var r=void 0!==t&&t;return Object(p.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)},t.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},t.prototype.getLength=function(){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(m.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,a.a.XY)},t.prototype.getType=function(){return s.a.LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(l.a);t.a=_},function(e,t,r){"use strict";t.a={ANIMATING:0,INTERACTING:1}},function(e,t,r){"use strict";t.a={ANIMATING:0,INTERACTING:1}},function(e,t,r){"use strict";r.d(t,"b",(function(){return i}));var n=function(){function e(e){this.propagationStopped,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.propagationStopped=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();function i(e){e.stopPropagation()}t.a=n},function(e,t,r){"use strict";var n=function(){function e(e){this.propagationStopped,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.propagationStopped=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.a=n},function(e,t,r){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(e,t,r){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(e,t,r){"use strict";function n(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function i(e,t,r){return e+"/"+t+"/"+r}function o(e){return i(e[0],e[1],e[2])}function a(e){return e.split("/").map(Number)}function s(e){return(e[1]<<e[0])+e[2]}function l(e,t){var r=e[0],n=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o,a=t.getExtent();return!(o=a?t.getTileRangeForExtentAndZ(a,r):t.getFullTileRange(r))||o.containsXY(n,i)}r.d(t,"a",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return l}))},function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]+2*t,r[1]=e[1]+2*t,r}function i(e){return e[0]>0&&e[1]>0}function o(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function a(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";function n(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]+2*t,r[1]=e[1]+2*t,r}function i(e){return e[0]>0&&e[1]>0}function o(e,t,r){return void 0===r&&(r=[0,0]),r[0]=e[0]*t+.5|0,r[1]=e[1]*t+.5|0,r}function a(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(e,t,r){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"}},function(e,t,r){"use strict";var n,i=r(169),o=r(62),a=r(38),s=r(51),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u="length",c=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.element=r,i.index=n,i}return l(t,e),t}(s.a),h=function(e){function t(t,r){var n=e.call(this)||this,i=r||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return l(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,r=e.length;t<r;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)e(t[r],r,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(u)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new c(o.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)if(t[r]===e)return this.removeAt(r)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new c(o.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var r=this.getLength();if(e<r){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new c(o.a.REMOVE,n,e)),this.dispatchEvent(new c(o.a.ADD,t,e))}else{for(var i=r;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(u,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===e&&r!==t)throw new i.a(58)},t}(a.a);t.a=h},function(e,t,r){"use strict";t.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(e,t,r){"use strict";t.a={ADD:"add",REMOVE:"remove"}},function(e,t,r){"use strict";t.a={ADD:"add",REMOVE:"remove"}},function(e,t,r){"use strict";var n,i=r(216),o=r(61),a=r(36),s=r(50),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u="length",c=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.element=r,i.index=n,i}return l(t,e),t}(s.a),h=function(e){function t(t,r){var n=e.call(this)||this,i=r||{};if(n.unique_=!!i.unique,n.array_=t||[],n.unique_)for(var o=0,a=n.array_.length;o<a;++o)n.assertUnique_(n.array_[o],o);return n.updateLength_(),n}return l(t,e),t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var t=0,r=e.length;t<r;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)e(t[r],r,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(u)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new c(o.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,r=0,n=t.length;r<n;++r)if(t[r]===e)return this.removeAt(r)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new c(o.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var r=this.getLength();if(e<r){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new c(o.a.REMOVE,n,e)),this.dispatchEvent(new c(o.a.ADD,t,e))}else{for(var i=r;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(u,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var r=0,n=this.array_.length;r<n;++r)if(this.array_[r]===e&&r!==t)throw new i.a(58)},t}(a.a);t.a=h},function(e,t,r){"use strict";var n,i=r(10),o=r(0),a=r(20),s=r(2),l=r(47),u=r(73),c=r(97),h=r(79),p=r(81),d=r(144),f=r(151),g=r(115),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y=function(e){function t(t,r,n){var o=e.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(t[0]))o.setCoordinates(t,r);else if(void 0!==r&&n)o.setFlatCoordinates(r,t),o.ends_=n;else{for(var a=o.getLayout(),s=t,l=[],u=[],c=0,h=s.length;c<h;++c){var p=s[c];0===c&&(a=p.getLayout()),Object(i.c)(l,p.getFlatCoordinates()),u.push(l.length)}o.setFlatCoordinates(a,l),o.ends_=u}return o}return m(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(i.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=a.a.XYM&&this.layout!=a.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==t&&t,i=void 0!==r&&r;return Object(d.c)(this.flatCoordinates,0,this.ends_,this.stride,e,n,i)},t.prototype.getCoordinates=function(){return Object(p.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new l.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,r=this.layout,n=[],i=0,o=0,a=t.length;o<a;++o){var s=t[o],u=new l.a(e.slice(i,s),r);n.push(u),i=s}return n},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,a=0,s=n.length;a<s;++a){var l=n[a],u=Object(d.a)(t,r,l,o,.5);Object(i.c)(e,u),r=l}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(g.b)(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,n),new t(r,a.a.XY,n)},t.prototype.getType=function(){return s.a.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(f.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(h.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(u.a);t.a=y},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[n.DEGREES]=2*Math.PI*6370997/360,i[n.FEET]=.3048,i[n.METERS]=1,i[n.USFEET]=1200/3937,t.b=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},i={};i[n.DEGREES]=2*Math.PI*6370997/360,i[n.FEET]=.3048,i[n.METERS]=1,i[n.USFEET]=1200/3937,t.b=n},function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return p}));var n=r(19),i=r(2),o=r(191),a=r(95),s=r(98),l=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=d,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=d,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function u(e){var t;if("function"==typeof e)t=e;else{var r;if(Array.isArray(e))r=e;else Object(n.a)("function"==typeof e.getZIndex,41),r=[e];t=function(){return r}}return t}var c=null;function h(e,t){if(!c){var r=new a.a({color:"rgba(255,255,255,0.4)"}),n=new s.a({color:"#3399CC",width:1.25});c=[new l({image:new o.a({fill:r,stroke:n,radius:5}),fill:r,stroke:n})]}return c}function p(){var e={},t=[255,255,255,1],r=[0,153,255,1];return e[i.a.POLYGON]=[new l({fill:new a.a({color:[255,255,255,.5]})})],e[i.a.MULTI_POLYGON]=e[i.a.POLYGON],e[i.a.LINE_STRING]=[new l({stroke:new s.a({color:t,width:5})}),new l({stroke:new s.a({color:r,width:3})})],e[i.a.MULTI_LINE_STRING]=e[i.a.LINE_STRING],e[i.a.CIRCLE]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING]),e[i.a.POINT]=[new l({image:new o.a({radius:6,fill:new a.a({color:r}),stroke:new s.a({color:t,width:1.5})}),zIndex:1/0})],e[i.a.MULTI_POINT]=e[i.a.POINT],e[i.a.GEOMETRY_COLLECTION]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING],e[i.a.POINT]),e}function d(e){return e.getGeometry()}t.c=l},function(e,t,r){"use strict";var n,i=r(26),o=r(1),a=r(60),s=r(6),l=r(80),u=r(181),c=r(96),h=r(90),p=r(91),d=r(113),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=function(e){function t(t,r){var n=e.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return f(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.getArea=function(){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,a.a.XY)},t.prototype.getType=function(){return s.a.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(h.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(l.a),m=r(102),y=(r(177),r(120)),_=r(230),b=r(150),v=r(158),w=r(21);r.d(t,"c",(function(){return T})),r.d(t,"b",(function(){return S})),r.d(t,"d",(function(){return C}));var O=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),E=function(e){function t(t,r,n){var i=e.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==r&&n?(i.setFlatCoordinates(r,t),i.ends_=n):i.setCoordinates(t,r),i}return O(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(i.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(c.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(y.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(u.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(v.c)(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,Object(p.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(o.getCenter)(this.getExtent());this.flatInteriorPoint_=Object(_.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new m.a(this.getFlatInteriorPoint(),a.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new g(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.ends_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o],l=new g(t.slice(i,s),e);n.push(l),i=s}return n},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(v.a)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(v.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(d.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,n),new t(r,a.a.XY,n)},t.prototype.getType=function(){return s.a.POLYGON},t.prototype.intersectsExtent=function(e){return Object(b.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(h.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(l.a);t.a=E;function T(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=[t,r,t,i,n,i,n,r,t,r];return new E(o,a.a.XY,[o.length])}function S(e,t,r){for(var n=t||32,i=e.getStride(),o=e.getLayout(),a=e.getCenter(),s=i*(n+1),l=new Array(s),u=0;u<s;u+=i){l[u]=0,l[u+1]=0;for(var c=2;c<i;c++)l[u+c]=a[c]}var h=[l.length],p=new E(l,o,h);return C(p,a,e.getRadius(),r),p}function C(e,t,r,n){for(var i=e.getFlatCoordinates(),o=e.getStride(),a=i.length/o-1,s=n||0,l=0;l<=a;++l){var u=l*o,c=s+2*Object(w.d)(l,a)*Math.PI/a;i[u]=t[0]+r*Math.cos(c),i[u+1]=t[1]+r*Math.sin(c)}e.changed()}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return c}));var n,i,o="ol-hidden",a="ol-selectable",s="ol-unselectable",l="ol-control",u="ol-collapsed",c=(i={},function(e){if(n||(n=document.createElement("div").style),!(e in i)){n.font=e;var t=n.fontFamily,r=n.fontWeight,o=n.fontStyle;if(n.font="",!t)return null;var a=t.split(/,\s?/);i[e]={families:a,weight:r,style:o}}return i[e]})},function(e,t,r){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(e,t,r){"use strict";var n,i=r(10),o=r(0),a=r(2),s=r(45),l=r(73),u=r(79),c=r(81),h=r(17),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t,r){var n=e.call(this)||this;return r&&!Array.isArray(t[0])?n.setFlatCoordinates(r,t):n.setCoordinates(t,r),n}return p(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(i.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){if(n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t))return n;for(var i=this.flatCoordinates,a=this.stride,s=0,l=i.length;s<l;s+=a){var u=Object(h.f)(e,t,i[s],i[s+1]);if(u<n){n=u;for(var c=0;c<a;++c)r[c]=i[s+c];r.length=a}}return n},t.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new s.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,r=this.stride,n=[],i=0,o=e.length;i<o;i+=r){var a=new s.a(e.slice(i,i+r),t);n.push(a)}return n},t.prototype.getType=function(){return a.a.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,r=this.stride,n=0,i=t.length;n<i;n+=r){var a=t[n],s=t[n+1];if(Object(o.containsXY)(e,a,s))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(l.a);t.a=d},function(e,t,r){"use strict";var n,i=r(10),o=r(0),a=r(20),s=r(2),l=r(71),u=r(41),c=r(73),h=r(182),p=r(245),d=r(97),f=r(121),g=r(79),m=r(81),y=r(161),_=r(151),b=r(123),v=r(115),w=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),O=function(e){function t(t,r,n){var o=e.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var a=o.getLayout(),s=t,l=[],u=[],c=0,h=s.length;c<h;++c){var p=s[c];0===c&&(a=p.getLayout());for(var d=l.length,f=p.getEnds(),g=0,m=f.length;g<m;++g)f[g]+=d;Object(i.c)(l,p.getFlatCoordinates()),u.push(f)}r=a,t=l,n=u}return void 0!==r&&n?(o.setFlatCoordinates(r,t),o.endss_=n):o.setCoordinates(t,r),o}return w(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(i.c)(this.flatCoordinates,e.getFlatCoordinates());for(var n=0,o=(t=e.getEnds().slice()).length;n<o;++n)t[n]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),n=0;n<e;++n)r[n]=this.endss_[n].slice();return new t(this.flatCoordinates.slice(),this.layout,r)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(o.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(d.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(f.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(b.e)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Object(m.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Object(p.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(y.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new l.a(this.getFlatInteriorPoints().slice(),a.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(b.c)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(b.e)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(v.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new t(r,a.a.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var n=this.endss_[e].slice(),i=n[n.length-1];if(0!==t)for(var o=0,a=n.length;o<a;++o)n[o]-=t;return new u.b(this.flatCoordinates.slice(t,i),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),l=s[s.length-1];if(0!==i)for(var c=0,h=s.length;c<h;++c)s[c]-=i;var p=new u.b(t.slice(i,l),e,s);n.push(p),i=l}return n},t.prototype.getType=function(){return s.a.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Object(_.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(g.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(c.a);t.a=O},function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"c",(function(){return p}));var n,i=r(4),o=r(0),a=r(171),s=r(20),l=r(74),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(){var t=e.call(this)||this;return t.layout=s.a.XY,t.stride=2,t.flatCoordinates=null,t}return u(t,e),t.prototype.computeExtent=function(e){return Object(o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(i.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=h(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){Object(i.b)()},t.prototype.setLayout=function(e,t,r){var n;if(e)n=h(e);else{for(var i=0;i<r;++i){if(0===t.length)return this.layout=s.a.XY,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=s.a.XY:3==e?t=s.a.XYZ:4==e&&(t=s.a.XYZM);return(t)}(n=t.length)}this.layout=e,this.stride=n},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(l.a)(r,0,r.length,n,e,t,r),this.changed()}},t.prototype.scale=function(e,t,r){var n=t;void 0===n&&(n=e);var i=r;i||(i=Object(o.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var s=this.getStride();Object(l.b)(a,0,a.length,s,e,n,i,a),this.changed()}},t.prototype.translate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(l.d)(r,0,r.length,n,e,t,r),this.changed()}},t}(a.a);function h(e){var t;return e==s.a.XY?t=2:e==s.a.XYZ||e==s.a.XYM?t=3:e==s.a.XYZM&&(t=4),t}function p(e,t,r){var n=e.getFlatCoordinates();if(n){var i=e.getStride();return Object(l.c)(n,0,n.length,i,t,r)}return null}t.a=c},function(e,t,r){"use strict";function n(e,t,r,n,i,o){for(var a=o||[],s=0,l=t;l<r;l+=n){var u=e[l],c=e[l+1];a[s++]=i[0]*u+i[2]*c+i[4],a[s++]=i[1]*u+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(e,t,r,n,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],h=o[1],p=0,d=t;d<r;d+=n){var f=e[d]-c,g=e[d+1]-h;s[p++]=c+f*l-g*u,s[p++]=h+f*u+g*l;for(var m=d+2;m<d+n;++m)s[p++]=e[m]}return a&&s.length!=p&&(s.length=p),s}function o(e,t,r,n,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,p=t;p<r;p+=n){var d=e[p]-u,f=e[p+1]-c;l[h++]=u+i*d,l[h++]=c+o*f;for(var g=p+2;g<p+n;++g)l[h++]=e[g]}return s&&l.length!=h&&(l.length=h),l}function a(e,t,r,n,i,o,a){for(var s=a||[],l=0,u=t;u<r;u+=n){s[l++]=e[u]+i,s[l++]=e[u+1]+o;for(var c=u+2;c<u+n;++c)s[l++]=e[c]}return a&&s.length!=l&&(s.length=l),s}r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";t.a={FRACTION:"fraction",PIXELS:"pixels"}},function(e,t,r){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,t,r){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,t,r){"use strict";function n(e){return Math.pow(e,3)}function i(e){return 1-n(1-e)}function o(e){return 3*e*e-2*e*e*e}function a(e){return e}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=r.length;i<o;++i)e[t++]=r[i];return t}function i(e,t,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],s=0;s<n;++s)e[t++]=a[s];return t}function o(e,t,r,n,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=i(e,t,r[l],n);a[s++]=c,t=c}return a.length=s,a}function a(e,t,r,n,i){for(var a=i||[],s=0,l=0,u=r.length;l<u;++l){var c=o(e,t,r[l],n,a[s]);a[s++]=c,t=c[c.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";var n,i=r(5),o=r(1),a=r(36),s=r(82),l=r(7),u=r(66),c=r(18),h=r(34),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=Object(c.c)(),f=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(o.createEmpty)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(h.d)((function(e,t,r){if(!r)return this.getSimplifiedGeometry(t);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(t)})),t}return p(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return Object(i.b)()},t.prototype.closestPointXY=function(e,t,r,n){return Object(i.b)()},t.prototype.containsXY=function(e,t){var r=this.getClosestPoint([e,t]);return r[0]===e&&r[1]===t},t.prototype.getClosestPoint=function(e,t){var r=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],r,1/0),r},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Object(i.b)()},t.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.returnOrUpdate)(this.extent_,e)},t.prototype.rotate=function(e,t){Object(i.b)()},t.prototype.scale=function(e,t,r){Object(i.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Object(i.b)()},t.prototype.getType=function(){return Object(i.b)()},t.prototype.applyTransform=function(e){Object(i.b)()},t.prototype.intersectsExtent=function(e){return Object(i.b)()},t.prototype.translate=function(e,t){Object(i.b)()},t.prototype.transform=function(e,t){var r=Object(l.get)(e),n=r.getUnits()==u.b.TILE_PIXELS?function(e,n,i){var a=r.getExtent(),u=r.getWorldExtent(),h=Object(o.getHeight)(u)/Object(o.getHeight)(a);return Object(c.b)(d,u[0],u[3],h,-h,0,0,0),Object(s.c)(e,0,e.length,i,d,n),Object(l.getTransform)(r,t)(e,n,i)}:Object(l.getTransform)(r,t);return this.applyTransform(n),this},t}(a.a),g=r(60);r.d(t,"b",(function(){return b}));var m=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),y=function(e){function t(){var t=e.call(this)||this;return t.layout=g.a.XY,t.stride=2,t.flatCoordinates=null,t}return m(t,e),t.prototype.computeExtent=function(e){return Object(o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(i.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=_(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(e,t){Object(i.b)()},t.prototype.setLayout=function(e,t,r){var n;if(e)n=_(e);else{for(var i=0;i<r;++i){if(0===t.length)return this.layout=g.a.XY,void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t=g.a.XY:3==e?t=g.a.XYZ:4==e&&(t=g.a.XYZM);return(t)}(n=t.length)}this.layout=e,this.stride=n},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(s.a)(r,0,r.length,n,e,t,r),this.changed()}},t.prototype.scale=function(e,t,r){var n=t;void 0===n&&(n=e);var i=r;i||(i=Object(o.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();if(a){var l=this.getStride();Object(s.b)(a,0,a.length,l,e,n,i,a),this.changed()}},t.prototype.translate=function(e,t){var r=this.getFlatCoordinates();if(r){var n=this.getStride();Object(s.d)(r,0,r.length,n,e,t,r),this.changed()}},t}(f);function _(e){var t;return e==g.a.XY?t=2:e==g.a.XYZ||e==g.a.XYM?t=3:e==g.a.XYZM&&(t=4),t}function b(e,t,r){var n=e.getFlatCoordinates();if(n){var i=e.getStride();return Object(s.c)(n,0,n.length,i,t,r)}return null}t.a=y},function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o=void 0!==i?i:[],a=0,s=t;s<r;s+=n)o[a++]=e.slice(s,s+n);return o.length=a,o}function i(e,t,r,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=n(e,t,c,i,a[s]),t=c}return a.length=s,a}function o(e,t,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=i(e,t,c,n,a[s]),t=c[c.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";function n(e,t,r,n,i,o){for(var a=o||[],s=0,l=t;l<r;l+=n){var u=e[l],c=e[l+1];a[s++]=i[0]*u+i[2]*c+i[4],a[s++]=i[1]*u+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function i(e,t,r,n,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),c=o[0],h=o[1],p=0,d=t;d<r;d+=n){var f=e[d]-c,g=e[d+1]-h;s[p++]=c+f*l-g*u,s[p++]=h+f*u+g*l;for(var m=d+2;m<d+n;++m)s[p++]=e[m]}return a&&s.length!=p&&(s.length=p),s}function o(e,t,r,n,i,o,a,s){for(var l=s||[],u=a[0],c=a[1],h=0,p=t;p<r;p+=n){var d=e[p]-u,f=e[p+1]-c;l[h++]=u+i*d,l[h++]=c+o*f;for(var g=p+2;g<p+n;++g)l[h++]=e[g]}return s&&l.length!=h&&(l.length=h),l}function a(e,t,r,n,i,o,a){for(var s=a||[],l=0,u=t;u<r;u+=n){s[l++]=e[u]+i,s[l++]=e[u+1]+o;for(var c=u+2;c<u+n;++c)s[l++]=e[c]}return a&&s.length!=l&&(s.length=l),s}r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=.5,i=!0},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}));var n=.5,i=!0},function(e,t,r){"use strict";t.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(e,t,r){"use strict";t.a={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"}},function(e,t,r){"use strict";function n(e){return Math.pow(e,3)}function i(e){return 1-n(1-e)}function o(e){return 3*e*e-2*e*e*e}function a(e){return e}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l}));var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("firefox"),o=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),a=-1!==n.indexOf("macintosh"),s=window.devicePixelRatio||1,l="undefined"!=typeof Image&&Image.prototype.decode},function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return l}));var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",i=-1!==n.indexOf("firefox"),o=(-1!==n.indexOf("safari")&&n.indexOf("chrom"),-1!==n.indexOf("webkit")&&-1==n.indexOf("edge")),a=-1!==n.indexOf("macintosh"),s=window.devicePixelRatio||1,l="undefined"!=typeof Image&&Image.prototype.decode},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=r.length;i<o;++i)e[t++]=r[i];return t}function i(e,t,r,n){for(var i=0,o=r.length;i<o;++i)for(var a=r[i],s=0;s<n;++s)e[t++]=a[s];return t}function o(e,t,r,n,o){for(var a=o||[],s=0,l=0,u=r.length;l<u;++l){var c=i(e,t,r[l],n);a[s++]=c,t=c}return a.length=s,a}function a(e,t,r,n,i){for(var a=i||[],s=0,l=0,u=r.length;l<u;++l){var c=o(e,t,r[l],n,a[s]);a[s++]=c,t=c[c.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return a}))},function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o=void 0!==i?i:[],a=0,s=t;s<r;s+=n)o[a++]=e.slice(s,s+n);return o.length=a,o}function i(e,t,r,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=n(e,t,c,i,a[s]),t=c}return a.length=s,a}function o(e,t,r,n,o){for(var a=void 0!==o?o:[],s=0,l=0,u=r.length;l<u;++l){var c=r[l];a[s++]=i(e,t,c,n,a[s]),t=c[c.length-1]}return a.length=s,a}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";e.exports=r(296)},function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n,i=r(9),o=r(11),a=r(36),s=r(217),l=r(57),u=r(22),c=r(131),h=r(52),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t){var r=this,n=Object(u.a)({},t);delete n.source,(r=e.call(this,n)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addEventListener(Object(a.b)(l.a.SOURCE),r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return p(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():h.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(i.a)(e,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},t.prototype.render=function(e,t){var r=this.getRenderer();if(r.prepareFrame(e))return r.renderFrame(e,t)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(i.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(i.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(i.a)(e,c.a.PRECOMPOSE,(function(e){e.frameState.layerStatesArray.push(this.getLayerState(!1))}),this),this.mapRenderKey_=Object(i.a)(this,o.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(l.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.setSource(null),e.prototype.disposeInternal.call(this)},t}(s.a);function f(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}t.a=d},function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n,i=r(13),o=r(12),a=r(38),s=r(244),l=r(58),u=r(8),c=r(132),h=r(53),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t){var r=this,n=Object(u.a)({},t);delete n.source,(r=e.call(this,n)||this).mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,t.render&&(r.render=t.render),t.map&&r.setMap(t.map),r.addEventListener(Object(a.b)(l.a.SOURCE),r.handleSourcePropertyChange_);var i=t.source?t.source:null;return r.setSource(i),r}return p(t,e),t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():h.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.c)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(i.a)(e,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_.getFeatures(e)},t.prototype.render=function(e,t){var r=this.getRenderer();if(r.prepareFrame(e))return r.renderFrame(e,t)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(i.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(i.c)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(i.a)(e,c.a.PRECOMPOSE,(function(e){e.frameState.layerStatesArray.push(this.getLayerState(!1))}),this),this.mapRenderKey_=Object(i.a)(this,o.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(l.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.setSource(null),e.prototype.disposeInternal.call(this)},t}(s.a);function f(e,t){if(!e.visible)return!1;var r=t.resolution;if(r<e.minResolution||r>=e.maxResolution)return!1;var n=t.zoom;return n>e.minZoom&&n<=e.maxZoom}t.a=d},function(e,t,r){"use strict";var n=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}();t.a=n},function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r(21);function i(e,t,r,i,o,a,s){var l,u=e[t],c=e[t+1],h=e[r]-u,p=e[r+1]-c;if(0===h&&0===p)l=t;else{var d=((o-u)*h+(a-c)*p)/(h*h+p*p);if(d>1)l=r;else{if(d>0){for(var f=0;f<i;++f)s[f]=Object(n.c)(e[t+f],e[r+f],d);return void(s.length=i)}l=t}}for(f=0;f<i;++f)s[f]=e[l+f];s.length=i}function o(e,t,r,i,o){var a=e[t],s=e[t+1];for(t+=i;t<r;t+=i){var l=e[t],u=e[t+1],c=Object(n.f)(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];i=o(e,t,l,n,i),t=l}return i}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){var l=r[o];i=a(e,t,l,n,i),t=l[l.length-1]}return i}function l(e,t,r,o,a,s,l,u,c,h,p){if(t==r)return h;var d,f;if(0===a){if((f=Object(n.f)(l,u,e[t],e[t+1]))<h){for(d=0;d<o;++d)c[d]=e[t+d];return c.length=o,f}return h}for(var g=p||[NaN,NaN],m=t+o;m<r;)if(i(e,m-o,m,o,l,u,g),(f=Object(n.f)(l,u,g[0],g[1]))<h){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o,m+=o}else m+=o*Math.max((Math.sqrt(f)-Math.sqrt(h))/a|0,1);if(s&&(i(e,r-o,t,o,l,u,g),(f=Object(n.f)(l,u,g[0],g[1]))<h)){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o}return h}function u(e,t,r,n,i,o,a,s,u,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=l(e,t,g,n,i,o,a,s,u,c,p),t=g}return c}function c(e,t,r,n,i,o,a,s,l,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=u(e,t,g,n,i,o,a,s,l,c,p),t=g[g.length-1]}return c}},function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r(17);function i(e,t,r,i,o,a,s){var l,u=e[t],c=e[t+1],h=e[r]-u,p=e[r+1]-c;if(0===h&&0===p)l=t;else{var d=((o-u)*h+(a-c)*p)/(h*h+p*p);if(d>1)l=r;else{if(d>0){for(var f=0;f<i;++f)s[f]=Object(n.c)(e[t+f],e[r+f],d);return void(s.length=i)}l=t}}for(f=0;f<i;++f)s[f]=e[l+f];s.length=i}function o(e,t,r,i,o){var a=e[t],s=e[t+1];for(t+=i;t<r;t+=i){var l=e[t],u=e[t+1],c=Object(n.f)(a,s,l,u);c>o&&(o=c),a=l,s=u}return o}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];i=o(e,t,l,n,i),t=l}return i}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){var l=r[o];i=a(e,t,l,n,i),t=l[l.length-1]}return i}function l(e,t,r,o,a,s,l,u,c,h,p){if(t==r)return h;var d,f;if(0===a){if((f=Object(n.f)(l,u,e[t],e[t+1]))<h){for(d=0;d<o;++d)c[d]=e[t+d];return c.length=o,f}return h}for(var g=p||[NaN,NaN],m=t+o;m<r;)if(i(e,m-o,m,o,l,u,g),(f=Object(n.f)(l,u,g[0],g[1]))<h){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o,m+=o}else m+=o*Math.max((Math.sqrt(f)-Math.sqrt(h))/a|0,1);if(s&&(i(e,r-o,t,o,l,u,g),(f=Object(n.f)(l,u,g[0],g[1]))<h)){for(h=f,d=0;d<o;++d)c[d]=g[d];c.length=o}return h}function u(e,t,r,n,i,o,a,s,u,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=l(e,t,g,n,i,o,a,s,u,c,p),t=g}return c}function c(e,t,r,n,i,o,a,s,l,c,h){for(var p=h||[NaN,NaN],d=0,f=r.length;d<f;++d){var g=r[d];c=u(e,t,g,n,i,o,a,s,l,c,p),t=g[g.length-1]}return c}},function(e,t,r){"use strict";var n=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();t.a=n},function(e,t,r){"use strict";var n=function(){function e(){this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=n},function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var n,i=r(146),o=r(31),a=r(13),s=r(12),l=r(0),u=r(89),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t,r,n,i,a,s){var l=e.call(this,t,r,n,o.a.IDLE)||this;return l.src_=i,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=o.a.IDLE,l.imageLoadFunction_=s,l}return c(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(l.getHeight)(this.extent)/this.image_.height),this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=o.a.IDLE&&this.state!=o.a.ERROR||(this.state=o.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=p(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.a);function p(e,t,r){var n=e;if(n.src&&u.c){var i=n.decode(),o=!0;return i.then((function(){o&&t()})).catch((function(e){o&&("EncodingError"===e.name&&"Invalid image type."===e.message?t():r())})),function(){o=!1}}var l=[Object(a.b)(n,s.a.LOAD,t),Object(a.b)(n,s.a.ERROR,r)];return function(){l.forEach(a.c)}}t.a=h},function(e,t,r){"use strict";var n,i=r(16),o=r(87),a=r(114),s=r(12),l=r(4),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r,n){var i=e.call(this)||this,o=n||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return u(t,e),t.prototype.changed=function(){this.dispatchEvent(s.a.CHANGE)},t.prototype.disposeInternal=function(){this.setState(i.a.ABORT)},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==i.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==i.a.LOADED){e.interimTile=null;break}e.getState()==i.a.LOADING?t=e:e.getState()==i.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==i.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Object(l.b)()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;var n=t-r+1e3/60;return n>=this.transition_?1:Object(o.a)(n/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(a.a);t.a=c},function(e,t,r){"use strict";var n,i=r(1),o=r(6),a=r(80),s=r(90),l=r(21),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r){var n=e.call(this)||this;return n.setCoordinates(t,r),n}return u(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){var i=this.flatCoordinates,o=Object(l.f)(e,t,i[0],i[1]);if(o<n){for(var a=this.stride,s=0;s<a;++s)r[s]=i[s];return r.length=a,o}return n},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(i.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},t.prototype.getType=function(){return o.a.POINT},t.prototype.intersectsExtent=function(e){return Object(i.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(a.a);t.a=c},function(e,t,r){"use strict";t.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(149);function i(e){return Array.isArray(e)?Object(n.c)(e):e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(135);function i(e){return Array.isArray(e)?Object(n.c)(e):e}},function(e,t,r){"use strict";var n,i=r(4),o=r(59),a=r(62),s=r(137),l=r(10),u=r(19),c=r(13),h=r(51),p=r(12),d=r(0),f=r(196),g=r(35),m=r(237),y=r(8),_=r(128),b=r(53),v=r(86),w=r(162),O=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return O(t,e),t}(h.a),T=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{attributions:n.attributions,projection:void 0,state:b.a.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=g.c,r.format_=n.format,r.overlaps_=null==n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(Object(u.a)(r.format_,7),r.loader_=Object(f.b)(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:m.a;var i,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new w.a:null,r.loadedExtentsRtree_=new w.a,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(i=n.features).getArray()),s||void 0!==i||(i=new o.a(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==i&&r.bindFeaturesCollection_(i),r}return O(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(i.c)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var n=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(n,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new E(v.a.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(c.a)(t,p.a.CHANGE,this.handleFeatureChange_,this),Object(c.a)(t,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&(Object(u.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],n=[],o=0,a=e.length;o<a;o++){var s=e[o],l=Object(i.c)(s);this.addToIndex_(l,s)&&r.push(s)}o=0;for(var u=r.length;o<u;o++){s=r[o],l=Object(i.c)(s);this.setupChangeEvents_(l,s);var c=s.getGeometry();if(c){var h=c.getExtent();t.push(h),n.push(s)}else this.nullGeometryFeatures_[l]=s}this.featuresRtree_&&this.featuresRtree_.load(t,n);o=0;for(var p=r.length;o<p;o++)this.dispatchEvent(new E(v.a.ADDFEATURE,r[o]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(v.a.ADDFEATURE,(function(r){t||(t=!0,e.push(r.feature),t=!1)})),this.addEventListener(v.a.REMOVEFEATURE,(function(r){t||(t=!0,e.remove(r.feature),t=!1)})),e.addEventListener(a.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(a.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(c.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new E(v.a.CLEAR);this.dispatchEvent(n),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Object(y.d)(this.nullGeometryFeatures_)||Object(l.c)(e,Object(y.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||g.b;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),u=a;if((a=t.closestPointXY(r,n,o,a))<u){i=e;var c=Math.sqrt(a);s[0]=r-c,s[1]=n-c,s[2]=r+c,s[3]=n+c}}})),i},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,r=Object(i.c)(t),n=t.getGeometry();if(n){var o=n.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var a=t.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new E(v.a.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Object(i.c)(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(y.d)(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,r){var n=this.loadedExtentsRtree_,i=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var s=i[e];n.forEachInExtent(s,(function(e){return Object(d.containsExtent)(e.extent,s)}))||(a.loader_.call(a,s,t,r),n.insert(s,{extent:s.slice()}),a.loading=a.loader_!==g.c)},a=this,s=0,l=i.length;s<l;++s)o(s)},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,(function(r){if(Object(d.equals)(r.extent,e))return t=r,!0})),t&&r.remove(t)},t.prototype.removeFeature=function(e){var t=Object(i.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var t=Object(i.c)(e);this.featureChangeKeys_[t].forEach(c.c),delete this.featureChangeKeys_[t];var r=e.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new E(v.a.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(u.a)(this.format_,7),this.setLoader(Object(f.b)(e,this.format_))},t}(_.a);t.a=T},function(e,t,r){"use strict";var n,i=r(153),o=r(240),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.createRenderer=function(){return new o.a(this)},t}(i.a);t.a=s},function(e,t,r){"use strict";var n,i=r(25),o=r(9),a=r(11),s=r(36),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;if(r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addEventListener(Object(s.b)(r.geometryName_),r.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var n=t;r.setGeometry(n)}else{var i=t;r.setProperties(i)}return r}return l(t,e),t.prototype.clone=function(){var e=new t(this.getProperties());e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(o.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(o.a)(e,a.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;var t;Array.isArray(e)?t=e:(Object(i.a)("function"==typeof e.getZIndex,41),t=[e]);return function(){return t}}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=e,this.addEventListener(Object(s.b)(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(s.a);t.a=u},function(e,t,r){"use strict";function n(e,t,r){var n=void 0!==r?e.toFixed(r):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>t?n:new Array(1+t-i).join("0")+n}function i(e,t){for(var r=(""+e).split("."),n=(""+t).split("."),i=0;i<Math.max(r.length,n.length);i++){var o=parseInt(r[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n,i=r(111),o=r(34),a=r(50),s=r(22),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_={},r.dispatching_={},r.listeners_={},r}return l(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var r=this.listeners_[e];r||(r=[],this.listeners_[e]=r),-1===r.indexOf(t)&&r.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e?new a.a(e):e,r=t.type;t.target||(t.target=this.eventTarget_||this);var n,i=this.listeners_[r];if(i){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var s=0,l=i.length;s<l;++s)if(!1===i[s].call(this,t)||t.propagationStopped){n=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var u=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];u--;)this.removeEventListener(r,o.c);delete this.dispatching_[r]}return n}},t.prototype.disposeInternal=function(){Object(s.b)(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_[e]},t.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},t.prototype.removeEventListener=function(e,t){var r=this.listeners_[e];if(r){var n=r.indexOf(t);-1!==n&&(e in this.pendingRemovals_?(r[n]=o.c,++this.pendingRemovals_[e]):(r.splice(n,1),0===r.length&&delete this.listeners_[e]))}},t}(i.a);t.a=u},function(e,t,r){"use strict";var n=function(){function e(){this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=n},function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var n,i=r(178),o=r(30),a=r(9),s=r(11),l=r(1),u=r(88),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t,r,n,i,a,s){var l=e.call(this,t,r,n,o.a.IDLE)||this;return l.src_=i,l.image_=new Image,null!==a&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=o.a.IDLE,l.imageLoadFunction_=s,l}return c(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(l.getHeight)(this.extent)/this.image_.height),this.state=o.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state!=o.a.IDLE&&this.state!=o.a.ERROR||(this.state=o.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=p(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.a);function p(e,t,r){var n=e;if(n.src&&u.c){var i=n.decode(),o=!0;return i.then((function(){o&&t()})).catch((function(e){o&&("EncodingError"===e.name&&"Invalid image type."===e.message?t():r())})),function(){o=!1}}var l=[Object(a.b)(n,s.a.LOAD,t),Object(a.b)(n,s.a.ERROR,r)];return function(){l.forEach(a.c)}}t.a=h},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u}));var n=r(21);function i(e,t,r,i,o,a,s){var l=(r-t)/i;if(l<3){for(;t<r;t+=i)a[s++]=e[t],a[s++]=e[t+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[t,r-i],h=0;c.length>0;){for(var p=c.pop(),d=c.pop(),f=0,g=e[d],m=e[d+1],y=e[p],_=e[p+1],b=d+i;b<p;b+=i){var v=e[b],w=e[b+1],O=Object(n.g)(v,w,g,m,y,_);O>f&&(h=b,f=O)}f>o&&(u[(h-t)/i]=1,d+i<h&&c.push(d,h),h+i<p&&c.push(h,p))}for(b=0;b<l;++b)u[b]&&(a[s++]=e[t+b*i],a[s++]=e[t+b*i+1]);return s}function o(e,t,r,n,o,a,s,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];s=i(e,t,h,n,o,a,s),l.push(s),t=h}return s}function a(e,t){return t*Math.round(e/t)}function s(e,t,r,n,i,o,s){if(t==r)return s;var l,u,c=a(e[t],i),h=a(e[t+1],i);t+=n,o[s++]=c,o[s++]=h;do{if(l=a(e[t],i),u=a(e[t+1],i),(t+=n)==r)return o[s++]=l,o[s++]=u,s}while(l==c&&u==h);for(;t<r;){var p=a(e[t],i),d=a(e[t+1],i);if(t+=n,p!=l||d!=u){var f=l-c,g=u-h,m=p-c,y=d-h;f*y==g*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(l=p,u=d):(o[s++]=l,o[s++]=u,c=l,h=u,l=p,u=d)}}return o[s++]=l,o[s++]=u,s}function l(e,t,r,n,i,o,a,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];a=s(e,t,h,n,i,o,a),l.push(a),t=h}return a}function u(e,t,r,n,i,o,a,s){for(var u=0,c=r.length;u<c;++u){var h=r[u],p=[];a=l(e,t,h,n,i,o,a,p),s.push(p),t=h[h.length-1]}return a}},function(e,t,r){"use strict";var n,i=r(99),o=r(35),a=r(51),s=r(8),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;return r.eventTarget_=t,r.pendingRemovals_={},r.dispatching_={},r.listeners_={},r}return l(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var r=this.listeners_[e];r||(r=[],this.listeners_[e]=r),-1===r.indexOf(t)&&r.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e?new a.a(e):e,r=t.type;t.target||(t.target=this.eventTarget_||this);var n,i=this.listeners_[r];if(i){r in this.dispatching_||(this.dispatching_[r]=0,this.pendingRemovals_[r]=0),++this.dispatching_[r];for(var s=0,l=i.length;s<l;++s)if(!1===i[s].call(this,t)||t.propagationStopped){n=!1;break}if(--this.dispatching_[r],0===this.dispatching_[r]){var u=this.pendingRemovals_[r];for(delete this.pendingRemovals_[r];u--;)this.removeEventListener(r,o.c);delete this.dispatching_[r]}return n}},t.prototype.disposeInternal=function(){Object(s.b)(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_[e]},t.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},t.prototype.removeEventListener=function(e,t){var r=this.listeners_[e];if(r){var n=r.indexOf(t);-1!==n&&(e in this.pendingRemovals_?(r[n]=o.c,++this.pendingRemovals_[e]):(r.splice(n,1),0===r.length&&delete this.listeners_[e]))}},t}(i.a);t.a=u},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"e",(function(){return a})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u}));var n=r(17);function i(e,t,r,i,o,a,s){var l=(r-t)/i;if(l<3){for(;t<r;t+=i)a[s++]=e[t],a[s++]=e[t+1];return s}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[t,r-i],h=0;c.length>0;){for(var p=c.pop(),d=c.pop(),f=0,g=e[d],m=e[d+1],y=e[p],_=e[p+1],b=d+i;b<p;b+=i){var v=e[b],w=e[b+1],O=Object(n.g)(v,w,g,m,y,_);O>f&&(h=b,f=O)}f>o&&(u[(h-t)/i]=1,d+i<h&&c.push(d,h),h+i<p&&c.push(h,p))}for(b=0;b<l;++b)u[b]&&(a[s++]=e[t+b*i],a[s++]=e[t+b*i+1]);return s}function o(e,t,r,n,o,a,s,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];s=i(e,t,h,n,o,a,s),l.push(s),t=h}return s}function a(e,t){return t*Math.round(e/t)}function s(e,t,r,n,i,o,s){if(t==r)return s;var l,u,c=a(e[t],i),h=a(e[t+1],i);t+=n,o[s++]=c,o[s++]=h;do{if(l=a(e[t],i),u=a(e[t+1],i),(t+=n)==r)return o[s++]=l,o[s++]=u,s}while(l==c&&u==h);for(;t<r;){var p=a(e[t],i),d=a(e[t+1],i);if(t+=n,p!=l||d!=u){var f=l-c,g=u-h,m=p-c,y=d-h;f*y==g*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(g<0&&y<g||g==y||g>0&&y>g)?(l=p,u=d):(o[s++]=l,o[s++]=u,c=l,h=u,l=p,u=d)}}return o[s++]=l,o[s++]=u,s}function l(e,t,r,n,i,o,a,l){for(var u=0,c=r.length;u<c;++u){var h=r[u];a=s(e,t,h,n,i,o,a),l.push(a),t=h}return a}function u(e,t,r,n,i,o,a,s){for(var u=0,c=r.length;u<c;++u){var h=r[u],p=[];a=l(e,t,h,n,i,o,a,p),s.push(p),t=h[h.length-1]}return a}},function(e,t,r){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=42,i=256},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));var n=42,i=256},function(e,t,r){"use strict";var n,i=r(25),o=r(6),a=r(149),s=r(104),l=r(29),u=r(30),c=r(23),h=r(220),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t){var r=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(r=e.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1})||this).canvas_=null,r.hitDetectionCanvas_=null,r.fill_=void 0!==t.fill?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=void 0!==t.radius?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=void 0!==t.angle?t.angle:0,r.stroke_=void 0!==t.stroke?t.stroke:null,r.anchor_=null,r.size_=null,r.imageSize_=null,r.hitDetectionImageSize_=null,r.render(),r}return p(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},t.prototype.getImage=function(e){return this.canvas_},t.prototype.getImageSize=function(){return this.imageSize_},t.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},t.prototype.getImageState=function(){return u.a.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.render=function(){var e,t=c.d,r=c.g,n=0,i=null,o=0,a=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=c.k),e=Object(s.a)(e),void 0===(a=this.stroke_.getWidth())&&(a=c.h),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(r=this.stroke_.getLineJoin())&&(r=c.g),void 0===(t=this.stroke_.getLineCap())&&(t=c.d),void 0===(n=this.stroke_.getMiterLimit())&&(n=c.i));var u=2*(this.radius_+a)+1,h={strokeStyle:e,strokeWidth:a,size:u,lineCap:t,lineDash:i,lineDashOffset:o,lineJoin:r,miterLimit:n},p=Object(l.a)(u,u);this.canvas_=p.canvas;var d=u=this.canvas_.width;this.draw_(h,p,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[u/2,u/2],this.size_=[u,u],this.imageSize_=[d,d]},t.prototype.draw_=function(e,t,r,n){var i,o,a;t.setTransform(1,0,0,1,0,0),t.translate(r,n),t.beginPath();var l=this.points_;if(l===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),i=0;i<=l;i++)o=2*i*Math.PI/l-Math.PI/2+this.angle_,a=i%2==0?this.radius_:u,t.lineTo(e.size/2+a*Math.cos(o),e.size/2+a*Math.sin(o))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=c.b),t.fillStyle=Object(s.a)(h),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},t.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var t=this.fill_.getColor(),r=0;if("string"==typeof t&&(t=Object(a.a)(t)),null===t?r=1:Array.isArray(t)&&(r=4===t.length?t[3]:1),0===r){var n=Object(l.a)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n,0,0)}}},t.prototype.drawHitDetectionCanvas_=function(e,t,r,n){t.setTransform(1,0,0,1,0,0),t.translate(r,n),t.beginPath();var i=this.points_;if(i===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=i;a++)l=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,t.lineTo(e.size/2+s*Math.cos(l),e.size/2+s*Math.sin(l))}t.fillStyle=c.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},t}(h.a),f=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),g=function(e){function t(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke})||this}return f(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(d),m=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}(),y=function(){function e(e){var t=e||{};this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();r.d(t,"c",(function(){return b})),r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return O}));var _=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=E,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=E,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}();function b(e){var t;if("function"==typeof e)t=e;else{var r;if(Array.isArray(e))r=e;else Object(i.a)("function"==typeof e.getZIndex,41),r=[e];t=function(){return r}}return t}var v=null;function w(e,t){if(!v){var r=new m({color:"rgba(255,255,255,0.4)"}),n=new y({color:"#3399CC",width:1.25});v=[new _({image:new g({fill:r,stroke:n,radius:5}),fill:r,stroke:n})]}return v}function O(){var e={},t=[255,255,255,1],r=[0,153,255,1];return e[o.a.POLYGON]=[new _({fill:new m({color:[255,255,255,.5]})})],e[o.a.MULTI_POLYGON]=e[o.a.POLYGON],e[o.a.LINE_STRING]=[new _({stroke:new y({color:t,width:5})}),new _({stroke:new y({color:r,width:3})})],e[o.a.MULTI_LINE_STRING]=e[o.a.LINE_STRING],e[o.a.CIRCLE]=e[o.a.POLYGON].concat(e[o.a.LINE_STRING]),e[o.a.POINT]=[new _({image:new g({radius:6,fill:new m({color:r}),stroke:new y({color:t,width:1.5})}),zIndex:1/0})],e[o.a.MULTI_POINT]=e[o.a.POINT],e[o.a.GEOMETRY_COLLECTION]=e[o.a.POLYGON].concat(e[o.a.LINE_STRING],e[o.a.POINT]),e}function E(e){return e.getGeometry()}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(1);function i(e,t,r,i,a){return!Object(n.forEachCorner)(a,(function(n){return!o(e,t,r,i,n[0],n[1])}))}function o(e,t,r,n,i,o){for(var a=0,s=e[r-n],l=e[r-n+1];t<r;t+=n){var u=e[t],c=e[t+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function a(e,t,r,n,i,a){if(0===r.length)return!1;if(!o(e,t,r[0],n,i,a))return!1;for(var s=1,l=r.length;s<l;++s)if(o(e,r[s-1],r[s],n,i,a))return!1;return!0}function s(e,t,r,n,i,o){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var u=r[s];if(a(e,t,u,n,i,o))return!0;t=u[u.length-1]}return!1}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s}));var n=r(0);function i(e,t,r,i,a){return!Object(n.forEachCorner)(a,(function(n){return!o(e,t,r,i,n[0],n[1])}))}function o(e,t,r,n,i,o){for(var a=0,s=e[r-n],l=e[r-n+1];t<r;t+=n){var u=e[t],c=e[t+1];l<=o?c>o&&(u-s)*(o-l)-(i-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(i-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function a(e,t,r,n,i,a){if(0===r.length)return!1;if(!o(e,t,r[0],n,i,a))return!1;for(var s=1,l=r.length;s<l;++s)if(o(e,r[s-1],r[s],n,i,a))return!1;return!0}function s(e,t,r,n,i,o){if(0===r.length)return!1;for(var s=0,l=r.length;s<l;++s){var u=r[s];if(a(e,t,u,n,i,o))return!0;t=u[u.length-1]}return!1}},function(e,t,r){"use strict";var n,i=r(174),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.pointerEvent=n,a}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";function n(e,t,r,n){for(;t<r-n;){for(var i=0;i<n;++i){var o=e[t+i];e[t+i]=e[r-n+i],e[r-n+i]=o}t+=n,r-=n}}function i(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=(s-o)*(l+a),o=s,a=l}return i>0}function o(e,t,r,n,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var u=r[s],c=i(e,t,u,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;t=u}return!0}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];if(!o(e,t,l,n,i))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,r,o,a){for(var s=void 0!==a&&a,l=0,u=r.length;l<u;++l){var c=r[l],h=i(e,t,c,o);(0===l?s&&h||!s&&!h:s&&!h||!s&&h)&&n(e,t,c,o),t=c}return t}function l(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o)t=s(e,t,r[o],n,i);return t}r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"d",(function(){return s})),r.d(t,"e",(function(){return l}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return h}));var n=r(5),i=r(30),o=r(6),a=r(43),s={Point:function(e,t,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,e.addDeclutter(!1)),s.drawPoint(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!!o)),u.drawText(t,n)}},LineString:function(e,t,r,n){var i=r.getStroke();if(i){var o=e.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(t,n)}var s=r.getText();if(s){var l=e.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(s,e.addDeclutter(!1)),l.drawText(t,n)}},Polygon:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=e.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}},MultiPoint:function(e,t,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,e.addDeclutter(!1)),s.drawMultiPoint(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!!o)),u.drawText(t,n)}},MultiLineString:function(e,t,r,n){var i=r.getStroke();if(i){var o=e.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(t,n)}var s=r.getText();if(s){var l=e.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(s,e.addDeclutter(!1)),l.drawText(t,n)}},MultiPolygon:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(o||i){var s=e.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}},GeometryCollection:function(e,t,r,n){var i,o,a=t.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,s[a[i].getType()])(e,a[i],r,n)}},Circle:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=e.getBuilder(r.getZIndex(),a.a.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}}};function l(e,t){return parseInt(Object(n.c)(e),10)-parseInt(Object(n.c)(t),10)}function u(e,t){var r=c(e,t);return r*r}function c(e,t){return.5*e/t}function h(e,t,r,n,l,u){var c=!1,h=r.getImage();if(h){var p=h.getImageState();p==i.a.LOADED||p==i.a.ERROR?h.unlistenImageChange(l):(p==i.a.IDLE&&h.load(),p=h.getImageState(),h.listenImageChange(l),c=!0)}return function(e,t,r,n,i){var l=r.getGeometryFunction()(t);if(!l)return;var u=l.simplifyTransformed(n,i);if(r.getRenderer())!function e(t,r,n,i){if(r.getType()==o.a.GEOMETRY_COLLECTION){for(var s=r.getGeometries(),l=0,u=s.length;l<u;++l)e(t,s[l],n,i);return}t.getBuilder(n.getZIndex(),a.a.DEFAULT).drawCustom(r,i,n.getRenderer())}(e,u,r,t);else{(0,s[u.getType()])(e,u,r,t)}}(e,t,r,n,u),c}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return h}));var n=r(4),i=r(31),o=r(2),a=r(44),s={Point:function(e,t,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,e.addDeclutter(!1)),s.drawPoint(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!!o)),u.drawText(t,n)}},LineString:function(e,t,r,n){var i=r.getStroke();if(i){var o=e.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(t,n)}var s=r.getText();if(s){var l=e.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(s,e.addDeclutter(!1)),l.drawText(t,n)}},Polygon:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=e.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawPolygon(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}},MultiPoint:function(e,t,r,n){var o=r.getImage();if(o){if(o.getImageState()!=i.a.LOADED)return;var s=e.getBuilder(r.getZIndex(),a.a.IMAGE);s.setImageStyle(o,e.addDeclutter(!1)),s.drawMultiPoint(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!!o)),u.drawText(t,n)}},MultiLineString:function(e,t,r,n){var i=r.getStroke();if(i){var o=e.getBuilder(r.getZIndex(),a.a.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(t,n)}var s=r.getText();if(s){var l=e.getBuilder(r.getZIndex(),a.a.TEXT);l.setTextStyle(s,e.addDeclutter(!1)),l.drawText(t,n)}},MultiPolygon:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(o||i){var s=e.getBuilder(r.getZIndex(),a.a.POLYGON);s.setFillStrokeStyle(i,o),s.drawMultiPolygon(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}},GeometryCollection:function(e,t,r,n){var i,o,a=t.getGeometriesArray();for(i=0,o=a.length;i<o;++i){(0,s[a[i].getType()])(e,a[i],r,n)}},Circle:function(e,t,r,n){var i=r.getFill(),o=r.getStroke();if(i||o){var s=e.getBuilder(r.getZIndex(),a.a.CIRCLE);s.setFillStrokeStyle(i,o),s.drawCircle(t,n)}var l=r.getText();if(l){var u=e.getBuilder(r.getZIndex(),a.a.TEXT);u.setTextStyle(l,e.addDeclutter(!1)),u.drawText(t,n)}}};function l(e,t){return parseInt(Object(n.c)(e),10)-parseInt(Object(n.c)(t),10)}function u(e,t){var r=c(e,t);return r*r}function c(e,t){return.5*e/t}function h(e,t,r,n,l,u){var c=!1,h=r.getImage();if(h){var p=h.getImageState();p==i.a.LOADED||p==i.a.ERROR?h.unlistenImageChange(l):(p==i.a.IDLE&&h.load(),p=h.getImageState(),h.listenImageChange(l),c=!0)}return function(e,t,r,n,i){var l=r.getGeometryFunction()(t);if(!l)return;var u=l.simplifyTransformed(n,i);if(r.getRenderer())!function e(t,r,n,i){if(r.getType()==o.a.GEOMETRY_COLLECTION){for(var s=r.getGeometries(),l=0,u=s.length;l<u;++l)e(t,s[l],n,i);return}t.getBuilder(n.getZIndex(),a.a.DEFAULT).drawCustom(r,i,n.getRenderer())}(e,u,r,t);else{(0,s[u.getType()])(e,u,r,t)}}(e,t,r,n,u),c}},function(e,t,r){"use strict";var n,i=r(148),o=r(221),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.createRenderer=function(){return new o.a(this)},t}(i.a);t.a=s},function(e,t,r){"use strict";var n,i=r(5),o=r(36),a=r(7),s=r(52),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;return r.projection_=Object(a.get)(t.projection),r.attributions_=c(t.attributions),r.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,r.loading=!1,r.state_=void 0!==t.state?t.state:s.a.READY,r.wrapX_=void 0!==t.wrapX&&t.wrapX,r}return l(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return Object(i.b)()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=c(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(o.a);function c(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}t.a=u},function(e,t,r){"use strict";var n,i=r(4),o=r(38),a=r(3),s=r(53),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t){var r=e.call(this)||this;return r.projection_=Object(a.get)(t.projection),r.attributions_=c(t.attributions),r.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,r.loading=!1,r.state_=void 0!==t.state?t.state:s.a.READY,r.wrapX_=void 0!==t.wrapX&&t.wrapX,r}return l(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return Object(i.b)()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=c(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(o.a);function c(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}t.a=u},function(e,t,r){"use strict";var n=r(5),i=r(63),o=r(61),a=r(116),s=r(26),l=r(25),u=r(9),c=r(50),h=r(11),p=r(1),d=r(199),f=r(34);function g(e,t){return[[-1/0,-1/0,1/0,1/0]]}var m,y=r(22),_=r(127),b=r(52),v=r(85),w=r(160),O=(m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),E=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return O(t,e),t}(c.a),T=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{attributions:n.attributions,projection:void 0,state:b.a.READY,wrapX:void 0===n.wrapX||n.wrapX})||this).loader_=f.c,r.format_=n.format,r.overlaps_=null==n.overlaps||n.overlaps,r.url_=n.url,void 0!==n.loader?r.loader_=n.loader:void 0!==r.url_&&(Object(l.a)(r.format_,7),r.loader_=Object(d.b)(r.url_,r.format_)),r.strategy_=void 0!==n.strategy?n.strategy:g;var o,a,s=void 0===n.useSpatialIndex||n.useSpatialIndex;return r.featuresRtree_=s?new w.a:null,r.loadedExtentsRtree_=new w.a,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(n.features)?a=n.features:n.features&&(a=(o=n.features).getArray()),s||void 0!==o||(o=new i.a(a)),void 0!==a&&r.addFeaturesInternal(a),void 0!==o&&r.bindFeaturesCollection_(o),r}return O(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(n.c)(e);if(this.addToIndex_(t,e)){this.setupChangeEvents_(t,e);var r=e.getGeometry();if(r){var i=r.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new E(v.a.ADDFEATURE,e))}else this.featuresCollection_&&this.featuresCollection_.remove(e)},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(u.a)(t,h.a.CHANGE,this.handleFeatureChange_,this),Object(u.a)(t,a.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t),r&&(Object(l.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),r},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],r=[],i=[],o=0,a=e.length;o<a;o++){var s=e[o],l=Object(n.c)(s);this.addToIndex_(l,s)&&r.push(s)}o=0;for(var u=r.length;o<u;o++){s=r[o],l=Object(n.c)(s);this.setupChangeEvents_(l,s);var c=s.getGeometry();if(c){var h=c.getExtent();t.push(h),i.push(s)}else this.nullGeometryFeatures_[l]=s}this.featuresRtree_&&this.featuresRtree_.load(t,i);o=0;for(var p=r.length;o<p;o++)this.dispatchEvent(new E(v.a.ADDFEATURE,r[o]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;this.addEventListener(v.a.ADDFEATURE,(function(r){t||(t=!0,e.push(r.feature),t=!1)})),this.addEventListener(v.a.REMOVEFEATURE,(function(r){t||(t=!0,e.remove(r.feature),t=!1)})),e.addEventListener(o.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)}.bind(this)),e.addEventListener(o.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(u.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var n=new E(v.a.CLEAR);this.dispatchEvent(n),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,(function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0}))},t.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,(function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}}))},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Object(y.d)(this.nullGeometryFeatures_)||Object(s.c)(e,Object(y.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,(function(e){t.push(e)})),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray():[]},t.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=t||f.b;return this.featuresRtree_.forEachInExtent(s,(function(e){if(l(e)){var t=e.getGeometry(),u=a;if((a=t.closestPointXY(r,n,o,a))<u){i=e;var c=Math.sqrt(a);s[0]=r-c,s[1]=n-c,s[2]=r+c,s[3]=n+c}}})),i},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0!==t?t:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,r=Object(n.c)(t),i=t.getGeometry();if(i){var o=i.getExtent();r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}else r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[r]=t);var a=t.getId();if(void 0!==a){var s=a.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[r]=t;this.changed(),this.dispatchEvent(new E(v.a.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0!==t?t in this.idIndex_:Object(n.c)(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(y.d)(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,r){var n=this.loadedExtentsRtree_,i=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var s=i[e];n.forEachInExtent(s,(function(e){return Object(p.containsExtent)(e.extent,s)}))||(a.loader_.call(a,s,t,r),n.insert(s,{extent:s.slice()}),a.loading=a.loader_!==f.c)},a=this,s=0,l=i.length;s<l;++s)o(s)},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,(function(r){if(Object(p.equals)(r.extent,e))return t=r,!0})),t&&r.remove(t)},t.prototype.removeFeature=function(e){var t=Object(n.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var t=Object(n.c)(e);this.featureChangeKeys_[t].forEach(u.c),delete this.featureChangeKeys_[t];var r=e.getId();void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[t],this.dispatchEvent(new E(v.a.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(l.a)(this.format_,7),this.setLoader(Object(d.b)(e,this.format_))},t}(_.a);t.a=T},function(e,t,r){"use strict";var n,i=r(13),o=r(12),a=r(0),s=r(171),l=r(2),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t){var r=e.call(this)||this;return r.geometries_=t||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return u(t,e),t.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(i.c),this.changeEventsKeys_.length=0},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)this.changeEventsKeys_.push(Object(i.a)(this.geometries_[e],o.a.CHANGE,this.changed,this))},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,r,n){if(n<Object(a.closestSquaredDistanceXY)(this.getExtent(),e,t))return n;for(var i=this.geometries_,o=0,s=i.length;o<s;++o)n=i[o].closestPointXY(e,t,r,n);return n},t.prototype.containsXY=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)if(r[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){Object(a.createOrUpdateEmpty)(e);for(var t=this.geometries_,r=0,n=t.length;r<n;++r)Object(a.extend)(e,t[r].getExtent());return e},t.prototype.getGeometries=function(){return h(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],n=this.geometries_,i=!1,o=0,a=n.length;o<a;++o){var s=n[o],l=s.getSimplifiedGeometry(e);r.push(l),l!==s&&(i=!0)}if(i){var u=new t(null);return u.setGeometriesArray(r),u}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return l.a.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)if(t[r].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,r){var n=r;n||(n=Object(a.getCenter)(this.getExtent()));for(var i=this.geometries_,o=0,s=i.length;o<s;++o)i[o].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(h(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,r=0,n=t.length;r<n;++r)t[r].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var r=this.geometries_,n=0,i=r.length;n<i;++n)r[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(s.a);function h(e){for(var t=[],r=0,n=e.length;r<n;++r)t.push(e[r].clone());return t}t.a=c},function(e,t,r){"use strict";t.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(e,t,r){"use strict";t.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},function(e,t,r){"use strict";var n,i=r(26),o=r(104),a=r(1),s=r(76),l=r(6),u=r(91),c=r(223),h=r(23),p=r(27),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.tolerance=t,o.maxExtent=r,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return d(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatCoordinates=function(e,t,r,n,i,o){var l=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(t+=n);var c,h,p,d=e[t],f=e[t+1],g=this.tmpCoordinate_,m=!0;for(c=t+n;c<r;c+=n)g[0]=e[c],g[1]=e[c+1],(p=Object(a.coordinateRelationship)(u,g))!==h?(m&&(this.coordinates[l++]=d,this.coordinates[l++]=f),this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):p===s.a.INTERSECTING?(this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):m=!0,d=g[0],f=g[1],h=p;return(i&&m||c===t+n)&&(this.coordinates[l++]=d,this.coordinates[l++]=f),l},t.prototype.drawCustomCoordinates_=function(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatCoordinates(e,t,s,n,!1,!1);i.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,r){this.beginGeometry(e,t);var n,i,o,a,s,c=e.getType(),h=e.getStride(),d=this.coordinates.length;if(c==l.a.MULTI_POLYGON){n=(e=e).getOrientedFlatCoordinates(),a=[];var f=e.getEndss();s=0;for(var g=0,m=f.length;g<m;++g){var y=[];s=this.drawCustomCoordinates_(n,s,f[g],h,y),a.push(y)}this.instructions.push([p.c.CUSTOM,d,a,e,r,u.c])}else c==l.a.POLYGON||c==l.a.MULTI_LINE_STRING?(o=[],n=c==l.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,e.getEnds(),h,o),this.instructions.push([p.c.CUSTOM,d,o,e,r,u.b])):c==l.a.LINE_STRING||c==l.a.MULTI_POINT?(n=e.getFlatCoordinates(),i=this.appendFlatCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([p.c.CUSTOM,d,i,e,r,u.a])):c==l.a.POINT&&(n=e.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),i=this.coordinates.length,this.instructions.push([p.c.CUSTOM,d,i,e,r]));this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){var r=e.getExtent();this.beginGeometryInstruction1_=[p.c.BEGIN_GEOMETRY,t,0,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[p.c.BEGIN_GEOMETRY,t,0,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var r,n,o=t.length,a=-1;for(e=0;e<o;++e)(n=(r=t[e])[0])==p.c.END_GEOMETRY?a=e:n==p.c.BEGIN_GEOMETRY&&(r[2]=e,Object(i.k)(this.hitDetectionInstructions,a,e),a=-1)},t.prototype.setFillStrokeStyle=function(e,t){var r=this.state;if(e){var n=e.getColor();r.fillStyle=Object(o.a)(n||h.b)}else r.fillStyle=void 0;if(t){var i=t.getColor();r.strokeStyle=Object(o.a)(i||h.k);var a=t.getLineCap();r.lineCap=void 0!==a?a:h.d;var s=t.getLineDash();r.lineDash=s?s.slice():h.e;var l=t.getLineDashOffset();r.lineDashOffset=l||h.f;var u=t.getLineJoin();r.lineJoin=void 0!==u?u:h.g;var c=t.getWidth();r.lineWidth=void 0!==c?c:h.h;var p=t.getMiterLimit();r.miterLimit=void 0!==p?p:h.i,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,r=[p.c.SET_FILL_STYLE,t];return"string"!=typeof t&&r.push(!0),r},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[p.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var r=e.fillStyle;"string"==typeof r&&e.currentFillStyle==r||(void 0!==r&&this.instructions.push(t.call(this,e)),e.currentFillStyle=r)},t.prototype.updateStrokeStyle=function(e,t){var r=e.strokeStyle,n=e.lineCap,o=e.lineDash,a=e.lineDashOffset,s=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=n||o!=e.currentLineDash&&!Object(i.b)(e.currentLineDash,o)||e.currentLineDashOffset!=a||e.currentLineJoin!=s||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(void 0!==r&&t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=n,e.currentLineDash=o,e.currentLineDashOffset=a,e.currentLineJoin=s,e.currentLineWidth=l,e.currentMiterLimit=u)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[p.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(a.clone)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(a.buffer)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(c.a);t.a=f},function(e,t,r){"use strict";var n,i=r(0),o=r(20),a=r(2),s=r(73),l=r(182),u=r(97),c=r(79),h=r(81),p=r(115),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r){var n=e.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return d(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(i.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.getArea=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,o.a.XY)},t.prototype.getType=function(){return a.a.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(s.a);t.a=f},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return f}));var n=r(19),i=r(17),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"==typeof e?e:f(e)}function l(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}return""}var u,c,h=(u={},c=0,function(e){var t;if(u.hasOwnProperty(e))t=u[e];else{if(c>=1024){var r=0;for(var i in u)0==(3&r++)&&(delete u[i],--c)}t=function(e){var t,r,i,s,u;if(a.exec(e)&&(e=l(e)),o.exec(e)){var c=e.length-1,h=void 0;h=c<=4?1:2;var p=4===c||8===c;t=parseInt(e.substr(1+0*h,h),16),r=parseInt(e.substr(1+1*h,h),16),i=parseInt(e.substr(1+2*h,h),16),s=p?parseInt(e.substr(1+3*h,h),16):255,1==h&&(t=(t<<4)+t,r=(r<<4)+r,i=(i<<4)+i,p&&(s=(s<<4)+s)),u=[t,r,i,s/255]}else 0==e.indexOf("rgba(")?d(u=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((u=e.slice(4,-1).split(",").map(Number)).push(1),d(u)):Object(n.a)(!1,14);return u}(e),u[e]=t,++c}return t});function p(e){return Array.isArray(e)?e:h(e)}function d(e){return e[0]=Object(i.a)(e[0]+.5|0,0,255),e[1]=Object(i.a)(e[1]+.5|0,0,255),e[2]=Object(i.a)(e[2]+.5|0,0,255),e[3]=Object(i.a)(e[3],0,1),e}function f(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var r=e[1];r!=(0|r)&&(r=r+.5|0);var n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+r+","+n+","+(void 0===e[3]?1:e[3])+")"}},function(e,t,r){"use strict";var n,i=r(10),o=r(105),a=r(0),s=r(77),l=r(2),u=r(81),c=r(241),h=r(24),p=r(28),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.tolerance=t,o.maxExtent=r,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=n,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return d(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map((function(e){return e*t}))},t.prototype.appendFlatCoordinates=function(e,t,r,n,i,o){var l=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(t+=n);var c,h,p,d=e[t],f=e[t+1],g=this.tmpCoordinate_,m=!0;for(c=t+n;c<r;c+=n)g[0]=e[c],g[1]=e[c+1],(p=Object(a.coordinateRelationship)(u,g))!==h?(m&&(this.coordinates[l++]=d,this.coordinates[l++]=f),this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):p===s.a.INTERSECTING?(this.coordinates[l++]=g[0],this.coordinates[l++]=g[1],m=!1):m=!0,d=g[0],f=g[1],h=p;return(i&&m||c===t+n)&&(this.coordinates[l++]=d,this.coordinates[l++]=f),l},t.prototype.drawCustomCoordinates_=function(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o],l=this.appendFlatCoordinates(e,t,s,n,!1,!1);i.push(l),t=s}return t},t.prototype.drawCustom=function(e,t,r){this.beginGeometry(e,t);var n,i,o,a,s,c=e.getType(),h=e.getStride(),d=this.coordinates.length;if(c==l.a.MULTI_POLYGON){n=(e=e).getOrientedFlatCoordinates(),a=[];var f=e.getEndss();s=0;for(var g=0,m=f.length;g<m;++g){var y=[];s=this.drawCustomCoordinates_(n,s,f[g],h,y),a.push(y)}this.instructions.push([p.c.CUSTOM,d,a,e,r,u.c])}else c==l.a.POLYGON||c==l.a.MULTI_LINE_STRING?(o=[],n=c==l.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),s=this.drawCustomCoordinates_(n,0,e.getEnds(),h,o),this.instructions.push([p.c.CUSTOM,d,o,e,r,u.b])):c==l.a.LINE_STRING||c==l.a.MULTI_POINT?(n=e.getFlatCoordinates(),i=this.appendFlatCoordinates(n,0,n.length,h,!1,!1),this.instructions.push([p.c.CUSTOM,d,i,e,r,u.a])):c==l.a.POINT&&(n=e.getFlatCoordinates(),this.coordinates.push(n[0],n[1]),i=this.coordinates.length,this.instructions.push([p.c.CUSTOM,d,i,e,r]));this.endGeometry(t)},t.prototype.beginGeometry=function(e,t){var r=e.getExtent();this.beginGeometryInstruction1_=[p.c.BEGIN_GEOMETRY,t,0,r],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[p.c.BEGIN_GEOMETRY,t,0,r],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e,t=this.hitDetectionInstructions;t.reverse();var r,n,o=t.length,a=-1;for(e=0;e<o;++e)(n=(r=t[e])[0])==p.c.END_GEOMETRY?a=e:n==p.c.BEGIN_GEOMETRY&&(r[2]=e,Object(i.k)(this.hitDetectionInstructions,a,e),a=-1)},t.prototype.setFillStrokeStyle=function(e,t){var r=this.state;if(e){var n=e.getColor();r.fillStyle=Object(o.a)(n||h.b)}else r.fillStyle=void 0;if(t){var i=t.getColor();r.strokeStyle=Object(o.a)(i||h.k);var a=t.getLineCap();r.lineCap=void 0!==a?a:h.d;var s=t.getLineDash();r.lineDash=s?s.slice():h.e;var l=t.getLineDashOffset();r.lineDashOffset=l||h.f;var u=t.getLineJoin();r.lineJoin=void 0!==u?u:h.g;var c=t.getWidth();r.lineWidth=void 0!==c?c:h.h;var p=t.getMiterLimit();r.miterLimit=void 0!==p?p:h.i,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,r=[p.c.SET_FILL_STYLE,t];return"string"!=typeof t&&r.push(!0),r},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[p.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var r=e.fillStyle;"string"==typeof r&&e.currentFillStyle==r||(void 0!==r&&this.instructions.push(t.call(this,e)),e.currentFillStyle=r)},t.prototype.updateStrokeStyle=function(e,t){var r=e.strokeStyle,n=e.lineCap,o=e.lineDash,a=e.lineDashOffset,s=e.lineJoin,l=e.lineWidth,u=e.miterLimit;(e.currentStrokeStyle!=r||e.currentLineCap!=n||o!=e.currentLineDash&&!Object(i.b)(e.currentLineDash,o)||e.currentLineDashOffset!=a||e.currentLineJoin!=s||e.currentLineWidth!=l||e.currentMiterLimit!=u)&&(void 0!==r&&t.call(this,e),e.currentStrokeStyle=r,e.currentLineCap=n,e.currentLineDash=o,e.currentLineDashOffset=a,e.currentLineJoin=s,e.currentLineWidth=l,e.currentMiterLimit=u)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[p.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(a.clone)(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(a.buffer)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(c.a);t.a=f},function(e,t,r){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(21);function i(e){return void 0!==e?0:void 0}function o(e){return void 0!==e?e:void 0}function a(e){var t=2*Math.PI/e;return(function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0})}function s(e){var t=e||Object(n.i)(5);return(function(e,r){return r?e:void 0!==e?Math.abs(e)<=t?0:e:void 0})}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(17);function i(e){return void 0!==e?0:void 0}function o(e){return void 0!==e?e:void 0}function a(e){var t=2*Math.PI/e;return(function(e,r){return r?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0})}function s(e){var t=e||Object(n.i)(5);return(function(e,r){return r?e:void 0!==e?Math.abs(e)<=t?0:e:void 0})}},function(e,t,r){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(e,t,r){"use strict";var n,i=r(232),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,n,i,o)||this;return a.pointerEvent=n,a}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=function(){function e(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function i(e,t,r,i,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=r,o.maxY=i,o):new n(e,t,r,i)}t.b=n},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s}));var n=r(10),i=r(17);function o(e,t,r,o,a,s){var l=NaN,u=NaN,c=(r-t)/o;if(1===c)l=e[t],u=e[t+1];else if(2==c)l=(1-a)*e[t]+a*e[t+o],u=(1-a)*e[t+1]+a*e[t+o+1];else if(0!==c){for(var h=e[t],p=e[t+1],d=0,f=[0],g=t+o;g<r;g+=o){var m=e[g],y=e[g+1];d+=Math.sqrt((m-h)*(m-h)+(y-p)*(y-p)),f.push(d),h=m,p=y}var _=a*d,b=Object(n.a)(f,_);if(b<0){var v=(_-f[-b-2])/(f[-b-1]-f[-b-2]),w=t+(-b-2)*o;l=Object(i.c)(e[w],e[w+o],v),u=Object(i.c)(e[w+1],e[w+o+1],v)}else l=e[t+b*o],u=e[t+b*o+1]}return s?(s[0]=l,s[1]=u,s):[l,u]}function a(e,t,r,n,o,a){if(r==t)return null;var s;if(o<e[t+n-1])return a?((s=e.slice(t,t+n))[n-1]=o,s):null;if(e[r-1]<o)return a?((s=e.slice(r-n,r))[n-1]=o,s):null;if(o==e[t+n-1])return e.slice(t,t+n);for(var l=t/n,u=r/n;l<u;){var c=l+u>>1;o<e[(c+1)*n-1]?u=c:l=c+1}var h=e[l*n-1];if(o==h)return e.slice((l-1)*n,(l-1)*n+n);var p=(o-h)/(e[(l+1)*n-1]-h);s=[];for(var d=0;d<n-1;++d)s.push(Object(i.c)(e[(l-1)*n+d],e[l*n+d],p));return s.push(o),s}function s(e,t,r,n,i,o,s){if(s)return a(e,t,r[r.length-1],n,i,o);var l;if(i<e[n-1])return o?((l=e.slice(0,n))[n-1]=i,l):null;if(e[e.length-1]<i)return o?((l=e.slice(e.length-n))[n-1]=i,l):null;for(var u=0,c=r.length;u<c;++u){var h=r[u];if(t!=h){if(i<e[t+n-1])return null;if(i<=e[h-1])return a(e,t,h,n,i,!1);t=h}}return null}},function(e,t,r){"use strict";var n=r(65),i=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();t.a=i},function(e,t,r){"use strict";var n,i=r(4),o=r(114),a=r(12),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.extent=t,o.pixelRatio_=n,o.resolution=r,o.state=i,o}return s(t,e),t.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(i.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(i.b)()},t}(o.a);t.a=l},function(e,t,r){"use strict";var n,i=r(146),o=r(31),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t,r,n,i,a){var s=this,l=void 0!==a?o.a.IDLE:o.a.LOADED;return(s=e.call(this,t,r,n,l)||this).loader_=void 0!==a?a:null,s.canvas_=i,s.error_=null,s}return a(t,e),t.prototype.getError=function(){return this.error_},t.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=o.a.ERROR):this.state=o.a.LOADED,this.changed()},t.prototype.load=function(){this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},t.prototype.getImage=function(){return this.canvas_},t}(i.a);t.a=s},function(e,t,r){"use strict";var n,i=r(93),o=r(22),a=r(119),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l="renderOrder",u=function(e){function t(t){var r=this,n=t||{},i=Object(o.a)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(r=e.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,r.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(n.style),r.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,r.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,r}return s(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(l)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.setRenderOrder=function(e){this.set(l,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:a.a,this.styleFunction_=null===e?void 0:Object(a.c)(this.style_),this.changed()},t}(i.a);t.a=u},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return f}));var n=r(25),i=r(21),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,a=/^([a-z]*)$|^hsla?\(.*\)$/i;function s(e){return"string"==typeof e?e:f(e)}function l(e){var t=document.createElement("div");if(t.style.color=e,""!==t.style.color){document.body.appendChild(t);var r=getComputedStyle(t).color;return document.body.removeChild(t),r}return""}var u,c,h=(u={},c=0,function(e){var t;if(u.hasOwnProperty(e))t=u[e];else{if(c>=1024){var r=0;for(var i in u)0==(3&r++)&&(delete u[i],--c)}t=function(e){var t,r,i,s,u;if(a.exec(e)&&(e=l(e)),o.exec(e)){var c=e.length-1,h=void 0;h=c<=4?1:2;var p=4===c||8===c;t=parseInt(e.substr(1+0*h,h),16),r=parseInt(e.substr(1+1*h,h),16),i=parseInt(e.substr(1+2*h,h),16),s=p?parseInt(e.substr(1+3*h,h),16):255,1==h&&(t=(t<<4)+t,r=(r<<4)+r,i=(i<<4)+i,p&&(s=(s<<4)+s)),u=[t,r,i,s/255]}else 0==e.indexOf("rgba(")?d(u=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((u=e.slice(4,-1).split(",").map(Number)).push(1),d(u)):Object(n.a)(!1,14);return u}(e),u[e]=t,++c}return t});function p(e){return Array.isArray(e)?e:h(e)}function d(e){return e[0]=Object(i.a)(e[0]+.5|0,0,255),e[1]=Object(i.a)(e[1]+.5|0,0,255),e[2]=Object(i.a)(e[2]+.5|0,0,255),e[3]=Object(i.a)(e[3],0,1),e}function f(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var r=e[1];r!=(0|r)&&(r=r+.5|0);var n=e[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+t+","+r+","+n+","+(void 0===e[3]?1:e[3])+")"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u}));var n=r(1),i=r(120),o=r(231);function a(e,t,r,i,a){var s=Object(n.extendFlatCoordinates)(Object(n.createEmpty)(),e,t,r,i);return!!Object(n.intersects)(a,s)&&(!!Object(n.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(o.a)(e,t,r,i,(function(e,t){return Object(n.intersectsSegment)(a,e,t)})))))}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){if(a(e,t,r[o],n,i))return!0;t=r[o]}return!1}function l(e,t,r,n,o){if(!function(e,t,r,n,o){return!!a(e,t,r,n,o)||(!!Object(i.b)(e,t,r,n,o[0],o[1])||(!!Object(i.b)(e,t,r,n,o[0],o[3])||(!!Object(i.b)(e,t,r,n,o[2],o[1])||!!Object(i.b)(e,t,r,n,o[2],o[3]))))}(e,t,r[0],n,o))return!1;if(1===r.length)return!0;for(var s=1,l=r.length;s<l;++s)if(Object(i.a)(e,r[s-1],r[s],n,o)&&!a(e,r[s-1],r[s],n,o))return!1;return!0}function u(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(l(e,t,s,n,i))return!0;t=s[s.length-1]}return!1}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return u}));var n=r(0),i=r(121),o=r(234);function a(e,t,r,i,a){var s=Object(n.extendFlatCoordinates)(Object(n.createEmpty)(),e,t,r,i);return!!Object(n.intersects)(a,s)&&(!!Object(n.containsExtent)(a,s)||(s[0]>=a[0]&&s[2]<=a[2]||(s[1]>=a[1]&&s[3]<=a[3]||Object(o.a)(e,t,r,i,(function(e,t){return Object(n.intersectsSegment)(a,e,t)})))))}function s(e,t,r,n,i){for(var o=0,s=r.length;o<s;++o){if(a(e,t,r[o],n,i))return!0;t=r[o]}return!1}function l(e,t,r,n,o){if(!function(e,t,r,n,o){return!!a(e,t,r,n,o)||(!!Object(i.b)(e,t,r,n,o[0],o[1])||(!!Object(i.b)(e,t,r,n,o[0],o[3])||(!!Object(i.b)(e,t,r,n,o[2],o[1])||!!Object(i.b)(e,t,r,n,o[2],o[3]))))}(e,t,r[0],n,o))return!1;if(1===r.length)return!0;for(var s=1,l=r.length;s<l;++s)if(Object(i.a)(e,r[s-1],r[s],n,o)&&!a(e,r[s-1],r[s],n,o))return!1;return!0}function u(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o){var s=r[o];if(l(e,t,s,n,i))return!0;t=s[s.length-1]}return!1}},function(e,t,r){"use strict";var n=r(95),i=r(236),o=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new n.a({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:i.a.POINT,this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}();t.a=o},function(e,t,r){"use strict";var n,i=r(94),o=r(8),a=r(67),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l="renderOrder",u=function(e){function t(t){var r=this,n=t||{},i=Object(o.a)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(r=e.call(this,i)||this).declutter_=void 0!==n.declutter&&n.declutter,r.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(n.style),r.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,r.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,r}return s(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(l)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.setRenderOrder=function(e){this.set(l,e)},t.prototype.setStyle=function(e){this.style_=void 0!==e?e:a.a,this.styleFunction_=null===e?void 0:Object(a.d)(this.style_),this.changed()},t}(i.a);t.a=u},function(e,t,r){"use strict";var n,i=r(51),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.map=r,i.frameState=void 0!==n?n:null,i}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(19),i={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},o={};o[i.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},o[i.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},o[i.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},o.none={none:{supports:[],formats:[],qualities:[]}};var a=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),s=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),l=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");var u={};u[i.VERSION1]=function(e){var t=e.getComplianceLevelSupportedFeatures();return void 0===t&&(t=o[i.VERSION1].level0),{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:t.supports,formats:t.formats.concat([void 0===e.imageInfo.formats?[]:e.imageInfo.formats]),qualities:t.qualities.concat([void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities]),resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:null!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}},u[i.VERSION2]=function(e){var t=e.getComplianceLevelSupportedFeatures(),r=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,n=r&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],i=r&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],o=r&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return void 0===e.height?e.width:e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:t.supports.concat(n),formats:t.formats.concat(i),qualities:t.qualities.concat(o)}},u[i.VERSION3]=function(e){var t=e.getComplianceLevelSupportedFeatures(),r=void 0===e.imageInfo.extraFormats?t.formats:t.formats.concat(e.imageInfo.extraFormats),n=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter((function(e){return["jpg","png","gif"].includes(e)})).reduce((function(e,t){return void 0===e&&r.includes(t)?t:e}),void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:void 0===e.imageInfo.extraFeatures?t.supports:t.supports.concat(e.imageInfo.extraFeatures),formats:r,qualities:void 0===e.imageInfo.extraQualities?t.qualities:t.qualities.concat(e.imageInfo.extraQualities),preferredFormat:n}};var c=function(){function e(e){this.setImageInfo(e)}return e.prototype.setImageInfo=function(e){this.imageInfo="string"==typeof e?JSON.parse(e):e},e.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var e=this.imageInfo["@context"]||"ol-no-context";"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return i.VERSION1;case"http://iiif.io/api/image/2/context.json":return i.VERSION2;case"http://iiif.io/api/image/3/context.json":return i.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(i.VERSION1)&&this.imageInfo.identifier)return i.VERSION1}Object(n.a)(!1,61)}},e.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case i.VERSION1:if(a.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION3:if(l.test(this.imageInfo.profile))return this.imageInfo.profile;break;case i.VERSION2:if("string"==typeof this.imageInfo.profile&&s.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&s.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},e.prototype.getComplianceLevelFromProfile=function(e){var t=this.getComplianceLevelEntryFromProfile(e);if(void 0!==t){var r=t.match(/level[0-2](\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},e.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(e);return void 0===t?o.none.none:o[e][t]}},e.prototype.getTileSourceOptions=function(e){var t=e||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:u[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==t.format&&n.formats.includes(t.format)?t.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:t.quality&&n.qualities.includes(t.quality)?t.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(e,t){return t-e})):void 0,tileSize:n.tileSize}}},e}();t.b=c},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return h}));var n=r(197),i=r(32),o=r(183),a=r(75),s=r(2),l=r(0),u=r(10);function c(e,t,r,c,h,p,d){var f=e[0]/2,g=e[1]/2,m=Object(i.a)(f,g);m.imageSmoothingEnabled=!1;for(var y=m.canvas,_=new n.a(m,.5,h,null,d),b=r.length,v=Math.ceil(16777216/b),w={},O=0;O<b;++O){var E=r[O],T=E.getStyleFunction()||c;if(c){var S=T(E,p);Array.isArray(S)||(S=[S]);for(var C="#"+("000000"+(O*v).toString(16)).slice(-6),x=0,k=S.length;x<k;++x){var R=S[x],P=R.clone(),I=P.getFill();I&&I.setColor(C);var j=P.getStroke();j&&j.setColor(C),P.setText(void 0);var L=R.getImage();if(L){var A=L.getImageSize(),F=document.createElement("canvas");F.width=A[0],F.height=A[1];var M=F.getContext("2d",{alpha:!1});M.fillStyle=C;var N=M.canvas;M.fillRect(0,0,N.width,N.height);var D=A?A[0]:N.width,G=A?A[1]:N.height;Object(i.a)(D,G).drawImage(N,0,0),P.setImage(new o.a({img:N,imgSize:A,anchor:L.getAnchor(),anchorXUnits:a.a.PIXELS,anchorYUnits:a.a.PIXELS,offset:L.getOrigin(),size:L.getSize(),opacity:L.getOpacity(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var U=Number(P.getZIndex());(W=w[U])||(W={},w[U]=W,W[s.a.POLYGON]=[],W[s.a.CIRCLE]=[],W[s.a.LINE_STRING]=[],W[s.a.POINT]=[]);var z=P.getGeometryFunction()(E);z&&Object(l.intersects)(h,z.getExtent())&&W[z.getType().replace("Multi","")].push(z,P)}}}for(var B=Object.keys(w).map(Number).sort(u.i),V=(O=0,B.length);O<V;++O){var W=w[B[O]];for(var K in W){var H=W[K];for(x=0,k=H.length;x<k;x+=2){_.setStyle(H[x+1]);for(var Y=0,X=t.length;Y<X;++Y)_.setTransform(t[Y]),_.drawGeometry(H[x])}}}return m.getImageData(0,0,y.width,y.height)}function h(e,t,r){var n=[];if(r){var i=4*(Math.round(e[0]/2)+Math.round(e[1]/2)*r.width),o=r.data[i],a=r.data[i+1],s=r.data[i+2]+256*(a+256*o),l=Math.ceil(16777216/t.length);s%l==0&&n.push(t[s/l])}return n}},function(e,t,r){"use strict";var n,i=r(193),o=r(29),a=r(5),s=r(30),l=r(25),u=r(149),c=r(11),h="fraction",p="pixels",d=r(110),f=r(185),g=r(112),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y=function(e){function t(t,r,n,i,o,a){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=r,s.tainted_,s}return m(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.a.LOADED){this.tainted_=!1;var e=Object(o.a)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(e){this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(c.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=s.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=s.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],n=Object(o.a)(t,r);n.fillRect(0,0,t,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==s.a.IDLE){this.imageState_=s.a.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Object(g.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),r=t.data,n=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=r.length;a<s;a+=4)r[a]*=n,r[a+1]*=i,r[a+2]*=o;e.putImageData(t,0,0)}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(d.a);var _="bottom-left",b="bottom-right",v="top-left",w="top-right",O=r(220),E=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),T=function(e){function t(t){var r=this,n=t||{},i=void 0!==n.opacity?n.opacity:1,o=void 0!==n.rotation?n.rotation:0,c=void 0!==n.scale?n.scale:1,p=void 0!==n.rotateWithView&&n.rotateWithView;(r=e.call(this,{opacity:i,rotation:o,scale:c,rotateWithView:p})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:v,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:h,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:h,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var d=void 0!==n.img?n.img:null,g=void 0!==n.imgSize?n.imgSize:null,m=n.src;Object(l.a)(!(void 0!==m&&d),4),Object(l.a)(!d||d&&g,5),void 0!==m&&0!==m.length||!d||(m=d.src||Object(a.c)(d)),Object(l.a)(void 0!==m&&m.length>0,6);var _=void 0!==n.src?s.a.IDLE:s.a.LOADED;return r.color_=void 0!==n.color?Object(u.a)(n.color):null,r.iconImage_=function(e,t,r,n,i,o){var a=f.a.get(t,n,o);return a||(a=new y(e,t,r,n,i,o),f.a.set(t,n,o,a)),a}(d,m,g,r.crossOrigin_,_,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:v,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return E(t,e),t.prototype.clone=function(){return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==h||this.anchorYUnits_==h){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==h&&(e[0]*=t[0]),this.anchorYUnits_==h&&(e[1]*=t[1])}if(this.anchorOrigin_!=v){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=w&&this.anchorOrigin_!=b||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=_&&this.anchorOrigin_!=b||(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=v){var t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),this.offsetOrigin_!=w&&this.offsetOrigin_!=b||(e[0]=r[0]-t[0]-e[0]),this.offsetOrigin_!=_&&this.offsetOrigin_!=b||(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(c.a.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(c.a.CHANGE,e)},t}(O.a),S=r(6),C=r(1),x=r(26);function k(e,t,r,n,a,s,l){var u=e[0]/2,c=e[1]/2,h=Object(o.a)(u,c);h.imageSmoothingEnabled=!1;for(var d=h.canvas,f=new i.a(h,.5,a,null,l),g=r.length,m=Math.ceil(16777216/g),y={},_=0;_<g;++_){var b=r[_],v=b.getStyleFunction()||n;if(n){var w=v(b,s);Array.isArray(w)||(w=[w]);for(var O="#"+("000000"+(_*m).toString(16)).slice(-6),E=0,k=w.length;E<k;++E){var R=w[E],P=R.clone(),I=P.getFill();I&&I.setColor(O);var j=P.getStroke();j&&j.setColor(O),P.setText(void 0);var L=R.getImage();if(L){var A=L.getImageSize(),F=document.createElement("canvas");F.width=A[0],F.height=A[1];var M=F.getContext("2d",{alpha:!1});M.fillStyle=O;var N=M.canvas;M.fillRect(0,0,N.width,N.height);var D=A?A[0]:N.width,G=A?A[1]:N.height;Object(o.a)(D,G).drawImage(N,0,0),P.setImage(new T({img:N,imgSize:A,anchor:L.getAnchor(),anchorXUnits:p,anchorYUnits:p,offset:L.getOrigin(),size:L.getSize(),opacity:L.getOpacity(),scale:L.getScale(),rotation:L.getRotation(),rotateWithView:L.getRotateWithView()}))}var U=Number(P.getZIndex());(W=y[U])||(W={},y[U]=W,W[S.a.POLYGON]=[],W[S.a.CIRCLE]=[],W[S.a.LINE_STRING]=[],W[S.a.POINT]=[]);var z=P.getGeometryFunction()(b);z&&Object(C.intersects)(a,z.getExtent())&&W[z.getType().replace("Multi","")].push(z,P)}}}for(var B=Object.keys(y).map(Number).sort(x.i),V=(_=0,B.length);_<V;++_){var W=y[B[_]];for(var K in W){var H=W[K];for(E=0,k=H.length;E<k;E+=2){f.setStyle(H[E+1]);for(var Y=0,X=t.length;Y<X;++Y)f.setTransform(t[Y]),f.drawGeometry(H[E])}}}return h.getImageData(0,0,d.width,d.height)}function R(e,t,r){var n=[];if(r){var i=4*(Math.round(e[0]/2)+Math.round(e[1]/2)*r.width),o=r.data[i],a=r.data[i+1],s=r.data[i+2]+256*(a+256*o),l=Math.ceil(16777216/t.length);s%l==0&&n.push(t[s/l])}return n}r.d(t,"a",(function(){return k})),r.d(t,"b",(function(){return R}))},function(e,t,r){"use strict";function n(e,t,r,n){for(;t<r-n;){for(var i=0;i<n;++i){var o=e[t+i];e[t+i]=e[r-n+i],e[r-n+i]=o}t+=n,r-=n}}function i(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=(s-o)*(l+a),o=s,a=l}return i>0}function o(e,t,r,n,o){for(var a=void 0!==o&&o,s=0,l=r.length;s<l;++s){var u=r[s],c=i(e,t,u,n);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;t=u}return!0}function a(e,t,r,n,i){for(var a=0,s=r.length;a<s;++a){var l=r[a];if(!o(e,t,l,n,i))return!1;l.length&&(t=l[l.length-1])}return!0}function s(e,t,r,o,a){for(var s=void 0!==a&&a,l=0,u=r.length;l<u;++l){var c=r[l],h=i(e,t,c,o);(0===l?s&&h||!s&&!h:s&&!h||!s&&h)&&n(e,t,c,o),t=c}return t}function l(e,t,r,n,i){for(var o=0,a=r.length;o<a;++o)t=s(e,t,r[o],n,i);return t}r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"d",(function(){return l}))},function(e,t,r){"use strict";function n(e,t,r){var n=void 0!==r?e.toFixed(r):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>t?n:new Array(1+t-i).join("0")+n}function i(e,t){for(var r=(""+e).split("."),n=(""+t).split("."),i=0;i<Math.max(r.length,n.length);i++){var o=parseInt(r[i]||"0",10),a=parseInt(n[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";var n=r(5),i=r(222),o=r.n(i),a=r(1),s=r(22),l=function(){function e(e){this.rbush_=new o.a(e),this.items_={}}return e.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Object(n.c)(t)]=r},e.prototype.load=function(e,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=l,this.items_[Object(n.c)(s)]=l}this.rbush_.load(r)},e.prototype.remove=function(e){var t=Object(n.c)(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)},e.prototype.update=function(e,t){var r=this.items_[Object(n.c)(t)],i=[r.minX,r.minY,r.maxX,r.maxY];Object(a.equals)(i,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var r,n=0,i=e.length;n<i;n++)if(r=t(e[n]))return r;return r},e.prototype.isEmpty=function(){return Object(s.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(a.createOrUpdate)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}();t.a=l},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(10),i=r(121);function o(e,t,r,o,a,s,l){for(var u,c,h,p,d,f,g,m=a[s+1],y=[],_=0,b=r.length;_<b;++_){var v=r[_];for(p=e[v-o],f=e[v-o+1],u=t;u<v;u+=o)d=e[u],g=e[u+1],(m<=f&&g<=m||f<=m&&m<=g)&&(h=(m-f)/(g-f)*(d-p)+p,y.push(h)),p=d,f=g}var w=NaN,O=-1/0;for(y.sort(n.i),p=y[0],u=1,c=y.length;u<c;++u){d=y[u];var E=Math.abs(d-p);E>O&&(h=(p+d)/2,Object(i.c)(e,t,r,o,h,m)&&(w=h,O=E)),p=d}return isNaN(w)&&(w=a[s]),l?(l.push(w,m,O),l):[w,m,O]}function a(e,t,r,n,i){for(var a=[],s=0,l=r.length;s<l;++s){var u=r[s];a=o(e,t,u,n,i,2*s,a),t=u[u.length-1]}return a}},function(e,t,r){"use strict";var n=r(4),i=r(238),o=r.n(i),a=r(0),s=r(8),l=function(){function e(e){this.rbush_=new o.a(e),this.items_={}}return e.prototype.insert=function(e,t){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(r),this.items_[Object(n.c)(t)]=r},e.prototype.load=function(e,t){for(var r=new Array(t.length),i=0,o=t.length;i<o;i++){var a=e[i],s=t[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=l,this.items_[Object(n.c)(s)]=l}this.rbush_.load(r)},e.prototype.remove=function(e){var t=Object(n.c)(e),r=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(r)},e.prototype.update=function(e,t){var r=this.items_[Object(n.c)(t)],i=[r.minX,r.minY,r.maxX,r.maxY];Object(a.equals)(i,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){return this.rbush_.all().map((function(e){return e.value}))},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map((function(e){return e.value}))},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var r,n=0,i=e.length;n<i;n++)if(r=t(e[n]))return r;return r},e.prototype.isEmpty=function(){return Object(s.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(a.createOrUpdate)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}();t.a=l},function(e,t,r){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=function(){function e(e,t,r,n){this.minX=e,this.maxX=t,this.minY=r,this.maxY=n}return e.prototype.contains=function(e){return this.containsXY(e[1],e[2])},e.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},e.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},e.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},e.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},e.prototype.getHeight=function(){return this.maxY-this.minY+1},e.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},e.prototype.getWidth=function(){return this.maxX-this.minX+1},e.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},e}();function i(e,t,r,i,o){return void 0!==o?(o.minX=e,o.maxX=t,o.minY=r,o.maxY=i,o):new n(e,t,r,i)}t.b=n},function(e,t,r){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(e,t,r){"use strict";var n=r(5),i=r(104),o=r(1);function a(e,t,r,n,i){var o,a,s,l,u,c,h,p,d,f=r,g=r,m=0,y=0,_=r;for(o=r;o<n;o+=i){var b=t[o],v=t[o+1];void 0!==l&&(p=b-l,d=v-u,s=Math.sqrt(p*p+d*d),void 0!==c&&(y+=a,Math.acos((c*p+h*d)/(a*s))>e&&(y>m&&(m=y,f=_,g=o),y=0,_=o-i)),a=s,c=p,h=d),l=b,u=v}return(y+=s)>m?[_,o]:[f,g]}var s=r(6),l=r(23),u=r(27),c=r(133),h="line";r.d(t,"a",(function(){return f}));var p,d=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",l.o.prune(),o}return d(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var r=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(r||n)){var c,p,d=this.coordinates.length,f=e.getType(),g=null,m=2,y=2;if(i.placement===h){if(!Object(o.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;var _=void 0;if(g=e.getFlatCoordinates(),y=e.getStride(),f==s.a.LINE_STRING)_=[g.length];else if(f==s.a.MULTI_LINE_STRING)_=e.getEnds();else if(f==s.a.POLYGON)_=e.getEnds().slice(0,1);else if(f==s.a.MULTI_POLYGON){var b=e.getEndss();for(_=[],c=0,p=b.length;c<p;++c)_.push(b[c][0])}this.beginGeometry(e,t);for(var v=i.textAlign,w=0,O=void 0,E=0,T=_.length;E<T;++E){if(null==v){var S=a(i.maxAngle,g,w,_[E],y);w=S[0],O=S[1]}else O=_[E];for(c=w;c<O;c+=y)this.coordinates.push(g[c],g[c+1]);m=this.coordinates.length,w=_[E];var C=this.declutterGroups_?0===E?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(d,m,C),d=m}this.endGeometry(t)}else{var x=null;switch(i.overflow||(x=[]),f){case s.a.POINT:case s.a.MULTI_POINT:m=(g=e.getFlatCoordinates()).length;break;case s.a.LINE_STRING:g=e.getFlatMidpoint();break;case s.a.CIRCLE:g=e.getCenter();break;case s.a.MULTI_LINE_STRING:m=(g=e.getFlatMidpoints()).length;break;case s.a.POLYGON:g=e.getFlatInteriorPoint(),i.overflow||x.push(g[2]/this.resolution),y=3;break;case s.a.MULTI_POLYGON:var k=e.getFlatInteriorPoints();for(g=[],c=0,p=k.length;c<p;c+=3)i.overflow||x.push(k[c+2]/this.resolution),g.push(k[c],k[c+1]);if(0==(m=g.length))return}m=this.appendFlatCoordinates(g,0,m,y,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var R=this.pixelRatio;this.instructions.push([u.c.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==l.j?l.j:i.padding.map((function(e){return e*R})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.hitDetectionInstructions.push([u.c.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||l.l,textBaseline:t.textBaseline||l.m,scale:t.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},t.prototype.drawChars_=function(e,t,r){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=f[i.textBaseline],h=this.textOffsetY_*l,p=this.text_,d=i.scale,g=n?n.lineWidth*d/2:0;this.instructions.push([u.c.DRAW_CHARS,e,t,c,r,i.overflow,s,i.maxAngle,l,h,o,g*l,p,a,1]),this.hitDetectionInstructions.push([u.c.DRAW_CHARS,e,t,c,r,i.overflow,s,i.maxAngle,1,h,o,g,p,a,1/l])},t.prototype.setTextStyle=function(e,t){var r,o,a;if(e){this.declutterGroups_=t;var s=e.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=Object(i.a)(s.getColor()||l.b)):(o=null,this.textFillState_=o);var u=e.getStroke();if(u){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var c=u.getLineDash(),h=u.getLineDashOffset(),p=u.getWidth(),d=u.getMiterLimit();a.lineCap=u.getLineCap()||l.d,a.lineDash=c?c.slice():l.e,a.lineDashOffset=void 0===h?l.f:h,a.lineJoin=u.getLineJoin()||l.g,a.lineWidth=void 0===p?l.h:p,a.miterLimit=void 0===d?l.i:d,a.strokeStyle=Object(i.a)(u.getColor()||l.k)}else a=null,this.textStrokeState_=a;r=this.textState_;var f=e.getFont()||l.c;Object(l.a)(f);var g=e.getScale();r.overflow=e.getOverflow(),r.font=f,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.textBaseline=e.getTextBaseline()||l.m,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||l.j,r.scale=void 0===g?1:g;var m=e.getOffsetX(),y=e.getOffsetY(),_=e.getRotateWithView(),b=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===b?0:b,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:Object(n.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+Object(n.c)(o.fillStyle):""}else this.text_=""},t}(c.a);t.b=g},function(e,t,r){"use strict";var n=r(4),i=r(105),o=r(0);function a(e,t,r,n,i){var o,a,s,l,u,c,h,p,d,f=r,g=r,m=0,y=0,_=r;for(o=r;o<n;o+=i){var b=t[o],v=t[o+1];void 0!==l&&(p=b-l,d=v-u,s=Math.sqrt(p*p+d*d),void 0!==c&&(y+=a,Math.acos((c*p+h*d)/(a*s))>e&&(y>m&&(m=y,f=_,g=o),y=0,_=o-i)),a=s,c=p,h=d),l=b,u=v}return(y+=s)>m?[_,o]:[f,g]}var s=r(2),l=r(24),u=r(28),c=r(136),h=r(236);r.d(t,"a",(function(){return f}));var p,d=(p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},g=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.declutterGroups_,o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",l.o.prune(),o}return d(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var r=this.textFillState_,n=this.textStrokeState_,i=this.textState_;if(""!==this.text_&&i&&(r||n)){var c,p,d=this.coordinates.length,f=e.getType(),g=null,m=2,y=2;if(i.placement===h.a.LINE){if(!Object(o.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;var _=void 0;if(g=e.getFlatCoordinates(),y=e.getStride(),f==s.a.LINE_STRING)_=[g.length];else if(f==s.a.MULTI_LINE_STRING)_=e.getEnds();else if(f==s.a.POLYGON)_=e.getEnds().slice(0,1);else if(f==s.a.MULTI_POLYGON){var b=e.getEndss();for(_=[],c=0,p=b.length;c<p;++c)_.push(b[c][0])}this.beginGeometry(e,t);for(var v=i.textAlign,w=0,O=void 0,E=0,T=_.length;E<T;++E){if(null==v){var S=a(i.maxAngle,g,w,_[E],y);w=S[0],O=S[1]}else O=_[E];for(c=w;c<O;c+=y)this.coordinates.push(g[c],g[c+1]);m=this.coordinates.length,w=_[E];var C=this.declutterGroups_?0===E?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(d,m,C),d=m}this.endGeometry(t)}else{var x=null;switch(i.overflow||(x=[]),f){case s.a.POINT:case s.a.MULTI_POINT:m=(g=e.getFlatCoordinates()).length;break;case s.a.LINE_STRING:g=e.getFlatMidpoint();break;case s.a.CIRCLE:g=e.getCenter();break;case s.a.MULTI_LINE_STRING:m=(g=e.getFlatMidpoints()).length;break;case s.a.POLYGON:g=e.getFlatInteriorPoint(),i.overflow||x.push(g[2]/this.resolution),y=3;break;case s.a.MULTI_POLYGON:var k=e.getFlatInteriorPoints();for(g=[],c=0,p=k.length;c<p;c+=3)i.overflow||x.push(k[c+2]/this.resolution),g.push(k[c],k[c+1]);if(0==(m=g.length))return}m=this.appendFlatCoordinates(g,0,m,y,!1,!1),this.saveTextStates_(),(i.backgroundFill||i.backgroundStroke)&&(this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke),i.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),i.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,t);var R=this.pixelRatio;this.instructions.push([u.c.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,i.padding==l.j?l.j:i.padding.map((function(e){return e*R})),!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.hitDetectionInstructions.push([u.c.DRAW_IMAGE,d,m,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,i.padding,!!i.backgroundFill,!!i.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,x]),this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,r=this.textFillState_,n=this.strokeKey_;e&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:t.font,textAlign:t.textAlign||l.l,textBaseline:t.textBaseline||l.m,scale:t.scale});var o=this.fillKey_;r&&(o in this.fillStates||(this.fillStates[o]={fillStyle:r.fillStyle}))},t.prototype.drawChars_=function(e,t,r){var n=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,c=f[i.textBaseline],h=this.textOffsetY_*l,p=this.text_,d=i.scale,g=n?n.lineWidth*d/2:0;this.instructions.push([u.c.DRAW_CHARS,e,t,c,r,i.overflow,s,i.maxAngle,l,h,o,g*l,p,a,1]),this.hitDetectionInstructions.push([u.c.DRAW_CHARS,e,t,c,r,i.overflow,s,i.maxAngle,1,h,o,g,p,a,1/l])},t.prototype.setTextStyle=function(e,t){var r,o,a;if(e){this.declutterGroups_=t;var s=e.getFill();s?((o=this.textFillState_)||(o={},this.textFillState_=o),o.fillStyle=Object(i.a)(s.getColor()||l.b)):(o=null,this.textFillState_=o);var u=e.getStroke();if(u){(a=this.textStrokeState_)||(a={},this.textStrokeState_=a);var c=u.getLineDash(),h=u.getLineDashOffset(),p=u.getWidth(),d=u.getMiterLimit();a.lineCap=u.getLineCap()||l.d,a.lineDash=c?c.slice():l.e,a.lineDashOffset=void 0===h?l.f:h,a.lineJoin=u.getLineJoin()||l.g,a.lineWidth=void 0===p?l.h:p,a.miterLimit=void 0===d?l.i:d,a.strokeStyle=Object(i.a)(u.getColor()||l.k)}else a=null,this.textStrokeState_=a;r=this.textState_;var f=e.getFont()||l.c;Object(l.a)(f);var g=e.getScale();r.overflow=e.getOverflow(),r.font=f,r.maxAngle=e.getMaxAngle(),r.placement=e.getPlacement(),r.textAlign=e.getTextAlign(),r.textBaseline=e.getTextBaseline()||l.m,r.backgroundFill=e.getBackgroundFill(),r.backgroundStroke=e.getBackgroundStroke(),r.padding=e.getPadding()||l.j,r.scale=void 0===g?1:g;var m=e.getOffsetX(),y=e.getOffsetY(),_=e.getRotateWithView(),b=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===y?0:y,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===b?0:b,this.strokeKey_=a?("string"==typeof a.strokeStyle?a.strokeStyle:Object(n.c)(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=r.font+r.scale+(r.textAlign||"?"),this.fillKey_=o?"string"==typeof o.fillStyle?o.fillStyle:"|"+Object(n.c)(o.fillStyle):""}else this.text_=""},t}(c.a);t.b=g},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */Object.defineProperty(t,"__esModule",{value:!0});t.cssConstants={OPEN:"c4g-open",CLOSE:"c4g-close",CLOSEABLE:"c4g-closeable",ENABLED:"c4g-enabled",DISABLED:"c4g-disabled",HIDE:"c4g-hide",ICON:"c4g-icon",CONTROL:"c4g-control",COPY:"c4g-copy",REFRESH:"c4g-refresh",ACTIVE:"c4g-active",INACTIVE:"c4g-inactive",LOADING:"c4g-loading",ANIMATION_SPIN:"c4g-animation-spin",LARGE:"c4g-large",SMALL:"c4g-small",HORIZONTAL:"c4g-horizontal",VERTICAL:"c4g-vertical",ATTRIBUTION_LOGO:"c4g-attribution-logo",CONTROL_CONTAINER_TL:"c4g-control-container-top-left",CONTROL_CONTAINER_TR:"c4g-control-container-top-right",CONTROL_CONTAINER_BL:"c4g-control-container-bottom-left",CONTROL_CONTAINER_BL_SUB:"c4g-control-container-bottom-left-sub",CONTROL_CONTAINER_BR:"c4g-control-container-bottom-right",GEOSEARCH:"c4g-geosearch",GEOSEARCH_WRAPPER:"c4g-geosearch-wrapper",GEOSEARCH_TRIGGER:"c4g-geosearch-trigger",GEOSEARCH_START:"c4g-geosearch-start",GRATICULE:"c4g-graticule",MEASURETOOLS_VIEW_TRIGGER_SELECT:"c4g-measuretools-view-trigger-select",MEASURETOOLS_VIEW_TRIGGER_DRAW_LINESTRING:"c4g-measuretools-view-trigger-draw-line",MEASURETOOLS_VIEW_TRIGGER_DRAW_POLYGON:"c4g-measuretools-view-trigger-draw-polygon",MEASURETOOLS_VIEW_TRIGGER_DRAW_CIRCLE:"c4g-measuretools-view-trigger-draw-circle",MEASURETOOLS_VIEW_TRIGGER_DRAW_FREEHAND:"c4g-measuretools-view-trigger-draw-freehand",PRINT:"c4g-print",INFOPAGE_VIEW_TRIGGER:"c4g-infopage-view-trigger",INFOPAGE:"c4g-infopage",ADDITIONALPANEL_VIEW_TRIGGER:"c4g-additionalpanel-view-trigger",ADDITIONALPANEL:"c4g-additionalpanel",ACCOUNT_VIEW_TRIGGER:"c4g-account-view-trigger",ACCOUNT:"c4g-account",OVERVIEWMAP:"c4g-overviewmap",OVERVIEWMAP_WRAPPER:"c4g-overviewmap-wrapper",GEOBOOKMARKS:"c4g-geobookmarks",PERMALINK:"c4g-permalink",PERMALINK_POPUP:"c4g-permalink-popup",POPUP_CLOSE:"c4g-popup-close",POPUP_ROUTE_WRAPPER:"c4g-popup-route-wrapper",POPUP_ROUTE_FROM:"c4g-popup-route-from",POPUP_ROUTE_TO:"c4g-popup-route-to",PORTSIDE:"c4g-portside",PORTSIDE_CONTAINER:"c4g-portside-container",PORTSIDE_CONTROL:"c4g-portside-control",PORTSIDE_WRAPPER:"c4g-portside-wrapper",PORTSIDE_TITLEBAR:"c4g-portside-titlebar",PORTSIDE_TOP_TOOLBAR:"c4g-portside-top-toolbar",PORTSIDE_CONTENT_CONTAINER:"c4g-portside-content-container",PORTSIDE_BOTTOM_TOOLBAR:"c4g-portside-bottom-toolbar",PORTSIDE_STATUSBAR:"c4g-portside-statusbar",PORTSIDE_VIEWTRIGGERBAR:"c4g-portside-viewtriggerbar",PORTSIDE_HEADLINE:"c4g-portside-headline",PORTSIDE_BUTTONBAR:"c4g-portside-buttonbar",PORTSIDE_BUTTON:"c4g-portside-button",PORTSIDE_HIDE:"c4g-portside-hide",PORTSIDE_CLOSE:"c4g-portside-close",SPINNER:"c4g-spinner",STARBOARD:"c4g-starboard",STARBOARD_CONTAINER:"c4g-starboard-container",STARBOARD_CONTROL:"c4g-starboard-control",STARBOARD_WRAPPER:"c4g-starboard-wrapper",STARBOARD_TITLEBAR:"c4g-starboard-titlebar",STARBOARD_CONTENT_CONTAINER:"c4g-starboard-content-container",STARBOARD_BOTTOM_TOOLBAR:"c4g-starboard-bottom-toolbar",STARBOARD_STATUSBAR:"c4g-starboard-statusbar",STARBOARD_VIEWTRIGGERBAR:"c4g-starboard-viewtriggerbar",STARBOARD_HEADLINE:"c4g-starboard-headline",STARBOARD_BUTTONBAR:"c4g-starboard-buttonbar",STARBOARD_BUTTON:"c4g-starboard-button",STARBOARD_VIEW_TRIGGER_BASELAYERSWITCHER:"c4g-starboard-view-trigger-baselayerswitcher",STARBOARD_VIEW_TRIGGER_LAYERSWITCHER:"c4g-starboard-view-trigger-layerswitcher",STARBOARD_CLOSE:"c4g-starboard-close",STARBOARD_CONTENT_BASELAYERSWITCHER:"c4g-content-baselayerswitcher",STARBOARD_BASELAYERTREE:"c4g-baselayertree",STARBOARD_LAYERTREE:"c4g-layertree",STARBOARD_CONTENT_LAYERSWITCHER:"c4g-content-layerswitcher",TOOLTIP_POPUP:"c4g-tooltip-popup",ZOOM_LEVEL:"c4g-zoom-level",OL_CONTROL:"ol-control",OL_UNSELECTABLE:"ol-unselectable",OL_OVERLAYCONTAINER:"ol-overlaycontainer",OL_OVERLAYCONTAINER_SE:"ol-overlaycontainer-stopevent",OL_VIEWPORT:"ol-viewport",OL_ZOOM:"ol-zoom",OL_ZOOM_IN:"ol-zoom-in",OL_ZOOM_EXT:"ol-zoom-extent",OL_ZOOM_HOME:"ol-zoom-home",OL_ZOOM_POS:"ol-zoom-position",OL_ZOOM_WITH_EXT:"ol-zoom-with-extent",OL_ZOOM_WITH_HOME:"ol-zoom-with-home",OL_ZOOM_WITH_POS:"ol-zoom-with-position",OL_ZOOM_SLIDER:"ol-zoom-slider",OL_ZOOM_WITH_SLIDER:"ol-zoom-with-slider",NONE:""}},function(e,t,r){"use strict";var n,i=r(4),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+t+" for details.";return(r=e.call(this,n)||this).code=t,r.name="AssertionError",r.message=n,r}return o(t,e),t}(Error);t.a=a},function(e,t,r){"use strict";var n,i=r(13),o=r(114),a=r(12),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(){var t=e.call(this)||this;return t.revision_=0,t}return s(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.a)(this,e[o],t);return n}return Object(i.a)(this,e,t)},t.prototype.once=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.b)(this,e[o],t);return n}return Object(i.b)(this,e,t)},t.prototype.un=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)},t}(o.a);t.a=l},function(e,t,r){"use strict";var n,i=r(4),o=r(38),a=r(0),s=r(74),l=r(3),u=r(65),c=r(14),h=r(35),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=Object(c.c)(),f=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(a.createEmpty)(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Object(h.d)((function(e,t,r){if(!r)return this.getSimplifiedGeometry(t);var n=this.clone();return n.applyTransform(r),n.getSimplifiedGeometry(t)})),t}return p(t,e),t.prototype.simplifyTransformed=function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)},t.prototype.clone=function(){return Object(i.b)()},t.prototype.closestPointXY=function(e,t,r,n){return Object(i.b)()},t.prototype.containsXY=function(e,t){var r=this.getClosestPoint([e,t]);return r[0]===e&&r[1]===t},t.prototype.getClosestPoint=function(e,t){var r=t||[NaN,NaN];return this.closestPointXY(e[0],e[1],r,1/0),r},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return Object(i.b)()},t.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(a.returnOrUpdate)(this.extent_,e)},t.prototype.rotate=function(e,t){Object(i.b)()},t.prototype.scale=function(e,t,r){Object(i.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return Object(i.b)()},t.prototype.getType=function(){return Object(i.b)()},t.prototype.applyTransform=function(e){Object(i.b)()},t.prototype.intersectsExtent=function(e){return Object(i.b)()},t.prototype.translate=function(e,t){Object(i.b)()},t.prototype.transform=function(e,t){var r=Object(l.get)(e),n=r.getUnits()==u.b.TILE_PIXELS?function(e,n,i){var o=r.getExtent(),u=r.getWorldExtent(),h=Object(a.getHeight)(u)/Object(a.getHeight)(o);return Object(c.b)(d,u[0],u[3],h,-h,0,0,0),Object(s.c)(e,0,e.length,i,d,n),Object(l.getTransform)(r,t)(e,n,i)}:Object(l.getTransform)(r,t);return this.applyTransform(n),this},t}(o.a);t.a=f},function(e,t,r){"use strict";var n=r(4),i=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale}return e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getAnchor=function(){return Object(n.b)()},e.prototype.getImage=function(e){return Object(n.b)()},e.prototype.getHitDetectionImage=function(e){return Object(n.b)()},e.prototype.getImageState=function(){return Object(n.b)()},e.prototype.getImageSize=function(){return Object(n.b)()},e.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},e.prototype.getOrigin=function(){return Object(n.b)()},e.prototype.getSize=function(){return Object(n.b)()},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.listenImageChange=function(e){Object(n.b)()},e.prototype.load=function(){Object(n.b)()},e.prototype.unlistenImageChange=function(e){Object(n.b)()},e}();t.a=i},function(e,t,r){"use strict";var n,i=r(101),o=r(16),a=r(32),s=r(100),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.crossOrigin_=i,s.src_=n,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return l(t,e),t.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.image_},t.prototype.getKey=function(){return this.src_},t.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(s.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(i.a);function c(){var e=Object(a.a)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}t.a=u},function(e,t,r){"use strict";var n,i=r(154),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,o)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return o(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(i.a);t.a=a},function(e,t,r){"use strict";var n,i=r(16),o=r(12),a=r(198),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r){var n=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=r,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return s(t,e),t.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);r&&t[0].addEventListener(o.a.CHANGE,this.boundHandleTileChange_);return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,r=t.getState();if(t.hifi&&r===i.a.LOADED||r===i.a.ERROR||r===i.a.EMPTY||r===i.a.ABORT){t.removeEventListener(o.a.CHANGE,this.boundHandleTileChange_);var n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var r,n,o,a=0,s=!1;this.tilesLoading_<e&&a<t&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),(r=n.getState())===i.a.ABORT?s=!0:r!==i.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,n.load());0===a&&s&&this.tileChangeCallback_()},t}(a.b);t.a=l},function(e,t,r){"use strict";var n,i=r(235),o=r(54),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().dispose()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=Object(o.b)(e)[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Object(o.c)(e.tileCoord)),e.dispose())}.bind(this))}},t}(i.a);t.a=s},function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_RADIUS",(function(){return o})),r.d(t,"getDistance",(function(){return a})),r.d(t,"getLength",(function(){return l})),r.d(t,"getArea",(function(){return c})),r.d(t,"offset",(function(){return h}));var n=r(21),i=r(6),o=6371008.8;function a(e,t,r){var i=r||o,a=Object(n.i)(e[1]),s=Object(n.i)(t[1]),l=(s-a)/2,u=Object(n.i)(t[0]-e[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(a)*Math.cos(s);return 2*i*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(e,t){for(var r=0,n=0,i=e.length;n<i-1;++n)r+=a(e[n],e[n+1],t);return r}function l(e,t){var r=t||{},n=r.radius||o,a=r.projection||"EPSG:3857",u=e.getType();u!==i.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(a,"EPSG:4326"));var c,h,p,d,f,g,m=0;switch(u){case i.a.POINT:case i.a.MULTI_POINT:break;case i.a.LINE_STRING:case i.a.LINEAR_RING:m=s(c=e.getCoordinates(),n);break;case i.a.MULTI_LINE_STRING:case i.a.POLYGON:for(p=0,d=(c=e.getCoordinates()).length;p<d;++p)m+=s(c[p],n);break;case i.a.MULTI_POLYGON:for(p=0,d=(c=e.getCoordinates()).length;p<d;++p)for(f=0,g=(h=c[p]).length;f<g;++f)m+=s(h[f],n);break;case i.a.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)m+=l(y[p],t);break;default:throw new Error("Unsupported geometry type: "+u)}return m}function u(e,t){for(var r=0,i=e.length,o=e[i-1][0],a=e[i-1][1],s=0;s<i;s++){var l=e[s][0],u=e[s][1];r+=Object(n.i)(l-o)*(2+Math.sin(Object(n.i)(a))+Math.sin(Object(n.i)(u))),o=l,a=u}return r*t*t/2}function c(e,t){var r=t||{},n=r.radius||o,a=r.projection||"EPSG:3857",s=e.getType();s!==i.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(a,"EPSG:4326"));var l,h,p,d,f,g,m=0;switch(s){case i.a.POINT:case i.a.MULTI_POINT:case i.a.LINE_STRING:case i.a.MULTI_LINE_STRING:case i.a.LINEAR_RING:break;case i.a.POLYGON:for(l=e.getCoordinates(),m=Math.abs(u(l[0],n)),p=1,d=l.length;p<d;++p)m-=Math.abs(u(l[p],n));break;case i.a.MULTI_POLYGON:for(p=0,d=(l=e.getCoordinates()).length;p<d;++p)for(h=l[p],m+=Math.abs(u(h[0],n)),f=1,g=h.length;f<g;++f)m-=Math.abs(u(h[f],n));break;case i.a.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,d=y.length;p<d;++p)m+=c(y[p],t);break;default:throw new Error("Unsupported geometry type: "+s)}return m}function h(e,t,r,i){var a=i||o,s=Object(n.i)(e[1]),l=Object(n.i)(e[0]),u=t/a,c=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(r)),h=l+Math.atan2(Math.sin(r)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(c));return[Object(n.h)(h),Object(n.h)(c)]}},function(e,t,r){"use strict";var n,i=r(5),o=r(110),a=r(11),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.extent=t,o.pixelRatio_=n,o.resolution=r,o.state=i,o}return s(t,e),t.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(i.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(i.b)()},t}(o.a);t.a=l},function(e,t,r){"use strict";var n,i=r(1),o=r(29),a=r(225),s=r(131),l=r(23),u=r(218),c=r(18),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform_=Object(c.c)(),r.pixelTransform=Object(c.c)(),r.inversePixelTransform=Object(c.c)(),r.context=null,r.containerReused=!1,r.createTransformStringCanvas_=Object(o.a)(1,1).canvas,r}return h(t,e),t.prototype.useContainer=function(e,t,r){var n,i,a=this.getLayer().getClassName();e&&""===e.style.opacity&&e.className===a&&((l=e.firstElementChild)instanceof HTMLCanvasElement&&(i=l.getContext("2d")));if(i&&i.canvas.style.transform===t?(this.container=e,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=a;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var l=(i=Object(o.a)()).canvas;n.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=i}},t.prototype.clip=function(e,t,r){var n=t.pixelRatio,o=t.size[0]*n/2,a=t.size[1]*n/2,s=t.viewState.rotation,u=Object(i.getTopLeft)(r),h=Object(i.getTopRight)(r),p=Object(i.getBottomRight)(r),d=Object(i.getBottomLeft)(r);Object(c.a)(t.coordinateToPixelTransform,u),Object(c.a)(t.coordinateToPixelTransform,h),Object(c.a)(t.coordinateToPixelTransform,p),Object(c.a)(t.coordinateToPixelTransform,d),e.save(),Object(l.s)(e,-s,o,a),e.beginPath(),e.moveTo(u[0]*n,u[1]*n),e.lineTo(h[0]*n,h[1]*n),e.lineTo(p[0]*n,p[1]*n),e.lineTo(d[0]*n,d[1]*n),e.clip(),Object(l.s)(e,s,o,a)},t.prototype.clipUnrotated=function(e,t,r){var n=Object(i.getTopLeft)(r),o=Object(i.getTopRight)(r),a=Object(i.getBottomRight)(r),s=Object(i.getBottomLeft)(r);Object(c.a)(t.coordinateToPixelTransform,n),Object(c.a)(t.coordinateToPixelTransform,o),Object(c.a)(t.coordinateToPixelTransform,a),Object(c.a)(t.coordinateToPixelTransform,s);var l=this.inversePixelTransform;Object(c.a)(l,n),Object(c.a)(l,o),Object(c.a)(l,a),Object(c.a)(l,s),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,r){var n=this.getLayer();if(n.hasListener(e)){var i=new a.a(e,this.inversePixelTransform,r,t);n.dispatchEvent(i)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(s.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(s.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,r,n,i,o,a){var s=i/2,l=o/2,u=n/t,h=-u,p=-e[0]+a,d=-e[1];return Object(c.b)(this.tempTransform_,s,l,u,h,-r,p,d)},t.prototype.getDataAtPixel=function(e,t,r){var n,i=Object(c.a)(this.inversePixelTransform,e.slice()),o=this.context;try{n=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(e){return"SecurityError"===e.name?new Uint8Array:n}return 0===n[3]?null:n},t.prototype.createTransformString=function(e){return this.createTransformStringCanvas_.style.transform=Object(c.k)(e),this.createTransformStringCanvas_.style.transform},t}(u.a);t.a=p},function(e,t,r){"use strict";var n,i=r(178),o=r(30),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t,r,n,i,a){var s=this,l=void 0!==a?o.a.IDLE:o.a.LOADED;return(s=e.call(this,t,r,n,l)||this).loader_=void 0!==a?a:null,s.canvas_=i,s.error_=null,s}return a(t,e),t.prototype.getError=function(){return this.error_},t.prototype.handleLoad_=function(e){e?(this.error_=e,this.state=o.a.ERROR):this.state=o.a.LOADED,this.changed()},t.prototype.load=function(){this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},t.prototype.getImage=function(){return this.canvas_},t}(i.a);t.a=s},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=a*s-o*l,o=s,a=l}return i/2}function i(e,t,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=n(e,t,l,i),t=l}return o}function o(e,t,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(e,t,l,n),t=l[l.length-1]}return o}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=0,o=e[r-n],a=e[r-n+1];t<r;t+=n){var s=e[t],l=e[t+1];i+=a*s-o*l,o=s,a=l}return i/2}function i(e,t,r,i){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=n(e,t,l,i),t=l}return o}function o(e,t,r,n){for(var o=0,a=0,s=r.length;a<s;++a){var l=r[a];o+=i(e,t,l,n),t=l[l.length-1]}return o}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return o}))},function(e,t,r){"use strict";var n,i=r(4),o=r(31),a=r(19),s=r(135),l=r(12),u=r(75),c=r(205),h=r(70),p=r(172),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t){var r=this,n=t||{},l=void 0!==n.opacity?n.opacity:1,p=void 0!==n.rotation?n.rotation:0,d=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;(r=e.call(this,{opacity:l,rotation:p,scale:d,rotateWithView:f})||this).anchor_=void 0!==n.anchor?n.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:h.a.TOP_LEFT,r.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:u.a.FRACTION,r.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:u.a.FRACTION,r.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var g=void 0!==n.img?n.img:null,m=void 0!==n.imgSize?n.imgSize:null,y=n.src;Object(a.a)(!(void 0!==y&&g),4),Object(a.a)(!g||g&&m,5),void 0!==y&&0!==y.length||!g||(y=g.src||Object(i.c)(g)),Object(a.a)(void 0!==y&&y.length>0,6);var _=void 0!==n.src?o.a.IDLE:o.a.LOADED;return r.color_=void 0!==n.color?Object(s.a)(n.color):null,r.iconImage_=Object(c.b)(g,y,m,r.crossOrigin_,_,r.color_),r.offset_=void 0!==n.offset?n.offset:[0,0],r.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:h.a.TOP_LEFT,r.origin_=null,r.size_=void 0!==n.size?n.size:null,r}return d(t,e),t.prototype.clone=function(){return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==u.a.FRACTION||this.anchorYUnits_==u.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==u.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==u.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=h.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),this.anchorOrigin_!=h.a.TOP_RIGHT&&this.anchorOrigin_!=h.a.BOTTOM_RIGHT||(e[0]=-e[0]+t[0]),this.anchorOrigin_!=h.a.BOTTOM_LEFT&&this.anchorOrigin_!=h.a.BOTTOM_RIGHT||(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=h.a.TOP_LEFT){var t=this.getSize(),r=this.iconImage_.getSize();if(!t||!r)return null;e=e.slice(),this.offsetOrigin_!=h.a.TOP_RIGHT&&this.offsetOrigin_!=h.a.BOTTOM_RIGHT||(e[0]=r[0]-t[0]-e[0]),this.offsetOrigin_!=h.a.BOTTOM_LEFT&&this.offsetOrigin_!=h.a.BOTTOM_RIGHT||(e[1]=r[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(l.a.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(l.a.CHANGE,e)},t}(p.a);t.a=f},function(e,t,r){"use strict";var n,i=r(0),o=r(32),a=r(242),s=r(132),l=r(24),u=r(243),c=r(14),h=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),p=function(e){function t(t){var r=e.call(this,t)||this;return r.container=null,r.renderedResolution,r.tempTransform_=Object(c.c)(),r.pixelTransform=Object(c.c)(),r.inversePixelTransform=Object(c.c)(),r.context=null,r.containerReused=!1,r.createTransformStringCanvas_=Object(o.a)(1,1).canvas,r}return h(t,e),t.prototype.useContainer=function(e,t,r){var n,i,a=this.getLayer().getClassName();e&&""===e.style.opacity&&e.className===a&&((l=e.firstElementChild)instanceof HTMLCanvasElement&&(i=l.getContext("2d")));if(i&&i.canvas.style.transform===t?(this.container=e,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(n=document.createElement("div")).className=a;var s=n.style;s.position="absolute",s.width="100%",s.height="100%";var l=(i=Object(o.a)()).canvas;n.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=n,this.context=i}},t.prototype.clip=function(e,t,r){var n=t.pixelRatio,o=t.size[0]*n/2,a=t.size[1]*n/2,s=t.viewState.rotation,u=Object(i.getTopLeft)(r),h=Object(i.getTopRight)(r),p=Object(i.getBottomRight)(r),d=Object(i.getBottomLeft)(r);Object(c.a)(t.coordinateToPixelTransform,u),Object(c.a)(t.coordinateToPixelTransform,h),Object(c.a)(t.coordinateToPixelTransform,p),Object(c.a)(t.coordinateToPixelTransform,d),e.save(),Object(l.s)(e,-s,o,a),e.beginPath(),e.moveTo(u[0]*n,u[1]*n),e.lineTo(h[0]*n,h[1]*n),e.lineTo(p[0]*n,p[1]*n),e.lineTo(d[0]*n,d[1]*n),e.clip(),Object(l.s)(e,s,o,a)},t.prototype.clipUnrotated=function(e,t,r){var n=Object(i.getTopLeft)(r),o=Object(i.getTopRight)(r),a=Object(i.getBottomRight)(r),s=Object(i.getBottomLeft)(r);Object(c.a)(t.coordinateToPixelTransform,n),Object(c.a)(t.coordinateToPixelTransform,o),Object(c.a)(t.coordinateToPixelTransform,a),Object(c.a)(t.coordinateToPixelTransform,s);var l=this.inversePixelTransform;Object(c.a)(l,n),Object(c.a)(l,o),Object(c.a)(l,a),Object(c.a)(l,s),e.save(),e.beginPath(),e.moveTo(Math.round(n[0]),Math.round(n[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,r){var n=this.getLayer();if(n.hasListener(e)){var i=new a.a(e,this.inversePixelTransform,r,t);n.dispatchEvent(i)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(s.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(s.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,r,n,i,o,a){var s=i/2,l=o/2,u=n/t,h=-u,p=-e[0]+a,d=-e[1];return Object(c.b)(this.tempTransform_,s,l,u,h,-r,p,d)},t.prototype.getDataAtPixel=function(e,t,r){var n,i=Object(c.a)(this.inversePixelTransform,e.slice()),o=this.context;try{n=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(e){return"SecurityError"===e.name?new Uint8Array:n}return 0===n[3]?null:n},t.prototype.createTransformString=function(e){return this.createTransformStringCanvas_.style.transform=Object(c.k)(e),this.createTransformStringCanvas_.style.transform},t}(u.a);t.a=p},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(149),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];0!=(3&e++)||r.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,r){var n=o(e,t,r);return n in this.cache_?this.cache_[n]:null},e.prototype.set=function(e,t,r,n){var i=o(e,t,r);this.cache_[i]=n,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function o(e,t,r){return t+":"+e+":"+(r?Object(n.b)(r):"null")}var a=new i},function(e,t,r){"use strict";var n,i=r(50),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.map=r,i.frameState=void 0!==n?n:null,i}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(135),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var r=this.cache_[t];0!=(3&e++)||r.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,r){var n=o(e,t,r);return n in this.cache_?this.cache_[n]:null},e.prototype.set=function(e,t,r,n){var i=o(e,t,r);this.cache_[i]=n,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}();function o(e,t,r){return t+":"+e+":"+(r?Object(n.b)(r):"null")}var a=new i},function(e,t,r){"use strict";var n=r(26),i=r(29),o=r(1),a=r(82),s=r(22),l=r(43),u=r(18),c=r(224),h=r(21);function p(e,t,r,n,i,o,a,s,l,u,c){for(var p,d,f=[],g=e[t]>e[r-n],m=i.length,y=e[t],_=e[t+1],b=e[t+=n],v=e[t+1],w=0,O=Math.sqrt(Math.pow(b-y,2)+Math.pow(v-_,2)),E=!1,T=0;T<m;++T){for(var S=i[p=g?m-T-1:T],C=s*l(u,S,c),x=o+C/2;t<r-n&&w+O<x;)y=b,_=v,b=e[t+=n],v=e[t+1],w+=O,O=Math.sqrt(Math.pow(b-y,2)+Math.pow(v-_,2));var k=x-w,R=Math.atan2(v-_,b-y);if(g&&(R+=R>0?-Math.PI:Math.PI),void 0!==d){var P=R-d;if(E=E||0!==P,P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>a)return null}d=R;var I=k/O,j=Object(h.c)(y,b,I),L=Object(h.c)(_,v,I);f[p]=[j,L,C/2,R,S],o+=C}return E?f:[[f[0][0],f[0][1],f[0][2],f[0][3],i]]}var d,f=r(23),g=r(27),m=r(166),y=r(111),_=r(222),b=r.n(_),v=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=Object(o.createEmpty)(),O=Object(u.c)(),E=[],T=[],S=[],C=[],x=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.overlaps=n,o.pixelRatio=r,o.resolution=t,o.alignFill_,o.declutterItems=[],o.instructions=i.instructions,o.coordinates=i.coordinates,o.coordinateCache_={},o.renderedTransform_=Object(u.c)(),o.hitDetectionInstructions=i.hitDetectionInstructions,o.pixelCoordinates_=null,o.viewRotation_=0,o.fillStates=i.fillStates||{},o.strokeStates=i.strokeStates||{},o.textStates=i.textStates||{},o.widths_={},o}return v(t,e),t.prototype.disposeInternal=function(){f.o.release(this),e.prototype.disposeInternal.call(this)},t.prototype.getTextImage=function(e,t,r,n){var o,a=n+t+e+r+this.pixelRatio;if(!f.o.containsKey(a)){var s=n?this.strokeStates[n]:null,l=r?this.fillStates[r]:null,u=this.textStates[t],c=this.pixelRatio,h=u.scale*c,p=m.a[u.textAlign||f.l],d=n&&s.lineWidth?s.lineWidth:0,g=e.split("\n"),y=g.length,_=[],b=Object(f.r)(u.font,g,_),v=Object(f.q)(u.font),w=v*y,O=b+d,E=Object(i.a)(Math.ceil((O+2)*h),Math.ceil((w+d)*h));o=E.canvas,f.o.set(a,o),1!=h&&E.scale(h,h),E.font=u.font,n&&(E.strokeStyle=s.strokeStyle,E.lineWidth=d,E.lineCap=s.lineCap,E.lineJoin=s.lineJoin,E.miterLimit=s.miterLimit,E.setLineDash&&s.lineDash.length&&(E.setLineDash(s.lineDash),E.lineDashOffset=s.lineDashOffset)),r&&(E.fillStyle=l.fillStyle),E.textBaseline="middle",E.textAlign="center";var T=.5-p,S=p*O+T*d,C=void 0;if(n)for(C=0;C<y;++C)E.strokeText(g[C],S+T*_[C],.5*(d+v)+C*v);if(r)for(C=0;C<y;++C)E.fillText(g[C],S+T*_[C],.5*(d+v)+C*v)}return f.o.get(a,this)},t.prototype.replayTextBackground_=function(e,t,r,n,i,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},t.prototype.replayImage_=function(e,t,r,n,i,a,s,l,c,h,p,d,g,m,y,_,b,v){var x=b||v;t-=i*=g,r-=a*=g;var k=y+h>n.width?n.width-h:y,R=l+p>n.height?n.height-p:l,P=_[3]+k*g+_[1],I=_[0]+R*g+_[2],j=t-_[3],L=r-_[0];(x||0!==d)&&(E[0]=j,C[0]=j,E[1]=L,T[1]=L,T[0]=j+P,S[0]=T[0],S[1]=L+I,C[1]=S[1]);var A=null;if(0!==d){var F=t+i,M=r+a;A=Object(u.b)(O,F,M,1,1,d,-F,-M),Object(u.a)(O,E),Object(u.a)(O,T),Object(u.a)(O,S),Object(u.a)(O,C),Object(o.createOrUpdate)(Math.min(E[0],T[0],S[0],C[0]),Math.min(E[1],T[1],S[1],C[1]),Math.max(E[0],T[0],S[0],C[0]),Math.max(E[1],T[1],S[1],C[1]),w)}else Object(o.createOrUpdate)(j,L,j+P,L+I,w);var N=e.canvas,D=v?v[2]*g/2:0,G=w[0]-D<=N.width&&w[2]+D>=0&&w[1]-D<=N.height&&w[3]+D>=0;if(m&&(t=Math.round(t),r=Math.round(r)),s){if(!G&&1==s[4])return;Object(o.extend)(s,w);var U=G?[e,A?A.slice(0):null,c,n,h,p,k,R,t,r,g]:null;U&&(x&&U.push(b,v,E,T,S,C),s.push(U))}else G&&(x&&this.replayTextBackground_(e,E,T,S,C,b,v),Object(f.n)(e,A,c,n,h,p,k,R,t,r,g))},t.prototype.fill_=function(e){if(this.alignFill_){var t=Object(u.a)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},t.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},t.prototype.renderDeclutter=function(e,t,r,n){if(e&&e.length>5){var i=e[4];if(1==i||i==e.length-5){var a={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(n||(n=new b.a(9)),!n.collides(a)){n.insert(a);for(var s=5,l=e.length;s<l;++s){var u=e[s],c=u[0],h=c.globalAlpha;h!==r&&(c.globalAlpha=r),u.length>11&&this.replayTextBackground_(u[0],u[13],u[14],u[15],u[16],u[11],u[12]),f.n.apply(void 0,u),h!==r&&(c.globalAlpha=h)}}e.length=5,Object(o.createOrUpdateEmpty)(e)}}return n},t.prototype.drawTextImageWithPointPlacement_=function(e,t,r,n){var i=this.textStates[t],o=this.getTextImage(e,t,n,r),a=this.strokeStates[r],s=this.pixelRatio,l=m.a[i.textAlign||f.l],u=m.a[i.textBaseline||f.m],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale)+2*(.5-l)*c,anchorY:u*o.height/s+2*(.5-u)*c}},t.prototype.execute_=function(e,t,r,i,s,l){var h;this.declutterItems.length=0,this.pixelCoordinates_&&Object(n.b)(t,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(a.c)(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),Object(u.j)(this.renderedTransform_,t));for(var d,y,_,b,v,w,O,E,T,S,C,x,k,R,P,I,j,L=0,A=r.length,F=0,M=0,N=0,D=null,G=null,U=this.coordinateCache_,z=this.viewRotation_,B=Math.round(1e12*Math.atan2(-t[1],t[0]))/1e12,V={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},W=this.instructions!=r||this.overlaps?0:200;L<A;){var K=r[L];switch(K[0]){case g.c.BEGIN_GEOMETRY:(P=K[1]).getGeometry()?void 0===l||Object(o.intersects)(l,K[3])?++L:L=K[2]+1:L=K[2];break;case g.c.BEGIN_PATH:M>W&&(this.fill_(e),M=0),N>W&&(e.stroke(),N=0),M||N||(e.beginPath(),b=NaN,v=NaN),++L;break;case g.c.CIRCLE:var H=h[F=K[1]],Y=h[F+1],X=h[F+2]-H,Z=h[F+3]-Y,q=Math.sqrt(X*X+Z*Z);e.moveTo(H+q,Y),e.arc(H,Y,q,0,2*Math.PI,!0),++L;break;case g.c.CLOSE_PATH:e.closePath(),++L;break;case g.c.CUSTOM:F=K[1],d=K[2];var Q=K[3],$=K[4],J=6==K.length?K[5]:void 0;V.geometry=Q,V.feature=P,L in U||(U[L]=[]);var ee=U[L];J?J(h,F,d,2,ee):(ee[0]=h[F],ee[1]=h[F+1],ee.length=2),$(ee,V),++L;break;case g.c.DRAW_IMAGE:F=K[1],d=K[2],S=K[3],y=K[4],_=K[5],T=s?null:K[6];var te=K[7],re=K[8],ne=K[9],ie=K[10],oe=K[11],ae=K[12],se=K[13],le=K[14];if(!S&&K.length>=19){C=K[18],x=K[19],k=K[20],R=K[21];var ue=this.drawTextImageWithPointPlacement_(C,x,k,R);S=ue.label,K[3]=S;var ce=K[22];y=(ue.anchorX-ce)*this.pixelRatio,K[4]=y;var he=K[23];_=(ue.anchorY-he)*this.pixelRatio,K[5]=_,te=S.height,K[7]=te,le=S.width,K[14]=le}var pe=void 0;K.length>24&&(pe=K[24]);var de=void 0,fe=void 0,ge=void 0;K.length>16?(de=K[15],fe=K[16],ge=K[17]):(de=f.j,fe=!1,ge=!1),oe&&B?ae+=z:oe||B||(ae-=z);for(var me=0,ye=0;F<d;F+=2)if(!(pe&&pe[me++]<le/this.pixelRatio)){if(T){var _e=Math.floor(ye);T.length<_e+1&&((E=Object(o.createEmpty)()).push(T[0][4]),T.push(E)),E=T[_e]}this.replayImage_(e,h[F],h[F+1],S,y,_,E,te,re,ne,ie,ae,se,i,le,de,fe?D:null,ge?G:null),E&&(ye===Math.floor(ye)&&this.declutterItems.push(this,E,P),ye+=1/E[4])}++L;break;case g.c.DRAW_CHARS:var be=K[1],ve=K[2],we=K[3];E=s?null:K[4];var Oe=K[5];R=K[6];var Ee=K[7],Te=K[8],Se=K[9];k=K[10];var Ce=K[11];C=K[12],x=K[13];var xe=K[14],ke=this.textStates[x],Re=ke.font,Pe=ke.scale*Te,Ie=void 0;Re in this.widths_?Ie=this.widths_[Re]:(Ie={},this.widths_[Re]=Ie);var je=Object(c.a)(h,be,ve,2),Le=Pe*Object(f.p)(Re,C,Ie);if(Oe||Le<=je){var Ae=this.textStates[x].textAlign,Fe=p(h,be,ve,2,C,(je-Le)*m.a[Ae],Ee,Pe,f.p,Re,Ie);if(Fe){var Me=void 0,Ne=void 0,De=void 0,Ge=void 0,Ue=void 0;if(k)for(Me=0,Ne=Fe.length;Me<Ne;++Me)De=(Ue=Fe[Me])[4],Ge=this.getTextImage(De,x,"",k),y=Ue[2]+Ce,_=we*Ge.height+2*(.5-we)*Ce-Se,this.replayImage_(e,Ue[0],Ue[1],Ge,y,_,E,Ge.height,1,0,0,Ue[3],xe,!1,Ge.width,f.j,null,null);if(R)for(Me=0,Ne=Fe.length;Me<Ne;++Me)De=(Ue=Fe[Me])[4],Ge=this.getTextImage(De,x,R,""),y=Ue[2],_=we*Ge.height-Se,this.replayImage_(e,Ue[0],Ue[1],Ge,y,_,E,Ge.height,1,0,0,Ue[3],xe,!1,Ge.width,f.j,null,null)}}this.declutterItems.push(this,E,P),++L;break;case g.c.END_GEOMETRY:if(void 0!==s){var ze=s(P=K[1]);if(ze)return ze}++L;break;case g.c.FILL:W?M++:this.fill_(e),++L;break;case g.c.MOVE_TO_LINE_TO:for(F=K[1],d=K[2],I=h[F],O=(j=h[F+1])+.5|0,(w=I+.5|0)===b&&O===v||(e.moveTo(I,j),b=w,v=O),F+=2;F<d;F+=2)w=(I=h[F])+.5|0,O=(j=h[F+1])+.5|0,F!=d-2&&w===b&&O===v||(e.lineTo(I,j),b=w,v=O);++L;break;case g.c.SET_FILL_STYLE:D=K,this.alignFill_=K[2],M&&(this.fill_(e),M=0,N&&(e.stroke(),N=0)),e.fillStyle=K[1],++L;break;case g.c.SET_STROKE_STYLE:G=K,N&&(e.stroke(),N=0),this.setStrokeStyle_(e,K),++L;break;case g.c.STROKE:W?N++:e.stroke(),++L;break;default:++L}}M&&this.fill_(e),N&&e.stroke()},t.prototype.execute=function(e,t,r,n){this.viewRotation_=r,this.execute_(e,t,this.instructions,n,void 0,void 0)},t.prototype.executeHitDetection=function(e,t,r,n,i){return this.viewRotation_=r,this.execute_(e,t,this.hitDetectionInstructions,!0,n,i)},t}(y.a);r.d(t,"b",(function(){return L}));var k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT,l.a.DEFAULT],P=function(e){function t(t,r,n,i,o,a){var s=e.call(this)||this;return s.maxExtent_=t,s.overlaps_=i,s.pixelRatio_=n,s.resolution_=r,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=Object(u.c)(),s.createExecutors_(o),s}return k(t,e),t.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},t.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var n=e[t];for(var i in n){var o=n[i];r[i]=new x(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.disposeInternal=function(){for(var t in this.executorsByZIndex_){var r=this.executorsByZIndex_[t];for(var n in r)r[n].disposeInternal()}if(this.hitDetectionContext_){var i=this.hitDetectionContext_.canvas;i.width=0,i.height=0}e.prototype.disposeInternal.call(this)},t.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],n=0,i=e.length;n<i;++n)if(e[n]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,a,s,c){var h=2*(a=Math.round(a))+1,p=Object(u.b)(this.hitDetectionTransform_,a+.5,a+.5,1/t,-1/t,-r,-e[0],-e[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(i.a)(h,h));var d,f=this.hitDetectionContext_;f.canvas.width!==h||f.canvas.height!==h?(f.canvas.width=h,f.canvas.height=h):f.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(d=Object(o.createEmpty)(),Object(o.extendCoordinate)(d,e),Object(o.buffer)(d,t*(this.renderBuffer_+a),d));var g,m=function(e){if(void 0!==I[e])return I[e];for(var t=2*e+1,r=new Array(t),n=0;n<t;n++)r[n]=new Array(t);var i=e,o=0,a=0;for(;i>=o;)j(r,e+i,e+o),j(r,e+o,e+i),j(r,e-o,e+i),j(r,e-i,e+o),j(r,e-i,e-o),j(r,e-o,e-i),j(r,e+o,e-i),j(r,e+i,e-o),o++,2*((a+=1+2*o)-i)+1>0&&(a+=1-2*(i-=1));return I[e]=r,r}(a);function y(e){for(var t=f.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var n=0;n<h;n++)if(m[r][n]&&t[4*(n*h+r)+3]>0){var i=void 0;return(!c||g!=l.a.IMAGE&&g!=l.a.TEXT||-1!==c.indexOf(e))&&(i=s(e)),i||void f.clearRect(0,0,h,h)}}var _,b,v,w,O,E=Object.keys(this.executorsByZIndex_).map(Number);for(E.sort(n.i),_=E.length-1;_>=0;--_){var T=E[_].toString();for(v=this.executorsByZIndex_[T],b=R.length-1;b>=0;--b)if(void 0!==(w=v[g=R[b]])&&(O=w.executeHitDetection(f,p,r,y,d)))return O}},t.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],n=t[1],i=t[2],o=t[3],s=[r,n,r,o,i,o,i,n];return Object(a.c)(s,0,8,2,e,s),s},t.prototype.isEmpty=function(){return Object(s.d)(this.executorsByZIndex_)},t.prototype.execute=function(e,t,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(n.i),this.maxExtent_&&(e.save(),this.clip(e,t));var u,c,h,p,d,f,g=o||R;for(u=0,c=s.length;u<c;++u){var m=s[u].toString();for(d=this.executorsByZIndex_[m],h=0,p=g.length;h<p;++h){var y=g[h];if(void 0!==(f=d[y]))if(!a||y!=l.a.IMAGE&&y!=l.a.TEXT)f.execute(e,t,r,i);else{var _=a[m];_?_.push(f,t.slice(0)):a[m]=[f,t.slice(0)]}}}this.maxExtent_&&e.restore()},t}(y.a),I={0:[[!0]]};function j(e,t,r){var n,i=Math.floor(e.length/2);if(t>=i)for(n=i;n<t;n++)e[n][r]=!0;else if(t<i)for(n=t+1;n<i;n++)e[n][r]=!0}function L(e,t,r,i,o,a){for(var s=Object.keys(e).map(Number).sort(n.i),l=0,u=s.length;l<u;++l)for(var c=e[s[l].toString()],h=void 0,p=0,d=c.length;p<d;){var f=c[p++];f!==h&&(h=f,a.push({items:f.declutterItems,opacity:i}));var g=c[p++];f.execute(t,g,r,o)}}t.a=P},function(e,t,r){"use strict";var n=r(10),i=r(32),o=r(0),a=r(74),s=r(8),l=r(44),u=r(14),c=r(239),h=r(17);function p(e,t,r,n,i,o,a,s,l,u,c){for(var p,d,f=[],g=e[t]>e[r-n],m=i.length,y=e[t],_=e[t+1],b=e[t+=n],v=e[t+1],w=0,O=Math.sqrt(Math.pow(b-y,2)+Math.pow(v-_,2)),E=!1,T=0;T<m;++T){for(var S=i[p=g?m-T-1:T],C=s*l(u,S,c),x=o+C/2;t<r-n&&w+O<x;)y=b,_=v,b=e[t+=n],v=e[t+1],w+=O,O=Math.sqrt(Math.pow(b-y,2)+Math.pow(v-_,2));var k=x-w,R=Math.atan2(v-_,b-y);if(g&&(R+=R>0?-Math.PI:Math.PI),void 0!==d){var P=R-d;if(E=E||0!==P,P+=P>Math.PI?-2*Math.PI:P<-Math.PI?2*Math.PI:0,Math.abs(P)>a)return null}d=R;var I=k/O,j=Object(h.c)(y,b,I),L=Object(h.c)(_,v,I);f[p]=[j,L,C/2,R,S],o+=C}return E?f:[[f[0][0],f[0][1],f[0][2],f[0][3],i]]}var d,f=r(24),g=r(28),m=r(167),y=r(99),_=r(238),b=r.n(_),v=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),w=Object(o.createEmpty)(),O=Object(u.c)(),E=[],T=[],S=[],C=[],x=function(e){function t(t,r,n,i){var o=e.call(this)||this;return o.overlaps=n,o.pixelRatio=r,o.resolution=t,o.alignFill_,o.declutterItems=[],o.instructions=i.instructions,o.coordinates=i.coordinates,o.coordinateCache_={},o.renderedTransform_=Object(u.c)(),o.hitDetectionInstructions=i.hitDetectionInstructions,o.pixelCoordinates_=null,o.viewRotation_=0,o.fillStates=i.fillStates||{},o.strokeStates=i.strokeStates||{},o.textStates=i.textStates||{},o.widths_={},o}return v(t,e),t.prototype.disposeInternal=function(){f.o.release(this),e.prototype.disposeInternal.call(this)},t.prototype.getTextImage=function(e,t,r,n){var o,a=n+t+e+r+this.pixelRatio;if(!f.o.containsKey(a)){var s=n?this.strokeStates[n]:null,l=r?this.fillStates[r]:null,u=this.textStates[t],c=this.pixelRatio,h=u.scale*c,p=m.a[u.textAlign||f.l],d=n&&s.lineWidth?s.lineWidth:0,g=e.split("\n"),y=g.length,_=[],b=Object(f.r)(u.font,g,_),v=Object(f.q)(u.font),w=v*y,O=b+d,E=Object(i.a)(Math.ceil((O+2)*h),Math.ceil((w+d)*h));o=E.canvas,f.o.set(a,o),1!=h&&E.scale(h,h),E.font=u.font,n&&(E.strokeStyle=s.strokeStyle,E.lineWidth=d,E.lineCap=s.lineCap,E.lineJoin=s.lineJoin,E.miterLimit=s.miterLimit,E.setLineDash&&s.lineDash.length&&(E.setLineDash(s.lineDash),E.lineDashOffset=s.lineDashOffset)),r&&(E.fillStyle=l.fillStyle),E.textBaseline="middle",E.textAlign="center";var T=.5-p,S=p*O+T*d,C=void 0;if(n)for(C=0;C<y;++C)E.strokeText(g[C],S+T*_[C],.5*(d+v)+C*v);if(r)for(C=0;C<y;++C)E.fillText(g[C],S+T*_[C],.5*(d+v)+C*v)}return f.o.get(a,this)},t.prototype.replayTextBackground_=function(e,t,r,n,i,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,r),e.lineTo.apply(e,n),e.lineTo.apply(e,i),e.lineTo.apply(e,t),o&&(this.alignFill_=o[2],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())},t.prototype.replayImage_=function(e,t,r,n,i,a,s,l,c,h,p,d,g,m,y,_,b,v){var x=b||v;t-=i*=g,r-=a*=g;var k=y+h>n.width?n.width-h:y,R=l+p>n.height?n.height-p:l,P=_[3]+k*g+_[1],I=_[0]+R*g+_[2],j=t-_[3],L=r-_[0];(x||0!==d)&&(E[0]=j,C[0]=j,E[1]=L,T[1]=L,T[0]=j+P,S[0]=T[0],S[1]=L+I,C[1]=S[1]);var A=null;if(0!==d){var F=t+i,M=r+a;A=Object(u.b)(O,F,M,1,1,d,-F,-M),Object(u.a)(O,E),Object(u.a)(O,T),Object(u.a)(O,S),Object(u.a)(O,C),Object(o.createOrUpdate)(Math.min(E[0],T[0],S[0],C[0]),Math.min(E[1],T[1],S[1],C[1]),Math.max(E[0],T[0],S[0],C[0]),Math.max(E[1],T[1],S[1],C[1]),w)}else Object(o.createOrUpdate)(j,L,j+P,L+I,w);var N=e.canvas,D=v?v[2]*g/2:0,G=w[0]-D<=N.width&&w[2]+D>=0&&w[1]-D<=N.height&&w[3]+D>=0;if(m&&(t=Math.round(t),r=Math.round(r)),s){if(!G&&1==s[4])return;Object(o.extend)(s,w);var U=G?[e,A?A.slice(0):null,c,n,h,p,k,R,t,r,g]:null;U&&(x&&U.push(b,v,E,T,S,C),s.push(U))}else G&&(x&&this.replayTextBackground_(e,E,T,S,C,b,v),Object(f.n)(e,A,c,n,h,p,k,R,t,r,g))},t.prototype.fill_=function(e){if(this.alignFill_){var t=Object(u.a)(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(t[0]%r,t[1]%r),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},t.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},t.prototype.renderDeclutter=function(e,t,r,n){if(e&&e.length>5){var i=e[4];if(1==i||i==e.length-5){var a={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(n||(n=new b.a(9)),!n.collides(a)){n.insert(a);for(var s=5,l=e.length;s<l;++s){var u=e[s],c=u[0],h=c.globalAlpha;h!==r&&(c.globalAlpha=r),u.length>11&&this.replayTextBackground_(u[0],u[13],u[14],u[15],u[16],u[11],u[12]),f.n.apply(void 0,u),h!==r&&(c.globalAlpha=h)}}e.length=5,Object(o.createOrUpdateEmpty)(e)}}return n},t.prototype.drawTextImageWithPointPlacement_=function(e,t,r,n){var i=this.textStates[t],o=this.getTextImage(e,t,n,r),a=this.strokeStates[r],s=this.pixelRatio,l=m.a[i.textAlign||f.l],u=m.a[i.textBaseline||f.m],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:l*(o.width/s-2*i.scale)+2*(.5-l)*c,anchorY:u*o.height/s+2*(.5-u)*c}},t.prototype.execute_=function(e,t,r,i,s,l){var h;this.declutterItems.length=0,this.pixelCoordinates_&&Object(n.b)(t,this.renderedTransform_)?h=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),h=Object(a.c)(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),Object(u.j)(this.renderedTransform_,t));for(var d,y,_,b,v,w,O,E,T,S,C,x,k,R,P,I,j,L=0,A=r.length,F=0,M=0,N=0,D=null,G=null,U=this.coordinateCache_,z=this.viewRotation_,B=Math.round(1e12*Math.atan2(-t[1],t[0]))/1e12,V={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:z},W=this.instructions!=r||this.overlaps?0:200;L<A;){var K=r[L];switch(K[0]){case g.c.BEGIN_GEOMETRY:(P=K[1]).getGeometry()?void 0===l||Object(o.intersects)(l,K[3])?++L:L=K[2]+1:L=K[2];break;case g.c.BEGIN_PATH:M>W&&(this.fill_(e),M=0),N>W&&(e.stroke(),N=0),M||N||(e.beginPath(),b=NaN,v=NaN),++L;break;case g.c.CIRCLE:var H=h[F=K[1]],Y=h[F+1],X=h[F+2]-H,Z=h[F+3]-Y,q=Math.sqrt(X*X+Z*Z);e.moveTo(H+q,Y),e.arc(H,Y,q,0,2*Math.PI,!0),++L;break;case g.c.CLOSE_PATH:e.closePath(),++L;break;case g.c.CUSTOM:F=K[1],d=K[2];var Q=K[3],$=K[4],J=6==K.length?K[5]:void 0;V.geometry=Q,V.feature=P,L in U||(U[L]=[]);var ee=U[L];J?J(h,F,d,2,ee):(ee[0]=h[F],ee[1]=h[F+1],ee.length=2),$(ee,V),++L;break;case g.c.DRAW_IMAGE:F=K[1],d=K[2],S=K[3],y=K[4],_=K[5],T=s?null:K[6];var te=K[7],re=K[8],ne=K[9],ie=K[10],oe=K[11],ae=K[12],se=K[13],le=K[14];if(!S&&K.length>=19){C=K[18],x=K[19],k=K[20],R=K[21];var ue=this.drawTextImageWithPointPlacement_(C,x,k,R);S=ue.label,K[3]=S;var ce=K[22];y=(ue.anchorX-ce)*this.pixelRatio,K[4]=y;var he=K[23];_=(ue.anchorY-he)*this.pixelRatio,K[5]=_,te=S.height,K[7]=te,le=S.width,K[14]=le}var pe=void 0;K.length>24&&(pe=K[24]);var de=void 0,fe=void 0,ge=void 0;K.length>16?(de=K[15],fe=K[16],ge=K[17]):(de=f.j,fe=!1,ge=!1),oe&&B?ae+=z:oe||B||(ae-=z);for(var me=0,ye=0;F<d;F+=2)if(!(pe&&pe[me++]<le/this.pixelRatio)){if(T){var _e=Math.floor(ye);T.length<_e+1&&((E=Object(o.createEmpty)()).push(T[0][4]),T.push(E)),E=T[_e]}this.replayImage_(e,h[F],h[F+1],S,y,_,E,te,re,ne,ie,ae,se,i,le,de,fe?D:null,ge?G:null),E&&(ye===Math.floor(ye)&&this.declutterItems.push(this,E,P),ye+=1/E[4])}++L;break;case g.c.DRAW_CHARS:var be=K[1],ve=K[2],we=K[3];E=s?null:K[4];var Oe=K[5];R=K[6];var Ee=K[7],Te=K[8],Se=K[9];k=K[10];var Ce=K[11];C=K[12],x=K[13];var xe=K[14],ke=this.textStates[x],Re=ke.font,Pe=ke.scale*Te,Ie=void 0;Re in this.widths_?Ie=this.widths_[Re]:(Ie={},this.widths_[Re]=Ie);var je=Object(c.a)(h,be,ve,2),Le=Pe*Object(f.p)(Re,C,Ie);if(Oe||Le<=je){var Ae=this.textStates[x].textAlign,Fe=p(h,be,ve,2,C,(je-Le)*m.a[Ae],Ee,Pe,f.p,Re,Ie);if(Fe){var Me=void 0,Ne=void 0,De=void 0,Ge=void 0,Ue=void 0;if(k)for(Me=0,Ne=Fe.length;Me<Ne;++Me)De=(Ue=Fe[Me])[4],Ge=this.getTextImage(De,x,"",k),y=Ue[2]+Ce,_=we*Ge.height+2*(.5-we)*Ce-Se,this.replayImage_(e,Ue[0],Ue[1],Ge,y,_,E,Ge.height,1,0,0,Ue[3],xe,!1,Ge.width,f.j,null,null);if(R)for(Me=0,Ne=Fe.length;Me<Ne;++Me)De=(Ue=Fe[Me])[4],Ge=this.getTextImage(De,x,R,""),y=Ue[2],_=we*Ge.height-Se,this.replayImage_(e,Ue[0],Ue[1],Ge,y,_,E,Ge.height,1,0,0,Ue[3],xe,!1,Ge.width,f.j,null,null)}}this.declutterItems.push(this,E,P),++L;break;case g.c.END_GEOMETRY:if(void 0!==s){var ze=s(P=K[1]);if(ze)return ze}++L;break;case g.c.FILL:W?M++:this.fill_(e),++L;break;case g.c.MOVE_TO_LINE_TO:for(F=K[1],d=K[2],I=h[F],O=(j=h[F+1])+.5|0,(w=I+.5|0)===b&&O===v||(e.moveTo(I,j),b=w,v=O),F+=2;F<d;F+=2)w=(I=h[F])+.5|0,O=(j=h[F+1])+.5|0,F!=d-2&&w===b&&O===v||(e.lineTo(I,j),b=w,v=O);++L;break;case g.c.SET_FILL_STYLE:D=K,this.alignFill_=K[2],M&&(this.fill_(e),M=0,N&&(e.stroke(),N=0)),e.fillStyle=K[1],++L;break;case g.c.SET_STROKE_STYLE:G=K,N&&(e.stroke(),N=0),this.setStrokeStyle_(e,K),++L;break;case g.c.STROKE:W?N++:e.stroke(),++L;break;default:++L}}M&&this.fill_(e),N&&e.stroke()},t.prototype.execute=function(e,t,r,n){this.viewRotation_=r,this.execute_(e,t,this.instructions,n,void 0,void 0)},t.prototype.executeHitDetection=function(e,t,r,n,i){return this.viewRotation_=r,this.execute_(e,t,this.hitDetectionInstructions,!0,n,i)},t}(y.a);r.d(t,"b",(function(){return L}));var k=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),R=[l.a.POLYGON,l.a.CIRCLE,l.a.LINE_STRING,l.a.IMAGE,l.a.TEXT,l.a.DEFAULT],P=function(e){function t(t,r,n,i,o,a){var s=e.call(this)||this;return s.maxExtent_=t,s.overlaps_=i,s.pixelRatio_=n,s.resolution_=r,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=Object(u.c)(),s.createExecutors_(o),s}return k(t,e),t.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},t.prototype.createExecutors_=function(e){for(var t in e){var r=this.executorsByZIndex_[t];void 0===r&&(r={},this.executorsByZIndex_[t]=r);var n=e[t];for(var i in n){var o=n[i];r[i]=new x(this.resolution_,this.pixelRatio_,this.overlaps_,o)}}},t.prototype.disposeInternal=function(){for(var t in this.executorsByZIndex_){var r=this.executorsByZIndex_[t];for(var n in r)r[n].disposeInternal()}if(this.hitDetectionContext_){var i=this.hitDetectionContext_.canvas;i.width=0,i.height=0}e.prototype.disposeInternal.call(this)},t.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[t],n=0,i=e.length;n<i;++n)if(e[n]in r)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,a,s,c){var h=2*(a=Math.round(a))+1,p=Object(u.b)(this.hitDetectionTransform_,a+.5,a+.5,1/t,-1/t,-r,-e[0],-e[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(i.a)(h,h));var d,f=this.hitDetectionContext_;f.canvas.width!==h||f.canvas.height!==h?(f.canvas.width=h,f.canvas.height=h):f.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(d=Object(o.createEmpty)(),Object(o.extendCoordinate)(d,e),Object(o.buffer)(d,t*(this.renderBuffer_+a),d));var g,m=function(e){if(void 0!==I[e])return I[e];for(var t=2*e+1,r=new Array(t),n=0;n<t;n++)r[n]=new Array(t);var i=e,o=0,a=0;for(;i>=o;)j(r,e+i,e+o),j(r,e+o,e+i),j(r,e-o,e+i),j(r,e-i,e+o),j(r,e-i,e-o),j(r,e-o,e-i),j(r,e+o,e-i),j(r,e+i,e-o),o++,2*((a+=1+2*o)-i)+1>0&&(a+=1-2*(i-=1));return I[e]=r,r}(a);function y(e){for(var t=f.getImageData(0,0,h,h).data,r=0;r<h;r++)for(var n=0;n<h;n++)if(m[r][n]&&t[4*(n*h+r)+3]>0){var i=void 0;return(!c||g!=l.a.IMAGE&&g!=l.a.TEXT||-1!==c.indexOf(e))&&(i=s(e)),i||void f.clearRect(0,0,h,h)}}var _,b,v,w,O,E=Object.keys(this.executorsByZIndex_).map(Number);for(E.sort(n.i),_=E.length-1;_>=0;--_){var T=E[_].toString();for(v=this.executorsByZIndex_[T],b=R.length-1;b>=0;--b)if(void 0!==(w=v[g=R[b]])&&(O=w.executeHitDetection(f,p,r,y,d)))return O}},t.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var r=t[0],n=t[1],i=t[2],o=t[3],s=[r,n,r,o,i,o,i,n];return Object(a.c)(s,0,8,2,e,s),s},t.prototype.isEmpty=function(){return Object(s.d)(this.executorsByZIndex_)},t.prototype.execute=function(e,t,r,i,o,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(n.i),this.maxExtent_&&(e.save(),this.clip(e,t));var u,c,h,p,d,f,g=o||R;for(u=0,c=s.length;u<c;++u){var m=s[u].toString();for(d=this.executorsByZIndex_[m],h=0,p=g.length;h<p;++h){var y=g[h];if(void 0!==(f=d[y]))if(!a||y!=l.a.IMAGE&&y!=l.a.TEXT)f.execute(e,t,r,i);else{var _=a[m];_?_.push(f,t.slice(0)):a[m]=[f,t.slice(0)]}}}this.maxExtent_&&e.restore()},t}(y.a),I={0:[[!0]]};function j(e,t,r){var n,i=Math.floor(e.length/2);if(t>=i)for(n=i;n<t;n++)e[n][r]=!0;else if(t<i)for(n=t+1;n<i;n++)e[n][r]=!0}function L(e,t,r,i,o,a){for(var s=Object.keys(e).map(Number).sort(n.i),l=0,u=s.length;l<u;++l)for(var c=e[s[l].toString()],h=void 0,p=0,d=c.length;p<d;){var f=c[p++];f!==h&&(h=f,a.push({items:f.declutterItems,opacity:i}));var g=c[p++];f.execute(t,g,r,o)}}t.a=P},function(e,t,r){"use strict";r.r(t);var n=r(192);r.d(t,"Circle",(function(){return n.a}));var i=r(171);r.d(t,"Geometry",(function(){return i.a}));var o=r(130);r.d(t,"GeometryCollection",(function(){return o.a}));var a=r(47);r.d(t,"LineString",(function(){return a.a}));var s=r(64);r.d(t,"MultiLineString",(function(){return s.a}));var l=r(71);r.d(t,"MultiPoint",(function(){return l.a}));var u=r(72);r.d(t,"MultiPolygon",(function(){return u.a}));var c=r(45);r.d(t,"Point",(function(){return c.a}));var h=r(41);r.d(t,"Polygon",(function(){return h.b}));var p=r(134);r.d(t,"LinearRing",(function(){return p.a}))},function(e,t,r){"use strict";var n,i=r(204),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=t||{};return e.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke})||this}return o(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(i.a);t.a=a},function(e,t,r){"use strict";var n,i=r(0),o=r(2),a=r(73),s=r(79),l=r(74),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r,n){var i=e.call(this)||this;if(void 0!==n&&void 0===r)i.setFlatCoordinates(n,t);else{var o=r||0;i.setCenterAndRadius(t,o,n)}return i}return u(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),void 0,this.layout)},t.prototype.closestPointXY=function(e,t,r,n){var i=this.flatCoordinates,o=e-i[0],a=t-i[1],s=o*o+a*a;if(s<n){if(0===s)for(var l=0;l<this.stride;++l)r[l]=i[l];else{var u=this.getRadius()/Math.sqrt(s);r[0]=i[0]+u*o,r[1]=i[1]+u*a;for(l=2;l<this.stride;++l)r[l]=i[l]}return r.length=this.stride,s}return n},t.prototype.containsXY=function(e,t){var r=this.flatCoordinates,n=e-r[0],i=t-r[1];return n*n+i*i<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,r=t[this.stride]-t[0];return Object(i.createOrUpdate)(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return o.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(i.intersects)(e,t)){var r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||(e[1]<=r[1]&&e[3]>=r[1]||Object(i.forEachCorner)(e,this.intersectsCoordinate.bind(this)))}return!1},t.prototype.setCenter=function(e){var t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+r;for(var i=1;i<t;++i)n[t+i]=e[i];this.setFlatCoordinates(this.layout,n),this.changed()},t.prototype.setCenterAndRadius=function(e,t,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,i=Object(s.a)(n,0,e,this.stride);n[i++]=n[0]+t;for(var o=1,a=this.stride;o<a;++o)n[i++]=n[o];n.length=i,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,t){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(l.a)(r,0,r.length,n,e,t,r)),this.changed()},t.prototype.translate=function(e,t){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(l.d)(r,0,r.length,n,e,t,r)),this.changed()},t}(a.a);c.prototype.transform,t.a=c},function(e,t,r){"use strict";var n,i=r(26),o=r(104),a=r(1),s=r(6),l=r(80),u=r(82),c=r(223),h=r(23),p=r(18),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r,n,i,o,a,s){var l=e.call(this)||this;return l.context_=t,l.pixelRatio_=r,l.extent_=n,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(p.c)(),l}return d(t,e),t.prototype.drawImages_=function(e,t,r,n){if(this.image_){var i=Object(u.c)(e,t,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=i.length;c<h;c+=2){var d=i[c]-this.imageAnchorX_,f=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=d+this.imageAnchorX_,m=f+this.imageAnchorY_;Object(p.b)(a,g,m,this.imageScale_,this.imageScale_,l,-g,-m),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},t.prototype.drawText_=function(e,t,r,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(u.c)(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=n){var s=i[t]+this.textOffsetX_,l=i[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=Object(p.b)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},t.prototype.moveToLineTo_=function(e,t,r,n,i){var o=this.context_,a=Object(u.c)(e,t,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),r},t.prototype.drawRings_=function(e,t,r,n){for(var i=0,o=r.length;i<o;++i)t=this.moveToLineTo_(e,t,r[i],n,!0);return t},t.prototype.drawCircle=function(e){if(Object(a.intersects)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(l.b)(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],n=t[3]-t[1],i=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case s.a.POINT:this.drawPoint(e);break;case s.a.LINE_STRING:this.drawLineString(e);break;case s.a.POLYGON:this.drawPolygon(e);break;case s.a.MULTI_POINT:this.drawMultiPoint(e);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case s.a.CIRCLE:this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);r&&Object(a.intersects)(this.extent_,r.getExtent())&&(this.setStyle(t),this.drawGeometry(r))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),r=0,n=t.length;r<n;++r)this.drawGeometry(t[r])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(a.intersects)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=e.getFlatCoordinates(),i=0,o=e.getEnds(),s=e.getStride();r.beginPath();for(var l=0,u=o.length;l<u;++l)i=this.moveToLineTo_(n,i,o[l],s,!1);r.stroke()}if(""!==this.text_){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getOrientedFlatCoordinates(),n=0,i=e.getEndss(),o=e.getStride();t.beginPath();for(var s=0,l=i.length;s<l;++s){var u=i[s];n=this.drawRings_(r,n,u,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Object(i.b)(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,r=this.contextTextState_,n=e.textAlign?e.textAlign:h.l;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=n&&(r.textAlign=n,t.textAlign=n),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){if(e){var r=e.getColor();this.fillState_={fillStyle:Object(o.a)(r||h.b)}}else this.fillState_=null;if(t){var n=t.getColor(),i=t.getLineCap(),a=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),u=t.getWidth(),c=t.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:h.d,lineDash:a||h.e,lineDashOffset:s||h.f,lineJoin:void 0!==l?l:h.g,lineWidth:this.pixelRatio_*(void 0!==u?u:h.h),miterLimit:void 0!==c?c:h.i,strokeStyle:Object(o.a)(n||h.k)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){if(e){var t=e.getAnchor(),r=e.getImage(1),n=e.getOrigin(),i=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=i[1],this.image_=r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var r=t.getColor();this.textFillState_={fillStyle:Object(o.a)(r||h.b)}}else this.textFillState_=null;var n=e.getStroke();if(n){var i=n.getColor(),a=n.getLineCap(),s=n.getLineDash(),l=n.getLineDashOffset(),u=n.getLineJoin(),c=n.getWidth(),p=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.d,lineDash:s||h.e,lineDashOffset:l||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:void 0!==c?c:h.h,miterLimit:void 0!==p?p:h.i,strokeStyle:Object(o.a)(i||h.k)}}else this.textStrokeState_=null;var d=e.getFont(),f=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),y=e.getRotation(),_=e.getScale(),b=e.getText(),v=e.getTextAlign(),w=e.getTextBaseline();this.textState_={font:void 0!==d?d:h.c,textAlign:void 0!==v?v:h.l,textBaseline:void 0!==w?w:h.m},this.text_=void 0!==b?b:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},t}(c.a);t.a=f},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(25),i=r(22),o=1/0,a=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(i.b)(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(r);return delete this.queuedElements_[n],r},e.prototype.enqueue=function(e){Object(n.a)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=o&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,n=t.length,i=t[e],o=r[e],a=e;e<n>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<n&&r[l]<r[s]?l:s;t[e]=t[u],r[e]=r[u],e=u}t[e]=i,r[e]=o,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var r=this.elements_,n=this.priorities_,i=r[t],o=n[t];t>e;){var a=this.getParentIndex_(t);if(!(n[a]>o))break;r[t]=r[a],n[t]=n[a],t=a}r[t]=i,n[t]=o},e.prototype.reprioritize=function(){var e,t,r,n=this.priorityFunction_,i=this.elements_,a=this.priorities_,s=0,l=i.length;for(t=0;t<l;++t)(r=n(e=i[t]))==o?delete this.queuedElements_[this.keyFunction_(e)]:(a[s]=r,i[s++]=e);i.length=s,a.length=s,this.heapify_()},e}();t.b=a},function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));var n=r(17);r(2);function i(e,t,r){var i=r||6371008.8,o=Object(n.i)(e[1]),a=Object(n.i)(t[1]),s=(a-o)/2,l=Object(n.i)(t[0]-e[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(o)*Math.cos(a);return 2*i*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function o(e,t,r,i){var o=i||6371008.8,a=Object(n.i)(e[1]),s=Object(n.i)(e[0]),l=t/o,u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(r)),c=s+Math.atan2(Math.sin(r)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u));return[Object(n.h)(c),Object(n.h)(u)]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var n=r(35),i=r(103),o=!1;function a(e,t,r,n){return function(a,s,l){var u=new XMLHttpRequest;u.open("GET","function"==typeof e?e(a,s,l):e,!0),t.getType()==i.a.ARRAY_BUFFER&&(u.responseType="arraybuffer"),u.withCredentials=o,u.onload=function(e){if(!u.status||u.status>=200&&u.status<300){var o=t.getType(),s=void 0;o==i.a.JSON||o==i.a.TEXT?s=u.responseText:o==i.a.XML?(s=u.responseXML)||(s=(new DOMParser).parseFromString(u.responseText,"application/xml")):o==i.a.ARRAY_BUFFER&&(s=u.response),s?r.call(this,t.readFeatures(s,{extent:a,featureProjection:l}),t.readProjection(s)):n.call(this)}else n.call(this)}.bind(this),u.onerror=function(){n.call(this)}.bind(this),u.send()}}function s(e,t){return a(e,t,(function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)}),n.c)}},function(e,t,r){"use strict";var n,i=r(10),o=r(105),a=r(0),s=r(2),l=r(73),u=r(74),c=r(241),h=r(24),p=r(14),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t,r,n,i,o,a,s){var l=e.call(this)||this;return l.context_=t,l.pixelRatio_=r,l.extent_=n,l.transform_=i,l.viewRotation_=o,l.squaredTolerance_=a,l.userTransform_=s,l.contextFillState_=null,l.contextStrokeState_=null,l.contextTextState_=null,l.fillState_=null,l.strokeState_=null,l.image_=null,l.imageAnchorX_=0,l.imageAnchorY_=0,l.imageHeight_=0,l.imageOpacity_=0,l.imageOriginX_=0,l.imageOriginY_=0,l.imageRotateWithView_=!1,l.imageRotation_=0,l.imageScale_=0,l.imageWidth_=0,l.text_="",l.textOffsetX_=0,l.textOffsetY_=0,l.textRotateWithView_=!1,l.textRotation_=0,l.textScale_=0,l.textFillState_=null,l.textStrokeState_=null,l.textState_=null,l.pixelCoordinates_=[],l.tmpLocalTransform_=Object(p.c)(),l}return d(t,e),t.prototype.drawImages_=function(e,t,r,n){if(this.image_){var i=Object(u.c)(e,t,r,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,h=i.length;c<h;c+=2){var d=i[c]-this.imageAnchorX_,f=i[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var g=d+this.imageAnchorX_,m=f+this.imageAnchorY_;Object(p.b)(a,g,m,this.imageScale_,this.imageScale_,l,-g,-m),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,d,f,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},t.prototype.drawText_=function(e,t,r,n){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Object(u.c)(e,t,r,n,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);t<r;t+=n){var s=i[t]+this.textOffsetX_,l=i[t+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=Object(p.b)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},t.prototype.moveToLineTo_=function(e,t,r,n,i){var o=this.context_,a=Object(u.c)(e,t,r,n,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return i&&o.closePath(),r},t.prototype.drawRings_=function(e,t,r,n){for(var i=0,o=r.length;i<o;++i)t=this.moveToLineTo_(e,t,r[i],n,!0);return t},t.prototype.drawCircle=function(e){if(Object(a.intersects)(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=Object(l.c)(e,this.transform_,this.pixelCoordinates_),r=t[2]-t[0],n=t[3]-t[1],i=Math.sqrt(r*r+n*n),o=this.context_;o.beginPath(),o.arc(t[0],t[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){switch(e.getType()){case s.a.POINT:this.drawPoint(e);break;case s.a.LINE_STRING:this.drawLineString(e);break;case s.a.POLYGON:this.drawPolygon(e);break;case s.a.MULTI_POINT:this.drawMultiPoint(e);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(e);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case s.a.CIRCLE:this.drawCircle(e)}},t.prototype.drawFeature=function(e,t){var r=t.getGeometryFunction()(e);r&&Object(a.intersects)(this.extent_,r.getExtent())&&(this.setStyle(t),this.drawGeometry(r))},t.prototype.drawGeometryCollection=function(e){for(var t=e.getGeometriesArray(),r=0,n=t.length;r<n;++r)this.drawGeometry(t[r])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getFlatCoordinates(),r=e.getStride();this.image_&&this.drawImages_(t,0,t.length,r),""!==this.text_&&this.drawText_(t,0,t.length,r)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(r,0,r.length,e.getStride(),!1),t.stroke()}if(""!==this.text_){var n=e.getFlatMidpoint();this.drawText_(n,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var t=e.getExtent();if(Object(a.intersects)(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,n=e.getFlatCoordinates(),i=0,o=e.getEnds(),s=e.getStride();r.beginPath();for(var l=0,u=o.length;l<u;++l)i=this.moveToLineTo_(n,i,o[l],s,!1);r.stroke()}if(""!==this.text_){var c=e.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var r=e.getFlatInteriorPoint();this.drawText_(r,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(a.intersects)(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var t=this.context_,r=e.getOrientedFlatCoordinates(),n=0,i=e.getEndss(),o=e.getStride();t.beginPath();for(var s=0,l=i.length;s<l;++s){var u=i[s];n=this.drawRings_(r,n,u,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(""!==this.text_){var c=e.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},t.prototype.setContextFillState_=function(e){var t=this.context_,r=this.contextFillState_;r?r.fillStyle!=e.fillStyle&&(r.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var t=this.context_,r=this.contextStrokeState_;r?(r.lineCap!=e.lineCap&&(r.lineCap=e.lineCap,t.lineCap=e.lineCap),t.setLineDash&&(Object(i.b)(r.lineDash,e.lineDash)||t.setLineDash(r.lineDash=e.lineDash),r.lineDashOffset!=e.lineDashOffset&&(r.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset)),r.lineJoin!=e.lineJoin&&(r.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),r.lineWidth!=e.lineWidth&&(r.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),r.miterLimit!=e.miterLimit&&(r.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),r.strokeStyle!=e.strokeStyle&&(r.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var t=this.context_,r=this.contextTextState_,n=e.textAlign?e.textAlign:h.l;r?(r.font!=e.font&&(r.font=e.font,t.font=e.font),r.textAlign!=n&&(r.textAlign=n,t.textAlign=n),r.textBaseline!=e.textBaseline&&(r.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=n,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:n,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,t){if(e){var r=e.getColor();this.fillState_={fillStyle:Object(o.a)(r||h.b)}}else this.fillState_=null;if(t){var n=t.getColor(),i=t.getLineCap(),a=t.getLineDash(),s=t.getLineDashOffset(),l=t.getLineJoin(),u=t.getWidth(),c=t.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:h.d,lineDash:a||h.e,lineDashOffset:s||h.f,lineJoin:void 0!==l?l:h.g,lineWidth:this.pixelRatio_*(void 0!==u?u:h.h),miterLimit:void 0!==c?c:h.i,strokeStyle:Object(o.a)(n||h.k)}}else this.strokeState_=null},t.prototype.setImageStyle=function(e){if(e){var t=e.getAnchor(),r=e.getImage(1),n=e.getOrigin(),i=e.getSize();this.imageAnchorX_=t[0],this.imageAnchorY_=t[1],this.imageHeight_=i[1],this.image_=r,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=n[0],this.imageOriginY_=n[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},t.prototype.setTextStyle=function(e){if(e){var t=e.getFill();if(t){var r=t.getColor();this.textFillState_={fillStyle:Object(o.a)(r||h.b)}}else this.textFillState_=null;var n=e.getStroke();if(n){var i=n.getColor(),a=n.getLineCap(),s=n.getLineDash(),l=n.getLineDashOffset(),u=n.getLineJoin(),c=n.getWidth(),p=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.d,lineDash:s||h.e,lineDashOffset:l||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:void 0!==c?c:h.h,miterLimit:void 0!==p?p:h.i,strokeStyle:Object(o.a)(i||h.k)}}else this.textStrokeState_=null;var d=e.getFont(),f=e.getOffsetX(),g=e.getOffsetY(),m=e.getRotateWithView(),y=e.getRotation(),_=e.getScale(),b=e.getText(),v=e.getTextAlign(),w=e.getTextBaseline();this.textState_={font:void 0!==d?d:h.c,textAlign:void 0!==v?v:h.l,textBaseline:void 0!==w?w:h.m},this.text_=void 0!==b?b:"",this.textOffsetX_=void 0!==f?this.pixelRatio_*f:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==y?y:0,this.textScale_=this.pixelRatio_*(void 0!==_?_:1)}else this.text_=""},t}(c.a);t.a=f},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(19),i=r(8),o=1/0,a=function(){function e(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return e.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(i.b)(this.queuedElements_)},e.prototype.dequeue=function(){var e=this.elements_,t=this.priorities_,r=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(r);return delete this.queuedElements_[n],r},e.prototype.enqueue=function(e){Object(n.a)(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);return t!=o&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},e.prototype.getCount=function(){return this.elements_.length},e.prototype.getLeftChildIndex_=function(e){return 2*e+1},e.prototype.getRightChildIndex_=function(e){return 2*e+2},e.prototype.getParentIndex_=function(e){return e-1>>1},e.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)},e.prototype.isEmpty=function(){return 0===this.elements_.length},e.prototype.isKeyQueued=function(e){return e in this.queuedElements_},e.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))},e.prototype.siftUp_=function(e){for(var t=this.elements_,r=this.priorities_,n=t.length,i=t[e],o=r[e],a=e;e<n>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<n&&r[l]<r[s]?l:s;t[e]=t[u],r[e]=r[u],e=u}t[e]=i,r[e]=o,this.siftDown_(a,e)},e.prototype.siftDown_=function(e,t){for(var r=this.elements_,n=this.priorities_,i=r[t],o=n[t];t>e;){var a=this.getParentIndex_(t);if(!(n[a]>o))break;r[t]=r[a],n[t]=n[a],t=a}r[t]=i,n[t]=o},e.prototype.reprioritize=function(){var e,t,r,n=this.priorityFunction_,i=this.elements_,a=this.priorities_,s=0,l=i.length;for(t=0;t<l;++t)(r=n(e=i[t]))==o?delete this.queuedElements_[this.keyFunction_(e)]:(a[s]=r,i[s++]=e);i.length=s,a.length=s,this.heapify_()},e}();t.b=a},function(e,t,r){"use strict";var n=r(34),i="arraybuffer",o="json",a="text",s="xml";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var l=!1;function u(e,t,r,n){return function(u,c,h){var p=new XMLHttpRequest;p.open("GET","function"==typeof e?e(u,c,h):e,!0),t.getType()==i&&(p.responseType="arraybuffer"),p.withCredentials=l,p.onload=function(e){if(!p.status||p.status>=200&&p.status<300){var l=t.getType(),c=void 0;l==o||l==a?c=p.responseText:l==s?(c=p.responseXML)||(c=(new DOMParser).parseFromString(p.responseText,"application/xml")):l==i&&(c=p.response),c?r.call(this,t.readFeatures(c,{extent:u,featureProjection:h}),t.readProjection(c)):n.call(this)}else n.call(this)}.bind(this),p.onerror=function(){n.call(this)}.bind(this),p.send()}}function c(e,t){return u(e,t,(function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)}),n.c)}},function(e,t,r){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,r){return(l=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i}).apply(null,arguments)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,r){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}var h=function(e){return Object.keys(e).map((function(t){return e[t]}))},p=function(e){return Array.prototype.slice.call(e)},d=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},f=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},g=[],m=function(e,t){var r;r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),-1===g.indexOf(r)&&(g.push(r),d(r))},y=function(e){return"function"==typeof e?e():e},_=function(e){return e&&Promise.resolve(e)===e},b=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),v=function(e){var t={};for(var r in e)t[e[r]]="swal2-"+e[r];return t},w=v(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","show","hide","noanimation","close","title","header","content","actions","confirm","cancel","footer","icon","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl"]),O=v(["success","warning","info","question","error"]),E={previousBodyPadding:null},T=function(e,t){return e.classList.contains(t)},S=function(t,r,n){if(function(e){p(e.classList).forEach((function(t){-1===h(w).indexOf(t)&&-1===h(O).indexOf(t)&&e.classList.remove(t)}))}(t),r&&r[n]){if("string"!=typeof r[n]&&!r[n].forEach)return d("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(e(r[n]),'"'));P(t,r[n])}};function C(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return j(e,w[t]);case"checkbox":return e.querySelector(".".concat(w.checkbox," input"));case"radio":return e.querySelector(".".concat(w.radio," input:checked"))||e.querySelector(".".concat(w.radio," input:first-child"));case"range":return e.querySelector(".".concat(w.range," input"));default:return j(e,w.input)}}var x,k=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},R=function(e,t,r){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){r?e.classList.add(t):e.classList.remove(t)})):r?e.classList.add(t):e.classList.remove(t)})))},P=function(e,t){R(e,t,!0)},I=function(e,t){R(e,t,!1)},j=function(e,t){for(var r=0;r<e.childNodes.length;r++)if(T(e.childNodes[r],t))return e.childNodes[r]},L=function(e,t,r){r||0===parseInt(r)?e.style[t]="number"==typeof r?r+"px":r:e.style.removeProperty(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.opacity="",e.style.display=t},F=function(e){e.style.opacity="",e.style.display="none"},M=function(e,t,r){t?A(e,r):F(e)},N=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},D=function(e){var t=window.getComputedStyle(e),r=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return r>0||n>0},G=function(){return document.body.querySelector("."+w.container)},U=function(e){var t=G();return t?t.querySelector(e):null},z=function(e){return U("."+e)},B=function(){return z(w.popup)},V=function(){var e=B();return p(e.querySelectorAll("."+w.icon))},W=function(){var e=V().filter((function(e){return N(e)}));return e.length?e[0]:null},K=function(){return z(w.title)},H=function(){return z(w.content)},Y=function(){return z(w.image)},X=function(){return z(w["progress-steps"])},Z=function(){return z(w["validation-message"])},q=function(){return U("."+w.actions+" ."+w.confirm)},Q=function(){return U("."+w.actions+" ."+w.cancel)},$=function(){return z(w.actions)},J=function(){return z(w.header)},ee=function(){return z(w.footer)},te=function(){return z(w.close)},re=function(){var e=p(B().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=p(B().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}(e.concat(t)).filter((function(e){return N(e)}))},ne=function(){return!ie()&&!document.body.classList.contains(w["no-backdrop"])},ie=function(){return document.body.classList.contains(w["toast-shown"])},oe=function(){return"undefined"==typeof window||"undefined"==typeof document},ae='\n <div aria-labelledby="'.concat(w.title,'" aria-describedby="').concat(w.content,'" class="').concat(w.popup,'" tabindex="-1">\n   <div class="').concat(w.header,'">\n     <ul class="').concat(w["progress-steps"],'"></ul>\n     <div class="').concat(w.icon," ").concat(O.error,'">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(w.icon," ").concat(O.question,'"></div>\n     <div class="').concat(w.icon," ").concat(O.warning,'"></div>\n     <div class="').concat(w.icon," ").concat(O.info,'"></div>\n     <div class="').concat(w.icon," ").concat(O.success,'">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(w.image,'" />\n     <h2 class="').concat(w.title,'" id="').concat(w.title,'"></h2>\n     <button type="button" class="').concat(w.close,'"></button>\n   </div>\n   <div class="').concat(w.content,'">\n     <div id="').concat(w.content,'"></div>\n     <input class="').concat(w.input,'" />\n     <input type="file" class="').concat(w.file,'" />\n     <div class="').concat(w.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(w.select,'"></select>\n     <div class="').concat(w.radio,'"></div>\n     <label for="').concat(w.checkbox,'" class="').concat(w.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(w.label,'"></span>\n     </label>\n     <textarea class="').concat(w.textarea,'"></textarea>\n     <div class="').concat(w["validation-message"],'" id="').concat(w["validation-message"],'"></div>\n   </div>\n   <div class="').concat(w.actions,'">\n     <button type="button" class="').concat(w.confirm,'">OK</button>\n     <button type="button" class="').concat(w.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(w.footer,'">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),se=function(e){Bt.isVisible()&&x!==e.target.value&&Bt.resetValidationMessage(),x=e.target.value},le=function(e){var t;if((t=G())&&(t.parentNode.removeChild(t),I([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]])),oe())f("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=w.container,r.innerHTML=ae;var n,i,o,a,s,l,u,c,h,p="string"==typeof(n=e.target)?document.querySelector(n):n;p.appendChild(r),function(e){var t=B();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&P(G(),w.rtl)}(p),i=H(),o=j(i,w.input),a=j(i,w.file),s=i.querySelector(".".concat(w.range," input")),l=i.querySelector(".".concat(w.range," output")),u=j(i,w.select),c=i.querySelector(".".concat(w.checkbox," input")),h=j(i,w.textarea),o.oninput=se,a.onchange=se,u.onchange=se,c.onchange=se,h.oninput=se,s.oninput=function(e){se(e),l.value=s.value},s.onchange=function(e){se(e),s.nextSibling.value=s.value}}},ue=function(t,r){t instanceof HTMLElement?r.appendChild(t):"object"===e(t)?ce(r,t):t&&(r.innerHTML=t)},ce=function(e,t){if(e.innerHTML="",0 in t)for(var r=0;r in t;r++)e.appendChild(t[r].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},he=function(){if(oe())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&void 0!==e.style[r])return t[r];return!1}(),pe=function(e,t){var r=$(),n=q(),i=Q();t.showConfirmButton||t.showCancelButton||F(r),S(r,t.customClass,"actions"),de(n,"confirm",t),de(i,"cancel",t),t.buttonsStyling?function(e,t,r){P([e,t],w.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor),r.cancelButtonColor&&(t.style.backgroundColor=r.cancelButtonColor);var n=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=n,e.style.borderRightColor=n}(n,i,t):(I([n,i],w.styled),n.style.backgroundColor=n.style.borderLeftColor=n.style.borderRightColor="",i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor=""),t.reverseButtons&&n.parentNode.insertBefore(i,n)};function de(e,t,r){M(e,r["showC"+t.substring(1)+"Button"],"inline-block"),e.innerHTML=r[t+"ButtonText"],e.setAttribute("aria-label",r[t+"ButtonAriaLabel"]),e.className=w[t],S(e,r.customClass,t+"Button"),P(e,r[t+"ButtonClass"])}var fe=function(e,t){var r=G();r&&(function(e,t){"string"==typeof t?e.style.background=t:t||P([document.documentElement,document.body],w["no-backdrop"])}(r,t.backdrop),!t.backdrop&&t.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in w?P(e,w[t]):(d('The "position" parameter is not valid, defaulting to "center"'),P(e,w.center))}(r,t.position),function(e,t){if(t&&"string"==typeof t){var r="grow-"+t;r in w&&P(e,w[r])}}(r,t.grow),S(r,t.customClass,"container"),t.customContainerClass&&P(r,t.customContainerClass))},ge={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},me=["input","file","range","select","radio","checkbox","textarea"],ye=function(e){if(!Oe[e.input])return f('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=we(e.input),r=Oe[e.input](t,e);A(r),setTimeout((function(){k(r)}))},_e=function(e,t){var r=C(H(),e);if(r)for(var n in function(e){for(var t=0;t<e.attributes.length;t++){var r=e.attributes[t].name;-1===["type","value","style"].indexOf(r)&&e.removeAttribute(r)}}(r),t)"range"===e&&"placeholder"===n||r.setAttribute(n,t[n])},be=function(e){var t=we(e.input);e.inputClass&&P(t,e.inputClass),e.customClass&&P(t,e.customClass.input)},ve=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},we=function(e){var t=w[e]?w[e]:w.input;return j(H(),t)},Oe={};Oe.text=Oe.email=Oe.password=Oe.number=Oe.tel=Oe.url=function(t,r){return"string"==typeof r.inputValue||"number"==typeof r.inputValue?t.value=r.inputValue:_(r.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(r.inputValue),'"')),ve(t,r),t.type=r.input,t},Oe.file=function(e,t){return ve(e,t),e},Oe.range=function(e,t){var r=e.querySelector("input"),n=e.querySelector("output");return r.value=t.inputValue,r.type=t.input,n.value=t.inputValue,e},Oe.select=function(e,t){if(e.innerHTML="",t.inputPlaceholder){var r=document.createElement("option");r.innerHTML=t.inputPlaceholder,r.value="",r.disabled=!0,r.selected=!0,e.appendChild(r)}return e},Oe.radio=function(e){return e.innerHTML="",e},Oe.checkbox=function(e,t){var r=C(H(),"checkbox");return r.value=1,r.id=w.checkbox,r.checked=Boolean(t.inputValue),e.querySelector("span").innerHTML=t.inputPlaceholder,e},Oe.textarea=function(e,t){if(e.value=t.inputValue,ve(e,t),"MutationObserver"in window){var r=parseInt(window.getComputedStyle(B()).width),n=parseInt(window.getComputedStyle(B()).paddingLeft)+parseInt(window.getComputedStyle(B()).paddingRight);new MutationObserver((function(){var t=e.offsetWidth+n;B().style.width=t>r?t+"px":null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var Ee=function(e,t){var r=H().querySelector("#"+w.content);t.html?(ue(t.html,r),A(r,"block")):t.text?(r.textContent=t.text,A(r,"block")):F(r),function(e,t){var r=H(),n=ge.innerParams.get(e),i=!n||t.input!==n.input;me.forEach((function(e){var n=w[e],o=j(r,n);_e(e,t.inputAttributes),o.className=n,i&&F(o)})),t.input&&(i&&ye(t),be(t))}(e,t),S(H(),t.customClass,"content")},Te=function(){for(var e=V(),t=0;t<e.length;t++)F(e[t])},Se=function(){for(var e=B(),t=window.getComputedStyle(e).getPropertyValue("background-color"),r=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),n=0;n<r.length;n++)r[n].style.backgroundColor=t},Ce=function(e,t){var r=X();if(!t.progressSteps||0===t.progressSteps.length)return F(r);A(r),r.innerHTML="";var n=parseInt(null===t.currentProgressStep?Bt.getQueueStep():t.currentProgressStep);n>=t.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,i){var o=function(e){var t=document.createElement("li");return P(t,w["progress-step"]),t.innerHTML=e,t}(e);if(r.appendChild(o),i===n&&P(o,w["active-progress-step"]),i!==t.progressSteps.length-1){var a=function(e){var t=document.createElement("li");return P(t,w["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(e);r.appendChild(a)}}))},xe=function(e,t){var r=J();S(r,t.customClass,"header"),Ce(0,t),function(e,t){var r=ge.innerParams.get(e);if(r&&t.type===r.type&&W())S(W(),t.customClass,"icon");else if(Te(),t.type)if(Se(),-1!==Object.keys(O).indexOf(t.type)){var n=U(".".concat(w.icon,".").concat(O[t.type]));A(n),S(n,t.customClass,"icon"),R(n,"swal2-animate-".concat(t.type,"-icon"),t.animation)}else f('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.type,'"'))}(e,t),function(e,t){var r=Y();if(!t.imageUrl)return F(r);A(r),r.setAttribute("src",t.imageUrl),r.setAttribute("alt",t.imageAlt),L(r,"width",t.imageWidth),L(r,"height",t.imageHeight),r.className=w.image,S(r,t.customClass,"image"),t.imageClass&&P(r,t.imageClass)}(0,t),function(e,t){var r=K();M(r,t.title||t.titleText),t.title&&ue(t.title,r),t.titleText&&(r.innerText=t.titleText),S(r,t.customClass,"title")}(0,t),function(e,t){var r=te();r.innerHTML=t.closeButtonHtml,S(r,t.customClass,"closeButton"),M(r,t.showCloseButton),r.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)},ke=function(e,t){!function(e,t){var r=B();L(r,"width",t.width),L(r,"padding",t.padding),t.background&&(r.style.background=t.background),r.className=w.popup,t.toast?(P([document.documentElement,document.body],w["toast-shown"]),P(r,w.toast)):P(r,w.modal),S(r,t.customClass,"popup"),"string"==typeof t.customClass&&P(r,t.customClass),R(r,w.noanimation,!t.animation)}(0,t),fe(0,t),xe(e,t),Ee(e,t),pe(0,t),function(e,t){var r=ee();M(r,t.footer),t.footer&&ue(t.footer,r),S(r,t.customClass,"footer")}(0,t),"function"==typeof t.onRender&&t.onRender(B())},Re=function(){return q()&&q().click()},Pe=[],Ie=function(){var e=B();e||Bt.fire(""),e=B();var t=$(),r=q(),n=Q();A(t),A(r),P([e,t],w.loading),r.disabled=!0,n.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},je={},Le=function(){return new Promise((function(e){var t=window.scrollX,r=window.scrollY;je.restoreFocusTimeout=setTimeout((function(){je.previousActiveElement&&je.previousActiveElement.focus?(je.previousActiveElement.focus(),je.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==t&&void 0!==r&&window.scrollTo(t,r)}))},Ae={title:"",titleText:"",text:"",html:"",footer:"",type:null,toast:!1,customClass:"",customContainerClass:"",target:"body",backdrop:!0,animation:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:null,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:null,confirmButtonClass:"",cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:null,cancelButtonClass:"",buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:null,imageWidth:null,imageHeight:null,imageAlt:"",imageClass:"",timer:null,width:null,padding:null,background:null,input:null,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputClass:"",inputAttributes:{},inputValidator:null,validationMessage:null,grow:!1,position:"center",progressSteps:[],currentProgressStep:null,progressStepsDistance:null,onBeforeOpen:null,onOpen:null,onRender:null,onClose:null,onAfterClose:null,scrollbarPadding:!0},Fe=["title","titleText","text","html","type","customClass","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","confirmButtonClass","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","cancelButtonClass","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeigth","imageAlt","imageClass","progressSteps","currentProgressStep"],Me={customContainerClass:"customClass",confirmButtonClass:"customClass",cancelButtonClass:"customClass",imageClass:"customClass",inputClass:"customClass"},Ne=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],De=function(e){return Object.prototype.hasOwnProperty.call(Ae,e)},Ge=function(e){return Me[e]},Ue=function(e){De(e)||d('Unknown parameter "'.concat(e,'"'))},ze=function(e){-1!==Ne.indexOf(e)&&d('The parameter "'.concat(e,'" is incompatible with toasts'))},Be=function(e){Ge(e)&&m(e,Ge(e))},Ve=Object.freeze({isValidParameter:De,isUpdatableParameter:function(e){return-1!==Fe.indexOf(e)},isDeprecatedParameter:Ge,argsToParams:function(t){var r={};switch(e(t[0])){case"object":i(r,t[0]);break;default:["title","html","type"].forEach((function(n,i){switch(e(t[i])){case"string":r[n]=t[i];break;case"undefined":break;default:f("Unexpected type of ".concat(n,'! Expected "string", got ').concat(e(t[i])))}}))}return r},isVisible:function(){return N(B())},clickConfirm:Re,clickCancel:function(){return Q()&&Q().click()},getContainer:G,getPopup:B,getTitle:K,getContent:H,getImage:Y,getIcon:W,getIcons:V,getCloseButton:te,getActions:$,getConfirmButton:q,getCancelButton:Q,getHeader:J,getFooter:ee,getFocusableElements:re,getValidationMessage:Z,isLoading:function(){return B().hasAttribute("data-loading")},fire:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return l(e,r)},mixin:function(e){return function(r){function s(){return t(this,s),u(this,o(s).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(s,r),n(s,[{key:"_main",value:function(t){return c(o(s.prototype),"_main",this).call(this,i({},e,t))}}]),s}(this)},queue:function(e){var t=this;Pe=e;var r=function(e,t){Pe=[],document.body.removeAttribute("data-swal2-queue-step"),e(t)},n=[];return new Promise((function(e){!function i(o,a){o<Pe.length?(document.body.setAttribute("data-swal2-queue-step",o),t.fire(Pe[o]).then((function(t){void 0!==t.value?(n.push(t.value),i(o+1,a)):r(e,{dismiss:t.dismiss})}))):r(e,{value:n})}(0)}))},getQueueStep:function(){return document.body.getAttribute("data-swal2-queue-step")},insertQueueStep:function(e,t){return t&&t<Pe.length?Pe.splice(t,0,e):Pe.push(e)},deleteQueueStep:function(e){void 0!==Pe[e]&&Pe.splice(e,1)},showLoading:Ie,enableLoading:Ie,getTimerLeft:function(){return je.timeout&&je.timeout.getTimerLeft()},stopTimer:function(){return je.timeout&&je.timeout.stop()},resumeTimer:function(){return je.timeout&&je.timeout.start()},toggleTimer:function(){var e=je.timeout;return e&&(e.running?e.stop():e.start())},increaseTimer:function(e){return je.timeout&&je.timeout.increase(e)},isTimerRunning:function(){return je.timeout&&je.timeout.isRunning()}});function We(){var e=ge.innerParams.get(this),t=ge.domCache.get(this);e.showConfirmButton||(F(t.confirmButton),e.showCancelButton||F(t.actions)),I([t.popup,t.actions],w.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}var Ke=function(){null===E.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(E.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=E.previousBodyPadding+function(){if("ontouchstart"in window||navigator.msMaxTouchPoints)return 0;var e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()+"px")},He=function(){var e,t=G();t.ontouchstart=function(r){var n;e=r.target===t||!((n=t).scrollHeight>n.clientHeight)&&"INPUT"!==r.target.tagName},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}},Ye=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Xe=function(){var e=G(),t=B();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Ze={swalPromiseResolve:new WeakMap};function qe(e,t,r,n){r?tt(e,n):(Le().then((function(){return tt(e,n)})),je.keydownTarget.removeEventListener("keydown",je.keydownHandler,{capture:je.keydownListenerCapture}),je.keydownHandlerAdded=!1),t.parentNode&&t.parentNode.removeChild(t),ne()&&(null!==E.previousBodyPadding&&(document.body.style.paddingRight=E.previousBodyPadding+"px",E.previousBodyPadding=null),function(){if(T(document.body,w.iosfix)){var e=parseInt(document.body.style.top,10);I(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),"undefined"!=typeof window&&Ye()&&window.removeEventListener("resize",Xe),p(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))),I([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"],w["toast-column"]])}function Qe(e){var t=B();if(t&&!T(t,w.hide)){var r=ge.innerParams.get(this);if(r){var n=Ze.swalPromiseResolve.get(this);I(t,w.show),P(t,w.hide),$e(this,t,r),n(e||{})}}}var $e=function(e,t,r){var n=G(),i=he&&D(t),o=r.onClose,a=r.onAfterClose;null!==o&&"function"==typeof o&&o(t),i?Je(e,t,n,a):qe(e,n,ie(),a)},Je=function(e,t,r,n){je.swalCloseEventFinishedCallback=qe.bind(null,e,r,ie(),n),t.addEventListener(he,(function(e){e.target===t&&(je.swalCloseEventFinishedCallback(),delete je.swalCloseEventFinishedCallback)}))},et=function(e){for(var t in e)e[t]=new WeakMap},tt=function(e,t){setTimeout((function(){null!==t&&"function"==typeof t&&t(),B()||function(e){delete e.params,delete je.keydownHandler,delete je.keydownTarget,et(ge),et(Ze)}(e)}))};function rt(e,t,r){var n=ge.domCache.get(e);t.forEach((function(e){n[e].disabled=r}))}function nt(e,t){if(!e)return!1;if("radio"===e.type)for(var r=e.parentNode.parentNode.querySelectorAll("input"),n=0;n<r.length;n++)r[n].disabled=t;else e.disabled=t}var it=function(){function e(r,n){t(this,e),this.callback=r,this.remaining=n,this.running=!1,this.start()}return n(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),ot={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function at(e){!function(e){e.inputValidator||Object.keys(ot).forEach((function(t){e.input===t&&(e.inputValidator=ot[t])}))}(e),e.showLoaderOnConfirm&&!e.preConfirm&&d("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=y(e.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),le(e)}function st(e,t){e.removeEventListener(he,st),t.style.overflowY="auto"}var lt,ut=function(e,t){he&&D(t)?(e.style.overflowY="hidden",t.addEventListener(he,st.bind(null,t,e))):e.style.overflowY="auto"},ct=function(e,t){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!T(document.body,w.iosfix)){var e=document.body.scrollTop;document.body.style.top=-1*e+"px",P(document.body,w.iosfix),He()}}(),"undefined"!=typeof window&&Ye()&&(Xe(),window.addEventListener("resize",Xe)),p(document.body.children).forEach((function(e){e===G()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,G())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),t&&Ke(),setTimeout((function(){e.scrollTop=0}))},ht=function(e,t,r){r.animation&&P(t,w.show),A(t),P([document.documentElement,document.body,e],w.shown),r.heightAuto&&r.backdrop&&!r.toast&&P([document.documentElement,document.body],w["height-auto"])},pt=function(e){return e.checked?1:0},dt=function(e){return e.checked?e.value:null},ft=function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null},gt=function(t,r){var n=H(),i=function(e){return yt[r.input](n,_t(e),r)};_(r.inputOptions)?(Ie(),r.inputOptions.then((function(e){t.hideLoading(),i(e)}))):"object"===e(r.inputOptions)?i(r.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(r.inputOptions)))},mt=function(e,t){var r=e.getInput();F(r),t.inputValue.then((function(n){r.value="number"===t.input?parseFloat(n)||0:n+"",A(r),r.focus(),e.hideLoading()})).catch((function(t){f("Error in inputValue promise: "+t),r.value="",A(r),r.focus(),e.hideLoading()}))},yt={select:function(e,t,r){var n=j(e,w.select);t.forEach((function(e){var t=e[0],i=e[1],o=document.createElement("option");o.value=t,o.innerHTML=i,r.inputValue.toString()===t.toString()&&(o.selected=!0),n.appendChild(o)})),n.focus()},radio:function(e,t,r){var n=j(e,w.radio);t.forEach((function(e){var t=e[0],i=e[1],o=document.createElement("input"),a=document.createElement("label");o.type="radio",o.name=w.radio,o.value=t,r.inputValue.toString()===t.toString()&&(o.checked=!0);var s=document.createElement("span");s.innerHTML=i,s.className=w.label,a.appendChild(o),a.appendChild(s),n.appendChild(a)}));var i=n.querySelectorAll("input");i.length&&i[0].focus()}},_t=function(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,r){t.push([r,e])})):Object.keys(e).forEach((function(r){t.push([r,e[r]])})),t},bt=function(e,t){var r=function(e,t){var r=e.getInput();if(!r)return null;switch(t.input){case"checkbox":return pt(r);case"radio":return dt(r);case"file":return ft(r);default:return t.inputAutoTrim?r.value.trim():r.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then((function(){return t.inputValidator(r,t.validationMessage)})).then((function(n){e.enableButtons(),e.enableInput(),n?e.showValidationMessage(n):wt(e,t,r)}))):e.getInput().checkValidity()?wt(e,t,r):(e.enableButtons(),e.showValidationMessage(t.validationMessage))},vt=function(e,t){e.closePopup({value:t})},wt=function(e,t,r){t.showLoaderOnConfirm&&Ie(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return t.preConfirm(r,t.validationMessage)})).then((function(t){N(Z())||!1===t?e.hideLoading():vt(e,void 0===t?r:t)}))):vt(e,r)},Ot=function(e,t,r){for(var n=re(),i=0;i<n.length;i++)return(t+=r)===n.length?t=0:-1===t&&(t=n.length-1),n[t].focus();B().focus()},Et=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],Tt=["Escape","Esc"],St=function(e,t,r,n){r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ct(e,t,r):"Tab"===t.key?xt(t,r):-1!==Et.indexOf(t.key)?kt():-1!==Tt.indexOf(t.key)&&Rt(t,r,n)},Ct=function(e,t,r){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(r.input))return;Re(),t.preventDefault()}},xt=function(e,t){for(var r=e.target,n=re(),i=-1,o=0;o<n.length;o++)if(r===n[o]){i=o;break}e.shiftKey?Ot(0,i,-1):Ot(0,i,1),e.stopPropagation(),e.preventDefault()},kt=function(){var e=q(),t=Q();document.activeElement===e&&N(t)?t.focus():document.activeElement===t&&N(e)&&e.focus()},Rt=function(e,t,r){y(t.allowEscapeKey)&&(e.preventDefault(),r(b.esc))},Pt=function(e,t,r){e.popup.onclick=function(){t.showConfirmButton||t.showCancelButton||t.showCloseButton||t.input||r(b.close)}},It=!1,jt=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(It=!0)}}},Lt=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(It=!0)}}},At=function(e,t,r){e.container.onclick=function(n){It?It=!1:n.target===e.container&&y(t.allowOutsideClick)&&r(b.backdrop)}},Ft=function(e,t,r){return new Promise((function(n){var i,o,a,s=function(t){e.closePopup({dismiss:t})};Ze.swalPromiseResolve.set(e,n),Nt(je,r,s),t.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?bt(e,t):wt(e,t,!0)}(e,r)},t.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(b.cancel)}(e,s)},t.closeButton.onclick=function(){return s(b.close)},function(e,t,r){t.toast?Pt(e,t,r):(jt(e),Lt(e),At(e,t,r))}(t,r,s),function(e,t,r,n){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),r.toast||(t.keydownHandler=function(t){return St(e,t,r,n)},t.keydownTarget=r.keydownListenerCapture?window:B(),t.keydownListenerCapture=r.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(e,je,r,s),r.toast&&(r.input||r.footer||r.showCloseButton)?P(document.body,w["toast-column"]):I(document.body,w["toast-column"]),function(e,t){"select"===t.input||"radio"===t.input?gt(e,t):-1!==["text","email","number","tel","textarea"].indexOf(t.input)&&_(t.inputValue)&&mt(e,t)}(e,r),i=r,o=G(),a=B(),"function"==typeof i.onBeforeOpen&&i.onBeforeOpen(a),ht(o,a,i),ut(o,a),ne()&&ct(o,i.scrollbarPadding),ie()||je.previousActiveElement||(je.previousActiveElement=document.activeElement),"function"==typeof i.onOpen&&setTimeout((function(){return i.onOpen(a)})),Dt(t,r),t.container.scrollTop=0}))},Mt=function(e){var t={popup:B(),container:G(),content:H(),actions:$(),confirmButton:q(),cancelButton:Q(),closeButton:te(),validationMessage:Z(),progressSteps:X()};return ge.domCache.set(e,t),t},Nt=function(e,t,r){t.timer&&(e.timeout=new it((function(){r("timer"),delete e.timeout}),t.timer))},Dt=function(e,t){if(!t.toast)return y(t.allowEnterKey)?t.focusCancel&&N(e.cancelButton)?e.cancelButton.focus():t.focusConfirm&&N(e.confirmButton)?e.confirmButton.focus():void Ot(0,-1,1):Gt()},Gt=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Ut=Object.freeze({hideLoading:We,disableLoading:We,getInput:function(e){var t=ge.innerParams.get(e||this),r=ge.domCache.get(e||this);return r?C(r.content,t.input):null},close:Qe,closePopup:Qe,closeModal:Qe,closeToast:Qe,enableButtons:function(){rt(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){rt(this,["confirmButton","cancelButton"],!0)},enableConfirmButton:function(){m("Swal.enableConfirmButton()","Swal.getConfirmButton().removeAttribute('disabled')"),rt(this,["confirmButton"],!1)},disableConfirmButton:function(){m("Swal.disableConfirmButton()","Swal.getConfirmButton().setAttribute('disabled', '')"),rt(this,["confirmButton"],!0)},enableInput:function(){return nt(this.getInput(),!1)},disableInput:function(){return nt(this.getInput(),!0)},showValidationMessage:function(e){var t=ge.domCache.get(this);t.validationMessage.innerHTML=e;var r=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(r.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(r.getPropertyValue("padding-right")),A(t.validationMessage);var n=this.getInput();n&&(n.setAttribute("aria-invalid",!0),n.setAttribute("aria-describedBy",w["validation-message"]),k(n),P(n,w.inputerror))},resetValidationMessage:function(){var e=ge.domCache.get(this);e.validationMessage&&F(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),I(t,w.inputerror))},getProgressSteps:function(){return m("Swal.getProgressSteps()","const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"),ge.innerParams.get(this).progressSteps},setProgressSteps:function(e){m("Swal.setProgressSteps()","Swal.update()");var t=i({},ge.innerParams.get(this),{progressSteps:e});Ce(0,t),ge.innerParams.set(this,t)},showProgressSteps:function(){var e=ge.domCache.get(this);A(e.progressSteps)},hideProgressSteps:function(){var e=ge.domCache.get(this);F(e.progressSteps)},_main:function(e){!function(e){for(var t in e)Ue(t),e.toast&&ze(t),Be()}(e),B()&&je.swalCloseEventFinishedCallback&&(je.swalCloseEventFinishedCallback(),delete je.swalCloseEventFinishedCallback),je.deferDisposalTimer&&(clearTimeout(je.deferDisposalTimer),delete je.deferDisposalTimer);var t=i({},Ae,e);at(t),Object.freeze(t),je.timeout&&(je.timeout.stop(),delete je.timeout),clearTimeout(je.restoreFocusTimeout);var r=Mt(this);return ke(this,t),ge.innerParams.set(this,t),Ft(this,r,t)},update:function(e){var t=B();if(!t||T(t,w.hide))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(e).forEach((function(t){Bt.isUpdatableParameter(t)?r[t]=e[t]:d('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var n=i({},ge.innerParams.get(this),r);ke(this,n),ge.innerParams.set(this,n),Object.defineProperties(this,{params:{value:i({},this.params,e),writable:!1,enumerable:!0}})}});function zt(){if("undefined"!=typeof window){"undefined"==typeof Promise&&f("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),lt=this;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:n,writable:!1,enumerable:!0,configurable:!0}});var i=this._main(this.params);ge.promise.set(this,i)}}zt.prototype.then=function(e){return ge.promise.get(this).then(e)},zt.prototype.finally=function(e){return ge.promise.get(this).finally(e)},i(zt.prototype,Ut),i(zt,Ve),Object.keys(Ut).forEach((function(e){zt[e]=function(){var t;if(lt)return(t=lt)[e].apply(t,arguments)}})),zt.DismissReason=b,zt.version="8.19.0";var Bt=zt;return Bt.default=Bt,Bt}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var r=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=t);else try{r.innerHTML=t}catch(e){r.innerText=t}}(document,'@charset "UTF-8";.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon::before{display:flex;align-items:center;font-size:2em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon::before{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 .0625em #fff,0 0 0 .125em rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;background-color:transparent;-webkit-overflow-scrolling:touch}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-container.swal2-shown{background-color:rgba(0,0,0,.4)}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:inherit}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:inherit;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon::before{display:flex;align-items:center;height:92%;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning::before{content:"!"}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info::before{content:"i"}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question::before{content:"?"}.swal2-icon.swal2-question.swal2-arabic-question-mark::before{content:"؟"}.swal2-icon.swal2-success{border-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.875em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-show.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-hide.swal2-noanimation{-webkit-animation:none;animation:none}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-animate-success-icon .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-animate-success-icon .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-animate-success-icon .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-animate-error-icon{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-animate-error-icon .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.875em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-shown{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent}body.swal2-no-backdrop .swal2-shown>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-shown.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-top-left,body.swal2-no-backdrop .swal2-shown.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-top-end,body.swal2-no-backdrop .swal2-shown.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-shown.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-left,body.swal2-no-backdrop .swal2-shown.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-center-end,body.swal2-no-backdrop .swal2-shown.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-shown.swal2-bottom-left,body.swal2-no-backdrop .swal2-shown.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-shown.swal2-bottom-end,body.swal2-no-backdrop .swal2-shown.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-shown{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0;var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=f(r(251)),a=f(r(257)),s=r(328),l=r(229),u=((n=l)&&n.__esModule,r(7)),c=r(177),h=r(327),p=r(326),d=r(1);
/*
                                                                                                                                                                                                                                                                               * This file is part of con4gis,
                                                                                                                                                                                                                                                                               * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * @package    con4gis
                                                                                                                                                                                                                                                                               * @version    6
                                                                                                                                                                                                                                                                               * @author     con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                               * @license    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                               * @copyright  Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                               * @link       https://www.con4gis.org
                                                                                                                                                                                                                                                                               */function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var g=o;g="undefined"!=typeof mapData?"de"===mapData.lang?o:(mapData.lang,a):a;t.utils={capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},getUniqueId:function(){return"_"+Math.random().toString(36).substr(2,9)},encodeGeoJsonProperty:function(e){return e?e.replace(/\\/g,"\\\\").replace(/\"/g,"''").replace(/Ä/g,"&Auml;").replace(/ä/g,"&auml;").replace(/Ö/g,"&Ouml;").replace(/ö/g,"&ouml;").replace(/Ü/g,"&Uuml;").replace(/ü/g,"&uuml;"):""},removeUmlauts:function(e){return e?e.toLowerCase().replace(/\s/g,"").replace(/\\/g,"\\\\").replace(/\"/g,"''").replace(/ä/g,"ae").replace(/ö/g,"oe").replace(/ü/g,"ue").replace(/ß/g,"ss"):""},decodeGeoJsonProperty:function(e){return e?("string"!=typeof e&&(e+=""),e.replace(/\\\\/g,"\\").replace(/\'\'/g,'"').replace(/&Auml;/g,"Ä").replace(/&auml;/g,"ä").replace(/&Ouml;/g,"Ö").replace(/&ouml;/g,"ö").replace(/&Uuml;/g,"Ü;").replace(/&uuml;/g,"ü")):""},setUrlParam:function(e,t,r){var n,o,a;if(void 0===(void 0===e?"undefined":i(e)))return!1;if(n=location.origin+location.pathname,t){if(location.search?(a=!1,t=t.toLowerCase(),o=location.search.replace(/([^=\?\&]+)=([^&]+)/gi,(function(r,n,i,o,s){return n===t?(a=!0,n+"="+e):r})),a||(o+="&"+t+"="+e)):o="?"+t+"="+e,r)return location.search=o,!0;n+=o+location.hash}else{if(r)return location.hash=e,!0;n+=location.search+"#"+e}return n},getUrlParam:function(e){var t;return t=e?location.search&&(t=new RegExp("[?&]"+e+"=([^&]+)","i").exec(location.search))?t[1]:"":location.hash.substring(1)},deltaEncode:function(e){var t,r;if(!e)return[];if(1===e.length)return e;for(e.sort((function(e,t){return e-t})),(t=[])[0]=e[0],r=1;r<e.length;r+=1)t[r]=e[r]-e[r-1];return t},deltaDecode:function(e){var t,r;if(!e)return[];if((t=[])[0]=parseInt(e[0],10),isNaN(e[0]))return[];for(r=1;r<e.length;r+=1)if(t[r]=parseInt(e[r],10)+t[r-1],isNaN(t[r]))return[];return t},callHookFunctions:function(e,t){var r;if(e&&e.length>0)for(r=0;r<e.length;r+=1)"function"==typeof e[r]&&e[r](t)},getRgbaFromHexAndOpacity:function(e,t,r){var n,o,a,s,l;return n=parseInt(e,16),t&&t.value&&(t.value=parseInt(t.value)),t&&"number"!=typeof t&&(t="object"===(void 0===t?"undefined":i(t))&&t.value?t.value:100),o=n>>16&255,a=n>>8&255,s=255&n,l=t?t/100:1,r?[o,a,s,l]:"rgba("+o+","+a+","+s+","+l+")"},measureGeometry:function(e,t,r){var n,i,o,a,s;if(!e)return!1;if(a={},"LineString"===e.getType()||"Polygon"===e.getType()&&t){for(n=e.getCoordinates(),"Polygon"===e.getType()&&(n=n[0]),d=0,s=0;s<n.length-1;s+=1)i=(0,u.transform)(n[s],"EPSG:3857","EPSG:4326"),o=(0,u.transform)(n[s+1],"EPSG:3857","EPSG:4326"),d+=(0,c.getDistance)(i,o,6378137);a.rawValue=(Math.round(100*d)/100).toFixed(2),a.htmlValue=d>1e3?(Math.round(d/1e3*100)/100).toFixed(2)+" km":a.rawValue+" m"}else if("Polygon"===e.getType())d=Math.abs((0,c.getArea)(e)),a.rawValue=(Math.round(100*d)/100).toFixed(2),a.htmlValue=d>1e4?(Math.round(d/1e6*100)/100).toFixed(2)+" km<sup>2</sup>":a.rawValue+" m<sup>2</sup>";else if("Circle"===e.getType()&&r){var l=e.getCenter(),h=e.getRadius(),p=[l[0]+h,l[1]],d=(0,c.getDistance)((0,u.transform)(l,"EPSG:3857","EPSG:4326"),(0,u.transform)(p,"EPSG:3857","EPSG:4326"),6378137);d=Math.PI*Math.sqrt(d),a.rawValue=(Math.round(100*d)/100).toFixed(2),a.htmlValue=d>1e4?(Math.round(d/1e6*100)/100).toFixed(2)+" km<sup>2</sup>":a.rawValue+" m<sup>2</sup>"}else if("Circle"===e.getType()){l=e.getCenter(),h=e.getRadius(),p=[l[0]+h,l[1]],d=(0,c.getDistance)((0,u.transform)(l,"EPSG:3857","EPSG:4326"),(0,u.transform)(p,"EPSG:3857","EPSG:4326"),6378137);a.rawValue=(Math.round(100*d)/100).toFixed(2),a.rawValue>1e4?a.htmlValue=(Math.round(100*d/100)/1e3).toFixed(2)+" km":a.htmlValue=a.rawValue+" m"}else a=0;return a},getExtentForGeometries:function(e){var t;return e?((t=new p.Vector).addFeatures(e),t.getExtent()||(0,h.Extent)([0,0,0,0])):(console.warn("Geometries missing for extent calculation"),!1)},fitToExtents:function(e,t,r,n){var i,o;if(!e||!t)return console.warn("Missing extent or map for fitExtent"),!1;for(o in e)e.hasOwnProperty(o)&&(void 0===i?i=e[o]:(0,d.extend)(i,e[o]));this.fitToExtent(i,t,r,5,0,0,2)},fitToExtent:function(e,t,r,n,i,o,a){var s,l;if(!e||!t)return console.warn("Missing extent or map for fitExtent"),!1;s=t.getView(),l={padding:r||[25,25,25,25]},a&&a>0&&(l.minResolution=a),i&&i>=0&&(l.minZoom=i),o&&o>=0&&(l.maxZoom=o),n&&n>0&&s.animate({start:+new Date,duration:n,resolution:s.getResolution(),center:[0,0]});try{return s.fit(e,t.getSize(),{padding:[25,25,25,25]}),!0}catch(e){return!1}},replaceAllPlaceholders:function(e,t,r,n){var i;return e&&t?(i=this.replaceFunctionPlaceholders(e,t,r,n),i=this.replaceEditorVarsPlaceholders(i,t),i=this.replaceAttributePlaceholders(i,t)):e},replaceFunctionPlaceholders:function(e,t,r,n){return e&&t&&r?(g="de"===n||"de-DE"===n?o:a,e.replace(/\$\{FN([^\}]*)\}/g,(function(e,n,i,o){var a;if("function"==typeof g[n]){if("function"==typeof t.getStyle&&t.getStyle()&&"function"==typeof t.getStyle())a=t.getStyle();else{if("function"!=typeof r.getStyle||!r.getStyle())return"";a=r.getStyle()}return g[n](t,a)}return""}))):e},replaceEditorVarsPlaceholders:function(e,t){return e&&t&&"function"==typeof t.get?e.replace(/\$\{(EV?[LV])([^\}]*)\}/g,(function(e,r,n,i,o){var a,s;if(t.get("editorVars"))for(a=t.get("editorVars"),s=0;s<a.length;s+=1)if(a[s].key===n)return"EL"===r||"EVL"===r&&a[s].value?a[s].label:a[s].value;return""})):e},replaceAttributePlaceholders:function(e,t){return e&&t&&"function"==typeof t.get?e.replace(/\$\{([^\}]*)\}/g,(function(e,r,n,i){return t.get(r)||""})):e},objectToArray:function(e){return e&&"object"===(void 0===e?"undefined":i(e))&&(e=Object.keys(e).map((function(t){return e[t]}))),e},getVectorLayer:function(e,t,r){var n;return"function"==typeof t?n=t:void 0!==t&&(n=function(){return t}),new s.Vector({source:e,style:n,zIndex:r})},getCurrentSubdomain:function(){return window.location.href},getCurrentDomain:function(){var e=window.location.hostname.split(".");return e.length>2?e[e.length-2]:e[0]},getValue:function(e){return localStorage[e]||""},storeValue:function(e,t){localStorage[e]=t}}},function(e,t,r){"use strict";r.r(t);var n=r(191);r.d(t,"Circle",(function(){return n.a}));var i=r(95);r.d(t,"Fill",(function(){return i.a}));var o=r(183);r.d(t,"Icon",(function(){return o.a}));var a=r(205);r.d(t,"IconImage",(function(){return a.a}));var s=r(172);r.d(t,"Image",(function(){return s.a}));var l=r(204);r.d(t,"RegularShape",(function(){return l.a}));var u=r(98);r.d(t,"Stroke",(function(){return u.a}));var c=r(67);r.d(t,"Style",(function(){return c.c}));var h=r(152);r.d(t,"Text",(function(){return h.a}))},function(e,t,r){"use strict";var n,i=r(5),o=r(63),a=r(61),s=r(36),l=r(116),u=r(25),c=r(9),h=r(11),p=r(1),d=r(217),f=r(22),g=r(52),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y="layers",_=function(e){function t(t){var r=this,n=t||{},i=Object(f.a)({},n);delete i.layers;var a=n.layers;return(r=e.call(this,i)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener(Object(s.b)(y),r.handleLayersChanged_),a?Array.isArray(a)?a=new o.a(a.slice(),{unique:!0}):Object(u.a)("function"==typeof a.getArray,43):a=new o.a(void 0,{unique:!0}),r.setLayers(a),r}return m(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(c.a)(e,a.a.ADD,this.handleLayersAdd_,this),Object(c.a)(e,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(c.c);Object(f.b)(this.listenerKeys_);for(var r=e.getArray(),n=0,o=r.length;n<o;n++){var s=r[n];this.listenerKeys_[Object(i.c)(s)]=[Object(c.a)(s,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(c.a)(s,h.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.listenerKeys_[Object(i.c)(t)]=[Object(c.a)(t,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(c.a)(t,h.a.CHANGE,this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,r=Object(i.c)(t);this.listenerKeys_[r].forEach(c.c),delete this.listenerKeys_[r],this.changed()},t.prototype.getLayers=function(){return this.get(y)},t.prototype.setLayers=function(e){this.set(y,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));for(var n=this.getLayerState(),i=r,o=t.length;i<o;i++){var a=t[i];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=Object(p.getIntersection)(a.extent,n.extent):a.extent=n.extent)}return t},t.prototype.getSourceState=function(){return g.a.READY},t}(d.a);t.a=_},function(e,t,r){"use strict";var n,i=r(135),o=r(105),a=r(32),s=r(31),l=r(24),u=r(172),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return(r=e.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==t.rotation?t.rotation:0,scale:1})||this).canvas_=null,r.hitDetectionCanvas_=null,r.fill_=void 0!==t.fill?t.fill:null,r.origin_=[0,0],r.points_=t.points,r.radius_=void 0!==t.radius?t.radius:t.radius1,r.radius2_=t.radius2,r.angle_=void 0!==t.angle?t.angle:0,r.stroke_=void 0!==t.stroke?t.stroke:null,r.anchor_=null,r.size_=null,r.imageSize_=null,r.hitDetectionImageSize_=null,r.render(),r}return c(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_},t.prototype.getImage=function(e){return this.canvas_},t.prototype.getImageSize=function(){return this.imageSize_},t.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},t.prototype.getImageState=function(){return s.a.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.render=function(){var e,t=l.d,r=l.g,n=0,i=null,s=0,u=0;this.stroke_&&(null===(e=this.stroke_.getColor())&&(e=l.k),e=Object(o.a)(e),void 0===(u=this.stroke_.getWidth())&&(u=l.h),i=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset(),void 0===(r=this.stroke_.getLineJoin())&&(r=l.g),void 0===(t=this.stroke_.getLineCap())&&(t=l.d),void 0===(n=this.stroke_.getMiterLimit())&&(n=l.i));var c=2*(this.radius_+u)+1,h={strokeStyle:e,strokeWidth:u,size:c,lineCap:t,lineDash:i,lineDashOffset:s,lineJoin:r,miterLimit:n},p=Object(a.a)(c,c);this.canvas_=p.canvas;var d=c=this.canvas_.width;this.draw_(h,p,0,0),this.createHitDetectionCanvas_(h),this.anchor_=[c/2,c/2],this.size_=[c,c],this.imageSize_=[d,d]},t.prototype.draw_=function(e,t,r,n){var i,a,s;t.setTransform(1,0,0,1,0,0),t.translate(r,n),t.beginPath();var u=this.points_;if(u===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),i=0;i<=u;i++)a=2*i*Math.PI/u-Math.PI/2+this.angle_,s=i%2==0?this.radius_:c,t.lineTo(e.size/2+s*Math.cos(a),e.size/2+s*Math.sin(a))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=l.b),t.fillStyle=Object(o.a)(h),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},t.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var t=this.fill_.getColor(),r=0;if("string"==typeof t&&(t=Object(i.a)(t)),null===t?r=1:Array.isArray(t)&&(r=4===t.length?t[3]:1),0===r){var n=Object(a.a)(e.size,e.size);this.hitDetectionCanvas_=n.canvas,this.drawHitDetectionCanvas_(e,n,0,0)}}},t.prototype.drawHitDetectionCanvas_=function(e,t,r,n){t.setTransform(1,0,0,1,0,0),t.translate(r,n),t.beginPath();var i=this.points_;if(i===1/0)t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,u=void 0;for(a=0;a<=i;a++)u=2*a*Math.PI/i-Math.PI/2+this.angle_,s=a%2==0?this.radius_:o,t.lineTo(e.size/2+s*Math.cos(u),e.size/2+s*Math.sin(u))}t.fillStyle=l.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},t}(u.a);t.a=h},function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var n,i=r(32),o=r(114),a=r(12),s=r(31),l=r(187),u=r(100),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t,r,n,i,o,a){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=n,s.src_=r,s.tainted_,s}return c(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===s.a.LOADED){this.tainted_=!1;var e=Object(i.a)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(e){this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(a.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=s.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=s.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],r=this.size_[1],n=Object(i.a)(t,r);n.fillRect(0,0,t,r),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==s.a.IDLE){this.imageState_=s.a.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=Object(u.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),r=t.data,n=this.color_[0]/255,i=this.color_[1]/255,o=this.color_[2]/255,a=0,s=r.length;a<s;a+=4)r[a]*=n,r[a+1]*=i,r[a+2]*=o;e.putImageData(t,0,0)}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(o.a);function p(e,t,r,n,i,o){var a=l.a.get(t,n,o);return a||(a=new h(e,t,r,n,i,o),l.a.set(t,n,o,a)),a}t.a=h},function(e,t,r){"use strict";var n=function(){function e(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var n=this.points_[t+2]-this.points_[r+2];if(n<1e3/60)return!1;var i=this.points_[t]-this.points_[r],o=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}();t.a=n},function(e,t,r){"use strict";var n,i=r(4),o=r(59),a=r(62),s=r(38),l=r(137),u=r(19),c=r(13),h=r(12),p=r(0),d=r(244),f=r(8),g=r(53),m=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y="layers",_=function(e){function t(t){var r=this,n=t||{},i=Object(f.a)({},n);delete i.layers;var a=n.layers;return(r=e.call(this,i)||this).layersListenerKeys_=[],r.listenerKeys_={},r.addEventListener(Object(s.b)(y),r.handleLayersChanged_),a?Array.isArray(a)?a=new o.a(a.slice(),{unique:!0}):Object(u.a)("function"==typeof a.getArray,43):a=new o.a(void 0,{unique:!0}),r.setLayers(a),r}return m(t,e),t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c.c),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(Object(c.a)(e,a.a.ADD,this.handleLayersAdd_,this),Object(c.a)(e,a.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(c.c);Object(f.b)(this.listenerKeys_);for(var r=e.getArray(),n=0,o=r.length;n<o;n++){var s=r[n];this.listenerKeys_[Object(i.c)(s)]=[Object(c.a)(s,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(c.a)(s,h.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},t.prototype.handleLayersAdd_=function(e){var t=e.element;this.listenerKeys_[Object(i.c)(t)]=[Object(c.a)(t,l.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(c.a)(t,h.a.CHANGE,this.handleLayerChange_,this)],this.changed()},t.prototype.handleLayersRemove_=function(e){var t=e.element,r=Object(i.c)(t);this.listenerKeys_[r].forEach(c.c),delete this.listenerKeys_[r],this.changed()},t.prototype.getLayers=function(){return this.get(y)},t.prototype.setLayers=function(e){this.set(y,e)},t.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach((function(e){e.getLayersArray(t)})),t},t.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));for(var n=this.getLayerState(),i=r,o=t.length;i<o;i++){var a=t[i];a.opacity*=n.opacity,a.visible=a.visible&&n.visible,a.maxResolution=Math.min(a.maxResolution,n.maxResolution),a.minResolution=Math.max(a.minResolution,n.minResolution),a.minZoom=Math.max(a.minZoom,n.minZoom),a.maxZoom=Math.min(a.maxZoom,n.maxZoom),void 0!==n.extent&&(void 0!==a.extent?a.extent=Object(p.getIntersection)(a.extent,n.extent):a.extent=n.extent)}return t},t.prototype.getSourceState=function(){return g.a.READY},t}(d.a);t.a=_},function(e,t,r){"use strict";var n,i=r(4),o=r(101),a=r(32),s=r(13),l=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),u=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.hitDetectionImageData=null,s.replayState_={},s.wantedResolution,s.getSourceTiles=o.bind(s,s),s.removeSourceTiles_=a,s.sourceTileGrid_=i,s.sourceTileListenerKeys=[],s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=n,s}return l(t,e),t.prototype.disposeInternal=function(){for(var t in this.sourceTileListenerKeys.forEach(s.c),this.sourceTileListenerKeys.length=0,this.removeSourceTiles_(this),this.context_){var r=this.context_[t].canvas;r.width=0,r.height=0}for(var t in this.executorGroups)for(var n=this.executorGroups[t],i=0,o=n.length;i<o;++i)n[i].disposeInternal();e.prototype.disposeInternal.call(this)},t.prototype.getContext=function(e){var t=Object(i.c)(e);return t in this.context_||(this.context_[t]=Object(a.a)()),this.context_[t]},t.prototype.hasContext=function(e){return Object(i.c)(e)in this.context_},t.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},t.prototype.getReplayState=function(e){var t=Object(i.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[t]},t.prototype.load=function(){this.getSourceTiles()},t}(o.a);t.a=u},function(e,t,r){"use strict";var n,i=r(101),o=r(16),a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.consumers=0,s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=n,s}return a(t,e),t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.getKey=function(){return this.url_},t.prototype.load=function(){this.state==o.a.IDLE&&(this.setState(o.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(e,t){this.setFeatures(e)},t.prototype.onError=function(){this.setState(o.a.ERROR)},t.prototype.setFeatures=function(e){this.features_=e,this.setState(o.a.LOADED)},t.prototype.setLoader=function(e){this.loader_=e},t}(i.a);t.a=s},function(e,t,r){"use strict";r.r(t);var n,i=r(59),o=r(206),a=r(40),s=r(38),l=r(87),u="active",c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function h(e,t,r,n){var i=e.getZoom();if(void 0!==i){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:r,duration:void 0!==n?n:250,easing:l.b})}}var p=function(e){function t(t){var r=e.call(this)||this;return t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return c(t,e),t.prototype.getActive=function(){return this.get(u)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(u,e)},t.prototype.setMap=function(e){this.map_=e},t}(s.a),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function f(e){var t=!1;if(e.type==a.a.DBLCLICK){var r=e.originalEvent,n=e.map,i=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_;h(n.getView(),o,i,this.duration_),e.preventDefault(),t=!0}return!t}var g=function(e){function t(t){var r=e.call(this,{handleEvent:f})||this,n=t||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return d(t,e),t}(p),m=r(33),y=r(19),_=r(35),b=r(89),v=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},w=function(e){return e.target.getTargetElement()===document.activeElement},O=_.b,E=function(e){var t=e.originalEvent;return 0==t.button&&!(b.e&&b.d&&t.ctrlKey)},T=_.a,S=function(e){return e.type==a.a.SINGLECLICK},C=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},x=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},k=function(e){var t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},R=function(e){var t=e.pointerEvent;return Object(y.a)(void 0!==t,56),"mouse"==t.pointerType},P=function(e){var t=e.pointerEvent;return Object(y.a)(void 0!==t,56),t.isPrimary&&0===t.button},I=r(8),j=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function L(e){for(var t=e.length,r=0,n=0,i=0;i<t;i++)r+=e[i].clientX,n+=e[i].clientY;return[r/t,n/t]}var A=function(e){function t(t){var r=this,n=t||{};return r=e.call(this,n)||this,n.handleDownEvent&&(r.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(r.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(r.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(r.handleUpEvent=n.handleUpEvent),n.stopDown&&(r.stopDown=n.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return j(t,e),t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.pointerEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==a.a.POINTERDRAG)this.handleDragEvent(e);else if(e.type==a.a.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==a.a.POINTERDOWN){var n=this.handleDownEvent(e);n&&e.preventDefault(),this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==a.a.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(function(e){var t=e.type;return t===a.a.POINTERDOWN||t===a.a.POINTERDRAG||t===a.a.POINTERUP}(e)){var t=e.pointerEvent,r=t.pointerId.toString();e.type==a.a.POINTERUP?delete this.trackedPointers_[r]:e.type==a.a.POINTERDOWN?this.trackedPointers_[r]=t:r in this.trackedPointers_&&(this.trackedPointers_[r]=t),this.targetPointers=Object(I.c)(this.trackedPointers_)}},t}(p),F=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function M(e){return C(e)&&P(e)}var N=function(e){function t(t){var r=e.call(this,{stopDown:_.a})||this,n=t||{};return r.kinetic_=n.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1,r.condition_=n.condition?n.condition:M,r.noKinetic_=!1,r}return F(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,r=L(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],i=e.map.getView();Object(m.h)(n,i.getResolution()),Object(m.g)(n,i.getRotation()),i.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=t.length},t.prototype.handleUpEvent=function(e){var t=e.map,r=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(i),a[1]-n*Math.sin(i)]);r.animateInternal({center:r.getConstrainedCenter(s),duration:500,easing:l.b})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(A),D=r(139),G=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{stopDown:_.a})||this).condition_=n.condition?n.condition:v,r.lastAngle_=void 0,r.duration_=void 0!==n.duration?n.duration:250,r}return G(t,e),t.prototype.handleDragEvent=function(e){if(R(e)){var t=e.map,r=t.getView();if(r.getConstraints().rotation!==D.c){var n=t.getSize(),i=e.pixel,o=Math.atan2(n[1]/2-i[1],i[0]-n[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=o}}},t.prototype.handleUpEvent=function(e){return!R(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!(!E(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(A),z=r(0),B=r(51),V=r(99),W=r(41),K=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(e){function t(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return K(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,r=this.element_.style;r.left=Math.min(e[0],t[0])+"px",r.top=Math.min(e[1],t[1])+"px",r.width=Math.abs(t[0]-e[0])+"px",r.height=Math.abs(t[1]-e[1])+"px"},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new W.b([r])},t.prototype.getGeometry=function(){return this.geometry_},t}(V.a),Y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X="boxstart",Z="boxdrag",q="boxend",Q=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=n,i}return Y(t,e),t}(B.a),$=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.box_=new H(n.className||"ol-dragbox"),r.minArea_=void 0!==n.minArea?n.minArea:64,r.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:_.c,r.startPixel_=null,r.condition_=n.condition?n.condition:O,r.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:r.defaultBoxEndCondition,r}return Y(t,e),t.prototype.defaultBoxEndCondition=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1];return n*n+i*i>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){R(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Q(Z,e.coordinate,e)))},t.prototype.handleUpEvent=function(e){return!R(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd_(e),this.dispatchEvent(new Q(q,e.coordinate,e))),!1)},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!(!E(e)||!this.condition_(e))&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Q(X,e.coordinate,e)),!0))},t}(A),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ee(){var e=this.getMap(),t=e.getView(),r=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtentInternal(r),o=Object(z.createOrUpdateFromCoordinates)([e.getPixelFromCoordinateInternal(Object(z.getBottomLeft)(n)),e.getPixelFromCoordinateInternal(Object(z.getTopRight)(n))]),a=t.getResolutionForExtentInternal(o,r);Object(z.scaleFromCenter)(i,1/a),n=i}var s=t.getConstrainedResolution(t.getResolutionForExtentInternal(n,r)),u=t.getConstrainedCenter(Object(z.getCenter)(n),s);t.animateInternal({resolution:s,center:u,duration:this.duration_,easing:l.b})}var te=function(e){function t(t){var r=this,n=t||{},i=n.condition?n.condition:x;return(r=e.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea,onBoxEnd:ee})||this).duration_=void 0!==n.duration?n.duration:200,r.out_=void 0!==n.out&&n.out,r}return J(t,e),t}($),re=r(12),ne=37,ie=38,oe=39,ae=40,se=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function le(e){var t=!1;if(e.type==re.a.KEYDOWN){var r=e.originalEvent.keyCode;if(this.condition_(e)&&(r==ae||r==ne||r==oe||r==ie)){var n=e.map.getView(),i=n.getResolution()*this.pixelDelta_,o=0,a=0;r==ae?a=-i:r==ne?o=-i:r==oe?o=i:a=i;var s=[o,a];Object(m.g)(s,n.getRotation()),function(e,t,r){var n=e.getCenterInternal();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==r?r:250,easing:l.d,center:e.getConstrainedCenter(i)})}}(n,s,this.duration_),e.preventDefault(),t=!0}}return!t}var ue=function(e){function t(t){var r=e.call(this,{handleEvent:le})||this,n=t||{};return r.defaultCondition_=function(e){return C(e)&&k(e)},r.condition_=void 0!==n.condition?n.condition:r.defaultCondition_,r.duration_=void 0!==n.duration?n.duration:100,r.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,r}return se(t,e),t}(p),ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function he(e){var t=!1;if(e.type==re.a.KEYDOWN||e.type==re.a.KEYPRESS){var r=e.originalEvent.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=e.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_;h(n.getView(),i,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}var pe=function(e){function t(t){var r=e.call(this,{handleEvent:he})||this,n=t||{};return r.condition_=n.condition?n.condition:k,r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:100,r}return ce(t,e),t}(p),de=r(17),fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge="trackpad",me="wheel",ye=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,r.duration_=void 0!==n.duration?n.duration:250,r.timeout_=void 0!==n.timeout?n.timeout:80,r.useAnchor_=void 0===n.useAnchor||n.useAnchor,r.condition_=n.condition?n.condition:O,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.trackpadDeltaPerZoom_=300,r}return fe(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==re.a.WHEEL)return!0;e.preventDefault();var t,r=e.map,n=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==re.a.WHEEL&&(t=n.deltaY,b.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=b.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var i=Date.now();if(void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?ge:me),this.mode_===ge){var o=r.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):o.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),o.adjustZoom(-t/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1}this.totalDelta_+=t;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations(),h(t,-Object(de.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(p),_e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==n.threshold?n.threshold:.3,r.duration_=void 0!==n.duration?n.duration:250,r}return _e(t,e),t.prototype.handleDragEvent=function(e){var t=0,r=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=o}this.lastAngle_=i;var a=e.map,s=a.getView();if(s.getConstraints().rotation!==D.c){var l=a.getViewport().getBoundingClientRect(),u=L(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(A),ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),we=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).anchor_=null,r.duration_=void 0!==n.duration?n.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return ve(t,e),t.prototype.handleDragEvent=function(e){var t=1,r=this.targetPointers[0],n=this.targetPointers[1],i=r.clientX-n.clientX,o=r.clientY-n.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t);var u=s.getViewport().getBoundingClientRect(),c=L(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(A),Oe=r(13),Ee=r(3),Te=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se="addfeatures",Ce=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.features=n,o.file=r,o.projection=i,o}return Te(t,e),t}(B.a);function xe(e){for(var t=e.dataTransfer.files,r=0,n=t.length;r<n;++r){var i=t.item(r),o=new FileReader;o.addEventListener(re.a.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function ke(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}var Re=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{handleEvent:_.b})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],r.projection_=n.projection?Object(Ee.get)(n.projection):null,r.dropListenKeys_=null,r.source_=n.source||null,r.target=n.target?n.target:null,r}return Te(t,e),t.prototype.handleResult_=function(e,t){var r=t.target.result,n=this.getMap(),i=this.projection_;i||(i=n.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var u=new o[s];if((a=this.tryReadFeatures_(u,r,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new Ce(Se,e,a,i))},t.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(Oe.a)(t,re.a.DROP,xe,this),Object(Oe.a)(t,re.a.DRAGENTER,ke,this),Object(Oe.a)(t,re.a.DRAGOVER,ke,this),Object(Oe.a)(t,re.a.DROP,ke,this)]}},t.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.unregisterListeners_(),e.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},t.prototype.tryReadFeatures_=function(e,t,r){try{return e.readFeatures(t,r)}catch(e){return null}},t.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(Oe.c),this.dropListenKeys_=null)},t}(p),Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).condition_=n.condition?n.condition:x,r.lastAngle_=void 0,r.lastMagnitude_=void 0,r.lastScaleDelta_=0,r.duration_=void 0!==n.duration?n.duration:400,r}return Pe(t,e),t.prototype.handleDragEvent=function(e){if(R(e)){var t=e.map,r=t.getSize(),n=e.pixel,i=n[0]-r[0]/2,o=r[1]/2-n[1],a=Math.atan2(o,i),s=Math.sqrt(i*i+o*o),l=t.getView();if(void 0!==this.lastAngle_){var u=this.lastAngle_-a;l.adjustRotationInternal(u)}this.lastAngle_=a,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/s),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/s),this.lastMagnitude_=s}},t.prototype.handleUpEvent=function(e){if(!R(e))return!0;var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),this.lastScaleDelta_=0,!1},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},t}(A),je=r(46),Le=r(122),Ae=r(192),Fe=r(2),Me=r(47),Ne=r(64),De=r(71),Ge=r(72),Ue=r(45),ze=r(107),Be=r(106),Ve=r(67),We=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ke="Point",He="LineString",Ye="Polygon",Xe="Circle",Ze="drawstart",qe="drawend",Qe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return We(t,e),t}(B.a);var $e=function(e){function t(t){var r=this,n=t;n.stopDown||(n.stopDown=_.a),(r=e.call(this,n)||this).shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.freehand_=!1,r.source_=t.source?t.source:null,r.features_=t.features?t.features:null,r.snapTolerance_=t.snapTolerance?t.snapTolerance:12,r.type_=t.type,r.mode_=function(e){var t;e===Fe.a.POINT||e===Fe.a.MULTI_POINT?t=Ke:e===Fe.a.LINE_STRING||e===Fe.a.MULTI_LINE_STRING?t=He:e===Fe.a.POLYGON||e===Fe.a.MULTI_POLYGON?t=Ye:e===Fe.a.CIRCLE&&(t=Xe);return(t)}(r.type_),r.stopClick_=!!t.stopClick,r.minPoints_=t.minPoints?t.minPoints:r.mode_===Ye?3:2,r.maxPoints_=t.maxPoints?t.maxPoints:1/0,r.finishCondition_=t.finishCondition?t.finishCondition:_.b;var i,o=t.geometryFunction;if(!o)if(r.type_===Fe.a.CIRCLE)o=function(e,t){var r=t||new Ae.a([NaN,NaN]),n=Object(m.i)(e[0],e[1]);return r.setCenterAndRadius(e[0],Math.sqrt(n)),r};else{var a,l=r.mode_;l===Ke?a=Ue.a:l===He?a=Me.a:l===Ye&&(a=W.b),o=function(e,t){var r=t;return r?l===Ye?e[0].length?r.setCoordinates([e[0].concat([e[0][0]])]):r.setCoordinates([]):r.setCoordinates(e):r=new a(e),r}}return r.geometryFunction_=o,r.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,r.overlay_=new ze.a({source:new Be.a({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=Object(Ve.b)(),function(e,t){return i[e.getGeometry().getType()]}),updateWhileInteracting:!0}),r.geometryName_=t.geometryName,r.condition_=t.condition?t.condition:C,r.freehandCondition_,t.freehand?r.freehandCondition_=O:r.freehandCondition_=t.freehandCondition?t.freehandCondition:x,r.addEventListener(Object(s.b)(u),r.updateState_),r}return We(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===re.a.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==Ke&&this.freehandCondition_(t);var r=t.type===a.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&t.type===a.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===a.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),n=!1):this.freehand_&&t.type===a.a.POINTERDOWN?n=!1:r?(n=t.type===a.a.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(t):("mouse"==t.pointerEvent.pointerType||t.type===a.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===a.a.DBLCLICK&&(n=!1),e.prototype.handleEvent.call(this,t)&&n},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Le.a(a.a.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var r=this.mode_===Xe;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===Ke&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},t.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,r=e.pixel,n=t[0]-r[0],i=t[1]-r[1],o=n*n+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var r=!1,n=[this.finishCoordinate_];if(this.mode_===He)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===Ye){var i=this.sketchCoords_;r=i[0].length>this.minPoints_,n=[i[0][0],i[0][i[0].length-2]]}if(r)for(var o=e.map,a=0,s=n.length;a<s;a++){var l=n[a],u=o.getPixelFromCoordinate(l),c=e.pixel,h=c[0]-u[0],p=c[1]-u[1],d=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(h*h+p*p)<=d){this.finishCoordinate_=l;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new je.a(new Ue.a(t)),this.updateSketchFeatures_())},t.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===Ke?this.sketchCoords_=t.slice():this.mode_===Ye?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new je.a(new Me.a(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new je.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new Qe(Ze,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t,r,n,i=e.coordinate,o=this.sketchFeature_.getGeometry();(this.mode_===Ke?r=this.sketchCoords_:this.mode_===Ye?(r=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(e)&&(i=this.finishCoordinate_.slice())):r=(t=this.sketchCoords_)[t.length-1],r[0]=i[0],r[1]=i[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(i);if(o.getType()==Fe.a.POLYGON&&this.mode_!==Ye){this.sketchLine_||(this.sketchLine_=new je.a);var a=o.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),n.changed()):(n=new Me.a(a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t,r,n=e.coordinate,i=this.sketchFeature_.getGeometry();this.mode_===He?(this.finishCoordinate_=n.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():t=!0),r.push(n.slice()),this.geometryFunction_(r,i)):this.mode_===Ye&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():t=!0),r.push(n.slice()),t&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,i)),this.updateSketchFeatures_(),t&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry();this.mode_===He?((e=this.sketchCoords_).splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===Ye&&((e=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,r=e.getGeometry();this.mode_===He?(t.pop(),this.geometryFunction_(t,r)):this.mode_===Ye&&(t[0].pop(),this.geometryFunction_(t,r),t=r.getCoordinates()),this.type_===Fe.a.MULTI_POINT?e.setGeometry(new De.a([t])):this.type_===Fe.a.MULTI_LINE_STRING?e.setGeometry(new Ne.a([t])):this.type_===Fe.a.MULTI_POLYGON&&e.setGeometry(new Ge.a([t])),this.dispatchEvent(new Qe(qe,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new Qe(Ze,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t}(A),Je=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et="extentchanged",tt=function(e){function t(t){var r=e.call(this,et)||this;return r.extent=t,r}return Je(t,e),t}(B.a);function rt(){var e=Object(Ve.b)();return function(t,r){return e[Fe.a.POINT]}}function nt(e){return function(t){return Object(z.boundingExtent)([e,t])}}function it(e,t){return e[0]==t[0]?function(r){return Object(z.boundingExtent)([e,[r[0],t[1]]])}:e[1]==t[1]?function(r){return Object(z.boundingExtent)([e,[t[0],r[1]]])}:null}var ot=function(e){function t(t){var r,n=this,i=t||{};return(n=e.call(this,i)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,t||(t={}),n.extentOverlay_=new ze.a({source:new Be.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:(r=Object(Ve.b)(),function(e,t){return r[Fe.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new ze.a({source:new Be.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:rt(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&n.setExtent(t.extent),n}return Je(t,e),t.prototype.snapToVertex_=function(e,t){var r=t.getCoordinateFromPixelInternal(e),n=this.getExtentInternal();if(n){var i=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}(n);i.sort((function(e,t){return Object(m.j)(r,e)-Object(m.j)(r,t)}));var o=i[0],a=Object(m.c)(r,o),s=t.getPixelFromCoordinateInternal(a);if(Object(m.e)(e,s)<=this.pixelTolerance_){var l=t.getPixelFromCoordinateInternal(o[0]),u=t.getPixelFromCoordinateInternal(o[1]),c=Object(m.i)(s,l),h=Object(m.i)(s,u),p=Math.sqrt(Math.min(c,h));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=c>h?o[1]:o[0]),a}}return null},t.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,n=this.snapToVertex_(t,r);n||(n=r.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(n)},t.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?e?t.setGeometry(Object(W.d)(e)):t.setGeometry(void 0):(t=e?new je.a(Object(W.d)(e)):new je.a({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},t.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new je.a(new Ue.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(t.type!=a.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),e.prototype.handleEvent.call(this,t),!1)},t.prototype.handleDownEvent=function(e){var t=e.pixel,r=e.map,n=this.getExtentInternal(),i=this.snapToVertex_(t,r),o=function(e){var t=null,r=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?r=n[3]:e[1]==n[3]&&(r=n[1]),null!==t&&null!==r?[t,r]:null};if(i&&n){var a=i[0]==n[0]||i[0]==n[2]?i[0]:null,s=i[1]==n[1]||i[1]==n[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=nt(o(i)):null!==a?this.pointerHandler_=it(o([a,n[1]]),o([a,n[3]])):null!==s&&(this.pointerHandler_=it(o([n[0],s]),o([n[2],s])))}else i=r.getCoordinateFromPixelInternal(t),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=nt(i);return!0},t.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},t.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtentInternal();return t&&0!==Object(z.getArea)(t)||this.setExtent(null),!1},t.prototype.setMap=function(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getExtent=function(){return Object(Ee.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},t.prototype.getExtentInternal=function(){return this.extent_},t.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new tt(this.extent_))},t}(A),at=r(4),st=r(62),lt=r(10),ut=r(86),ct=r(162),ht=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt=[0,0,0,0],dt=[],ft="modifystart",gt="modifyend",mt=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.features=r,i.mapBrowserEvent=n,i}return ht(t,e),t}(B.a);function yt(e,t){return e.index-t.index}function _t(e,t,r){var n=t.geometry;if(n.getType()===Fe.a.CIRCLE){var i=n;if(1===t.index){var o=Object(m.i)(i.getCenter(),e),a=Math.sqrt(o)-i.getRadius();return a*a}}var s=Object(Ee.fromUserCoordinate)(e,r);return dt[0]=Object(Ee.fromUserCoordinate)(t.segment[0],r),dt[1]=Object(Ee.fromUserCoordinate)(t.segment[1],r),Object(m.j)(s,dt)}function bt(e,t,r){var n=t.geometry;if(n.getType()===Fe.a.CIRCLE&&1===t.index)return n.getClosestPoint(e);var i=Object(Ee.fromUserCoordinate)(e,r);return dt[0]=Object(Ee.fromUserCoordinate)(t.segment[0],r),dt[1]=Object(Ee.fromUserCoordinate)(t.segment[1],r),Object(Ee.toUserCoordinate)(Object(m.c)(i,dt),r)}var vt=function(e){function t(t){var r,n,o=e.call(this,t)||this;if(o.boundHandleFeatureChange_=o.handleFeatureChange_.bind(o),o.condition_=t.condition?t.condition:P,o.defaultDeleteCondition_=function(e){return function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}(e)&&S(e)},o.deleteCondition_=t.deleteCondition?t.deleteCondition:o.defaultDeleteCondition_,o.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:O,o.vertexFeature_=null,o.vertexSegments_=null,o.lastPixel_=[0,0],o.ignoreNextSingleClick_=!1,o.modified_=!1,o.rBush_=new ct.a,o.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,o.snappedToVertex_=!1,o.changingFeature_=!1,o.dragSegments_=[],o.overlay_=new ze.a({source:new Be.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(r=Object(Ve.b)(),function(e,t){return r[Fe.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.SEGMENT_WRITERS_={Point:o.writePointGeometry_.bind(o),LineString:o.writeLineStringGeometry_.bind(o),LinearRing:o.writeLineStringGeometry_.bind(o),Polygon:o.writePolygonGeometry_.bind(o),MultiPoint:o.writeMultiPointGeometry_.bind(o),MultiLineString:o.writeMultiLineStringGeometry_.bind(o),MultiPolygon:o.writeMultiPolygonGeometry_.bind(o),Circle:o.writeCircleGeometry_.bind(o),GeometryCollection:o.writeGeometryCollectionGeometry_.bind(o)},o.source_=null,t.source?(o.source_=t.source,n=new i.a(o.source_.getFeatures()),o.source_.addEventListener(ut.a.ADDFEATURE,o.handleSourceAdd_.bind(o)),o.source_.addEventListener(ut.a.REMOVEFEATURE,o.handleSourceRemove_.bind(o))):n=t.features,!n)throw new Error("The modify interaction requires features or a source");return o.features_=n,o.features_.forEach(o.addFeature_.bind(o)),o.features_.addEventListener(st.a.ADD,o.handleFeatureAdd_.bind(o)),o.features_.addEventListener(st.a.REMOVE,o.handleFeatureRemove_.bind(o)),o.lastPointerEvent_=null,o}return ht(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var r=this.SEGMENT_WRITERS_[t.getType()];r&&r(e,t)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),e.addEventListener(re.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new mt(ft,this.features_,e)))},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(re.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach((function(t){e===t.feature&&r.push(t)}));for(var n=r.length-1;n>=0;--n){for(var i=r[n],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);t.remove(i)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:e,geometry:t,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,geometry:t,index:n,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:e,geometry:t,depth:[a,n],index:u,segment:h};this.rBush_.insert(Object(z.boundingExtent)(h),p)}},t.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),n={feature:e,geometry:t,index:0,segment:[r,r]},i={feature:e,geometry:t,index:1,segment:[r,r]},o=[n,i];n.featureSegments=o,i.featureSegments=o,this.rBush_.insert(Object(z.createOrUpdateFromCoordinate)(r),n),this.rBush_.insert(t.getExtent(),i)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=r[n];(0,this.SEGMENT_WRITERS_[i.getType()])(e,i)}},t.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new je.a(new Ue.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=a.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(r=!(t.type!=a.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==a.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!r);var r},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){for(var i=this.dragSegments_[r],o=i[0],a=o.depth,s=o.geometry,l=void 0,u=o.segment,c=i[1];t.length<s.getStride();)t.push(u[c][t.length]);switch(s.getType()){case Fe.a.POINT:l=t,u[0]=t,u[1]=t;break;case Fe.a.MULTI_POINT:(l=s.getCoordinates())[o.index]=t,u[0]=t,u[1]=t;break;case Fe.a.LINE_STRING:(l=s.getCoordinates())[o.index+c]=t,u[c]=t;break;case Fe.a.MULTI_LINE_STRING:case Fe.a.POLYGON:(l=s.getCoordinates())[a[0]][o.index+c]=t,u[c]=t;break;case Fe.a.MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+c]=t,u[c]=t;break;case Fe.a.CIRCLE:u[0]=t,u[1]=t,0===o.index?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(m.e)(s.getCenter(),t)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(t)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.coordinate;this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var n=e.map.getView().getProjection(),i=[],o=r.getGeometry().getCoordinates(),a=Object(z.boundingExtent)([o]),s=this.rBush_.getInExtent(a),l={};s.sort(yt);for(var u=0,c=s.length;u<c;++u){var h=s[u],p=h.segment,d=Object(at.c)(h.feature),f=h.depth;if(f&&(d+="-"+f.join("-")),l[d]||(l[d]=new Array(2)),h.geometry.getType()!==Fe.a.CIRCLE||1!==h.index)if(!Object(m.f)(p[0],o)||l[d][0])if(!Object(m.f)(p[1],o)||l[d][1])Object(at.c)(p)in this.vertexSegments_&&!l[d][0]&&!l[d][1]&&this.insertVertexCondition_(e)&&i.push([h,o]);else{if((h.geometry.getType()===Fe.a.LINE_STRING||h.geometry.getType()===Fe.a.MULTI_LINE_STRING)&&l[d][0]&&0===l[d][0].index)continue;this.dragSegments_.push([h,1]),l[d][1]=h}else this.dragSegments_.push([h,0]),l[d][0]=h;else{var g=bt(t,h,n);Object(m.f)(g,o)&&!l[d][0]&&(this.dragSegments_.push([h,0]),l[d][0]=h)}}i.length&&this.willModifyFeatures_(e);for(var y=i.length-1;y>=0;--y)this.insertVertex_.apply(this,i[y])}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],n=r.geometry;if(n.getType()===Fe.a.CIRCLE){var i=n.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update(Object(z.createOrUpdateFromCoordinate)(i),o),this.rBush_.update(n.getExtent(),a)}else this.rBush_.update(Object(z.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new mt(gt,this.features_,e)),this.modified_=!1),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},t.prototype.handlePointerAtPixel_=function(e,t){var r=t.getCoordinateFromPixel(e),n=t.getView().getProjection(),i=Object(Ee.fromUserExtent)(Object(z.createOrUpdateFromCoordinate)(r,pt),n),o=t.getView().getResolution()*this.pixelTolerance_,a=Object(Ee.toUserExtent)(Object(z.buffer)(i,o,pt),n),s=this.rBush_.getInExtent(a);if(s.length>0){s.sort((function(e,t){return _t(r,e,n)-_t(r,t,n)}));var l=s[0],u=l.segment,c=bt(r,l,n),h=t.getPixelFromCoordinate(c),p=Object(m.e)(e,h);if(p<=this.pixelTolerance_){var d={};if(l.geometry.getType()===Fe.a.CIRCLE&&1===l.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var f=t.getPixelFromCoordinate(u[0]),g=t.getPixelFromCoordinate(u[1]),y=Object(m.i)(h,f),_=Object(m.i)(h,g);p=Math.sqrt(Math.min(y,_)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(c=y>_?u[1]:u[0]),this.createOrUpdateVertexFeature_(c);for(var b=1,v=s.length;b<v;++b){var w=s[b].segment;if(!(Object(m.f)(u[0],w[0])&&Object(m.f)(u[1],w[1])||Object(m.f)(u[0],w[1])&&Object(m.f)(u[1],w[0])))break;d[Object(at.c)(w)]=!0}}return d[Object(at.c)(u)]=!0,void(this.vertexSegments_=d)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var r,n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case Fe.a.MULTI_LINE_STRING:case Fe.a.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,t);break;case Fe.a.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case Fe.a.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(o,s,a,1);var u={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};l.insert(Object(z.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};l.insert(Object(z.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=a.a.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);var t=this.removeVertex_();return this.dispatchEvent(new mt(gt,this.features_,e)),this.modified_=!1,t}return!1},t.prototype.removeVertex_=function(){var e,t,r,n,i,o,a,s,l,u,c,h=this.dragSegments_,p={},d=!1;for(i=h.length-1;i>=0;--i)u=(r=h[i])[0],c=Object(at.c)(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in p||(p[c]={}),0===r[1]?(p[c].right=u,p[c].index=u.index):1==r[1]&&(p[c].left=u,p[c].index=u.index+1);for(c in p){switch(l=p[c].right,a=p[c].left,(s=(o=p[c].index)-1)<0&&(s=0),e=t=(n=(u=void 0!==a?a:l).geometry).getCoordinates(),d=!1,n.getType()){case Fe.a.MULTI_LINE_STRING:t[u.depth[0]].length>2&&(t[u.depth[0]].splice(o,1),d=!0);break;case Fe.a.LINE_STRING:t.length>2&&(t.splice(o,1),d=!0);break;case Fe.a.MULTI_POLYGON:e=e[u.depth[1]];case Fe.a.POLYGON:(e=e[u.depth[0]]).length>4&&(o==e.length-1&&(o=0),e.splice(o,1),d=!0,0===o&&(e.pop(),e.push(e[0]),s=e.length-1))}if(d){this.setGeometryCoordinates_(n,t);var f=[];if(void 0!==a&&(this.rBush_.remove(a),f.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),f.push(l.segment[1])),void 0!==a&&void 0!==l){var g={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:f};this.rBush_.insert(Object(z.boundingExtent)(g.segment),g)}this.updateSegmentIndices_(n,o,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return d},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,r,n){this.rBush_.forEachInExtent(e.getExtent(),(function(i){i.geometry===e&&(void 0===r||void 0===i.depth||Object(lt.b)(i.depth,r))&&i.index>t&&(i.index+=n)}))},t}(A),wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot="select",Et=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.selected=r,o.deselected=n,o.mapBrowserEvent=i,o}return wt(t,e),t}(B.a);function Tt(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),n=this.toggleCondition_(e),i=!t&&!r&&!n,o=e.map,a=this.getFeatures(),s=[],l=[];if(i){Object(I.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return l.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=a.getLength()-1;u>=0;--u){var c=a.item(u),h=l.indexOf(c);h>-1?l.splice(h,1):(a.remove(c),s.push(c))}0!==l.length&&a.extend(l)}else{o.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i))return!t&&!n||Object(lt.f)(a.getArray(),e)?(r||n)&&Object(lt.f)(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(l.push(e),this.addFeatureLayerAssociation_(e,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new Et(Ot,l,s,e)),!0}var St=function(e){function t(t){var r,n,o=e.call(this,{handleEvent:Tt})||this,a=t||{};if(o.condition_=a.condition?a.condition:S,o.addCondition_=a.addCondition?a.addCondition:T,o.removeCondition_=a.removeCondition?a.removeCondition:T,o.toggleCondition_=a.toggleCondition?a.toggleCondition:x,o.multi_=!!a.multi&&a.multi,o.filter_=a.filter?a.filter:_.b,o.hitTolerance_=a.hitTolerance?a.hitTolerance:0,o.style_=void 0!==a.style?a.style:(r=Object(Ve.b)(),Object(lt.c)(r[Fe.a.POLYGON],r[Fe.a.LINE_STRING]),Object(lt.c)(r[Fe.a.GEOMETRY_COLLECTION],r[Fe.a.LINE_STRING]),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}),o.featureStyleAssociation_={},o.features_=a.features||new i.a,a.layers)if("function"==typeof a.layers)n=a.layers;else{var s=a.layers;n=function(e){return Object(lt.f)(s,e)}}else n=_.b;o.layerFilter_=n,o.featureLayerAssociation_={};var l=o.getFeatures();return l.addEventListener(st.a.ADD,o.addFeature_.bind(o)),l.addEventListener(st.a.REMOVE,o.removeFeature_.bind(o)),o}return wt(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(at.c)(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(at.c)(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),e.prototype.setMap.call(this,t),t&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},t.prototype.addFeature_=function(e){var t=e.element;this.style_&&this.giveSelectedStyle_(t)},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.removeSelectedStyle_(t)},t.prototype.giveSelectedStyle_=function(e){var t=Object(at.c)(e);this.featureStyleAssociation_[t]=e.getStyle(),e.setStyle(this.style_)},t.prototype.removeSelectedStyle_=function(e){var t=Object(at.c)(e);e.setStyle(this.featureStyleAssociation_[t]),delete this.featureStyleAssociation_[t]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(at.c)(e)]},t}(p),Ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function xt(e){return e.feature?e.feature:e.element?e.element:void 0}var kt=[],Rt=function(e){function t(t){var r=this,n=t||{},i=n;return i.handleDownEvent||(i.handleDownEvent=_.b),i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).source_=n.source?n.source:null,r.vertex_=void 0===n.vertex||n.vertex,r.edge_=void 0===n.edge||n.edge,r.features_=n.features?n.features:null,r.featuresListenerKeys_=[],r.featureChangeListenerKeys_={},r.indexedFeaturesExtents_={},r.pendingFeatures_={},r.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,r.rBush_=new ct.a,r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r)},r}return Ct(t,e),t.prototype.addFeature=function(e,t){var r=void 0===t||t,n=Object(at.c)(e),i=e.getGeometry();if(i){var o=this.SEGMENT_WRITERS_[i.getType()];o&&(this.indexedFeaturesExtents_[n]=i.getExtent(Object(z.createEmpty)()),o(e,i))}r&&(this.featureChangeListenerKeys_[n]=Object(Oe.a)(e,re.a.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var r=this.snapTo(t.pixel,t.coordinate,t.map);return r.snapped&&(t.coordinate=r.vertex.slice(0,2),t.pixel=r.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=xt(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=xt(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var r=Object(at.c)(t);r in this.pendingFeatures_||(this.pendingFeatures_[r]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(e){var t=Object(I.c)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var r=void 0===t||t,n=Object(at.c)(e),i=this.indexedFeaturesExtents_[n];if(i){var o=this.rBush_,a=[];o.forEachInExtent(i,(function(t){e===t.feature&&a.push(t)}));for(var s=a.length-1;s>=0;--s)o.remove(a[s])}r&&(Object(Oe.c)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},t.prototype.setMap=function(t){var r=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();r&&(n.forEach(Oe.c),n.length=0,i.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?n.push(Object(Oe.a)(this.features_,st.a.ADD,this.handleFeatureAdd_,this),Object(Oe.a)(this.features_,st.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(Oe.a)(this.source_,ut.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(Oe.a)(this.source_,ut.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,r){var n=r.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=r.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),o=Object(z.boundingExtent)([n,i]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter((function(e){return e.feature.getGeometry().getType()!==Fe.a.CIRCLE})));var s=!1,l=null,u=null;if(0===a.length)return{snapped:s,vertex:l,vertexPixel:u};for(var c,h=r.getView().getProjection(),p=Object(Ee.fromUserCoordinate)(t,h),d=1/0,f=0;f<a.length;++f){var g=a[f];kt[0]=Object(Ee.fromUserCoordinate)(g.segment[0],h),kt[1]=Object(Ee.fromUserCoordinate)(g.segment[1],h);var y=Object(m.j)(p,kt);y<d&&(c=g,d=y)}var _=c.segment;if(this.vertex_&&!this.edge_){var b=r.getPixelFromCoordinate(_[0]),v=r.getPixelFromCoordinate(_[1]),w=Object(m.i)(e,b),O=Object(m.i)(e,v);Math.sqrt(Math.min(w,O))<=this.pixelTolerance_&&(s=!0,l=w>O?_[1]:_[0],u=r.getPixelFromCoordinate(l))}else if(this.edge_){var E=c.feature.getGeometry().getType()===Fe.a.CIRCLE;if(E?l=Object(m.b)(t,c.feature.getGeometry()):(kt[0]=Object(Ee.fromUserCoordinate)(_[0],h),kt[1]=Object(Ee.fromUserCoordinate)(_[1],h),l=Object(Ee.toUserCoordinate)(Object(m.c)(p,kt),h)),u=r.getPixelFromCoordinate(l),Object(m.e)(e,u)<=this.pixelTolerance_&&(s=!0,this.vertex_&&!E)){b=r.getPixelFromCoordinate(_[0]),v=r.getPixelFromCoordinate(_[1]),w=Object(m.i)(u,b),O=Object(m.i)(u,v);Math.sqrt(Math.min(w,O))<=this.pixelTolerance_&&(l=w>O?_[1]:_[0],u=r.getPixelFromCoordinate(l))}}return s&&(u=[Math.round(u[0]),Math.round(u[1])]),{snapped:s,vertex:l,vertexPixel:u}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){for(var r=Object(W.c)(t).getCoordinates()[0],n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=this.SEGMENT_WRITERS_[r[n].getType()];i&&i(e,r[n])}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:e,segment:h};this.rBush_.insert(Object(z.boundingExtent)(h),p)}},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t}(A),Pt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It="translatestart",jt="translating",Lt="translateend",At=function(e){function t(t,r,n,i,o){var a=e.call(this,t)||this;return a.features=r,a.coordinate=n,a.startCoordinate=i,a.mapBrowserEvent=o,a}return Pt(t,e),t}(B.a),Ft=function(e){function t(t){var r,n=this,i=t||{};if((n=e.call(this,i)||this).lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var o=i.layers;r=function(e){return Object(lt.f)(o,e)}}else r=_.b;return n.layerFilter_=r,n.filter_=i.filter?i.filter:_.b,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.lastFeature_=null,n.addEventListener(Object(s.b)(u),n.handleActiveChanged_),n}return Pt(t,e),t.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new At(It,t,e.coordinate,this.startCoordinate_,e)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new At(Lt,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,r=t[0]-this.lastCoordinate_[0],n=t[1]-this.lastCoordinate_[1],o=this.features_||new i.a([this.lastFeature_]);o.forEach((function(e){var t=e.getGeometry();t.translate(r,n),e.setGeometry(t)})),this.lastCoordinate_=t,this.dispatchEvent(new At(jt,o,t,this.startCoordinate_,e))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e,t){if(this.filter_(e,t)&&(!this.features_||Object(lt.f)(this.features_.getArray(),e)))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var r=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(r)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),r=this.getActive();t&&r||(t=t||e)&&t.getViewport().classList.remove("ol-grab","ol-grabbing")},t}(A);function Mt(e){var t=e||{},r=new i.a,n=new o.a(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&r.push(new U),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&r.push(new g({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&r.push(new N({condition:t.onFocusOnly?w:void 0,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&r.push(new be),(void 0===t.pinchZoom||t.pinchZoom)&&r.push(new we({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(r.push(new ue),r.push(new pe({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&r.push(new ye({condition:t.onFocusOnly?w:void 0,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&r.push(new te({duration:t.zoomDuration})),r}r.d(t,"defaults",(function(){return Mt})),r.d(t,"DoubleClickZoom",(function(){return g})),r.d(t,"DragAndDrop",(function(){return Re})),r.d(t,"DragBox",(function(){return $})),r.d(t,"DragPan",(function(){return N})),r.d(t,"DragRotate",(function(){return U})),r.d(t,"DragRotateAndZoom",(function(){return Ie})),r.d(t,"DragZoom",(function(){return te})),r.d(t,"Draw",(function(){return $e})),r.d(t,"Extent",(function(){return ot})),r.d(t,"Interaction",(function(){return p})),r.d(t,"KeyboardPan",(function(){return ue})),r.d(t,"KeyboardZoom",(function(){return pe})),r.d(t,"Modify",(function(){return vt})),r.d(t,"MouseWheelZoom",(function(){return ye})),r.d(t,"PinchRotate",(function(){return be})),r.d(t,"PinchZoom",(function(){return we})),r.d(t,"Pointer",(function(){return A})),r.d(t,"Select",(function(){return St})),r.d(t,"Snap",(function(){return Rt})),r.d(t,"Translate",(function(){return Ft}))},function(e,t,r){"use strict";var n,i=r(93),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=t||{};return e.call(this,r)||this}return o(t,e),t}(i.a),s=r(226),l=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.createRenderer=function(){return new s.a(this)},t}(a);t.a=u},function(e,t,r){"use strict";var n,i=r(94),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=t||{};return e.call(this,r)||this}return o(t,e),t}(i.a),s=r(247),l=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),u=function(e){function t(t){return e.call(this,t)||this}return l(t,e),t.prototype.createRenderer=function(){return new s.a(this)},t}(a);t.a=u},function(e,t,r){"use strict";var n,i=r(94),o=r(142),a=r(8),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t){var r=this,n=t||{},i=Object(a.a)({},n);return delete i.preload,delete i.useInterimTilesOnError,(r=e.call(this,i)||this).setPreload(void 0!==n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return s(t,e),t.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},t.prototype.setPreload=function(e){this.set(o.a.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(i.a),u=r(248),c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.createRenderer=function(){return new u.a(this)},t}(l);t.a=h},function(e,t,r){"use strict";var n,i=r(93),o=r(140),a=r(22),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t){var r=this,n=t||{},i=Object(a.a)({},n);return delete i.preload,delete i.useInterimTilesOnError,(r=e.call(this,i)||this).setPreload(void 0!==n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return s(t,e),t.prototype.getPreload=function(){return this.get(o.a.PRELOAD)},t.prototype.setPreload=function(e){this.set(o.a.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(o.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(o.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(i.a),u=r(227),c=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),h=function(e){function t(t){return e.call(this,t)||this}return c(t,e),t.prototype.createRenderer=function(){return new u.a(this)},t}(l);t.a=h},function(e,t,r){"use strict";var n,i=r(9),o=r(110),a=r(11),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(){var t=e.call(this)||this;return t.revision_=0,t}return s(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(a.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.a)(this,e[o],t);return n}return Object(i.a)(this,e,t)},t.prototype.once=function(e,t){if(Array.isArray(e)){for(var r=e.length,n=new Array(r),o=0;o<r;++o)n[o]=Object(i.b)(this,e[o],t);return n}return Object(i.b)(this,e,t)},t.prototype.un=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)},t}(o.a);t.a=l},function(e,t,r){"use strict";var n,i=r(5),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t){var r=this,n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+t+" for details.";return(r=e.call(this,n)||this).code=t,r.name="AssertionError",r.message=n,r}return o(t,e),t}(Error);t.a=a},function(e,t,r){"use strict";var n,i=r(5),o=r(36),a=r(57),s=r(21),l=r(22),u=r(25),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this)||this,n=Object(l.a)({},t);return n[a.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(u.a)("number"==typeof n[a.a.OPACITY],64),n[a.a.VISIBLE]=void 0===t.visible||t.visible,n[a.a.Z_INDEX]=t.zIndex,n[a.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,n[a.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,n[a.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,n[a.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,r.className_=void 0!==n.className?t.className:"ol-layer",delete n.className,r.setProperties(n),r.state_=null,r}return c(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return t.opacity=Object(s.a)(Math.round(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==r?r:!1===t.managed?1/0:0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return Object(i.b)()},t.prototype.getLayerStatesArray=function(e){return Object(i.b)()},t.prototype.getExtent=function(){return this.get(a.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},t.prototype.getSourceState=function(){return Object(i.b)()},t.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(a.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(a.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(a.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(a.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(a.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){Object(u.a)("number"==typeof e,64),this.set(a.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(a.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(a.a.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(o.a);t.a=h},function(e,t,r){"use strict";var n,i=r(5),o=r(30),a=r(215),s=r(11),l=r(52),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t){var r=e.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r}return u(t,e),t.prototype.getFeatures=function(e){return Object(i.b)()},t.prototype.prepareFrame=function(e){return Object(i.b)()},t.prototype.renderFrame=function(e,t){return Object(i.b)()},t.prototype.loadedTileCallback=function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(e,t,r){return function(n,i){var o=this.loadedTileCallback.bind(this,r,n);return e.forEachLoadedTile(t,n,i,o)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){},t.prototype.getDataAtPixel=function(e,t,r){return Object(i.b)()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===o.a.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=o.a.LOADED&&t!=o.a.ERROR&&e.addEventListener(s.a.CHANGE,this.boundHandleImageChange_),t==o.a.IDLE&&(e.load(),t=e.getState()),t==o.a.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==l.a.READY&&e.changed()},t}(a.a);t.a=c},function(e,t,r){"use strict";var n,i=r(25),o=r(110),a=r(11),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t){var r=e.call(this)||this;return r.highWaterMark=void 0!==t?t:2048,r.count_=0,r.entries_={},r.oldest_=null,r.newest_=null,r}return s(t,e),t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a.a.CLEAR)},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},t.prototype.get=function(e,t){var r=this.entries_[e];return Object(i.a)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)},t.prototype.remove=function(e){var t=this.entries_[e];return Object(i.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},t.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},t.prototype.set=function(e,t){Object(i.a)(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t}(o.a);t.a=l},function(e,t,r){"use strict";var n=r(5),i=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale}return e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getAnchor=function(){return Object(n.b)()},e.prototype.getImage=function(e){return Object(n.b)()},e.prototype.getHitDetectionImage=function(e){return Object(n.b)()},e.prototype.getImageState=function(){return Object(n.b)()},e.prototype.getImageSize=function(){return Object(n.b)()},e.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},e.prototype.getOrigin=function(){return Object(n.b)()},e.prototype.getSize=function(){return Object(n.b)()},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.listenImageChange=function(e){Object(n.b)()},e.prototype.load=function(){Object(n.b)()},e.prototype.unlistenImageChange=function(e){Object(n.b)()},e}();t.a=i},function(e,t,r){"use strict";var n,i=r(5),o=r(48),a=r(1),s=r(7),l=r(249),u=r(188),c=r(179),h=r(124),p=r(18),d=r(157),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(a.createEmpty)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r}return f(t,e),t.prototype.useContainer=function(t,r,n){n<1&&(t=null),e.prototype.useContainer.call(this,t,r,n)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];Object(p.e)(this.pixelTransform,1/r,1/r),Object(p.d)(this.inversePixelTransform,this.pixelTransform);var i=Object(p.k)(this.pixelTransform);this.useContainer(t,i,n.opacity);var l=this.context,c=l.canvas,h=this.replayGroup_;if(!h||h.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var d=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);c.width!=d||c.height!=f?(c.width=d,c.height=f,c.style.transform!==i&&(c.style.transform=i)):this.containerReused||l.clearRect(0,0,d,f),this.preRender(l,e);var g=e.extent,m=e.viewState,y=m.center,_=m.resolution,b=m.projection,v=m.rotation,w=b.getExtent(),O=this.getLayer().getSource(),E=!1;if(n.extent){var T=Object(s.fromUserExtent)(n.extent,b);(E=!Object(a.containsExtent)(T,e.extent)&&Object(a.intersects)(T,e.extent))&&this.clip(l,e,T)}var S=e.viewHints,C=!(S[o.a.ANIMATING]||S[o.a.INTERACTING]),x=this.getRenderTransform(y,_,v,r,d,f,0),k=this.getLayer().getDeclutter()?{}:null;if(h.execute(l,x,v,C,void 0,k),O.getWrapX()&&b.canWrapX()&&!Object(a.containsExtent)(w,g)){for(var R=g[0],P=Object(a.getWidth)(w),I=0,j=void 0;R<w[0];){j=P*--I;var L=this.getRenderTransform(y,_,v,r,d,f,j);h.execute(l,L,v,C,void 0,k),R+=P}for(I=0,R=g[2];R>w[2];){j=P*++I;var A=this.getRenderTransform(y,_,v,r,d,f,j);h.execute(l,A,v,C,void 0,k),R-=P}}if(k){var F=e.viewHints,M=!(F[o.a.ANIMATING]||F[o.a.INTERACTING]);Object(u.b)(k,l,v,1,M,e.declutterItems)}E&&l.restore(),this.postRender(l,e);var N=n.opacity,D=this.container;return N!==parseFloat(D.style.opacity)&&(D.style.opacity=1===N?"":N),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t,r){this.hitDetectionImageData_||this.animatingOrInteracting_?t(Object(d.b)(e,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var r=[this.context.canvas.width,this.context.canvas.height];Object(p.a)(this.pixelTransform,r);var n=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,l=this.renderedExtent_,u=this.getLayer(),c=[],h=r[0]/2,f=r[1]/2;c.push(this.getRenderTransform(n,i,o,.5,h,f,0).slice());var g=u.getSource(),m=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!Object(a.containsExtent)(m,l)){for(var y=l[0],_=Object(a.getWidth)(m),b=0,v=void 0;y<m[0];)v=_*--b,c.push(this.getRenderTransform(n,i,o,.5,h,f,v).slice()),y+=_;for(b=0,y=l[2];y>m[2];)v=_*++b,c.push(this.getRenderTransform(n,i,o,.5,h,f,v).slice()),y-=_}this.hitDetectionImageData_=Object(d.a)(r,c,this.renderedFeatures_,u.getStyleFunction(),l,i,o),t(Object(d.b)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,o){if(this.replayGroup_){var a=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(e,a,s,r,(function(e){var t=Object(i.c)(e);if(!(t in u))return u[t]=!0,n(e,l)}),l.getDeclutter()?o:null)}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),n=e.viewHints[o.a.ANIMATING],i=e.viewHints[o.a.INTERACTING],c=t.getUpdateWhileAnimating(),p=t.getUpdateWhileInteracting();if(!this.dirty_&&!c&&n||!p&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=e.extent,f=e.viewState,g=f.projection,m=f.resolution,y=e.pixelRatio,_=t.getRevision(),b=t.getRenderBuffer(),v=t.getRenderOrder();void 0===v&&(v=h.a);var w=f.center.slice(),O=Object(a.buffer)(d,b*m),E=f.projection.getExtent();if(r.getWrapX()&&f.projection.canWrapX()&&!Object(a.containsExtent)(E,e.extent)){var T=Object(a.getWidth)(E),S=Math.max(Object(a.getWidth)(O)/2,T);O[0]=E[0]-S,O[2]=E[2]+S;var C=Math.floor((w[0]-E[0])/T);w[0]-=C*T}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==_&&this.renderedRenderOrder_==v&&Object(a.containsExtent)(this.renderedExtent_,O))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var x,k=new l.a(Object(h.c)(m,y),O,m,y,t.getDeclutter()),R=Object(s.getUserProjection)();R?(r.loadFeatures(Object(s.toUserExtent)(O,g),m,R),x=Object(s.getTransformFromProjections)(R,g)):r.loadFeatures(O,m,g);var P=Object(h.b)(m,y),I=function(e){var r,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(r=n(e,m)),r){var i=this.renderFeature(e,P,r,k,x);this.dirty_=this.dirty_||i}}.bind(this),j=Object(s.toUserExtent)(O,g),L=r.getFeaturesInExtent(j);v&&L.sort(v);for(var A=0,F=L.length;A<F;++A)I(L[A]);this.renderedFeatures_=L;var M=k.finish(),N=new u.a(O,m,y,r.getOverlaps(),M,t.getRenderBuffer());return this.renderedResolution_=m,this.renderedRevision_=_,this.renderedRenderOrder_=v,this.renderedExtent_=O,this.renderedRotation_=f.rotation,this.renderedCenter_=w,this.renderedProjection_=g,this.replayGroup_=N,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(h.d)(n,e,r[a],t,this.boundHandleStyleImageChange_,i)||o;else o=Object(h.d)(n,e,r,t,this.boundHandleStyleImageChange_,i);return o},t}(c.a);t.a=g},function(e,t,r){e.exports=function(){"use strict";function e(e,n,i,o,a){!function e(r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(r,n,Math.max(i,Math.floor(n-l*c/s+h)),Math.min(o,Math.floor(n+(s-l)*c/s+h)),a)}var p=r[n],d=i,f=o;for(t(r,i,n),a(r[o],p)>0&&t(r,i,o);d<f;){for(t(r,d,f),d++,f--;a(r[d],p)<0;)d++;for(;a(r[f],p)>0;)f--}0===a(r[i],p)?t(r,i,f):t(r,++f,o),f<=n&&(i=f+1),n<=f&&(o=f-1)}}(e,n,i||0,o||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<r;o++){var a=e.children[o];s(i,e.leaf?n(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;e(t,s,r,n,o),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?n(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):i.push(a))}t=i.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||p(e,o))return!0;r.push(i)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=f([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?n?(r++,a=n.children[r],o=!1):a=null:(l.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return o(i=f(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=f([])).leaf=!1,i.height=n;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(e,t,r,u,this.compareMinX);for(var c=t;c<=r;c+=u){var h=Math.min(c+u-1,r);g(e,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);i.children.push(this._build(e,p,d,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(p=e,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var p,d;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),i=[],o=this._chooseSubtree(n,this.data,t,i);for(o.children.push(e),s(o,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=f(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,i,o,s,l,u,h,p=1/0,d=1/0,f=t;f<=r-t;f++){var g=a(e,0,f,this.toBBox),m=a(e,f,r,this.toBBox),y=(i=g,o=m,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),_=c(g)+c(m);y<p?(p=y,n=f,d=_<d?_:d):y===p&&_<d&&(d=_,n=f)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,r-t,r,i),u=h(o)+h(l),c=t;c<r-t;c++){var p=e.children[c];s(o,e.leaf?i(p):p),u+=h(o)}for(var d=r-t-1;d>=t;d--){var f=e.children[d];s(l,e.leaf?i(f):f),u+=h(l)}return u},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},n}()},function(e,t,r){"use strict";var n=function(){function e(){}return e.prototype.drawCustom=function(e,t,r){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}();t.a=n},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=e[t],o=e[t+1],a=0,s=t+n;s<r;s+=n){var l=e[s],u=e[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,i=r(50),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.inversePixelTransform=r,o.frameState=n,o.context=i,o}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";var n,i=r(83),o=r(48),a=r(1),s=r(7),l=r(179),u=r(18),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.image_=null,r}return c(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var t=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,n=e.viewState,l=n.resolution,u=this.getLayer().getSource(),c=e.viewHints,h=e.extent;if(void 0!==t.extent&&(h=Object(a.getIntersection)(h,Object(s.fromUserExtent)(t.extent,n.projection))),!c[o.a.ANIMATING]&&!c[o.a.INTERACTING]&&!Object(a.isEmpty)(h)){var p=n.projection;if(!i.a){var d=u.getProjection();d&&(p=d)}var f=u.getImage(h,l,r,p);f&&this.loadImage(f)&&(this.image_=f)}return!!this.image_},t.prototype.renderFrame=function(e,t){var r=this.image_,n=r.getExtent(),i=r.getResolution(),o=r.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,h=e.viewState,p=h.center,d=h.resolution,f=e.size,g=c*i/(d*o),m=Math.round(f[0]*c),y=Math.round(f[1]*c),_=h.rotation;if(_){var b=Math.round(Math.sqrt(m*m+y*y));m=b,y=b}Object(u.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,_,-m/2,-y/2),Object(u.d)(this.inversePixelTransform,this.pixelTransform);var v=this.createTransformString(this.pixelTransform);this.useContainer(t,v,l.opacity);var w=this.context,O=w.canvas;O.width!=m||O.height!=y?(O.width=m,O.height=y):this.containerReused||w.clearRect(0,0,m,y);var E=!1;if(l.extent){var T=Object(s.fromUserExtent)(l.extent,h.projection);(E=!Object(a.containsExtent)(T,e.extent)&&Object(a.intersects)(T,e.extent))&&this.clipUnrotated(w,e,T)}var S=r.getImage(),C=Object(u.b)(this.tempTransform_,m/2,y/2,g,g,0,o*(n[0]-p[0])/i,o*(p[1]-n[3])/i);this.renderedResolution=i*c/o;var x=C[4],k=C[5],R=S.width*C[0],P=S.height*C[3];if(this.preRender(w,e),R>=.5&&P>=.5){var I=l.opacity,j=void 0;1!==I&&(j=this.context.globalAlpha,this.context.globalAlpha=I),this.context.drawImage(S,0,0,+S.width,+S.height,Math.round(x),Math.round(k),Math.round(R),Math.round(P)),1!==I&&(this.context.globalAlpha=j)}return this.postRender(w,e),E&&w.restore(),v!==O.style.transform&&(O.style.transform=v),this.container},t}(l.a);t.a=h},function(e,t,r){"use strict";var n,i=r(5),o=r(7),a=r(164),s=r(15),l=r(1),u=r(179),c=r(18),h=r(26),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Object(l.createEmpty)(),r.tmpTileRange_=new a.b(0,0,0,0),r}return p(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==s.a.LOADED||r==s.a.EMPTY||r==s.a.ERROR&&!n},t.prototype.getTile=function(e,t,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),l=a.getSource().getTile(e,t,r,i,o);return l.getState()==s.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):l.setState(s.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},t.prototype.loadedTileCallback=function(t,r,n){return!!this.isDrawableTile(n)&&e.prototype.loadedTileCallback.call(this,t,r,n)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],n=e.viewState,a=n.projection,u=n.resolution,p=n.center,d=n.rotation,f=e.pixelRatio,g=this.getLayer(),m=g.getSource(),y=m.getRevision(),_=m.getTileGridForProjection(a),b=_.getZForResolution(u,m.zDirection),v=_.getResolution(b),w=e.extent,O=r.extent&&Object(o.fromUserExtent)(r.extent,a);O&&(w=Object(l.getIntersection)(w,Object(o.fromUserExtent)(r.extent,a)));var E=m.getTilePixelRatio(f),T=Math.round(e.size[0]*E),S=Math.round(e.size[1]*E);if(d){var C=Math.round(Math.sqrt(T*T+S*S));T=C,S=C}var x=v*T/2/E,k=v*S/2/E,R=[p[0]-x,p[1]-k,p[0]+x,p[1]+k],P=_.getTileRangeForExtentAndZ(w,b),I={};I[b]={};var j=this.createLoadedTileFinder(m,a,I),L=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;for(var F=P.minX;F<=P.maxX;++F)for(var M=P.minY;M<=P.maxY;++M){var N=this.getTile(b,F,M,e);if(this.isDrawableTile(N)){var D=Object(i.c)(this);if(N.getState()==s.a.LOADED){I[b][N.tileCoord.toString()]=N;var G=N.inTransition(D);this.newTiles_||!G&&-1!==this.renderedTiles.indexOf(N)||(this.newTiles_=!0)}if(1===N.getAlpha(D,e.time))continue}var U=_.getTileCoordChildTileRange(N.tileCoord,A,L),z=!1;U&&(z=j(b+1,U)),z||_.forEachTileCoordParentTileRange(N.tileCoord,j,A,L)}var B=v/u;Object(c.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,d,-T/2,-S/2);var V=this.createTransformString(this.pixelTransform);this.useContainer(t,V,r.opacity);var W=this.context,K=W.canvas;Object(c.d)(this.inversePixelTransform,this.pixelTransform),Object(c.b)(this.tempTransform_,T/2,S/2,B,B,0,-T/2,-S/2),K.width!=T||K.height!=S?(K.width=T,K.height=S):this.containerReused||W.clearRect(0,0,T,S),O&&this.clipUnrotated(W,e,O),this.preRender(W,e),this.renderedTiles.length=0;var H,Y,X,Z=Object.keys(I).map(Number);Z.sort(h.i),1!==r.opacity||this.containerReused&&!m.getOpaque(e.viewState.projection)?(H=[],Y=[]):Z=Z.reverse();for(var q=Z.length-1;q>=0;--q){var Q=Z[q],$=m.getTilePixelSize(Q,f,a),J=_.getResolution(Q)/v,ee=$[0]*J*B,te=$[1]*J*B,re=_.getTileCoordForCoordAndZ(Object(l.getTopLeft)(R),Q),ne=_.getTileCoordExtent(re),ie=Object(c.a)(this.tempTransform_,[E*(ne[0]-R[0])/v,E*(R[3]-ne[3])/v]),oe=E*m.getGutterForProjection(a),ae=I[Q];for(var se in ae){var le=(N=ae[se]).tileCoord,ue=ie[0]-(re[1]-le[1])*ee,ce=Math.round(ue+ee),he=ie[1]-(re[2]-le[2])*te,pe=Math.round(he+te),de=ce-(F=Math.round(ue)),fe=pe-(M=Math.round(he)),ge=b===Q;if(!(G=ge&&1!==N.getAlpha(Object(i.c)(this),e.time)))if(H){W.save(),X=[F,M,F+de,M,F+de,M+fe,F,M+fe];for(var me=0,ye=H.length;me<ye;++me)if(b!==Q&&Q<Y[me]){var _e=H[me];W.beginPath(),W.moveTo(X[0],X[1]),W.lineTo(X[2],X[3]),W.lineTo(X[4],X[5]),W.lineTo(X[6],X[7]),W.moveTo(_e[6],_e[7]),W.lineTo(_e[4],_e[5]),W.lineTo(_e[2],_e[3]),W.lineTo(_e[0],_e[1]),W.clip()}H.push(X),Y.push(Q)}else W.clearRect(F,M,de,fe);this.drawTileImage(N,e,F,M,de,fe,oe,ge,r.opacity),H&&!G&&W.restore(),this.renderedTiles.push(N),this.updateUsedTiles(e.usedTiles,m,N)}}return this.renderedRevision=y,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Object(l.equals)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(e,m,_,f,a,w,b,g.getPreload()),this.updateCacheSize_(e,m),this.scheduleExpireCache(e,m),this.postRender(W,e),r.extent&&W.restore(),V!==K.style.transform&&(K.style.transform=V),this.container},t.prototype.drawTileImage=function(e,t,r,n,o,a,s,l,u){var c=this.getTileImage(e);if(c){var h=Object(i.c)(this),p=l?e.getAlpha(h,t.time):1,d=u*p,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,r,n,o,a),f&&this.context.restore(),1!==p?t.animate=!0:l&&e.endTransition(h)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var n=Object(i.c)(e);n in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var n=Object(i.c)(t);n in e||(e[n]={}),e[n][r.getKey()]=!0},t.prototype.updateCacheSize_=function(e,t){var r=Object(i.c)(t),n=0;r in e.usedTiles&&(n+=Object.keys(e.usedTiles[r]).length),r in e.wantedTiles&&(n+=Object.keys(e.wantedTiles[r]).length);var o=t.tileCache;o.highWaterMark<n&&(o.highWaterMark=n)},t.prototype.manageTilePyramid=function(e,t,r,n,o,a,l,u,c){var h=Object(i.c)(t);h in e.wantedTiles||(e.wantedTiles[h]={});var p,d,f,g,m,y,_=e.wantedTiles[h],b=e.tileQueue;for(y=r.getMinZoom();y<=l;++y)for(d=r.getTileRangeForExtentAndZ(a,y,d),f=r.getResolution(y),g=d.minX;g<=d.maxX;++g)for(m=d.minY;m<=d.maxY;++m)l-y<=u?((p=t.getTile(y,g,m,n,o)).getState()==s.a.IDLE&&(_[p.getKey()]=!0,b.isKeyQueued(p.getKey())||b.enqueue([p,h,r.getTileCoordCenter(p.tileCoord),f])),void 0!==c&&c(p)):t.useTile(y,g,m,o)},t}(u.a);d.prototype.getLayer,t.a=d},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(88),r(18),r(193),r(124),r(7);function n(e,t){t&&t.clear();for(var r=e.declutterItems,n=r.length-1;n>=0;--n)for(var i=r[n],o=i.items,a=0,s=o.length;a<s;a+=3)t=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,t);return r.length=0,t}},function(e,t,r){"use strict";r.r(t);var n,i=r(1),o=r(6),a=r(80),s=r(90),l=r(82),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t,r,n){var i=e.call(this)||this;if(void 0!==n&&void 0===r)i.setFlatCoordinates(n,t);else{var o=r||0;i.setCenterAndRadius(t,o,n)}return i}return u(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),void 0,this.layout)},t.prototype.closestPointXY=function(e,t,r,n){var i=this.flatCoordinates,o=e-i[0],a=t-i[1],s=o*o+a*a;if(s<n){if(0===s)for(var l=0;l<this.stride;++l)r[l]=i[l];else{var u=this.getRadius()/Math.sqrt(s);r[0]=i[0]+u*o,r[1]=i[1]+u*a;for(l=2;l<this.stride;++l)r[l]=i[l]}return r.length=this.stride,s}return n},t.prototype.containsXY=function(e,t){var r=this.flatCoordinates,n=e-r[0],i=t-r[1];return n*n+i*i<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,r=t[this.stride]-t[0];return Object(i.createOrUpdate)(t[0]-r,t[1]-r,t[0]+r,t[1]+r,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return o.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(i.intersects)(e,t)){var r=this.getCenter();return e[0]<=r[0]&&e[2]>=r[0]||(e[1]<=r[1]&&e[3]>=r[1]||Object(i.forEachCorner)(e,this.intersectsCoordinate.bind(this)))}return!1},t.prototype.setCenter=function(e){var t=this.stride,r=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+r;for(var i=1;i<t;++i)n[t+i]=e[i];this.setFlatCoordinates(this.layout,n),this.changed()},t.prototype.setCenterAndRadius=function(e,t,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,i=Object(s.a)(n,0,e,this.stride);n[i++]=n[0]+t;for(var o=1,a=this.stride;o<a;++o)n[i++]=n[o];n.length=i,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,t){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(l.a)(r,0,r.length,n,e,t,r)),this.changed()},t.prototype.translate=function(e,t){var r=this.getCenter(),n=this.getStride();this.setCenter(Object(l.d)(r,0,r.length,n,e,t,r)),this.changed()},t}(a.a);c.prototype.transform,t.default=c},function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a}));var n=r(26),i=r(120);function o(e,t,r,o,a,s,l){for(var u,c,h,p,d,f,g,m=a[s+1],y=[],_=0,b=r.length;_<b;++_){var v=r[_];for(p=e[v-o],f=e[v-o+1],u=t;u<v;u+=o)d=e[u],g=e[u+1],(m<=f&&g<=m||f<=m&&m<=g)&&(h=(m-f)/(g-f)*(d-p)+p,y.push(h)),p=d,f=g}var w=NaN,O=-1/0;for(y.sort(n.i),p=y[0],u=1,c=y.length;u<c;++u){d=y[u];var E=Math.abs(d-p);E>O&&(h=(p+d)/2,Object(i.c)(e,t,r,o,h,m)&&(w=h,O=E)),p=d}return isNaN(w)&&(w=a[s]),l?(l.push(w,m,O),l):[w,m,O]}function a(e,t,r,n,i){for(var a=[],s=0,l=r.length;s<l;++s){var u=r[s];a=o(e,t,u,n,i,2*s,a),t=u[u.length-1]}return a}},function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o,a=[e[t],e[t+1]],s=[];t+n<r;t+=n){if(s[0]=e[t+n],s[1]=e[t+n+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,i=r(186),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i,o){var a=e.call(this,t,r,o)||this;return a.originalEvent=n,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return o(t,e),Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(i.a);t.a=a},function(e,t,r){"use strict";var n,i=r(15),o=r(11),a=r(194),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r){var n=e.call(this,(function(e){return t.apply(null,e)}),(function(e){return e[0].getKey()}))||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=r,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return s(t,e),t.prototype.enqueue=function(t){var r=e.prototype.enqueue.call(this,t);r&&t[0].addEventListener(o.a.CHANGE,this.boundHandleTileChange_);return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var t=e.target,r=t.getState();if(t.hifi&&r===i.a.LOADED||r===i.a.ERROR||r===i.a.EMPTY||r===i.a.ABORT){t.removeEventListener(o.a.CHANGE,this.boundHandleTileChange_);var n=t.getKey();n in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[n],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,t){for(var r,n,o,a=0,s=!1;this.tilesLoading_<e&&a<t&&this.getCount()>0;)o=(n=this.dequeue()[0]).getKey(),(r=n.getState())===i.a.ABORT?s=!0:r!==i.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,n.load());0===a&&s&&this.tileChangeCallback_()},t}(a.b);t.a=l},function(e,t,r){"use strict";function n(e,t,r,n,i){for(var o,a=[e[t],e[t+1]],s=[];t+n<r;t+=n){if(s[0]=e[t+n],s[1]=e[t+n+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,i=r(19),o=r(114),a=r(12),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t){var r=e.call(this)||this;return r.highWaterMark=void 0!==t?t:2048,r.count_=0,r.entries_={},r.oldest_=null,r.newest_=null,r}return s(t,e),t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a.a.CLEAR)},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},t.prototype.get=function(e,t){var r=this.entries_[e];return Object(i.a)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)},t.prototype.remove=function(e){var t=this.entries_[e];return Object(i.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},t.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},t.prototype.set=function(e,t){Object(i.a)(!(e in this.entries_),16);var r={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t}(o.a);t.a=l},function(e,t,r){"use strict";t.a={POINT:"point",LINE:"line"}},function(e,t,r){"use strict";function n(e,t){return[[-1/0,-1/0,1/0,1/0]]}function i(e,t){return[e]}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},function(e,t,r){e.exports=function(){"use strict";function e(e,n,i,o,a){!function e(r,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=n-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(r,n,Math.max(i,Math.floor(n-l*c/s+h)),Math.min(o,Math.floor(n+(s-l)*c/s+h)),a)}var p=r[n],d=i,f=o;for(t(r,i,n),a(r[o],p)>0&&t(r,i,o);d<f;){for(t(r,d,f),d++,f--;a(r[d],p)<0;)d++;for(;a(r[f],p)>0;)f--}0===a(r[i],p)?t(r,i,f):t(r,++f,o),f<=n&&(i=f+1),n<=f&&(o=f-1)}}(e,n,i||0,o||e.length-1,a||r)}function t(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function r(e,t){return e<t?-1:e>t?1:0}var n=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,r){if(!r)return t.indexOf(e);for(var n=0;n<t.length;n++)if(r(e,t[n]))return n;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,r,n,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<r;o++){var a=e.children[o];s(i,e.leaf?n(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;e(t,s,r,n,o),a.push(r,s,s,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(e){var t=this.data,r=[];if(!d(e,t))return r;for(var n=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?n(a):a;d(e,s)&&(t.leaf?r.push(a):p(e,s)?this._all(a,r):i.push(a))}t=i.pop()}return r},n.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var r=[];t;){for(var n=0;n<t.children.length;n++){var i=t.children[n],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||p(e,o))return!0;r.push(i)}}t=r.pop()}return!1},n.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},n.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},n.prototype.clear=function(){return this.data=f([]),this},n.prototype.remove=function(e,t){if(!e)return this;for(var r,n,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),n=l[l.length-1],r=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?n?(r++,a=n.children[r],o=!1):a=null:(l.push(a),u.push(r),r=0,n=a,a=a.children[0])}return this},n.prototype.toBBox=function(e){return e},n.prototype.compareMinX=function(e,t){return e.minX-t.minX},n.prototype.compareMinY=function(e,t){return e.minY-t.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(e){return this.data=e,this},n.prototype._all=function(e,t){for(var r=[];e;)e.leaf?t.push.apply(t,e.children):r.push.apply(r,e.children),e=r.pop();return t},n.prototype._build=function(e,t,r,n){var i,a=r-t+1,s=this._maxEntries;if(a<=s)return o(i=f(e.slice(t,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(i=f([])).leaf=!1,i.height=n;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));g(e,t,r,u,this.compareMinX);for(var c=t;c<=r;c+=u){var h=Math.min(c+u-1,r);g(e,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);i.children.push(this._build(e,p,d,n-1))}}return o(i,this.toBBox),i},n.prototype._chooseSubtree=function(e,t,r,n){for(;n.push(t),!t.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(p=e,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var p,d;return t},n.prototype._insert=function(e,t,r){var n=r?e:this.toBBox(e),i=[],o=this._chooseSubtree(n,this.data,t,i);for(o.children.push(e),s(o,n);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(n,i,t)},n.prototype._split=function(e,t){var r=e[t],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var a=this._chooseSplitIndex(r,i,n),s=f(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,o(r,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(r,s)},n.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(e,t,r){for(var n,i,o,s,l,u,h,p=1/0,d=1/0,f=t;f<=r-t;f++){var g=a(e,0,f,this.toBBox),m=a(e,f,r,this.toBBox),y=(i=g,o=m,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),_=c(g)+c(m);y<p?(p=y,n=f,d=_<d?_:d):y===p&&_<d&&(d=_,n=f)}return n||r-t},n.prototype._chooseSplitAxis=function(e,t,r){var n=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,r,n)<this._allDistMargin(e,t,r,i)&&e.children.sort(n)},n.prototype._allDistMargin=function(e,t,r,n){e.children.sort(n);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,r-t,r,i),u=h(o)+h(l),c=t;c<r-t;c++){var p=e.children[c];s(o,e.leaf?i(p):p),u+=h(o)}for(var d=r-t-1;d>=t;d--){var f=e.children[d];s(l,e.leaf?i(f):f),u+=h(l)}return u},n.prototype._adjustParentBBoxes=function(e,t,r){for(var n=r;n>=0;n--)s(t[n],e)},n.prototype._condense=function(e){for(var t=e.length-1,r=void 0;t>=0;t--)0===e[t].children.length?t>0?(r=e[t-1].children).splice(r.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},n}()},function(e,t,r){"use strict";function n(e,t,r,n){for(var i=e[t],o=e[t+1],a=0,s=t+n;s<r;s+=n){var l=e[s],u=e[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,i=r(4),o=r(49),a=r(0),s=r(3),l=r(250),u=r(189),c=r(184),h=r(125),p=r(14),d=r(156),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Object(a.createEmpty)(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r}return f(t,e),t.prototype.useContainer=function(t,r,n){n<1&&(t=null),e.prototype.useContainer.call(this,t,r,n)},t.prototype.renderFrame=function(e,t){var r=e.pixelRatio,n=e.layerStatesArray[e.layerIndex];Object(p.e)(this.pixelTransform,1/r,1/r),Object(p.d)(this.inversePixelTransform,this.pixelTransform);var i=Object(p.k)(this.pixelTransform);this.useContainer(t,i,n.opacity);var l=this.context,c=l.canvas,h=this.replayGroup_;if(!h||h.isEmpty())return!this.containerReused&&c.width>0&&(c.width=0),this.container;var d=Math.round(e.size[0]*r),f=Math.round(e.size[1]*r);c.width!=d||c.height!=f?(c.width=d,c.height=f,c.style.transform!==i&&(c.style.transform=i)):this.containerReused||l.clearRect(0,0,d,f),this.preRender(l,e);var g=e.extent,m=e.viewState,y=m.center,_=m.resolution,b=m.projection,v=m.rotation,w=b.getExtent(),O=this.getLayer().getSource(),E=!1;if(n.extent){var T=Object(s.fromUserExtent)(n.extent,b);(E=!Object(a.containsExtent)(T,e.extent)&&Object(a.intersects)(T,e.extent))&&this.clip(l,e,T)}var S=e.viewHints,C=!(S[o.a.ANIMATING]||S[o.a.INTERACTING]),x=this.getRenderTransform(y,_,v,r,d,f,0),k=this.getLayer().getDeclutter()?{}:null;if(h.execute(l,x,v,C,void 0,k),O.getWrapX()&&b.canWrapX()&&!Object(a.containsExtent)(w,g)){for(var R=g[0],P=Object(a.getWidth)(w),I=0,j=void 0;R<w[0];){j=P*--I;var L=this.getRenderTransform(y,_,v,r,d,f,j);h.execute(l,L,v,C,void 0,k),R+=P}for(I=0,R=g[2];R>w[2];){j=P*++I;var A=this.getRenderTransform(y,_,v,r,d,f,j);h.execute(l,A,v,C,void 0,k),R-=P}}if(k){var F=e.viewHints,M=!(F[o.a.ANIMATING]||F[o.a.INTERACTING]);Object(u.b)(k,l,v,1,M,e.declutterItems)}E&&l.restore(),this.postRender(l,e);var N=n.opacity,D=this.container;return N!==parseFloat(D.style.opacity)&&(D.style.opacity=1===N?"":N),this.container},t.prototype.getFeatures=function(e){return new Promise(function(t,r){this.hitDetectionImageData_||this.animatingOrInteracting_?t(Object(d.b)(e,this.renderedFeatures_,this.hitDetectionImageData_)):requestAnimationFrame(function(){var r=[this.context.canvas.width,this.context.canvas.height];Object(p.a)(this.pixelTransform,r);var n=this.renderedCenter_,i=this.renderedResolution_,o=this.renderedRotation_,s=this.renderedProjection_,l=this.renderedExtent_,u=this.getLayer(),c=[],h=r[0]/2,f=r[1]/2;c.push(this.getRenderTransform(n,i,o,.5,h,f,0).slice());var g=u.getSource(),m=s.getExtent();if(g.getWrapX()&&s.canWrapX()&&!Object(a.containsExtent)(m,l)){for(var y=l[0],_=Object(a.getWidth)(m),b=0,v=void 0;y<m[0];)v=_*--b,c.push(this.getRenderTransform(n,i,o,.5,h,f,v).slice()),y+=_;for(b=0,y=l[2];y>m[2];)v=_*++b,c.push(this.getRenderTransform(n,i,o,.5,h,f,v).slice()),y-=_}this.hitDetectionImageData_=Object(d.a)(r,c,this.renderedFeatures_,u.getStyleFunction(),l,i,o),t(Object(d.b)(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,o){if(this.replayGroup_){var a=t.viewState.resolution,s=t.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(e,a,s,r,(function(e){var t=Object(i.c)(e);if(!(t in u))return u[t]=!0,n(e,l)}),l.getDeclutter()?o:null)}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),n=e.viewHints[o.a.ANIMATING],i=e.viewHints[o.a.INTERACTING],c=t.getUpdateWhileAnimating(),p=t.getUpdateWhileInteracting();if(!this.dirty_&&!c&&n||!p&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var d=e.extent,f=e.viewState,g=f.projection,m=f.resolution,y=e.pixelRatio,_=t.getRevision(),b=t.getRenderBuffer(),v=t.getRenderOrder();void 0===v&&(v=h.a);var w=f.center.slice(),O=Object(a.buffer)(d,b*m),E=f.projection.getExtent();if(r.getWrapX()&&f.projection.canWrapX()&&!Object(a.containsExtent)(E,e.extent)){var T=Object(a.getWidth)(E),S=Math.max(Object(a.getWidth)(O)/2,T);O[0]=E[0]-S,O[2]=E[2]+S;var C=Math.floor((w[0]-E[0])/T);w[0]-=C*T}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==_&&this.renderedRenderOrder_==v&&Object(a.containsExtent)(this.renderedExtent_,O))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var x,k=new l.a(Object(h.c)(m,y),O,m,y,t.getDeclutter()),R=Object(s.getUserProjection)();R?(r.loadFeatures(Object(s.toUserExtent)(O,g),m,R),x=Object(s.getTransformFromProjections)(R,g)):r.loadFeatures(O,m,g);var P=Object(h.b)(m,y),I=function(e){var r,n=e.getStyleFunction()||t.getStyleFunction();if(n&&(r=n(e,m)),r){var i=this.renderFeature(e,P,r,k,x);this.dirty_=this.dirty_||i}}.bind(this),j=Object(s.toUserExtent)(O,g),L=r.getFeaturesInExtent(j);v&&L.sort(v);for(var A=0,F=L.length;A<F;++A)I(L[A]);this.renderedFeatures_=L;var M=k.finish(),N=new u.a(O,m,y,r.getOverlaps(),M,t.getRenderBuffer());return this.renderedResolution_=m,this.renderedRevision_=_,this.renderedRenderOrder_=v,this.renderedExtent_=O,this.renderedRotation_=f.rotation,this.renderedCenter_=w,this.renderedProjection_=g,this.replayGroup_=N,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,r,n,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var a=0,s=r.length;a<s;++a)o=Object(h.d)(n,e,r[a],t,this.boundHandleStyleImageChange_,i)||o;else o=Object(h.d)(n,e,r,t,this.boundHandleStyleImageChange_,i);return o},t}(c.a);t.a=g},function(e,t,r){"use strict";var n=function(){function e(){}return e.prototype.drawCustom=function(e,t,r){},e.prototype.drawGeometry=function(e){},e.prototype.setStyle=function(e){},e.prototype.drawCircle=function(e,t){},e.prototype.drawFeature=function(e,t){},e.prototype.drawGeometryCollection=function(e,t){},e.prototype.drawLineString=function(e,t){},e.prototype.drawMultiLineString=function(e,t){},e.prototype.drawMultiPoint=function(e,t){},e.prototype.drawMultiPolygon=function(e,t){},e.prototype.drawPoint=function(e,t){},e.prototype.drawPolygon=function(e,t){},e.prototype.drawText=function(e,t){},e.prototype.setFillStrokeStyle=function(e,t){},e.prototype.setImageStyle=function(e,t){},e.prototype.setTextStyle=function(e,t){},e}();t.a=n},function(e,t,r){"use strict";var n,i=r(51),o=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.inversePixelTransform=r,o.frameState=n,o.context=i,o}return o(t,e),t}(i.a);t.a=a},function(e,t,r){"use strict";var n,i=r(4),o=r(31),a=r(170),s=r(12),l=r(53),u=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=function(e){function t(t){var r=e.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=t,r}return u(t,e),t.prototype.getFeatures=function(e){return Object(i.b)()},t.prototype.prepareFrame=function(e){return Object(i.b)()},t.prototype.renderFrame=function(e,t){return Object(i.b)()},t.prototype.loadedTileCallback=function(e,t,r){e[t]||(e[t]={}),e[t][r.tileCoord.toString()]=r},t.prototype.createLoadedTileFinder=function(e,t,r){return function(n,i){var o=this.loadedTileCallback.bind(this,r,n);return e.forEachLoadedTile(t,n,i,o)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){},t.prototype.getDataAtPixel=function(e,t,r){return Object(i.b)()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){e.target.getState()===o.a.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=o.a.LOADED&&t!=o.a.ERROR&&e.addEventListener(s.a.CHANGE,this.boundHandleImageChange_),t==o.a.IDLE&&(e.load(),t=e.getState()),t==o.a.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==l.a.READY&&e.changed()},t}(a.a);t.a=c},function(e,t,r){"use strict";var n,i=r(4),o=r(38),a=r(58),s=r(17),l=r(8),u=r(19),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this)||this,n=Object(l.a)({},t);return n[a.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(u.a)("number"==typeof n[a.a.OPACITY],64),n[a.a.VISIBLE]=void 0===t.visible||t.visible,n[a.a.Z_INDEX]=t.zIndex,n[a.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,n[a.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,n[a.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,n[a.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,r.className_=void 0!==n.className?t.className:"ol-layer",delete n.className,r.setProperties(n),r.state_=null,r}return c(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e},r=this.getZIndex();return t.opacity=Object(s.a)(Math.round(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==r?r:!1===t.managed?1/0:0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(e){return Object(i.b)()},t.prototype.getLayerStatesArray=function(e){return Object(i.b)()},t.prototype.getExtent=function(){return this.get(a.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(a.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(a.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(a.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(a.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(a.a.OPACITY)},t.prototype.getSourceState=function(){return Object(i.b)()},t.prototype.getVisible=function(){return this.get(a.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(a.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(a.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(a.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(a.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(a.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(a.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){Object(u.a)("number"==typeof e,64),this.set(a.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(a.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(a.a.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),e.prototype.disposeInternal.call(this)},t}(o.a);t.a=h},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0);function i(e,t,r,i){for(var o=[],a=Object(n.createEmpty)(),s=0,l=r.length;s<l;++s){var u=r[s];a=Object(n.createOrUpdateFromFlatCoordinates)(e,t,u[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),t=u[u.length-1]}return o}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(89),r(14),r(197),r(125),r(3);function n(e,t){t&&t.clear();for(var r=e.declutterItems,n=r.length-1;n>=0;--n)for(var i=r[n],o=i.items,a=0,s=o.length;a<s;a+=3)t=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,t);return r.length=0,t}},function(e,t,r){"use strict";var n,i=r(84),o=r(49),a=r(0),s=r(3),l=r(184),u=r(14),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=function(e){function t(t){var r=e.call(this,t)||this;return r.image_=null,r}return c(t,e),t.prototype.getImage=function(){return this.image_?this.image_.getImage():null},t.prototype.prepareFrame=function(e){var t=e.layerStatesArray[e.layerIndex],r=e.pixelRatio,n=e.viewState,l=n.resolution,u=this.getLayer().getSource(),c=e.viewHints,h=e.extent;if(void 0!==t.extent&&(h=Object(a.getIntersection)(h,Object(s.fromUserExtent)(t.extent,n.projection))),!c[o.a.ANIMATING]&&!c[o.a.INTERACTING]&&!Object(a.isEmpty)(h)){var p=n.projection;if(!i.a){var d=u.getProjection();d&&(p=d)}var f=u.getImage(h,l,r,p);f&&this.loadImage(f)&&(this.image_=f)}return!!this.image_},t.prototype.renderFrame=function(e,t){var r=this.image_,n=r.getExtent(),i=r.getResolution(),o=r.getPixelRatio(),l=e.layerStatesArray[e.layerIndex],c=e.pixelRatio,h=e.viewState,p=h.center,d=h.resolution,f=e.size,g=c*i/(d*o),m=Math.round(f[0]*c),y=Math.round(f[1]*c),_=h.rotation;if(_){var b=Math.round(Math.sqrt(m*m+y*y));m=b,y=b}Object(u.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/c,1/c,_,-m/2,-y/2),Object(u.d)(this.inversePixelTransform,this.pixelTransform);var v=this.createTransformString(this.pixelTransform);this.useContainer(t,v,l.opacity);var w=this.context,O=w.canvas;O.width!=m||O.height!=y?(O.width=m,O.height=y):this.containerReused||w.clearRect(0,0,m,y);var E=!1;if(l.extent){var T=Object(s.fromUserExtent)(l.extent,h.projection);(E=!Object(a.containsExtent)(T,e.extent)&&Object(a.intersects)(T,e.extent))&&this.clipUnrotated(w,e,T)}var S=r.getImage(),C=Object(u.b)(this.tempTransform_,m/2,y/2,g,g,0,o*(n[0]-p[0])/i,o*(p[1]-n[3])/i);this.renderedResolution=i*c/o;var x=C[4],k=C[5],R=S.width*C[0],P=S.height*C[3];if(this.preRender(w,e),R>=.5&&P>=.5){var I=l.opacity,j=void 0;1!==I&&(j=this.context.globalAlpha,this.context.globalAlpha=I),this.context.drawImage(S,0,0,+S.width,+S.height,Math.round(x),Math.round(k),Math.round(R),Math.round(P)),1!==I&&(this.context.globalAlpha=j)}return this.postRender(w,e),E&&w.restore(),v!==O.style.transform&&(O.style.transform=v),this.container},t}(l.a);t.a=h},function(e,t,r){"use strict";var n,i=r(4),o=r(3),a=r(143),s=r(16),l=r(0),u=r(184),c=r(14),h=r(10),p=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),d=function(e){function t(t){var r=e.call(this,t)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Object(l.createEmpty)(),r.tmpTileRange_=new a.b(0,0,0,0),r}return p(t,e),t.prototype.isDrawableTile=function(e){var t=this.getLayer(),r=e.getState(),n=t.getUseInterimTilesOnError();return r==s.a.LOADED||r==s.a.EMPTY||r==s.a.ERROR&&!n},t.prototype.getTile=function(e,t,r,n){var i=n.pixelRatio,o=n.viewState.projection,a=this.getLayer(),l=a.getSource().getTile(e,t,r,i,o);return l.getState()==s.a.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):l.setState(s.a.LOADED)),this.isDrawableTile(l)||(l=l.getInterimTile()),l},t.prototype.loadedTileCallback=function(t,r,n){return!!this.isDrawableTile(n)&&e.prototype.loadedTileCallback.call(this,t,r,n)},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,t){var r=e.layerStatesArray[e.layerIndex],n=e.viewState,a=n.projection,u=n.resolution,p=n.center,d=n.rotation,f=e.pixelRatio,g=this.getLayer(),m=g.getSource(),y=m.getRevision(),_=m.getTileGridForProjection(a),b=_.getZForResolution(u,m.zDirection),v=_.getResolution(b),w=e.extent,O=r.extent&&Object(o.fromUserExtent)(r.extent,a);O&&(w=Object(l.getIntersection)(w,Object(o.fromUserExtent)(r.extent,a)));var E=m.getTilePixelRatio(f),T=Math.round(e.size[0]*E),S=Math.round(e.size[1]*E);if(d){var C=Math.round(Math.sqrt(T*T+S*S));T=C,S=C}var x=v*T/2/E,k=v*S/2/E,R=[p[0]-x,p[1]-k,p[0]+x,p[1]+k],P=_.getTileRangeForExtentAndZ(w,b),I={};I[b]={};var j=this.createLoadedTileFinder(m,a,I),L=this.tmpExtent,A=this.tmpTileRange_;this.newTiles_=!1;for(var F=P.minX;F<=P.maxX;++F)for(var M=P.minY;M<=P.maxY;++M){var N=this.getTile(b,F,M,e);if(this.isDrawableTile(N)){var D=Object(i.c)(this);if(N.getState()==s.a.LOADED){I[b][N.tileCoord.toString()]=N;var G=N.inTransition(D);this.newTiles_||!G&&-1!==this.renderedTiles.indexOf(N)||(this.newTiles_=!0)}if(1===N.getAlpha(D,e.time))continue}var U=_.getTileCoordChildTileRange(N.tileCoord,A,L),z=!1;U&&(z=j(b+1,U)),z||_.forEachTileCoordParentTileRange(N.tileCoord,j,A,L)}var B=v/u;Object(c.b)(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/E,1/E,d,-T/2,-S/2);var V=this.createTransformString(this.pixelTransform);this.useContainer(t,V,r.opacity);var W=this.context,K=W.canvas;Object(c.d)(this.inversePixelTransform,this.pixelTransform),Object(c.b)(this.tempTransform_,T/2,S/2,B,B,0,-T/2,-S/2),K.width!=T||K.height!=S?(K.width=T,K.height=S):this.containerReused||W.clearRect(0,0,T,S),O&&this.clipUnrotated(W,e,O),this.preRender(W,e),this.renderedTiles.length=0;var H,Y,X,Z=Object.keys(I).map(Number);Z.sort(h.i),1!==r.opacity||this.containerReused&&!m.getOpaque(e.viewState.projection)?(H=[],Y=[]):Z=Z.reverse();for(var q=Z.length-1;q>=0;--q){var Q=Z[q],$=m.getTilePixelSize(Q,f,a),J=_.getResolution(Q)/v,ee=$[0]*J*B,te=$[1]*J*B,re=_.getTileCoordForCoordAndZ(Object(l.getTopLeft)(R),Q),ne=_.getTileCoordExtent(re),ie=Object(c.a)(this.tempTransform_,[E*(ne[0]-R[0])/v,E*(R[3]-ne[3])/v]),oe=E*m.getGutterForProjection(a),ae=I[Q];for(var se in ae){var le=(N=ae[se]).tileCoord,ue=ie[0]-(re[1]-le[1])*ee,ce=Math.round(ue+ee),he=ie[1]-(re[2]-le[2])*te,pe=Math.round(he+te),de=ce-(F=Math.round(ue)),fe=pe-(M=Math.round(he)),ge=b===Q;if(!(G=ge&&1!==N.getAlpha(Object(i.c)(this),e.time)))if(H){W.save(),X=[F,M,F+de,M,F+de,M+fe,F,M+fe];for(var me=0,ye=H.length;me<ye;++me)if(b!==Q&&Q<Y[me]){var _e=H[me];W.beginPath(),W.moveTo(X[0],X[1]),W.lineTo(X[2],X[3]),W.lineTo(X[4],X[5]),W.lineTo(X[6],X[7]),W.moveTo(_e[6],_e[7]),W.lineTo(_e[4],_e[5]),W.lineTo(_e[2],_e[3]),W.lineTo(_e[0],_e[1]),W.clip()}H.push(X),Y.push(Q)}else W.clearRect(F,M,de,fe);this.drawTileImage(N,e,F,M,de,fe,oe,ge,r.opacity),H&&!G&&W.restore(),this.renderedTiles.push(N),this.updateUsedTiles(e.usedTiles,m,N)}}return this.renderedRevision=y,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!Object(l.equals)(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(e,m,_,f,a,w,b,g.getPreload()),this.updateCacheSize_(e,m),this.scheduleExpireCache(e,m),this.postRender(W,e),r.extent&&W.restore(),V!==K.style.transform&&(K.style.transform=V),this.container},t.prototype.drawTileImage=function(e,t,r,n,o,a,s,l,u){var c=this.getTileImage(e);if(c){var h=Object(i.c)(this),p=l?e.getAlpha(h,t.time):1,d=u*p,f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(c,s,s,c.width-2*s,c.height-2*s,r,n,o,a),f&&this.context.restore(),1!==p?t.animate=!0:l&&e.endTransition(h)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var r=function(e,t,r){var n=Object(i.c)(e);n in r.usedTiles&&e.expireCache(r.viewState.projection,r.usedTiles[n])}.bind(null,t);e.postRenderFunctions.push(r)}},t.prototype.updateUsedTiles=function(e,t,r){var n=Object(i.c)(t);n in e||(e[n]={}),e[n][r.getKey()]=!0},t.prototype.updateCacheSize_=function(e,t){var r=Object(i.c)(t),n=0;r in e.usedTiles&&(n+=Object.keys(e.usedTiles[r]).length),r in e.wantedTiles&&(n+=Object.keys(e.wantedTiles[r]).length);var o=t.tileCache;o.highWaterMark<n&&(o.highWaterMark=n)},t.prototype.manageTilePyramid=function(e,t,r,n,o,a,l,u,c){var h=Object(i.c)(t);h in e.wantedTiles||(e.wantedTiles[h]={});var p,d,f,g,m,y,_=e.wantedTiles[h],b=e.tileQueue;for(y=r.getMinZoom();y<=l;++y)for(d=r.getTileRangeForExtentAndZ(a,y,d),f=r.getResolution(y),g=d.minX;g<=d.maxX;++g)for(m=d.minY;m<=d.maxY;++m)l-y<=u?((p=t.getTile(y,g,m,n,o)).getState()==s.a.IDLE&&(_[p.getKey()]=!0,b.isKeyQueued(p.getKey())||b.enqueue([p,h,r.getTileCoordCenter(p.tileCoord),f])),void 0!==c&&c(p)):t.useTile(y,g,m,o)},t}(u.a);d.prototype.getLayer,t.a=d},function(e,t,r){"use strict";var n,i=r(1),o=r(133),a=r(27),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return s(t,e),t.prototype.drawCoordinates_=function(e,t,r,n){return this.appendFlatCoordinates(e,t,r,n,!1,!1)},t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var r=e.getAnchor(),n=e.getSize(),i=e.getHitDetectionImage(1),o=e.getImage(1),a=e.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroups_=t,this.hitDetectionImage_=i,this.image_=o,this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.width_=n[0]},t}(o.a),u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return u(t,e),t.prototype.drawFlatCoordinates_=function(e,t,r,n){var i=this.coordinates.length,o=this.appendFlatCoordinates(e,t,r,n,!1,!1),s=[a.c.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},t.prototype.drawLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);var o=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.e),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);for(var o=e.getEnds(),s=e.getFlatCoordinates(),l=e.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinates_(s,u,o[c],l);this.hitDetectionInstructions.push(a.e),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(a.e),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(a.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(a.a)},t}(o.a),h=r(113),p=r(23),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return d(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,r,n){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,l=r.length;this.instructions.push(a.a),this.hitDetectionInstructions.push(a.a);for(var u=0;u<l;++u){var c=r[u],h=this.coordinates.length,p=this.appendFlatCoordinates(e,t,c,n,!0,!s),d=[a.c.MOVE_TO_LINE_TO,h,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(a.b),this.hitDetectionInstructions.push(a.b)),t=c}return o&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),s&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),t},t.prototype.drawCircle=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getFlatCoordinates(),s=e.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[a.c.CIRCLE,l];this.instructions.push(a.a,u),this.hitDetectionInstructions.push(a.a,u),void 0!==r.fillStyle&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),void 0!==r.strokeStyle&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getEnds(),s=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(s,0,o,l),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=e.getEndss(),s=e.getOrientedFlatCoordinates(),l=e.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinatess_(s,u,o[c],l);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var r=this.coordinates,n=0,i=r.length;n<i;++n)r[n]=Object(h.e)(r[n],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(o.a),g=r(166),m={Circle:f,Default:o.a,Image:l,LineString:c,Polygon:f,Text:g.b},y=function(){function e(e,t,r,n,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.addDeclutter=function(e){var t=null;return this.declutter_&&(e?(t=this.declutterGroups_)[0][4]++:(t=[Object(i.createEmpty)()],this.declutterGroups_=t,t[0].push(1))),t},e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var n in r){var i=r[n].finish();e[t][n]=i}}return e},e.prototype.getBuilder=function(e,t){var r=void 0!==e?e.toString():"0",n=this.buildersByZIndex_[r];void 0===n&&(n={},this.buildersByZIndex_[r]=n);var i=n[t];void 0===i&&(i=new(0,m[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i);return i},e}();t.a=y},function(e,t,r){"use strict";var n,i=r(0),o=r(136),a=r(28),s=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(e){function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return s(t,e),t.prototype.drawCoordinates_=function(e,t,r,n){return this.appendFlatCoordinates(e,t,r,n,!1,!1)},t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(e,t);var r=e.getFlatCoordinates(),n=e.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(r,0,r.length,n);this.instructions.push([a.c.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([a.c.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var r=e.getAnchor(),n=e.getSize(),i=e.getHitDetectionImage(1),o=e.getImage(1),a=e.getOrigin();this.anchorX_=r[0],this.anchorY_=r[1],this.declutterGroups_=t,this.hitDetectionImage_=i,this.image_=o,this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.width_=n[0]},t}(o.a),u=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),c=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return u(t,e),t.prototype.drawFlatCoordinates_=function(e,t,r,n){var i=this.coordinates.length,o=this.appendFlatCoordinates(e,t,r,n,!1,!1),s=[a.c.MOVE_TO_LINE_TO,i,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),r},t.prototype.drawLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);var o=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.e),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var r=this.state,n=r.strokeStyle,i=r.lineWidth;if(void 0!==n&&void 0!==i){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t),this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],a.a);for(var o=e.getEnds(),s=e.getFlatCoordinates(),l=e.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinates_(s,u,o[c],l);this.hitDetectionInstructions.push(a.e),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(a.e),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(a.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(a.a)},t}(o.a),h=r(115),p=r(24),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),f=function(e){function t(t,r,n,i){return e.call(this,t,r,n,i)||this}return d(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,r,n){var i=this.state,o=void 0!==i.fillStyle,s=void 0!==i.strokeStyle,l=r.length;this.instructions.push(a.a),this.hitDetectionInstructions.push(a.a);for(var u=0;u<l;++u){var c=r[u],h=this.coordinates.length,p=this.appendFlatCoordinates(e,t,c,n,!0,!s),d=[a.c.MOVE_TO_LINE_TO,h,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),s&&(this.instructions.push(a.b),this.hitDetectionInstructions.push(a.b)),t=c}return o&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),s&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),t},t.prototype.drawCircle=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getFlatCoordinates(),s=e.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[a.c.CIRCLE,l];this.instructions.push(a.a,u),this.hitDetectionInstructions.push(a.a,u),void 0!==r.fillStyle&&(this.instructions.push(a.d),this.hitDetectionInstructions.push(a.d)),void 0!==r.strokeStyle&&(this.instructions.push(a.e),this.hitDetectionInstructions.push(a.e)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);var o=e.getEnds(),s=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(s,0,o,l),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var r=this.state,n=r.fillStyle,i=r.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(e,t),void 0!==r.fillStyle&&this.hitDetectionInstructions.push([a.c.SET_FILL_STYLE,p.b]),void 0!==r.strokeStyle&&this.hitDetectionInstructions.push([a.c.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset]);for(var o=e.getEndss(),s=e.getOrientedFlatCoordinates(),l=e.getStride(),u=0,c=0,h=o.length;c<h;++c)u=this.drawFlatCoordinatess_(s,u,o[c],l);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var r=this.coordinates,n=0,i=r.length;n<i;++n)r[n]=Object(h.e)(r[n],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(o.a),g=r(167),m={Circle:f,Default:o.a,Image:l,LineString:c,Polygon:f,Text:g.b},y=function(){function e(e,t,r,n,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=r,this.buildersByZIndex_={}}return e.prototype.addDeclutter=function(e){var t=null;return this.declutter_&&(e?(t=this.declutterGroups_)[0][4]++:(t=[Object(i.createEmpty)()],this.declutterGroups_=t,t[0].push(1))),t},e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var r=this.buildersByZIndex_[t];for(var n in r){var i=r[n].finish();e[t][n]=i}}return e},e.prototype.getBuilder=function(e,t){var r=void 0!==e?e.toString():"0",n=this.buildersByZIndex_[r];void 0===n&&(n={},this.buildersByZIndex_[r]=n);var i=n[t];void 0===i&&(i=new(0,m[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=i);return i},e}();t.a=y},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */
function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function o(e){var t=n(e);return"yes"==t||"Yes"==t?"Ja":"no"==t?"Nein":"No"==t?"nein":"limited"==t?"Eingeschränkt":"designated"==t?"Ja":"wood"==t?"Holz":"metal"==t?"Metall":"concrete"==t?"Beton":"plastic"==t?"Plastik":"stone"==t?"Stein":"steel"==t?"Stahl":"brick"==t?"Ziegel":"reinforced_concrete"==t?"Stahlbeton":"masonry"==t?"Mauerwerk":e}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=n,t.isMobile=i,t.fnHeader=a,t.fnFooter=s,t.fnGetTranslate_Type=l,t.fnArztInfo=k,t.fnKraftwerkInfo=R,t.fnWertstoffinfo=P,t.fnAdditionalBuildingInfos=L,t.fnSicherheitAdditional=A,t.fnWreckInfo=F,t.fnKlosterAdditional=M;t.fnStandardInfoPopup=function(e,t){var r,n=e.getProperties(),i="";if("function"==typeof t){var o=t.call(e)[0].getImage();if(o)try{r=o.getSrc()}catch(e){r=""}}else{o=t.getImage();try{r=o.getSrc()}catch(e){r=""}}return i+=a(n,r),i+=u(n),'<div class="c4g_popup_text">'+(i+=s(n,e.get("osm_type")+"/"+e.getId()))+"</div>"},t.fnReducedInfoPopup=function(e,t){var r,n=e.getProperties(),i="",o=!1;switch(r="function"==typeof t?t.call(e)[0].getImage().getSrc():t.getImage().getSrc(),"restaurant"!=n.amenity&&"pub"!=n.amenity&&"biergarten"!=n.amenity||(o=!0),"hotel"==n.tourism&&(o=!0),"guest_house"==n.tourism&&(o=!0),"chalet"==n.tourism&&(o=!0),"hostel"==n.tourism&&(o=!0),"alpine_hut"==n.tourism&&(o=!0),"artwork"!=n.tourism&&"artwork"!=n.amenity||(o=!0),"museum"!=n.tourism&&"museum"!=n.amenity||(o=!0),"cinema"==n.amenity&&(o=!0),"theatre"==n.amenity&&(o=!0),"attraction"!=n.amenity&&"fountain"!=n.amenity&&"monument"!=n.historic&&"city_gate"!=n.historic&&"ruins"!=n.historic&&"castle"!=n.historic&&"attraction"!=n.tourism||(o=!0),"playground"==n.leisure&&(o=!0),n.aerialway&&(o=!0),"swimming_pool"!=n.amenity&&"swimming_pool"!=n.leisure&&"swimming"!=n.sport||(o=!0),"station"==n.railway&&(o=!0),"swimming"==n.sport&&(o=!0),"swimming_pool"==n.leisure&&(o=!0),"swimming_pool"==n.amenity&&(o=!0),"waterpark"==n.leisure&&(o=!0),n.water_park&&(o=!0),"sports_centre"==n.leisure&&(o=!0),o){case!1:i+=a(n,r),i+=u(n),i+=s(n,e.get("osm_type")+"/"+e.getId());break;case!0:i+=a(n,r)}return'<div class="c4g_popup_text">'+i+"</div>"};function a(e,t){var r="",n="32px";if(t&&-1!=t.indexOf("icon_mapcil")&&(n="250px",t=t.replace("icon_mapcil","logo_mapcil")),e.name||e["piste:name"]||e["xmas:name"]||e["xmas:location"]){if(e.name)var i=e.name;e["piste:name"]&&(i=e["piste:name"]),e["xmas:name"]&&(i=e["xmas:name"]),e["xmas:location"]&&(i=e["xmas:location"]),r+=t?'<img src="'+t+'" width="'+n+'" name="'+i+'" alt="'+i+'"><div class="c4g_popup_header_featurename">'+i+"</div>":'<name="'+i+'" alt="'+i+'"><div class="c4g_popup_header_featurename">'+i+"</div>"}else t&&(r+='<img src="'+t+'" width="'+n+'" name="'+t+'" alt="'+t+'">');return'<div class="c4g_popup_header">'+(r+=l(e))+"</div>"}function s(e,t){var r="",a=!1;if(e["addr:housename"]&&(r+="Gebäudename: "+e["addr:housename"]+"<br/>",a=!0),e["addr:floor"]?(r+="Etage: "+e["addr:floor"]+"<br/>",a=!0):e["addr:level"]&&(r+="Etage: "+e["addr:level"]+"<br/>",a=!0),e["addr:street"]&&(r+=e["addr:street"],r=e["addr:housenumber"]?r+" "+e["addr:housenumber"]+"<br/>":r+"<br/>",a=!0),e["addr:postcode"]&&(r+=e["addr:postcode"]+" "),e["addr:city"]&&(r+=e["addr:city"]+"<br/>",a=!0),e.sqkm)if(e.sqkm=""+e.sqkm,3<e.sqkm.length){for(var s=e.sqkm.length%3,l=0<s?e.sqkm.substring(0,s):"",u=0;u<Math.floor(e.sqkm.length/3);u++)l=0==s&&0==u?l+e.sqkm.substring(s+3*u,s+3*u+3):l+"."+e.sqkm.substring(s+3*u,s+3*u+3);r+="Fläche: "+l+" Km²<br/>"}else r+="Fläche "+e.sqkm+"<br/>";if(e["contact:phone"]&&(r=i()?r+'Telefon: <a href="tel:'+e["contact:phone"]+'">'+e["contact:phone"]+"</a><br/>":r+'Telefon: <a href="callto:'+e["contact:phone"]+'">'+e["contact:phone"]+"</a><br/>",a=!0),e.phone&&(r=i()?r+'Telefon: <a href="tel:'+e.phone+'">'+e.phone+"</a><br/>":r+'Telefon: <a href="callto:'+e.phone+'">'+e.phone+"</a><br/>",a=!0),e["contact:fax"]?(r+="Telefax: "+e["contact:fax"]+"<br/>",a=!0):e.fax&&(r+="Telefax: "+e.fax+"<br/>",a=!0),e["contact:email"]?(r+='E-Mail-Adresse: <a href="mailto:'+e["contact:email"]+'">'+e["contact:email"]+"</a><br/>",a=!0):e.email&&(r+='E-Mail-Adresse: <a href="mailto:'+e.email+'">'+e.email+"</a><br/>",a=!0),a&&(r+="<br/>"),e.opening_hours){for(a=e.opening_hours,s=0;0==s||0<a.indexOf(";");)a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("PH","FT")).replace("Tu","Di")).replace("We","Mi")).replace("Th","Do")).replace("Su","So")).replace("Mar","Mär")).replace("May","Mai")).replace("Oct","Okt")).replace("Dec","Dez")).replace('"Please make a reservation"','"Bitte vereinbaren Sie einen Termin"')).replace("off","ausgenommen"),0<s&&(a=a.replace(";","<br/>")),s++;r+='Öffnungszeiten: <br/><div class="c4g_open_text">'+a+"</div>",r=0<a.indexOf("FT")?r+"(FT = Feiertag)<br/>":r+"<br/>"}if(e["xmas:opening_hours"]){for(a=e["xmas:opening_hours"],s=0;0==s||0<a.indexOf(";");)a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("PH","FT")).replace("Tu","Di")).replace("We","Mi")).replace("Th","Do")).replace("Su","So")).replace("Mar","Mär")).replace("May","Mai")).replace("Oct","Okt")).replace("Dec","Dez"),0<s&&(a=a.replace(";","<br/>")),s++;r+='Öffnungszeiten: <br/><div class="c4g_open_text">'+a+"</div>",r=0<a.indexOf("FT")?r+"(FT = Feiertag)<br/>":r+"<br/>"}return e["xmas:url"]&&(a="",n(a=e["xmas:url"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='Website: <a href="'+a+'" target="_blank">Link zur Website</a><br/>'),e["contact:website"]?(n(a=e["contact:website"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='Website: <a href="'+a+'" target="_blank">Link zur Website</a><br/>'):e.website&&(n(a=e.website),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='Website: <a href="'+a+'" target="_blank">Link zur Website</a><br/>'),e.wikipedia&&(n(a=e.wikipedia),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="https://wikipedia.org/wiki/"+a),r+='Wikipedia: <a href="'+a+'" target="_blank">Link zu Wikipedia</a><br/>'),e.wikimedia_commons&&(n(a=e.wikimedia_commons),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="https://commons.wikimedia.org/wiki/"+a),r+='Wikimedia: <a href="'+a+'" target="_blank">Link zu Wikimedia</a><br/>'),e["contact:webcam"]&&(n(a=e["contact:webcam"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='Webcam: <a href="'+a+'" target="_blank">Link zur Webcam</a><br/>'),e.image&&(r+='<img src="'+e.image+'" width="200px" name="'+e.name+'" alt="'+e.name+'"><br/>'),a="",e.internet_access&&(a+="Internetzugriff: "+o(e.internet_access)+"<br/>"),e["internet_access:fee"]&&(a+="Internet Gebühr: "+o(e["internet_access:fee"])+"<br/>"),e["wifi_access:operator"]&&(a+="wifi Betreiber: "+e["wifi_access:operator"]+"<br/>"),e["wifi_access:technology"]&&(a+="wifi Technologie: "+e["wifi_access:technology"]+"<br/>"),e["wifi_access:ssid"]&&(a+="wifi ssid: "+e["wifi_access:ssid"]+"<br/>"),""!=a&&(r+='Internetzugang vorhanden<br/><div class="c4g_shop_internet_access">'+a+"</div><br/>"),e.wheelchair&&(r+="rollstuhlgeeignet: "+o(e.wheelchair)+"<br/>"),e["wheelchair:description"]&&(r+="Beschreibung: "+e["wheelchair:description"]+"<br/>"),e["wheelchair:entrance_width"]&&(r+="Breite des Eingangs in CM: "+e["wheelchair:entrance_width"]+"<br/>"),e["wheelchair:step_height"]&&(r+="Höhe der Stufe am Eingang in CM: "+e["wheelchair:step_height"]+"<br/>"),e["wheelchair:rooms"]&&(r+="Anzahl rollstuhlgerechter Räume: "+e["wheelchair:rooms"]+"<br/>"),e["wheelchair:places"]&&(r+="Anzahl der Rollstuhlplätze: "+e["wheelchair:places"]+"<br/>"),e["cent:places"]&&(r+="Anzahl der Rollstuhlplätze: "+e["wheelchair:places"]+"<br/>"),e["ramp:wheelchair"]&&(r+="Rampe für Rollstuhlfahrer: "+e["ramp:wheelchair"]+"<br/>"),e["capacity:disabled"]&&(r+="Behindertenparkplätze: "+o(e["capacity:disabled"])+"<br/>"),e["toilets:wheelchair"]&&(r+="Behinderdengerechte Toilette: "+o(e["toilets:wheelchair"])+"<br/>"),e.centralkey&&(r+="Zentralschlüssel: "+e.centralkey+"<br/>"),e.note&&(r+=e.note+"<br/>"),e.description&&(r+=e.description+"<br/>"),e.operator&&(r+="Betreiber: "+e.operator+"<br/>"),e.ref&&(r+="Referenz: "+e.ref+"<br/>"),"yes"==e.lit&&(r+="Dieses Objekt ist beleuchtet.<br/>"),e.shop&&(a="",e.brand&&(a+="Markenzeichen: "+e.brand+"<br/>"),e.sells&&(a+="Verkaufs: "+e.sells+"<br/>"),e.origin&&(a+="Herkunftsländer: "+e.origin+"<br/>"),"yes"==e.wholesale&&(a+="Großhändler: Ja<br/>"),""!=a&&(r+='Weitere Angaben zum Shop: <br/><div class="c4g_shop_text">'+a+"</div><br/>")),t&&(n(a=t),r=r+'<br/>OSM:    <a href="http://www.openstreetmap.org/'+(a=a.replace(/\./,"/"))+'" target="_blank">Link zur OpenStreetMap</a><br/>'),'<div class="c4g_popup_footer">'+r+"</div>"}function l(e){var t="";if("doctors"!=e.amenity&&"doctor"!=e.healthcare||(t+="Arzt<br/>"),"hospital"!=e.amenity&&"clinic"!=e.amenity&&"hospital"!=e.healthcare&&"clinic"!=e.healthcare||(t="yes"==e.emergency?t+"Krankenhaus mit Notaufnahme<br/>":t+"Krankenhaus<br/>"),"dentist"==e.amenity&&(t+="Zahnarzt<br/>"),"pharmacy"!=e.amenity&&"pharmacy"!=e["health_facility:type"]||(t+="Apotheke<br/>"),"physiotherapist"!=e.healthcare&&"yes"!=e["health_speciality:physiotherapy"]||(t+="Physiotherapeut<br/>"),"occupational_therapist"!=e.healthcare&&"yes"!=e["health_speciality:occupational_therapy"]&&"yes"!=e["health_specialty:occupational_therapy"]||(t+="Ergotherapeut<br/>"),"psychotherapist"!=e.healthcare&&"yes"!=e["health_speciality:psychotherapy"]||(t+="Psychotherapeut<br/>"),"alternative"==e.healthcare&&(t+="Alternativ- und Komplementärmediziner<br/>"),"midwife"==e.healthcare&&(t+="Hebamme<br/>"),"speech_therapist"!=e.healthcare&&"yes"!=e["health_speciality:speech_therapy"]||(t+="Logopäde<br/>"),"yes"==e["health_speciality:music_therapy"]&&(t+="Musiktherapeut<br/>"),"veterinary"==e.amenity&&(t+="Tierarzt<br/>"),"fire_station"==e.amenity&&(t+="Feuerwehrhaus<br/>"),"fire_extinguisher"==e.emergency&&(t+="Feuerlöscher<br/>"),"aed"==e.emergency&&(t+="Mobiler Defibrilator<br/>"),"defibrillator"==e.emergency&&(t+="Mobiler Defibrilator<br/>"),"phone"==e.emergency&&(t+="Notrufsäule<br/>"),"police"==e.amenity&&(t+="Polizeiwache<br/>"),"ambulance_station"==e.emergency&&(t+="Rettungswache<br/>"),"technical"==e.emergency_service&&(t+="Technisches Hilfswerk<br/>"),"water"==e.emergency_service&&(t+="Wasserrettungsstation<br/>"),"baywatch"==e.waterway&&(t+="Wasserwacht<br/>"),"air"==e.emergency_service&&(t+="Rettungshubschrauber<br/>"),"emergency_access_point"==e.highway&&(t+="Notfallpunkt<br/>"),"lifeboat_station"!=e.amenity&&"lifeboat_station"!=e.emergency||(t+="Rettungsbootstation<br/>"),"life_ring"==e.emergency&&(t+="Rettungsring<br/>"),"siren"==e.emergency&&(t+="Sirene<br/>"),"life_ring"==e.amenity&&(t+="Rettungsring<br/>"),"rescue_station"==e.amenity&&(t+="Rettungsstation<br/>"),"fire_hydrant"==e.emergency&&("underground"==e["fire_hydrant:type"]?t+="Unterflurhydrant<br/>":"pillar"==e["fire_hydrant:type"]?t+="Überflurhydrant<br/>":"wall"==e["fire_hydrant:type"]?t+="Wandhydrant<br/>":"pond"==e["fire_hydrant:type"]&&(t+="Saugstelle<br/>")),"suction_point"==e.emergency&&(t+="Saugstelle<br/>"),"fire_water_pond"==e.emergency&&(t+="Löschteich<br/>"),"mountain"==e.emergency_service&&(t+="Bergrettungsstation<br/>"),"water_tank"==e.emergency&&(t+="Löschwassertank<br/>"),"container"==e.recycling_type&&(t+="Recycling Container<br/>"),"recycling"==e.amenity&&"yes"==e["recycling:excrement"]||"pump-out"==e["seamark:small_craft_facility:category"]?t+="Absaugstation<br/>":"recycling"==e.amenity&&(t+="Wertstoffhof<br/>"),"yes"==e["diet:pescetarian"]?t+="pescetarische Gerichte vorhanden<br/>":"only"==e["diet:pescetarian"]&&(t+="nur pescetarische Gerichte<br/>"),"yes"==e["diet:vegetarian"]?t+="vegetarische Gerichte vorhanden<br/>":"only"==e["diet:vegetarian"]&&(t+="nur vegetarische Gerichte<br/>"),"yes"==e["diet:lacto_vegetarian"]?t+="lacto-vegetarische Gerichte vorhanden<br/>":"only"==e["diet:lacto_vegetarian"]&&(t+="nur lacto-vegetarische Gerichte<br/>"),"yes"==e["diet:ovo_vegetarian"]?t+="ovo-vegetarische Gerichte vorhanden<br/>":"only"==e["diet:ovo_vegetarian"]&&(t+="nur ovo-vegetarische Gerichte<br/>"),"yes"==e["diet:vegan"]?t+="vegane Gerichte vorhanden<br/>":"only"==e["diet:vegan"]&&(t+="nur vegane Gerichte<br/>"),"yes"==e["diet:fruitarian"]?t+="frutarische Gerichte vorhanden<br/>":"only"==e["diet:fruitarian"]&&(t+="nur frutarische Gerichte<br/>"),"yes"==e["diet:raw"]?t+="rohköstliche Gerichte vorhanden<br/>":"only"==e["diet:raw"]&&(t+="nur rohköstliche Gerichte<br/>"),"yes"==e["diet:gluten_free"]?t+="glutenfreie Gerichte vorhanden<br/>":"only"==e["diet:gluten_free"]&&(t+="nur glutenfreie Gerichte<br/>"),"yes"==e["diet:dairy_free"]?t+="milchfreie Gerichte vorhanden<br/>":"only"==e["diet:dairy_free"]&&(t+="nur milchfreie Gerichte<br/>"),"yes"==e["diet:lactose_free"]?t+="laktosefreie Gerichte vorhanden<br/>":"only"==e["diet:lactose_free"]&&(t+="nur laktosefreie Gerichte<br/>"),"yes"==e["diet:halal"]?t+="Halāl Gerichte vorhanden<br/>":"only"==e["diet:halal"]&&(t+="nur Halāl Gerichte<br/>"),"yes"==e["diet:kosher"]?t+="koschere Gerichte vorhanden<br/>":"only"==e["diet:kosher"]&&(t+="nur koschere Gerichte<br/>"),"pub"==e.amenity&&(t+="Gaststätte<br/>"),"bar"==e.amenity&&(t+="Bar<br/>"),"yes"==e.frozen_yogurt&&(t+="Frozen Yogurt im Angebot<br/>"),"yes"==e.slush_ice&&(t+="Slush Ice im Angebot<br/>"),"yes"==e.cake&&(t+="Kuchenteilchen, Gebäck etc. im Angebot<br/>"),"yes"==e.coffee&&(t+="Kaffeegetränke im Angebot<br/>"),"yes"==e.drinks&&(t+="Getränke im Angebot<br/>"),"biergarten"==e.amenity&&(t+="Biergarten<br/>"),"restaurant"==e.amenity&&(t+="Restaurant<br/>"),"fast_food"==e.amenity&&(t+="Fast Food Restaurant<br/>"),"cafe"!=e.amenity&&"coffee_shop"!=e.amenity||"ice_cream"==e.cuisine||(t+="Café, Bistro<br/>"),("cafe"==e.amenity&&"ice_cream"==e.cuisine||"ice_cream"==e.amenity)&&(t+="Eiscafe<br/>"),"alpine_hut"==e.tourism&&(t+="Berghütte<br/>"),"aquarium"==e.tourism&&(t+="Aquarium<br/>"),"apartment"==e.tourism&&(t+="Ferienwohnung<br/>"),"attraction"==e.tourism&&(t+="Sehenswürdigkeit<br/>"),"artwork"==e.tourism&&(t+="Skulptur<br/>"),"camp_site"==e.tourism&&(t+="Campingplatz<br/>"),"caravan_site"==e.tourism&&(t+="Wohnmobilstellplatz<br/>"),"chalet"==e.tourism&&(t+="Ferienwohnung /-haus<br/>"),"gallery"==e.tourism&&(t+="Kunstgalerie<br/>"),"guest_house"==e.tourism&&(t+="Pension, Gasthaus, Bed & Breakfast<br/>"),"hostel"==e.tourism&&(t+="Jugendherberge, Hostel<br/>"),"hotel"==e.tourism&&(t+="Hotel<br/>"),"motel"==e.tourism&&(t+="Motel<br/>"),"museum"==e.tourism&&(t+="Museum<br/>"),"picnic_site"==e.tourism&&(t+="Rast- und Picknickplatz<br/>"),"theme_park"==e.tourism&&(t+="Freizeit- oder Themenpark<br/>"),"viewpoint"==e.tourism&&(t+="Aussichtspunkt<br/>"),"wilderness_hut"==e.tourism&&(t+="Schutzhütte<br/>"),"wine_cellar"==e.tourism&&(t+="Weinkeller<br/>"),"zoo"==e.tourism&&(t+="Zoo / Tierpark<br/>","enclosure"==e.zoo&&(t+="mit Wildgehege<br/>"),"petting_zoo"==e.zoo&&(t+="mit Streichelzoo<br/>"),"falconry"==e.zoo&&(t+="mit Falknerei<br/>")),"trail_riding_station"==e.tourism&&(t+="Wanderreitstation<br/>"),"fishing"==e.club&&(t+="Angelverein<br/>"),"sport"==e.club&&"fishing"==e.sport&&(t+="fishing club<br/>"),"amateur_radio"==e.club&&(t+="Amateurfunker<br/>"),"art"==e.club&&(t+="Kunstverein<br/>"),"astronomy"==e.club&&(t+="Astronomieverein<br/>"),"automobile"==e.club&&(t+="Automobilverein<br/>"),"board_games"==e.club&&(t+="Brettspielverein<br/>"),"card_games"==e.club&&(t+="Kartenspielverein<br/>"),"charity"==e.club&&(t+="Charity-Verein<br/>"),"chess"==e.club&&(t+="Schachverein<br/>"),"cinema"==e.club&&(t+="Kinoverein<br/>"),"cooking"==e.club&&(t+="Kochverein<br/>"),"culture"==e.club&&(t+="Kulturverein<br/>"),"doityourself"==e.club&&(t+="doityourself-Verein<br/>"),"equestrian"==e.club&&(t+="Reitverein<br/>"),"ethnic"==e.club&&(t+="Ethnischer Verein<br/>"),"fan"==e.club&&(t+="Fanverein<br/>"),"freemasonry"==e.club&&(t+="Freimaurer-Verein<br/>"),"game"==e.club&&(t+="Spieleverein<br/>"),"history"==e.club&&(t+="Historischer-Verein / Verein für Geschichte<br/>"),"hunting"==e.club&&(t+="Jagdverein<br/>"),"linux"==e.club&&(t+="Linux-Verein<br/>"),"motorcycle"==e.club&&(t+="Motorradverein<br/>"),"music"==e.club&&(t+="Musikverein<br/>"),"nature"==e.club&&(t+="Naturverein<br/>"),"nudism"==e.club&&(t+="Nudisten-Verein / FKK-Verein<br/>"),"photography"==e.club&&(t+="Fotografieverein<br/>"),"politics"==e.club&&(t+="Verein für Politik<br/>"),"relegion"==e.club&&(t+="Politischer-Verein<br/>"),"scout"==e.club&&(t+="Pfadfinderin/Pfadfinder<br/>"),"smoke"==e.club&&(t+="Raucherverein<br/>"),"sport"==e.club&&(t+="Sportverein<br/>"),"theatre"==e.club&&(t+="Theaterverein<br/>"),"veterans"==e.club&&(t+="Veteranen<br/>"),"amusement_arcade"==e.leisure&&(t+="Spielhalle<br/>"),"beach_resort"==e.leisure&&(t+="Standbad<br/>"),"bird_hide"==e.leisure&&(t+="Vogelbeobachtungspunkt<br/>"),"common"==e.leisure&&(t+="Öffentliche Grünflächen<br/>"),"club"==e.leisure&&(t+="Club/Verein<br/>"),"dance"==e.leisure&&(t+="Tanzen<br/>"),"dog_park"==e.leisure&&(t+="Hundepark<br/>"),"firepit"==e.leisure&&(t+="Feuerstelle<br/>"),"fishing"==e.leisure&&(t+="Angelstelle<br/>"),"garden"==e.leisure&&(t+="Garten<br/>"),"golf_course"==e.leisure&&(t+="Golfplatz<br/>"),"hackerspace"==e.leisure&&(t+="Ort für Hackertreffen<br/>"),"horse_riding"==e.leisure&&(t+="Reitstall / Reiterhof<br/>"),"ice_rink"==e.leisure&&(t+="Eislaufbahn<br/>"),"nature_reserve"==e.leisure&&(t+="Naturschutzgebiet (NSG)<br/>"),"park"==e.leisure&&(t+="Grünanlage<br/>"),"miniature_golf"==e.leisure&&(t+="Minigolf<br/>"),"pitch"==e.leisure&&(t+="Spielfeld<br/>"),"pitch"==e.leisure&&"yes"==e.building&&(t+="Sporthalle<br/>"),"playground"==e.leisure&&"yes"==e.building?t+="Spielscheune<br/>":"playground"==e.leisure&&(t+="Spielplatz<br/>"),"social_club"==e.leisure&&(t+="Treffpunkt für Freizeitgruppen<br/>"),"spa"==e.leisure&&(t+="Heilbad / Spa<br/>"),"sports_centre"==e.leisure&&(t+="Sportzentrum<br/>"),"climbing_adventure"==e.sport&&(t+="Seilgarten<br/>"),"stadium"==e.leisure&&(t+="Stadion<br/>"),"swimming_pool"==e.leisure&&(t+="Schwimmbecken<br/>"),"track"==e.leisure&&(t+="Rennbahn<br/>"),"water_park"==e.leisure&&(t+="Wasserpark<br/>"),"wildlife_hide"==e.leisure&&(t+="Wildbeobachtungspunkt<br/>"),"adult_gaming_centre"==e.leisure&&(t+="Spielothek<br/>"),"bowling_alley"==e.leisure&&"10pin"==e.sport&&(t+="Bowlingcenter<br/>"),"bowling_alley"==e.leisure&&"9pin"==e.sport&&(t+="Kegelbahn<br/>"),"karting"!=e.sport&&"motor"!=e.sport||(t+="Kart-/Motorsport<br/>"),"darts"!=e.sport&&"dart"!=e.sport||(t+="Darts<br/>"),e["piste:type"])switch(e["piste:type"]){case"skitour":t+="Piste für Skitouren<br/>";break;case"downhill":t+="Skiabfahrt<br/>";break;case"sled":t+="Rodelberg / Rodelstrecke<br/>";break;case"nordic":t+="Langlauf Piste<br/>";break;case"hike":t+="Schneeschuh- und Winterwanderweg<br/>";break;case"snow_park":t+="Snow-Park<br/>"}if(e.sport)switch(e.sport){case"surfing":t+="Surfen<br/>";break;case"kitesurfing":t+="Kitesurfen<br/>";break;case"water_ski":t+="Wasserski<br/>"}if(e.aerialway)switch(e.aerialway){case"cable_bar":case"gondola":t+="Lift mit Gondeln<br/>";break;case"chair_lift":t+="Sessellift<br/>";break;case"mixed_lift":t+="Lift mit Sesseln und Gondeln<br/>";break;case"drag_lift":t+="Skilift<br/>";break;case"t-bar":t+="T-Lift<br/>";break;case"t-bar":t+="T-Lift (einseitig)<br/>";break;case"platter":t+="Lift mit Sitzscheibe<br/>";break;case"rope_tow":t+="Bügellift<br/>";break;case"magic_carpet":t+="Beförderungsband<br/>";break;default:t+="unbekannt"}if("mosque"==e.building&&(t+="Moschee<br/>"),"synagogue"==e.building&&(t+="Synagoge<br/>"),"apartments"==e.building&&(t+="Wohnung<br/>"),"farm"==e.building&&(t+="Farm<br/>"),"hotel"==e.building&&(t+="Hotel<br/>"),"house"==e.building&&(t+="Haus<br/>"),"detached"==e.building&&(t+="Freistehend<br/>"),"residential"==e.building&&(t+="Residenz<br/>"),"domitory"!=e.building&&"residential plus"!=e.building||(t+="Wohnheim<br/>"),"terrace"==e.building&&(t+="Terrasse<br/>"),"houseboat"==e.building&&(t+="Hausboot<br/>"),"bungalow"==e.building&&(t+="Bungalow<br/>"),"static_caravan"==e.building&&(t+="Stehender Wohnwagen<br/>"),"commercial"==e.building&&(t+="Kommerziell<br/>"),"retail"==e.building&&(t+="Verkauf<br/>"),"warehouse"==e.building&&(t+="Lagerhaus<br/>"),"bakehouse"==e.building&&(t+="Backstube<br/>"),"temple"==e.building&&(t+="Tempel<br/>"),"shrine"==e.building&&(t+="Schrein<br/>"),"civic"==e.building&&(t+="Bürgerlich<br/>"),"stadium"==e.building&&(t+="Stadium<br/>"),"train_station"==e.building&&(t+="Bahnhof<br/>"),"university"==e.building&&(t+="Universität<br/>"),"public"==e.building&&(t+="Öffentliches Gebäude<br/>"),"bridge"==e.building&&(t+="Brücke<br/>"),"bunker"==e.building&&(t+="Bunker<br/>"),"cabin"==e.building&&(t+="Hütte<br/>"),"conservatory"==e.building&&(t+="Wintergarten<br/>"),"construction"==e.building&&(t+="Im Bau<br/>"),"garage"==e.building&&(t+="Garage<br/>"),"garages"==e.building&&(t+="Garagen<br/>"),"greenhouse"==e.building&&(t+="Gewächshaus<br/>"),"hangar"==e.building&&(t+="Hangar<br/>"),"hut"==e.building&&(t+="Hütte<br/>"),"pavillion"==e.building&&(t+="Pavillion<br/>"),"roof"==e.building&&(t+="Überdacht<br/>"),"shed"==e.building&&(t+="Gartenhäuschen<br/>"),"transformer_tower"==e.building&&(t+="Transformator Turm<br/>"),"service"==e.building&&(t+="Service-Stelle<br/>"),"kiosk"==e.building&&(t+="Kiosk<br/>"),"carport"==e.building&&(t+="Carport<br/>"),"ruins"==e.building&&(t+="Ruinen<br/>"),"gambling"==e.amenity&&(t+="Spielhalle<br/>"),"library"==e.amenity&&(t+="Bücherei<br/>"),"fountain"==e.amenity&&(t+="Brunnen<br/>"),"attraction"==e.amenity&&(t+="Sehenswürdigkeit<br/>"),"social_centre"!=e.amenity&&"club"!=e.amenity||(t+="Verein / Club<br/>"),"townhall"==e.amenity&&(t+="Rathaus / Bürgerhaus<br/>"),"bench"==e.amenity&&(t+="Parkbank<br/>"),"grave_yard"!=e.amenity&&"cemetery"!=e.landuse||(t+="Friedhof<br/>"),"post_box"==e.amenity&&(t+="Briefkasten<br/>"),"post_office"==e.amenity&&(t+="Postamt<br/>"),"telephone"==e.amenity&&(t+="Telefon<br/>"),"atm"==e.amenity&&(t+="Geldautomat<br/>"),"bank"==e.amenity&&(t+="Bankfiliale<br/>"),"toilets"==e.amenity&&"yes"==e.diaper?t+="Öffentliche Toilette mit Wickeltisch<br/>":"toilets"==e.amenity&&(t+="Öffentliche Toilette<br/>"),"school"==e.amenity&&"1"==e["isced:level"]?t+="Grundschule<br/>":"school"==e.amenity&&"2"==e["isced:level"]?t+="Sekundarstufe I<br/>":"school"==e.amenity&&"3"==e["isced:level"]?t+="Sekundarstufe II<br/>":"school"==e.amenity&&(t+="Schule<br/>"),"kindergarten"==e.amenity&&(t+="Kindergarten<br/>"),"internet_cafe"==e.amenity&&(t+="Internetcafé<br/>"),"daycare"==e.amenity&&(t+="Kinder- und Jugendtagesstätte<br/>"),"childcare"==e.amenity&&(t+="Kinder- und Jugendtagesstätte<br/>"),"university"==e.amenity&&(t+="Universität/Hochschule<br/>"),"college"==e.amenity&&(t+="Universität/Hochschule<br/>"),"shelter"==e.amenity&&(t+="Unterstand<br/>"),"bbq"==e.amenity&&(t+="Grillplatz<br/>"),"nightclub"==e.amenity&&(t+="Diskothek / Nachtklub<br/>"),"bicycle_parking"==e.amenity&&(t+="Fahrradparkplatz<br/>"),"bicycle_rental"==e.amenity&&(t+="Fahrradverleih<br/>"),"boat_sharing"==e.amenity&&(t+="Bootsverleih<br/>"),"car_sharing"==e.amenity&&(t+="Car-Sharing<br/>"),"cinema"==e.amenity&&(t+="Kino<br/>"),"swimming_pool"==e.amenity&&(t+="Schwimmbad<br/>"),"embassy"!=e.amenity&&"embassy"!=e.diplomatic||(t+="Botschaft<br/>"),"embassy"==e.amenity&&"consulate"==e.diplomatic&&(t+="Konsulate<br/>"),"embassy"==e.amenity&&"consulate_general"==e.diplomatic&&(t+="Generalkonsulate<br/>"),"embassy"==e.amenity&&"honorary_consulate"==e.diplomatic&&(t+="Honorarkonsulate<br/>"),"embassy"==e.amenity&&"permanent_mission"==e.diplomatic&&(t+="Ständige Vertretung<br/>"),"embassy"==e.amenity&&"delegation"==e.diplomatic&&(t+="Delegation<br/>"),"embassy"==e.amenity&&"high_commission"==e.diplomatic&&(t+="Hochkommissariat<br/>"),"Barfusspfad"==e.amenity&&(t+="Barfußpfad<br/>"),"casino"==e.amenity&&(t+="Casino<br/>"),"spa"==e.amenity&&(t+="Heilbad / Spa<br/>"),"stables"==e.amenity&&(t+="Reitstall / Reiterhof<br/>"),"watering_place"==e.amenity&&(t+="Wasserstelle / Tränke<br/>"),"yes"==e.watering_place&&(t+="Wasserstelle / Tränke<br/>"),"water_point"==e.amenity&&(t+="große Trinkwasserstelle<br/>"),"taxi"==e.amenity&&(t+="Taxi<br/>"),"car_wash"==e.amenity&&(t+="Autowaschanlage<br/>"),"brothel"==e.amenity&&(t+="Bordell, Freudenhaus<br/>"),"stripclub"==e.amenity&&(t+="Stripclub<br/>"),"swingerclub"==e.amenity&&(t+="Swingerclub<br/>"),"planetarium"==e.amenity&&(t+="Planetarium<br/>"),"courthouse"==e.amenity&&(t+="Gericht<br/>"),"crematorium"==e.amenity&&(t+="Krematorium<br/>"),"crypt"!=e.amenity&&"crypt"!=e.building||(t+="Krypta<br/>"),"hunting_stand"==e.amenity&&(t+="Hochsitz<br/>"),"photo_booth"==e.amenity&&(t+="Fotoautomat<br/>"),"prison"==e.amenity&&(t+="Gefängnis<br/>"),"ranger_station"==e.amenity&&(t+="National Park Ranger Station<br/>"),"register_office"==e.amenity&&(t+="Standesamt<br/>"),"marketplace"==e.amenity&&(t+="Marktplatz / Wochenmarkt<br/>"),"solarium"==e.amenity&&(t+="Solarium<br/>"),"sauna"==e.amenity&&(t+="Sauna<br/>"),"shower"==e.amenity&&(t+="öffentliche Dusche<br/>"),"waste_disposal"==e.amenity&&(t+="Müllentsorgung auf öffentlichen Plätzen<br/>",e.waste))switch(t+="Art: ",e.waste){case"trash":t+="Allgemeiner Müll<br/>";break;case"oil":t+="Oil<br/>";break;case"drugs":t+="Pharmazeutisch<br/>";break;case"organic":t+="Kompost<br/>";break;case"plastic":t+="Plastik<br/>";break;case"rubble":t+="Schutt<br/>";break;case"cigarettes":t+="Zigaretten<br/>";break;default:t+="Allgemeiner Müll<br/>"}if("waste_basket"!=e.amenity&&"dog_excrement"!=e.waste||(t+="Hunde-Code Müllcontainer<br/>"),"scout_camp"!=e.amenity&&"scout_hut"!=e.amenity&&"scout_hall"!=e.amenity||(t+="Pfadfinderheim<br/>"),"ferry_terminal"==e.amenity&&(t+="Fährhafen<br/>"),"bureau_de_change"==e.amenity&&(t+="Geldwechselstube<br/>"),"youth_club"==e.amenity&&(t+="Jugendzentrum<br/>"),"festival_grounds"==e.amenity&&(t+="Festivalgelände<br/>"),"yes"!=e.openfire&&"yes"!=e.fireplace||(t+="Offene Feuerstelle<br/>"),"vending_machine"==e.amenity)if(e.vending)switch(e.vending){case"admission_tickets":t+="Eintrittskartenautomat<br/>";break;case"animal_feed":t+="Tierfutterautomat<br/>";break;case"bicycle_tube":t+="Fahrradschlauchautomat<br/>";break;case"books":t+="Bücherautomat<br/>";break;case"candles":t+="Kerzenautomat<br/>";break;case"cigarettes":t+="Zigarettenautomat<br/>";break;case"chemist":t+="Apotheken/Drogerie Automat<br/>";break;case"condoms":t+="Kondomautomat<br/>";break;case"drinks":t+="Getränkeautomat<br/>";break;case"electronics":t+="Automat für Elektro-Zubehör<br/>";break;case"elongated_coin":t+="Münzprägungsautomat<br/>";break;case"excrement_bags":t+="Hundetütenspender<br/>";break;case"feminine_hygiene":t+="Automat für Damenhygieneprodukte<br/>";break;case"first_aid":t+="Erste-Hilfe-Automat<br/>";break;case"fishing_tackle":t+="Automat für Angelzubehör<br/>";break;case"fishing_bait":t+="Angelköderautomat<br/>";break;case"flowers":t+="Blumenautomat<br/>";break;case"food":t+="Lebensmittel-Automat<br/>";break;case"ice_cubes":t+="Eiswürfelautomat<br/>";break;case"ice_cream":t+="Automat für Speiseeis<br/>";break;case"ink_cartridges":t+="Druckerpatronen Automat<br/>";break;case"laundry_detergent":t+="Waschmittelautomat<br/>";break;case"public_transport_tickets":t+="Fahrkartenautomat<br/>";break;case"newspaper":t+="Zeitungsautomat<br/>";break;case"parcel_pickup":t+="Packstation<br/>";break;case"parcel_mail_in":t+="Paketstation<br/>";break;case"parking_tickets":t+="Parkscheinautomat<br/>";break;case"photos":t+="Fotoautomat<br/>";break;case"sex_toys":t+="Automat für Sexspielzeug<br/>";break;case"SIM_cards":t+="Automat für SIM Karten<br/>";break;case"stamps":t+="Briefmarkenautomat<br/>";break;case"sweets":t+="Süßigkeitenautomat<br/>";break;case"syringes":t+="Spritzenautomat<br/>";break;case"toll":t+="Maut-Automat<br/>";break;case"toys":t+="Spielzeugautomat<br/>";break;case"umbrellas":t+="Regenschirmautomat<br/>";break;default:t+="Verkaufsautomat<br/>"}else t+="Verkaufsautomat<br/>";if("arts_centre"==e.amenity&&(t+="Kulturzentrum<br/>"),"artwork"==e.amenity&&(t+="Kunstwerk / Kunstobjekt<br/>"),"museum"==e.amenity&&(t+="Museum<br/>"),"theatre"==e.amenity&&(t+="Theater<br/>"),"cathedral"==e.building&&(t+="Kathedrale<br/>"),"church"==e.building&&(t+="Kirche<br/>"),"chapel"==e.building&&(t+="Kapelle<br/>"),"place_of_worship"==e.amenity&&(t+="Kirche / Kultstätte<br/>"),"village"==e.abandoned&&(t+="Verlassene Stadt<br/>"),"theme_park"==e["abandoned:tourism"]&&(t+="Verlassener Vergnügungspark<br/>"),"prison_camp"==e["abandoned:amenity"]&&"concentration_camp"==["concentration_camp"]&&(t+="KZ Gedenkstätte<br/>"),"yes"==e.abandoned&&"bunker"==e.military&&(t+="Verlassene Bunkeranlage<br/>"),"yes"==e.abandoned&&"barracks"==e.military&&(t+="Verlassene Militärbaracken<br/>"),"yes"==e.abandoned&&"airfield"==e.military&&(t+="Verlassene Militärflugplatz<br/>"),"monastery"==e.historic&&(t+="Historisches Kloster<br/>"),"monastery"==e.amenity&&(t+="Kloster<br/>"),"monastery"==e.building&&(t+="Kloster<br/>"),"manor"==e.historic&&(t+="Gutshaus / Herrenhaus<br/>"),"boundary_stone"==e.historic&&(t+="Historischer Grenzstein<br/>"),"milestone"==e.historic&&(t+="Historischer Meilenstein<br/>"),"monument"==e.historic&&(t+="Monument<br/>"),"palace"==e.historic&&(t+="Palast<br/>"),"mine"==e.historic&&(t+="Verlassene Mine<br/>"),"ruins"==e.historic&&(t+="Ruine<br/>"),"harbour"==e.historic_usage&&(t+="historischer Hafen<br/>"),"rune_stone"==e.historic&&(t+="Runenstein<br/>"),"battlefield"==e.historic&&(t+="Schlachtfeld<br/>"),"blacksmith"==e.historic&&(t+="Historische Schmiede<br/>"),"tree_shrine"!=e.historic&&"wayside_shrine"!=e.historic||(t+="Schrein / Bildstock<br/>"),"city_gate"==e.historic&&(t+="Stadttor<br/>"),"wayside_cross"==e.historic&&(t+="Wegkreuz<br/>"),"monument"==e.amenity&&(t+="Denkmal<br/>"),"memorial"==e.historic&&(t+="Denkmal<br/>"),"optical_telegraph"==e.historic&&(t+="Optischer Telegraph<br/>"),"castle"==e.historic)if(e.castle_type)switch(e.castle_type){case"defensive":t+="Burg<br/>";break;case"palace":t+="Palast<br/>";break;case"stately":t+="Schloss<br/>";break;case"manor":t+="Herrenhaus<br/>";break;case"fortress":t+="Festung<br/>";break;case"castrum":t+="Römisches Militärlager<br/>";break;case"shiro":t+="Shiro<br/>";break;case"kremlin":t+="Kreml<br/>";break;default:t+="Schloss / Burg<br/>"}else t+="Schloss / Burg<br/>";if("archaeological_site"==e.historic&&(t+="Archäologische Fundstätte<br/>"),"tomb"==e.historic)if(e.tomb)switch(e.tomb){case"tumulus":t+="Hügelgrab<br/>";break;case"rock-cut":t+="Felsgrab<br/>";break;case"hypogeum":t+="Hypogäum<br/>";break;case"war_grave":t+="Soldatenfriedhof<br/>";break;case"mausoleum":t+="Mausoleum<br/>";break;case"columbarium":t+="Kolumbarium<br/>";break;case"crypt":t+="Krypta<br/>";break;case"pyramid":t+="Pyramide<br/>";break;case"sarcophagus":t+="Sarkophag<br/>";break;case"vault":t+="Gruft<br/>";break;case"tombstone":t+="Grabstein<br/>";break;default:t+="Historische Grabstätte<br/>"}else t+="Historische Grabstätte<br/>";if("accountant"==e.office&&(t+="Buchhalter / Wirtschaftprüfer<br/>"),"administrative"==e.office&&(t+="Kreis- bzw. Gemeindebehörde<br/>"),"architect"==e.office&&(t+="Architekturbüro<br/>"),"association"==e.office&&(t+="Verein, Vereinigung bzw. Interessengemeinschaft<br/>"),"physician"==e.office&&(t+="Arzt<br/>"),"camping"==e.office&&(t+="Rezeption Campingplatz oder Büro Freizeitpark<br/>"),"company"==e.office&&(t+="Sitz einer privaten Firma<br/>"),"educational_institution"==e.office&&(t+="Bildungseinrichtung<br/>"),"employment_agency"==e.office&&(t+="Job-Center / Arbeitsvermittlung<br/>"),"estate_agent"==e.office&&(t+="Immobilienmakler / Wohnungsbaugenossenschaft<br/>"),"forestry"==e.office&&(t+="Forstamt<br/>"),"foundation"==e.office&&(t+="Geschäftsstelle einer Stiftung<br/>"),"government"==e.office&&(t+="Behörde / Regierungseinrichtung<br/>"),"guide"==e.office&&(t+="Büro für Touristenführungen<br/>"),"insurance"==e.office&&(t+="Versicherungsbüro<br/>"),"it"==e.office&&(t+="IT-Unternehmen<br/>"),"lawyer"==e.office&&(t+="Rechtsanwaltskanzlei<br/>"),"newspaper"==e.office&&(t+="Zeitungsredaktion<br/>"),"ngo"==e.office&&(t+="Büro einer Nichtregierungsorganisation<br/>"),"notary"==e.office&&(t+="Notar<br/>"),"political_party"==e.office&&(t+="Büro einer politischen Partei<br/>"),"quango"==e.office&&(t+="Büro einer halbstaatlichen Organisation<br/>"),"realtor"==e.office&&(t+="Immobilienmakler / Wohnungsbaugenossenschaft<br/>"),"real_estate_agent"==e.office&&(t+="Immobilienmakler / Wohnungsbaugenossenschaft<br/>"),"register"==e.office&&(t+="Standesamt<br/>"),"religion"==e.office&&(t+="Büro einer religiösen Instanz<br/>"),"research"==e.office&&(t+="Forschungsunternehmen oder -institut<br/>"),"tax"==e.office&&(t+="Finanzamt<br/>"),"telecommunication"==e.office&&(t+="Telekommunikationsfirma<br/>"),"travel_agent"==e.office&&(t+="Sitz eines Reiseunternehmens<br/>"),"water_utility"==e.office&&(t+="Wasserwirtschaftsamt<br/>"),"therapist"==e.office&&(t+="Therapeut<br/>"),"city"==e.place&&(t+="Großstadt<br/>"),"town"==e.place&&(t+="Stadt/Kleinstadt<br/>"),"village"==e.place&&(t+="Dorf<br/>"),"continent"==e.place&&(t+="Kontinent<br/>"),"ocean"==e.place&&(t+="Ozean</br>"),"track"==e.highway&&(t+="Forst-, Wald und Feldweg<br/>"),"raceway"==e.highway&&(t+="Motorsportbahn<br/>"),"designated"==e.bicycle&&(t+="Radweg<br/>"),"path"==e.highway&&(t+="Fußweg<br/>"),"parking"==e.amenity&&(t+="Parkplatz<br/>"),"services"==e.highway&&(t+="Raststätte<br/>"),"rest_area"==e.highway&&(t+="Rastplatz<br/>"),"turning_circle"==e.highway&&(t+="Wendeplatz/Wendehammer<br/>"),"service"==e.highway&&(t+="Zufahrtsstraße / Erschließungsweg<br/>"),"motorway"==e.highway&&(t+="Autobahn<br/>"),"motorway_junction"==e.highway&&(t+="Autobahnauffahrt<br/>"),"bridleway"==e.highway&&(t+="Reitweg<br/>"),"yes"==e.oneway&&(t+="Einbahnstraße<br/>"),"yes"==e.park_ride&&(t+="Park and Ride<br/>"),"unknown"==e.park_ride&&(t+="Park and Ride<br/>"),"bus"==e.park_ride&&(t+="Park and Ride<br/>"),"tram"==e.park_ride&&(t+="Park and Ride<br/>"),"bus_stop"==e.highway&&(t+="Bushaltestelle<br/>"),"pedestrian"==e.highway&&(t+="Fußgängerzone<br/>"),"street_lamp"==e.highway&&(t+="Strassenlaterne<br/>"),"traffic_signals"==e.highway&&(t+="Ampel<br/>"),"traffic_signals"==e.crossing&&(t+="Fußgängerampel<br/>"),"speed_camera"==e.highway&&(t+="Blitzer<br/>"),"yes"==e.traffic_calming&&(ret+="Verkehrsberuhigter Bereich</br>"),"bump"==e.traffic_calming&&(t+="Kurze Bodenwelle</br>"),"chicane"==e.traffic_calming&&(t+="Zu umfahrendenes Hinderniss</br>"),"choker"==e.traffic_calming&&(t+="Fahrbahnverengung, zu umfahrende Hindernisse möglich</br>"),"cushion"==e.traffic_calming&&(t+="Bodenwelle mit Lücken aus mehreren rechteckigen Huckeln</br>"),"hump"==e.traffic_calming&&(t+="vergleichbare Bodenwelle mit etwar einer Länge von 2-4M</br>"),"island"==e.traffic_calming&&(t+="Eine Verkehrsinsel</br>"),"rumble_strip"==e.traffic_calming&&(t+="Holperstreifen</br>"),"table"==e.traffic_calming&&(t+="lange Bodenwellen mit flachen Mittelstück</br>"),"buoy_cardinal"==e["seamark:type"]&&(t+="Kardinalstonne<br/>"),"buoy_lateral"==e["seamark:type"]&&(t+="Lateraltonne<br/>"),"buoy_isolated_danger"==e["seamark:type"]&&(t+="Gefahrentonne<br/>"),"perch"==e["seamark:beacon_lateral:shape"]&&(t+="Pricke<br/>"),"fuel"==e.amenity&&"fuel_station"==e["seamark:small_craft_facility:category"]?t+="Schiffstankstelle<br/>":"fuel"==e.amenity&&(t+="Tankstelle<br/>"),"charging_station"==e.amenity){t=t+"Ladestation / Stromtankstelle<br/>";var r=e.voltage;if(e.car){switch(e.car){case"yes":t+="Für Autos: Ja";break;case"no":t+="Für Autos: Nein";break;default:t+="Für Autos: Unbekannt"}t+="<br/>"}else t+="Für Autos: Unbekannt<br/>";if(e.bicycle){switch(e.bicycle){case"yes":t+="Für E-Bike: Ja";break;case"no":t+="Für E-Bike: Nein";break;default:t+="Für E-Bike: Unbekannt"}t+="<br/>"}else t+="Für E-Bike: Unbekannt<br/>";"no"==e["socket:schuko"]&&(t+="Stecker Schuko: Nein<br/>"),"yes"==e["socket:schuko"]&&(t+="Stecker Schuko: Ja<br/>"),"no"==e["socket:cee_blue"]&&(t+="Stecker CEE Blau: Nein<br/>"),"yes"==e["socket:cee_blue"]&&(t+="Stecker CEE Blau: Ja<br/>"),"no"==e["socket:cee_red_16a"]&&(t+="Stecker CEE Rot 16a: Nein<br/>"),"yes"==e["socket:cee_red_16a"]&&(t+="Stecker CEE Rot 16a: Ja<br/>"),"no"==e["socket:cee_red_32a"]&&(t+="Stecker CEE Rot 32a: Nein<br/>"),"yes"==e["socket:cee_red_32a"]&&(t+="Stecker CEE Rot 32a: Ja<br/>"),"no"==e["socket:cee_red_64a"]&&(t+="Stecker CEE Rot 64a: Nein<br/>"),"yes"==e["socket:cee_red_64a"]&&(t+="Stecker CEE Rot 64a: Ja<br/>"),"no"==e["socket:cee_red_125a"]&&(t+="Stecker CEE Rot 125a: Nein<br/>"),"yes"==e["socket:cee_red_125a"]&&(t+="Stecker CEE Rot 125a: Ja<br/>"),"no"==e["socket:nema_5_15"]&&(t+="Stecker Nema 5 15: Nein<br/>"),"yes"==e["socket:nema_5_15"]&&(t+="Stecker Nema 5 15: Ja<br/>"),"no"==e["socket:nema_5_20"]&&(t+="Stecker Nema 5 20: Nein<br/>"),"yes"==e["socket:nema_5_20"]&&(t+="Stecker Nema 5 20: Ja<br/>"),"no"==e["socket:nema_14_30"]&&(t+="Stecker Nema 14 30: Nein<br/>"),"yes"==e["socket:nema_14_30"]&&(t+="Stecker Nema 14 30: Ja<br/>"),"Nein"==e["socket:nema_14_50"]&&(t+="Stecker Nema 14  50: Nein<br/>"),"yes"==e["socket:nema_14_50"]&&(t+="Stecker Nema 14 50: Ja<br/>"),"nein"==e["socket:bs1363"]&&(t+="Stecker BS 1363: Nein<br/>"),"yes"==e["socket:bs1363"]&&(t+="Stecker BS 1363: Ja<br/>"),"no"==e["socket:type1"]&&(t+="Stecker Typ 1:Nein<br/>"),"yes"==e["socket:type1"]&&(t+="Stecker Typ 1: Ja<br/>"),"no"==e["socket:type1_combo"]&&(t+="Stecker Typ 1 Kombo: Nein<br/>"),"yes"==e["socket:type1_combo"]&&(t+="Stecker Typ 1 Kombo: Ja<br/>"),"Nein"==e["socket:type2"]&&(t+="Stecker Typ 2: Nein<br/>"),"yes"==e["socket:type2"]&&(t+="Stecker Typ 2: Ja<br/>"),"no"==e["socket:type2_combo"]&&(t+="Stecker Typ 2 Kombo: Nein<br/>"),"yes"==e["socket:type2_combo"]&&(t+="Stecker Typ 2 Kombo: Ja<br/>"),"no"==e["socket:type3"]&&(t+="Stecker Typ: Nein<br/>"),"yes"==e["socket:type3"]&&(t+="Stecker Typ 3: Ja<br/>"),"no"==e["socket:chademo"]&&(t+="Stecker CHAdeMO: Nein<br/>"),"yes"==e["socket:chademo"]&&(t+="Stecker CHAdeMO: Ja<br/>"),"no"==e["socket:magne_charge"]&&(t+="Stecker Magne : Nein<br/>"),"yes"==e["socket:magne_charge"]&&(t+="Stecker Magne : Ja<br/>"),"no"==e["socket:tesla_standard"]&&(t+="Stecker Tesla Standard: Nein<br/>"),"yes"==e["socket:tesla_standard"]&&(t+="Stecker Tesla Standard: Nein<br/>"),"no"==e["socket:tesla_supercharge"]&&(t+="Stecker Tesla Schnellladestation: Nein<br/>"),"yes"==e["socket:tesla_supercharge"]&&(t+="Stecker Tesla Schnellladestation: Ja<br/>"),"no"==e["socket:tesla_roadster"]&&(t+="Stecker Tesla Roadster: Nein<br/>"),"yes"==e["socket:tesla_roadster"]&&(t+="Stecker Tesla Roadster: Ja<br/>"),e["socket:schuko"]&&(t+="Stecker Schuko: "+e["socket:schuko"]+"<br/>"),e["socket:cee_blue"]&&(t+="Stecker CEE Blau: "+e["socket:cee_blue"]+"<br/>"),e["socket:cee_red_16a"]&&(t+="Stecker CEE Rot 16a: "+e["socket:cee_red_16a"]+"<br/>"),e["socket:cee_red_32a"]&&(t+="Stecker CEE Rot 32a: "+e["socket:cee_red_32a"]+"<br/>"),e["socket:cee_red_64a"]&&(t+="Stecker CEE Rot 64a: "+e["socket:cee_red_64a"]+"<br/>"),e["socket:cee_red_125a"]&&(t+="Stecker CEE Rot 125a: "+e["socket:cee_red_125a"]+"<br/>"),e["socket:nema_5_15"]&&(t+="Stecker Nema 5 15: "+e["socket:nema_5_15"]+"<br/>"),e["socket:nema_5_20"]&&(t+="Stecker Nema 5 20: "+e["socket:nema_5_20"]+"<br/>"),e["socket:nema_14_30"]&&(t+="Stecker Nema 14 30: "+e["socket:nema_14_30"]+"<br/>"),e["socket:nema_14_50"]&&(t+="Stecker Nema 14 50: "+e["socket:nema_14_50"]+"<br/>"),e["socket:bs1363"]&&(t+="Stecker BS 1363: "+e["socket:bs1363"]+"<br/>"),e["socket:type1"]&&(t+="Stecker Typ 1: "+e["socket:type1"]+"<br/>"),e["socket:type1_combo"]&&(t+="Stecker Typ 1 Kombo: "+e["socket:schuko"]+"<br/>"),e["socket:type2"]&&(t+="Stecker Typ 2: "+e["socket:type2"]+"<br/>"),e["socket:type2_combo"]&&(t+="Stecker Typ 2 Kombo: "+e["socket:type2_combo"]+"<br/>"),e["socket:type3"]&&(t+="Stecker Typ 3: "+e["socket:type3"]+"<br/>"),e["socket:chademo"]&&(t+="Stecker CHAdeMO: "+e["socket:chademo"]+"<br/>"),e["socket:magne_charge"]&&(t+="Stecker Magne : "+e["socket:magne_charge"]+"<br/>"),e["socket:tesla_standard"]&&(t+="Stecker Tesla Standard: "+e["socket:tesla_standard"]+"<br/>"),e["socket:tesla_supercharge"]&&(t+="Stecker Tesla Schnellladestation: "+e["socket:tesla_supercharge"]+"<br/>"),e["socket:tesla_roadster"]&&(t+="Stecker Tesla Roadster: "+e["socket:tesla_roadster"]+"<br/>"),t+="<br/>",e.voltage&&(t+="Volt: "+r+"<br/>")}if("yes"==e.tunnel&&(t+="Tunnel<br/>"),e.bridge)switch(t+="Brücken-Typ: ",e.bridge){case"swing":t+="Drehbrücke";break;case"aqueduct":t+="Historische Wasserpipeline";break;case"bascule":t+="Klapp bzw. Wippbrücke";break;case"boardwalk":t+="Bohlenweg";break;case"cantilever":t+="Auslegerbrücke";break;case"covered":t+="gedeckte Brücke";break;case"drawbridge":t+="Klappbrücke";break;case"humpback":t+="Drehbrücke";break;case"lift":t+="Hubbrücke";break;case"low_water_crossing":t+="Irische Brücke";break;case"moveable":t+="Bewegliche Brücken";break;case"pontoon":t+="Schwimmbrücke";break;case"suspension":t+="Hängebrücke";break;case"trestle":t+="Trestle-Brücke";break;case"viaduct":t+="Viadukt"}if(e["bridge:movable"])switch(e["bridge:movable"]){case"swing":t+="Drehbrücke";break;case"bascule":t+="Klapp bzw. Wippbrücke";break;case"drawbridge":t+="Klappbrücke";break;case"lift":t+="Hubbrücke";break;case"submersible":t+="Senkbrücke";break;case"transporter":t+="Schwebefähre";break;case"retractable":t+="Schubbrücke"}if("nursing_home"!=e.amenity&&"retirement_home"!=e.amenity||(t+="Seniorenheim / Pflegeheim<br/>"),"social_facility"==e.amenity&&(t+="Allg. soziale Einrichtung<br/>"),e.social_facility&&("group_home"==e.social_facility&&"senior"==e["social_facility:for"]&&(t+="Seniorenheim<br/>"),"assisted_living"==e.social_facility&&(t+="Betreutes Wohnen<br/>"),"outreach"==e.social_facility&&(t+="Beratungsstelle<br/>"),"workshop"==e.social_facility&&(t+="soziale Werkstatt<br/>"),"ambulatory_care"!=e.social_facility&&"healthcare"!=e.social_facility||(t+="Ambulanter Pflegedienst<br/>"),"shelter"==e.social_facility&&"senior"==e["social_facility:for"]&&(t+="Tages- u. Kurzzeitpflege<br/>"),"shelter"==e.social_facility&&"abused"==e["social_facility:for"]&&(t+="Notunterkunft<br/>"),"food_bank"==e.social_facility&&(t+="Lebensmittelhilfe<br/>"),"hospice"==e.social_facility&&(t+="Hospiz<br/>")),e.brewery&&(t+="Ausgeschenkte Biersorten: "+e.brewery+"<br/>"),"alcohol"==e.shop&&(t+="Spirituosenladen<br/>"),"bakery"==e.shop&&(t+="Bäckerei<br/>"),"beverages"==e.shop&&(t+="Getränkehandel<br/>"),"butcher"==e.shop&&(t+="Fleischerei<br/>"),"cheese"==e.shop&&(t+="Käsefachgeschäft<br/>"),"chocolate"==e.shop&&(t+="Schokoladenfachgeschäft<br/>"),"coffee"==e.shop&&(t+="Kaffeefachgeschäft<br/>"),"confectionery"==e.shop&&(t+="Süßwarenladen<br/>"),"convenience"==e.shop&&(t+="Lebensmittelgeschäft<br/>"),"deli"==e.shop&&(t+="Feinkostladen<br/>"),"dairy"==e.shop&&(t+="Milchladen<br/>"),"farm"==e.shop&&(t+="Hofladen<br/>"),"greengrocer"==e.shop&&(t+="Gemüsehändler<br/>"),"grocery"==e.shop&&(t+="Lebensmittelgeschäft<br/>"),"organic"==e.shop&&(t+="Bio-Laden, Reformhaus<br/>"),"pasta"==e.shop&&(t+="Pastageschäft<br/>"),"seafood"==e.shop&&(t+="Fischfachgeschäft<br/>"),"tea"==e.shop&&(t+="Teefachgeschäft<br/>"),"wine"==e.shop&&(t+="Weinhandlung<br/>"),"department_store"==e.shop&&(t+="Kaufhaus<br/>"),"general"==e.shop&&(t+="Gemischtwarenhandlung<br/>"),"kiosk"==e.shop&&(t+="Kiosk<br/>"),"mall"==e.shop&&(t+="Einkaufszentrum<br/>"),"supermarket"==e.shop&&(t+="Supermarkt<br/>"),"baby_goods"==e.shop&&(t+="Babyfachmarkt<br/>"),"bag"==e.shop&&(t+="Taschen und Koffer<br/>"),"boutique"==e.shop&&(t+="Boutique<br/>"),"clothes"==e.shop&&(t+="Bekleidung<br/>"),"fabric"==e.shop&&(t+="Textilgeschäft<br/>"),"fashion"==e.shop&&(t+="Fashion<br/>"),"jewelry"==e.shop&&(t+="Juwelier<br/>"),"leather"==e.shop&&(t+="Lederwaren<br/>"),"shoes"==e.shop&&(t+="Schuhfachgeschäft<br/>"),"variety_store"==e.shop&&(t+="Ein-Euro-Laden<br/>"),"chemist"==e.shop&&(t+="Drogerie<br/>"),"cosmetics"==e.shop&&(t+="Kosmetikfachgeschäft<br/>"),"drugstore"==e.shop&&(t+="Drogerie oder Apotheke (veraltet)<br/>"),"perfumery"==e.shop&&(t+="Parfümerie<br/>"),"erotic"==e.shop&&(t+="Erotikhandel<br/>"),"hairdresser"==e.shop&&(t+="Friseur<br/>"),"hearing_aids"==e.shop&&(t+="Hörgeräte<br/>"),"herbalist"==e.shop&&(t+="Kräuterhandel<br/>"),"massage"==e.shop&&(t+="Massagesalon<br/>"),"medical_supply"==e.shop&&(t+="Sanitätshaus<br/>"),"optician"==e.shop&&(t+="Optiker<br/>"),"tattoo"==e.shop&&(t+="Tätowierer<br/>"),"bathroom_furnishing"==e.shop&&(t+="Badmöbel und -accessoires<br/>"),"doityourself"==e.shop&&(t+="Baumarkt/Baustoffhandel<br/>"),"energy"==e.shop&&(t+="Energiehandel<br/>"),"florist"==e.shop&&(t+="Blumengeschäft<br/>"),"furnace"==e.shop&&(t+="Ofenfachgeschäft<br/>"),"garden_centre"==e.shop&&(t+="Gartencenter<br/>"),"gas"==e.shop&&(t+="Fachgeschäft für technische Gase<br/>"),"glaziery"==e.shop&&(t+="Glaserei<br/>"),"hardware"==e.shop&&(t+="Eisenwaren<br/>"),"houseware"==e.shop&&(t+="Haushaltswaren und Inneneinrichtung<br/>"),"locksmith"==e.shop&&(t+="Schlüsseldienst<br/>"),"paint"==e.shop&&(t+="Farbenfachgeschäft<br/>"),"trade"==e.shop&&(t+="Baustoffhandel<br/>"),"antiques"==e.shop&&(t+="Antiquitäten<br/>"),"bed"==e.shop&&(t+="Betten- und Matratzengeschäft<br/>"),"candles"==e.shop&&(t+="Kerzengeschäft<br/>"),"carpet"==e.shop&&(t+="Teppichfachhandel<br/>"),"curtain"==e.shop&&(t+="Gardinenfachgeschäft<br/>"),"furniture"==e.shop&&(t+="Möbel- und Einrichtungshaus<br/>"),"interior_decoration"==e.shop&&(t+="Innendekoration / Raumausstattung<br/>"),"kitchen"==e.shop&&(t+="Küchen<br/>"),"window_blind"==e.shop&&(t+="Jalousien und Rolläden<br/>"),"computer"==e.shop&&(t+="Computer-Fachhändler<br/>"),"electronics"==e.shop&&(t+="Elektronikmarkt<br/>"),"hifi"==e.shop&&(t+="Hifi-Fachhändler<br/>"),"mobile_phone"==e.shop&&(t+="Handy-Shop<br/>"),"radiotechnics"==e.shop&&(t+="Radio- und Fernsehtechnik<br/>"),"vacuum_cleaner"==e.shop&&(t+="Staubsaugerfachgeschäft<br/>"),"bicycle"==e.shop&&(t+="Fahrradfachgeschäft<br/>"),"car"==e.shop&&(t+="Autohaus<br/>"),"car_repair"==e.shop&&(t+="Autowerkstatt<br/>"),"car_parts"==e.shop&&(t+="Autoteilefachgeschäft<br/>"),"dive"!=e.shop&&"scuba_diving"!=e.shop||(t+="Tauchausrüstung<br/>"),"fishing"==e.shop&&(t+="Angelfachgeschäft<br/>"),"free_flying"==e.shop&&(t+="Fallschirmausrüstung<br/>"),"hunting"==e.shop&&(t+="Jagdausrüstung<br/>"),"motorcycle"==e.shop&&(t+="Motorradgeschäft<br/>"),"outdoor"==e.shop&&(t+="Trekking-/Outdoorladen<br/>"),"sports"==e.shop&&(t+="Sportgeschäft<br/>"),"tyres"==e.shop&&(t+="Reifenfachhandel<br/>"),"water_sports"==e.shop&&(t+="Wassersportbedarf<br/>"),"art"==e.shop&&(t+="Kunstladen<br/>"),"craft"==e.shop&&(t+="Kunsthandwerk<br/>"),"frame"==e.shop&&(t+="Bilderrahmengeschäft<br/>"),"music"==e.shop&&(t+="Musikgeschäft<br/>"),"music_instrument"==e.shop&&(t+="Musikhaus<br/>"),"photo"==e.shop&&(t+="Fotofachgeschäft<br/>"),"video"==e.shop&&(t+="Videothek<br/>"),"video_games"==e.shop&&(t+="Videospiele<br/>"),"anime"==e.shop&&(t+="Anime<br/>"),"books"==e.shop&&(t+="Buchhandlung<br/>"),"gift"==e.shop&&(t+="Andenken, Reisemitbringsel, Souveniershop<br/>"),"newsagent"==e.shop&&(t+="Zeitungshändler<br/>"),"stationery"==e.shop&&(t+="Schreibwaren<br/>"),"ticket"==e.shop&&(t+="Ticketshop<br/>"),"copyshop"==e.shop&&(t+="Kopierladen<br/>"),"funeral_directors"==e.shop&&(t+="Bestattungsunternehmen<br/>"),"laundry"==e.shop&&(t+="Waschsalon / Wäscherei<br/>"),"dry_cleaning"==e.shop&&(t+="chemische Reinigung<br/>"),"money_lender"==e.shop&&(t+="Geldverleiher<br/>"),"pawnbroker"==e.shop&&(t+="Pfandhaus / Pfandleiher<br/>"),"pet"==e.shop&&(t+="Zoo- und Tierhandlung<br/>"),"pyrotechnics"==e.shop&&(t+="Feuerwerk<br/>"),"religion"==e.shop&&(t+="Religiöse Artikel<br/>"),"beauty"==e.shop&&(t+="Schönheitssalon<br/>"),"solarium"==e.shop&&(t+="Solarium<br/>"),"tobacco"==e.shop&&(t+="Tabakwaren<br/>"),"toys"==e.shop&&(t+="Spielwaren<br/>"),"travel_agency"==e.shop&&(t+="Reisebüro<br/>"),"market_hall"==e.shop&&(t+="Markthalle<br/>"),"vacant"==e.shop&&(t+="leerstehendes Ladenlokal<br/>"),"weapons"==e.shop&&(t+="Waffenladen<br/>"),"lottery"==e.gambling&&(t+="Lottoannahmestelle<br/>"),"fish"==e.pet&&(t+="Aquaristik<br/>"),"agriucultural_engines"==e.craft&&(t+="Landmaschinenbau<br/>"),"basket_maker"==e.craft&&(t+="Korbmacher<br/>"),"beekeeper"==e.craft&&(t+="Imker<br/>"),"blacksmith"==e.craft&&(t+="Schmied<br/>"),"brewery"==e.craft&&(t+="Brauerei<br/>"),"yes"==e.microbrewery&&(t+="Hausbrauerei<br/>"),"boatbuilder"==e.craft&&(t+="Bootsbauer<br/>"),"bookbinder"==e.craft&&(t+="Buchbinder<br/>"),"builder"==e.craft&&(t+="Hausbau<br/>"),"carpenter"==e.craft&&(t+="Tischler/Schreiner, Zimmermann<br/>"),"carpet_layer"==e.craft&&(t+="Teppichleger<br/>"),"caterer"==e.craft&&(t+="Catering<br/>"),"clockmaker"==e.craft&&(t+="Uhrmacher<br/>"),"confectionery"==e.craft&&(t+="Konditorei<br/>"),"dressmaker"==e.craft&&(t+="Schneider<br/>"),"electrician"==e.craft&&(t+="Elektriker<br/>"),"gardener"==e.craft&&(t+="Garten- und Landschaftsbauer<br/>"),"glaziery"==e.craft&&(t+="Glaserei<br/>"),"handicraft"==e.craft&&(t+="Handwerkskunst<br/>"),"hvac"==e.craft&&(t+="Kälteanlagenbauer für Lüftungs-, Heizungs- und Klimatechnik<br/>"),"insulation"==e.craft&&(t+="Wärmedämmung von Gebäuden<br/>"),"jeweller"==e.craft&&(t+="Juwelier, Gold-/Silber-Schmied<br/>"),"key_cutter"==e.craft&&(t+="Schlüsselmacher<br/>"),"locksmith"==e.craft&&(t+="Schlüsseldienst<br/>"),"metal_construction"==e.craft&&(t+="Metallbauer<br/>"),"optician"==e.craft&&(t+="Optiker<br/>"),"painter"==e.craft&&(t+="Maler<br/>"),"parquet_layer"==e.craft&&(t+="Parkettverleger<br/>"),"photographer"==e.craft&&(t+="Fotograf<br/>"),"photographic_laboratory"==e.craft&&(t+="Fotolabor<br/>"),"plasterer"==e.craft&&(t+="Gipser, Verputzer, Stuckateur<br/>"),"plumber"==e.craft&&(t+="Anlagenmechaniker Sanitär-, Heizungs- und Klimatechnik.<br/>"),"pottery"==e.craft&&(t+="Töpferei<br/>"),"rigger"==e.craft&&(t+="Riggemacher (Takelage für Segelschiffe)<br/>"),"roofer"==e.craft&&(t+="Dachdecker<br/>"),"saddler"==e.craft&&(t+="Sattler<br/>"),"sailmaker"==e.craft&&(t+="Segelmacher<br/>"),"sawmill"==e.craft&&(t+="Holzverarbeitungsbetrieb<br/>"),"scaffolder"==e.craft&&(t+="Gerüstbauer<br/>"),"sculptor"==e.craft&&(t+="Bildhauer<br/>"),"shoemaker"==e.craft&&(t+="Schuhmacher<br/>"),"stand_builder"==e.craft&&(t+="Messe- / Standbauer<br/>"),"stonemason"==e.craft&&(t+="Steinmetz<br/>"),"sun_protection"==e.craft&&(t+="Rolladen- und Jalousiebauer<br/>"),"sweep"==e.craft&&(t+="Schornsteinfeger<br/>"),"tailor"==e.craft&&(t+="Schneider<br/>"),"tiler"==e.craft&&(t+="Fliesen-, Platten- und Mosaikleger<br/>"),"tinsmith"==e.craft&&(t+="Spengler, Klempner<br/>"),"upholsterer"==e.craft&&(t+="Polsterer<br/>"),"watchmaker"==e.craft&&(t+="Uhrmacher<br/>"),"window_construction"==e.craft&&(t+="Fensterbauer<br/>"),"machines"==e.rental&&(t+="Maschinenverleih<br/>"),"car_rental"==e.amenity&&(t+="Autoverleih<br/>"),"allotments"==e.landuse&&(t+="Schrebergarten<br/>"),"basin"==e.landuse&&(t+="Regenwasserrückhaltebecken<br/>"),"brownfield"==e.landuse&&(t+="Vorher bebautes Land<br/>"),"commercial"==e.landuse&&(t+="Industriegebiet<br/>"),"construction"==e.landuse&&(t+="Baugebiet<br/>"),"farmland"==e.landuse&&(t+="Ackerfläche<br/>"),"farmyard"==e.landuse&&(t+="landwirtschaftlicher Betrieb<br/>"),"forest"==e.landuse&&(t+="Forst<br/>"),"garages"==e.landuse&&(t+="Garagenkomplex<br/>"),"grass"==e.landuse&&(t+="Rasenflächen<br/>"),"greenfield"==e.landuse&&(t+="Bauerwartungsland<br/>"),"greenhouse_horticulture"==e.landuse&&(t+="Gewächshaus-Fläche<br/>"),"industrial"==e.landuse&&(t+="Gewerbe-/Industriegebiet<br/>"),"landfill"==e.landuse&&(t+="Mülldeponie<br/>"),"meadow"==e.landuse&&(t+="Grünfläche<br/>"),"orchard"==e.landuse&&(t+="Obstplantage<br/>"),"plant_nursery"==e.landuse&&(t+="Baumschule<br/>"),"quarry"==e.landuse&&(t+="Sand- und Kiesgrube<br/>"),"railway"==e.landuse&&(t+="Gebiet für Eisenbahnnutzung<br/>"),"recreation_ground"==e.landuse&&(t+="Erholungsgebiet<br/>"),"reservoir"==e.landuse&&(t+="Wasserreservoir<br/>"),"residential"==e.landuse&&(t+="Wohngebiet<br/>"),"retail"==e.landuse&&(t+="Einkaufszentrum<br/>"),"salt_pond"==e.landuse&&(t+="Saline<br/>"),"village_green"==e.landuse&&(t+="Grünfläche<br/>"),"vineyard"==e.landuse&&(t+="Weinberg<br/>"),"pond"==e.landuse&&(t+="kleiner Teich<br/>"),"salt_pond"==e.landuse&&(t+="Saline<br/>"),"animal_keeping"==e.landuse&&(t+="Weide, Paddock für Tierhaltung<br/>"),"yes"==e.entrance&&(t+="Eingang zum Gebäude<br/>"),"main"==e.entrance&&(t+="Haupteingang<br/>"),"service"==e.entrance&&(t+="Hinterausgang für Angestellte oder Zulieferer<br/>"),"exit"==e.entrance&&(t+="Ausgang des Gebäudes<br/>"),"emergency"==e.entrance&&(t+="Notausgang<br/>"),"bay"==e.natural&&(t+="Bucht<br/>"),"beach"==e.natural&&(t+="Strand<br/>"),"wood"==e.natural&&(t+="natürlicher Wald<br/>"),"glacier"==e.natural&&(t+="Gletscher<br/>"),"cave_entrance"==e.natural&&(t+="Höhle<br/>"),"spring"==e.natural&&(t+="natürliche Quelle<br/>"),"waterfall"==e.natural&&(t+="Wasserfall<br/>"),"scrub"==e.natural&&(t+="unkultiviertes Buschland<br/>"),"grassland"==e.natural&&(t+="unkultiviertes Grasland<br/>"),"wetland"==e.natural&&(t+="Feuchtgebiet<br/>"),"tree"==e.natural&&(t+="Baum"),"peak"==e.natural&&"yes"==e["summit:cross"]&&(t+="Gipfelkreuz<br/>"),"tree_row"==e.natural&&(t+="Baumreihe / Allee<br/>"),"heath"==e.natural&&(t+="Heide<br/>"),"moor"==e.natural&&(t+="Hochmoor<br/>"),"grassland"==e.natural&&(t+="unkultiviertes Grasland<br/>"),"fell"==e.natural&&(t+="Grasland oberhalb der Baumgrenze<br/>"),"bare_rock"==e.natural&&(t+="Nackter Fels<br/>"),"scree"==e.natural&&(t+="Schutt (Hangschutt)<br/>"),"volcano"==e.natural&&(t+="Vulkan<br/>"),"valley"==e.natural&&(t+="Tal<br/>"),"stone"==e.natural&&(t+="Findling<br/>"),"sea"==e.natural&&(t+="Meer<br/>"),"national_park"==e.boundary&&(t+="Nationalpark<br/>"),"protected_area"==e.boundary&&(t+="Schutzgebiet<br/>"),"yes"==e.mountain_pass&&(t+="Gebirgspass<br/>"),"waterfall"==e.waterway&&(t+="Wasserfall<br/>"),"canal"==e.waterway&&(t+="Kanal<br/>"),"canal"==e.water&&(t+="Kanal<br/>"),"river"==e.waterway&&(t+="Fluss<br/>"),"river"==e.water&&(t+="Fluss<br/>"),"riverbank"==e.waterway&&(t+="Fluss<br/>"),"ditch"==e.waterway&&(t+="Entwässerungsgraben<br/>"),"stream"==e.waterway&&(t+="Bach<br/>"),"ferry"==e.route&&(t+="Fährverbindung<br/>"),"turning_point"==e.waterway&&(t+="Wendestelle<br/>"),"lake"!=e.water&&"water"!=e.natural||(t+="See<br/>"),"cove"==e.water&&(t+="kleine Bucht<br/>"),"lagoon"==e.water&&(t+="Lagune<br/>"),"pond"==e.water&&(t+="Teich<br/>"),"reservoir"==e.water&&(t+="Wasserreservoir<br/>"),"oxbow"==e.water&&(t+="Altwassersee<br/>"),"lock"==e.water&&(t+="Schleusenkammer<br/>"),"moat"==e.water&&(t+="Burggraben<br/>"),"wastewater"==e.water&&(t+="Kläranlage<br/>"),"guest"==e.mooring&&"pier"==e.man_made||"visitor_berth"==e["seamark:small_craft_facility:category"]?t+="Gastliegeplatz<br/>":"pier"==e.man_made&&(t+="Anlegestelle<br/>"),"boatyard"==e.waterway&&(t+="Schiffswerft<br/>"),"mooring"==e["seamark:type"]&&"dolphin"==e["seamark:mooring:category"]&&(t+="Dalben<br/>"),"foot"==e.route&&(t+="Wanderweg<br/>"),"hiking"==e.route&&(t+="Wanderweg<br/>"),"yes"==e.hiking&&"information"==e.tourism)t+="Wegweiser<br/>";else if("information"==e.tourism&&"information"==e.tourism)if(e.information)switch(e.information){case"board":t+="Informationstafel<br/>";break;case"map":t+="Informationstafel mit Karte<br/>";break;case"office":t+="Touristeninformation<br/>";break;case"terminal":t+="Informationsterminal<br/>";break;case"audioguide":t+="Audioguide<br/>";break;case"guidepost":t+="Wegweiser<br/>";break;case"tactile_map":t+="Blindenkarte 2D<br/>";break;case"tactile_model":t+="Blindenkarte 3D<br/>";break;case"route_marker":t+="Wegerkennungsmarker<br/>";break;default:t+="Informationstafel<br/>"}else t+="Informationstafel<br/>";if("bicycle"==e.route&&(t+="Radwanderweg<br/>"),"mtb"==e.route&&(t+="Mountainbikeroute<br/>"),"horse"==e.route&&(t+="Reitwanderweg<br/>"),"coastline"==e.natural&&(t+="Küstenlinie<br/>"),"cliff"==e.natural&&(t+="Klippe<br/>"),"dam"==e.waterway&&(t+="Staudamm<br/>"),"weir"==e.waterway&&(t+="Wehr<br/>"),"lock_gate"==e.waterway&&(t+="Schleusentor<br/>"),"yes"==e.lock&&(t+="Schleuse<br/>"),"sluice_gate"==e.waterway&&(t+="Siel<br/>"),"pumping_station"==e.man_made&&(t+="Schöpfwerk<br/>"),"groyne"==e.man_made&&(t+="Buhne<br/>"),"dyke"==e.man_made&&(t+="Deich<br/>"),"levee"==e.man_made&&(t+="Deich<br/>"),"watermill"==e.man_made&&(t+="Wassermühle<br/>"),"airfield"==e.military&&(t+="Militärflugplatz<br/>"),"naval_base"==e.military&&(t+="Marinestützpunkt<br/>"),"range"==e.military&&(t+="Waffenübungsplatz<br/>"),"military"==e.landuse&&(t+="militärisch genutztes Gebiet<br/>"),"training_area"==e.military&&(t+="Truppenübungsplatz<br/>"),"exclusion_zone"==e.military&&(t+="militärisch genutztes Gebiet<br/>"),"danger_area"==e.military&&(t+="militärische Gefahrenzone<br/>"),"barracks"==e.military&&(t+="Kaserne<br/>"),"nuclear_explosion_site"==e.military&&(t+="Atomwaffentestgelände<br/>"),"yes"==e.construction?t+="Baustelle<br/>":"construction"==e.highway&&(t+="Baustelle<br/>"),"petroleum_well"==e.man_made&&(t+="Erdölpumpe<br/>"),"storage_tank"==e.man_made&&(t+="Speichertank<br/>"),"wastewater_plant"==e.man_made&&(t+="Kläranlage<br/>"),"silo"==e.man_made&&(t+="Silo<br/>"),"water_tower"==e.man_made&&(t+="Wasserturm<br/>"),"windmill"==e.man_made&&(t+="Windmühle<br/>"),"monitoring_station"==e.man_made&&(t+="Messstation"),"crane"==e.man_made&&(t+="Kran"),"lighthouse"==e.man_made&&(t+="Leuchtturm"),"beacon"==e.man_made&&(t+="Leuchtfeuer"),"breakwater"==e.man_made&&(t+="Wellenbrecher"),"lamp"==e.man_made&&"street_lamp"==e["lamp:type"]&&(t+="Strassenlaterne<br/>"),"lantern"==e.light_source&&(t+="Strassenlaterne<br/>"),"floodlight"==e.light_source&&(t+="Flutlicht<br/>"),"signal_lamp"==e.light_source&&(t+="Signallicht<br/>"),"aviation"==e.light_source&&(t+="Befeuerung<br/>"),"warning"==e.light_source&&(t+="Warnlicht<br/>"),e.light_source&&e["light:method"])switch(t+="Licht Art: ",e["light:method"]){case"gas":t+="Gas";break;case"electric":t+="Elektrisch";break;case"incandescent":t+="strahlend";break;case"halogen":t+="Halogen";break;case"discharge":t+="Entladungslicht";break;case"metal-halide":t+="Halogen-Metalldampflampe";break;case"neon":t+="Neon";break;case"sodium":t+="Natriumdampflampe";break;case"high_pressure_sodium":t+="Hochdruck Natriumdampflampe";break;case"low_pressure_sodium":t+="Niedrigdruck Natriumdampflampe";break;case"fluorescent":t+="Fluoreszenzlampe";break;case"mercury":t+="Quecksilberlampe";break;case"LED":t+="LED";break;case"laser":t+="Laser";break;case"arc":t+="Lichtbogen";break;default:t+="Unbekannt"}if("drinking_water"==e.amenity&&(t+="Trinkwasser<br/>"),"yes"==e.drinking_water&&(t+="Trinkwasser<br/>"),"works"==e.man_made?t+="Industriegebäude<br/>":"industrial"==e.building?t+="Industriegebäude<br/>":"industrial"==e.landuse?t+="Industriegebiet<br/>":"industrial"==e.abutters?t+="Industriegebiet<br/>":"commercial"==e.abutters&&(t+="Gewerbegebiet<br/>"),e["generator:source"])switch(t+="Anlagen-Typ: ",e["generator:source"]){case"biomass":case"biofuel":case"biogas":t+="Biogasanlage";break;case"coal":t+="Kohlekraftwerk";break;case"oil":t+="Ölraffinerie";break;case"waste":t+="Müllverbrennungsanlage";break;case"wind":t+="Windkraftwerk";break;case"solar":t+="Solarkraftwerk";break;case"hydro":t+="Wasserkraftwerk";break;case"tidal":t+="Gezeitenkraftwerk";break;case"wave":t+="Wellenkraftwerk";break;case"geothermal":t+="Geothermie";break;case"osmotic":t+="Osmosekraftwerk";break;case"nuclear":t+="Atomkraftwerk";break;default:t+="unbekannt<br/>"}if("photovoltaic"==e.power_source&&(t+="Solarkraftwerk"),"line"==e.power&&(t+="Hochspannungs-Übertragungsleitung<br/>"),"cable"==e.power&&(t+="Untergrundkabel<br/>"),"cable_distribution_cabinet"==e.power&&(t+="Kabelverteilerschrank<br/>"),"plant"==e.power&&(t+="Elektrizitätskraftwerk<br/>"),"station"==e.power&&(t+="Elektrizitätskraftwerk<br/>"),"sub_station"==e.power&&(t+="Elektrizitätskraftwerk<br/>"),"compensator"==e.power&&(t+="Kompensator<br/>"),"converter"==e.power&&(t+="Konverter<br/>"),"generator"==e.power&&(t+="Generator<br/>"),"heliostat"==e.power&&(t+="Heliostat<br/>"),"insulator"==e.power&&(t+="Isulator<br/>"),"busbar"==e.line&&(t+="Sammelschiene<br/>"),"bay"==e.line&&(t+="Verbindung Schaltung und Sammelschiene<br/>"),"minor_line"==e.power&&(t+="Nebenlinie<br/>"),"pole"==e.power&&(t+="Pfahl<br/>"),"portal"==e.power&&(t+="H-förmiger Mast<br/>"),"catenary_mast"==e.power&&(t+="Fahrleitungsmast<br/>"),"substation"==e.power&&(t+="Umspannwerk<br/>"),"switch"==e.power&&(t+="Lastschalter<br/>"),"terminal"==e.power&&(t+="Terminal / Anschluss<br/>"),"tower"==e.power&&(t+="Hochspannungsleitungs<br/>"),"transformer"==e.power&&(t+="Nebenlinie<br/>"),e.barrier)switch(e.barrier){case"bollard":t+="Poller, Pfosten<br/>";break;case"cycle_barrier":t+="Umlaufsperre, Drängelgitter<br/>";break;case"gate":t+="Tor, Schranke<br/>";break;case"chain":t+="Kette<br/>";break;case"lift_gate":t+="Schlagbaum<br/>";break;case"wall":t+="Lärmschutzwand<br/>";break;case"toll_booth":t+="Mautstelle<br/>";break;case"fence":switch(e.fence_type){case"barbed_wire":t+="Stacheldrahtzaun<br/>";break;case"wood":t+="Holzzaun<br/>";break;case"chain_link":t+="Maschendrahtzaun<br/>";break;case"electric":t+="Weidezaun<br/>";break;case"railing":t+="Geländer<br/>";break;case"wire":t+="einfacher Drahtzaun<br/>";break;case"metal":t+="Metallzaun<br/>";break;case"pole":t+="Holzpfähle<br/>";break;default:t+="Zaun<br/>"}break;case"block":t+="Block<br/>";break;case"ditch":t+="Graben<br/>";break;case"border_control":t+="Grenzkontrolle<br/>";break;case"hedge":t+="Hecke<br/>";break;case"retaining_wall":t+="Stützmauer<br/>";break;case"cattle_grid":t+="Weiderost<br/>";break;case"horse_stile":t+="Zaunübertritt<br/>";break;default:t+="unbekannt<br/>"}if("noise_barrier"==e.wall&&(t+="Lärmschutzwand<br/>"),"retaining_wall"==e.designation&&(t+="Lärmschutzwand<br/>"),"noise_barrier"==e.designation&&(t+="Lärmschutzwand<br/>"),"surveillance"==e.man_made&&(t+="Überwachter Bereich<br/>"),e.aeroway)switch(t+="Flughafen: ",e.aeroway){case"aerodrome":t+="Flugplatz";break;case"apron":t+="Vorfeld";break;case"gate":t+="gate";break;case"helipad":t+="Hubschrauberlandeplatz";break;case"hangar":t+="Hangar";break;case"runway":t+="Start-/Landebahn";break;case"taxiway":t+="Rollweg";break;case"terminal":t+="Flughafengebäude";break;default:t+="unbekannt<br/>"}if("halt"==e.railway&&(t+="Bahn-Haltepunkt<br/>"),"crossing"==e.railway&&(t+="Bahnübergang<br/>"),"level_crossing"==e.railway&&(t+="Bahnübergang<br/>"),"station"==e.railway&&(t+="Bahnhof<br/>"),"bus_station"==e.amenity&&(t+="Busbahnhof<br/>"),"bus_station"==!e.amenity&&"station"==e.public_transport&&"yes"==e.bus&&(t+="Busbahnhof<br/>"),"rail"==e.railway&&(t+="Bahnlinie<br/>","contact_line"==e.electrified&&(t+="elektrifizierte Bahntrasse mit Oberleitung<br/>")),"tram"==e.railway&&(t+="Straßenbahnlinie<br/>"),"slipway"!=e["seamark:small_craft_facility:category"]&&"slipway"!=e.harbour&&"slipway"!=e.leisure||(t+="Slipanlage<br/>"),"harbour"==e["seamark:type"])if(e["seamark:harbour:category"])switch(e["seamark:harbour:category"]){case"ferry":t+="Fährhafen<br/>";break;case"container":t+="Containerhafen<br/>";break;case"marina":"marina"!=e.leisure&&(t+="Jachthafen<br/>");break;case"navel_base":t+="Marine-Hafen<br/>";break;case"tanker":t+="Hafen für Öltanker<br/>";break;case"passenger":t+="Personenschifffahrt<br/>";break;case"bulk":t+="Schüttgut-Hafen<br/>";break;default:t+="Hafen<br/>"}else t+="Hafen<br/>";return"marina"==e.leisure&&(t+="Jachthafen<br/>"),"wreck"==e.historic&&(t+="Wrack<br/>"),"animal_shelter"==e.amenity&&(t+="Tierheim<br/>"),"shelter"==e.animal&&(t+="Tierheim<br/>"),"horse_walker"==e.animal&&(t+="Pferdelauftrainer<br/>"),"yes"==e.animal_shelter&&(t+="Tierheim<br/>"),"dog"==e.animal_shelter&&(t+="Tierheim<br/>"),"cat"==e.animal_shelter&&(t+="Tierheim<br/>"),"animal_boarding"==e.amenity&&(t+="Tierpension<br/>"),"yes"==e.animal_boarding&&(t+="Tierpension<br/>"),"dog"==e.animal_boarding&&(t+="Tierpension<br/>"),"horse"==e.animal_boarding&&(t+="Tierpension<br/>"),"cat"==e.animal_boarding&&(t+="Tierpension<br/>"),"dog;cat"==e.animal_boarding&&(t+="Tierpension<br/>"),"cat;dog"==e.animal_boarding&&(t+="Tierpension<br/>"),"school"!=e.animal&&"sport"!=e.animal&&"animal_training"!=e.amenity||(t+="Tiertraining<br/>"),"swimming"==e.animal&&(t+="Badestelle für Hunde<br/>"),"feeding_place"!=e.amenity&&"animal_feeding"!=e.man_made&&"animal_feeding"!=e.amenity||(t+="Fütterungsstelle<br/>"),"wildlife_feeding"!=e.amenity&&"deer_feeding"!=e.amenity&&"game_feeding"!=e.amenity||(t+="Wildfütterung<br/>"),"cratch"!=e.amenity&&"cratch"!=e.man_made&&"feeding_rack"!=e.amenity||(t+="Futterraufe<br/>"),"manger"==e.amenity&&(t+="Krippe<br/>"),"birdhouse"==e.man_made&&(t+="Vogelhaus<br/>"),"stork"==e.birds_nest&&(t+="Storchennest<br/>"),"nest_box"==e.amenity&&(t+="Nistkasten<br/>"),"wellness"==e.animal&&(t+="Hundesalon<br/>"),"cemetery"==e.animal&&(t+="Kleintierfriedhof<br/>"),"stable"!=e.building&&"stable"!=e["building:use"]||(t+="Pferdestall<br/>"),"cowshed"==e.building&&(t+="Kuhstall<br/>"),"sty"==e.building&&(t+="Schweinestall<br/>"),"barn"==e.building&&(t+="Scheune / landwirtsch. Lagerhalle<br/>"),"farm_auxiliary"==e.building&&(t+="landwirtschaftl. Nebengebäude<br/>"),(e["river:waterway_distance"]||"milestone"==e.waterway)&&(t+="Flusskilometer<br/>"),"milestone"==e.highway&&(t+="Strassenkilometer<br/>"),"market"==e["xmas:feature"]&&(t+="Weihnachtsmarkt<br/>"),"tree"==e["xmas:feature"]&&(t+="Weihnachtsbaumverkauf<br/>"),"event"==e["xmas:feature"]&&(t+="Weihnachtsevent<br/>"),"pyramid"==e["xmas:feature"]&&(t+="Weihnachtspyramide<br/>"),'<div class="c4g_popup_header_featuretype">'+t+"<br/> </div>"}var u=t.fnContent=function(e){var t;return t=""+I(e),t+=j(e),t+=c(e),t+=E(e),t+=T(e),t+=S(e),t+=x(e),t+=C(e),t+=w(e),t+=O(e),t+=v(e),t+=b(e),t+=_(e),t+=g(e),t+=m(e),t+=y(e),t+=d(e),t+=h(e),t+=M(e),t+=A(e),t+=L(e),t+=R(e),t+=f(e),t+=P(e),(t+=p(e))&&(t="<br/>"+t),'<div class="c4g_popup_content">'+t+"</div>"},c=t.fnContentAerodrome=function(e){var t="";return e.aerodrome&&("international"==e.aerodrome&&(t+="Flughafentype: internationaler Flugplatz<br/>"),"regional"==e.aerodrome&&(t+="Flughafentype: regionaler Flugplatz<br/>"),"gliding"==e.aerodrome&&(t+="Flughafentype: Segelflugplatz<br/>"),"private"==e.aerodrome&&(t+="Flughafentype: Privatflugplatz<br/>")),e.iata&&(t+="IATA-Code: "+e.iata+"<br/>"),e.icao&&(t+="ICAO-Code: "+e.icao+"<br/>"),t},h=t.fnContentNatural=function(e){var t="";if((e.forest||e.wood)&&("broadleaved"!=e.leaf_type&&"deciduous"!=e.wood||(t+="Laubwald<br/>"),"needleleaved"!=e.leaf_type&&"coniferous"!=e.wood||(t+="Nadelwald<br/>"),"mixed"!=e.leaf_type&&"mixed"!=e.wood||(t+="Mischwald<br/>"),"leafless"==e.leaf_type&&(t+="Blattlose Vegetation<br/>"),"evergreen"==e.wood&&(t+="immergrün<br/>"),"palm"==e.wood&&(t+="Palmen<br/>"),"nipa_palm"==e.wood&&(t+="Nipapalmen<br/>"),"eucalypt"==e.wood&&(t+="Eukalypten<br/>"),"filao"!=e.wood&&"casuarina"!=e.wood||(t+="Kasuarinengewächse<br/>")),"tree"==e.natural&&(!e["genus:de"]&&!e["species:de"]&&e.leaf_type&&(t="broadleaved"==e.leaf_type||"deciduous"==e.leaf_type||"broadleafed"==e.leaf_type?t+"Laubbaum<br/>":t+"Nadelbaum<br/>"),e.genus&&(t+=e.genus+"<br/>"),e["genus:de"]&&(t+=e["genus:de"]+"<br/>"),e.species&&(t+=e.species+"<br/>"),e["species:de"]&&(t+=e["species:de"]+"<br/>"),"landmark"==e.denotation&&(t+="durch Größe und herausragender Position sich deutlich aus seinem Umfeld hervorhebender Baum.<br/>"),"natural_monument"==e.denotation||"yes"==e.monument)&&(t+="alter, unter besonderem Schutz stehender Baum.<br/>"),"manger"==e["feeding:type"]&&(t+="Futterbehälter: Futterraufe<br/>"),"automated"==e["feeding:type"]&&(t+="Automat<br/>"),e["feeding:for"])switch(e["feeding:for"]){case"sheep":t+="Tier: Schaaf<br/>";break;case"horse":t+="Tier: Pferd<br/>";break;case"cow":t+="Tier: Kuh<br/>";break;case"rabbit":t+="Tier: Kaninchen<br/>";break;case"bunny":t+="Tier: Hase<br/>";break;case"cat":t+="Tier: Katze </br>";break;case"swan":t+="Tier: Schwan </br>";break;case"guinea pig":t+="Tier: Meerschweinchen </br>";break;case"donkey":t+="Tier: Esel </br>";break;case"squirrel":t+="Tier: Eichhörnchen </br>";break;case"pig":t+="Tier: Schwein </br>";break;case"deer":t+="Tier: Reh </br>";break;case"guinea pig":t+="Tier: Meerschweinchen </br>";break;case"monkey":t+="Tier: Affe </br>";break;case"camel":t+="Tier: Kamel </br>";break;case"goat":t+="Tier: Ziege </br>";break;case"hamster":t+="Tier: Hamster </br>";break;case"alpaca":t+="Tier: Alpaka </br>";break;default:t+="Tiere: nicht bekannt<br/>"}if(e["feeding:fodder"])switch(e["feeding:fodder"]){case"hay":t+="Füttern mit: Heu</br>";break;case"grain":t+="Füttern mit: Getreide</br>";break;case"corn":t+="Füttern mit: Korn</*br>";break;default:t+="Füttern mit: nicht bekannt</br>"}return"volcano"==e.natural&&"active"==e.status&&(t+="Aktiver Vulkan<br/>"),"volcano"==e.natural&&"dormant"==e.status&&(t+="Ruhender Vulkan<br/>"),"volcano"==e.natural&&"extinct"==e.status&&(t+="Erloschener Vulkan<br/>"),"volcano"==e.natural&&"stratovolcano"==e.type&&(t+="Vulkantyp:Schichtvulkan<br/>"),"volcano"==e.natural&&"shield"==e.type&&(t+="Vulkantyp:Schildvulkan<br/>"),"volcano"==e.natural&&"scoria"==e.type&&(t+="Vulkantyp:Schlacken- und Aschenkegel<br/>"),t},p=t.fnContentProtectedArea=function(e){var t="",r="";return"protected_area"==e.boundary&&(e.protect_class&&(r=e.protect_class),e.protect_id&&(r=e.protect_id),"1"==r&&(t="Beschreibung: Strenges Naturreservat, Wildnisgebiet<br/>"),"2"==r&&(t="Beschreibung: Nationalpark<br/>"),"3"==r&&(t="Beschreibung: Naturmonument<br/>"),"4"==r&&(t="Beschreibung: Biotop/Artenschutzgebiet mit Management<br/>"),"5"==r&&(t="Beschreibung: Geschützte Landschaft/Geschütztes marines Gebiet<br/>"),"6"==r&&(t="Beschreibung: Ressourcenschutzgebiet mit Management<br/>"),"7"==r&&(t="Beschreibung: Lokal geschützte Bereiche<br/>"),"97"==r&&(t="Beschreibung: Geschützt oder ausgezeichnet durch Vereinbarungen auf kontinentaler Ebene<br/>"),"98"==r&&(t="Beschreibung: Geschützt oder ausgezeichnet durch zwischenstaatliche- oder internationale Vereinbarungen<br/>"),"99"==r&&(t="andere <br/>"),"21"==r&&(t="Beschreibung: Gemeindebefinden (heilige Orte, assoziatice Orte)<br/>"),"22"==r&&(t="Beschreibung: Kulturelle Werte (Kulturgüter, historisches Erbe, Denkmalschutz)<br/>"),"23"==r&&(t="Beschreibung: Schutz zu Gundsten der Wirtschaft<br/>"),"24"==r&&(t="Beschreibung: Politische Schutzgebiete<br/>"),"25"==r&&(t="Beschreibung: Militärische Schutzgebiete<br/>"),"26"==r&&(t="Beschreibung: Historische Schutzgebiete<br/>"),"29"==r&&(t="Beschreibung: Weitere gesellschaftliche Schutzgebiete<br/>"),"11"==r&&(t="Beschreibung: Bodenschutz (Vorgabe zum Fruchtbarkeitserhalt und Erosionsschutz)<br/>"),"12"==r&&(t="Beschreibung: Wasserschutzgebiet (Trinkwasserschutzgebiet, Heilquellenschutzgebiet,..)<br/>"),"13"==r&&(t="Beschreibung: Klima und Luft (Kaltluftenstehung/Frischluftversorgung, Immissionsschutz,..)<br/>"),"14"==r&&(t="Beschreibung: Artenschutzgebiet (Angelverbot, Fischereischutzzone, Jagdschutzgebiet, Vogelschutzgebiet,..)<br/>"),"15"==r&&(t='Beschreibung: "Standortausstattung": Retentionsraum (gesetzlich geschütztes Überschwemmungsgebiet) <br/>'),"16"==r&&(t="Beschreibung: Dauerhafte Gefahrenbereiche (Lebensschutz, Bodenbewegungsgebiet,..)<br/>"),"19"==r&&(t="Beschreibung: Weitere nationale Gebiete<br/>")),t},d=t.fnContentLanduse=function(e){var t="";return"quarry"==e.landuse&&e.resource&&(t+="Resource: "+e.resource+"<br/>"),"open_stable"==e["animal_keeping:type"]&&(t+="Offenstall<br/>"),"field_shelter"==e["animal_keeping:type"]&&(t+="Weide mit Unterstand<br/>"),"paddock"==e["animal_keeping:type"]&&(t+="Paddock<br/>"),e.animal_keeping&&(t+="Tiere: Perde<br/>"),t},f=t.fnMessstation=function(e){var t="";return"yes"==e["monitoring:water_level"]&&(t+="Pegelstand<br/>"),"yes"==e["monitoring:seismic_activity"]&&(t+="seismische Aktivitäten<br/>"),"yes"==e["monitoring:tide_gauge"]&&(t+="Tidestand<br/>"),"yes"==e["monitoring:weather"]&&(t+="Wetterdaten<br/>"),"yes"==e["monitoring:air_quality"]&&(t+="Luftqualität<br/>"),t},g=t.fnContentRoute=function(e){var t="";return e.route&&("yes"==e.roundtrip&&(t+="Rundweg<br/>"),e.length&&(t+="Länge/Distanz: "+e.length+"<br/>"),e.distance&&(t+="Länge/Distanz: "+e.distance+"<br/>"),e.symbol&&(t+="Symbol: "+e.symbol+"<br/>")),t},m=t.fnContentPetrol=function(e){var t="";return"fuel"==e.amenity&&("yes"==e["fuel:biodiesel"]&&(t+="Biodiesel<br/>"),"yes"==e["fuel:e85"]&&(t+="Ethanol<br/>"),"yes"==e["fuel:e10"]&&(t+="E10<br/>"),"yes"==e["fuel:lpg"]&&(t+="Autogas<br/>"),"yes"==e["fuel:cng"]&&(t+="Erdgas<br/>"),"diesel"==e.fuel&&(t+="Diesel<br/>"),"lpg"==e.fuel&&(t+="Autogas<br/>"),"yes"==e["fuel:octane_95"]&&(t+="Super Bleifrei<br/>"),"yes"==e["fuel:octane_98"]&&(t+="Super Plus<br/>"),"yes"==e["fuel:octane_100"]&&(t+="V-Power Racing<br/>"),"yes"==e["fuel:octane_102"]&&(t+="Ultimate<br/>"),"yes"==e["fuel:diesel"]&&(t+="Diesel<br/>"),"yes"==e["fuel:electricity"]&&(t+="Ladestation / Stromtankstelle<br/>")),t},y=(t.fnContentHistoric=function(e){var t="";if("archaeological_site"==e.historic&&e.site_type)switch(e.site_type){case"megalith":t+="Megalith<br/>";break;case"bigstone":t+="Findling<br/>";break;case"tumulus":t+="Hügelgrab<br/>";break;case"fortification":t+="historischer Graben / Wall<br/>";break;default:t+="unbekannt<br/>"}return t},t.fnContentBarriers=function(e,t){var r="";return"wall"!=e.barrier&&"bollard"!=e.barrier||e.material&&(r+="Material: "+o(e.material)+"<br/>"),r}),_=t.fnContentTourism=function(e){var t="";return"camp_site"==e.tourism&&("yes"==e.dog&&(t+="Hunde erlaubt<br/>"),"no"==e.dog&&(t+="Hunde nicht erlaubt<br/>"),e.stars&&(t+=e.stars+"Sterne<br/>"),e.caravans&&(t+="Wohnmobilstellplätze<br/>"),"yes"!=e.openfire&&"yes"!=e.fireplace||(t+="Feuerstellen vorhanden<br/>"),"yes"==e.washing_machine&&(t+="Waschmaschinen<br/>"),"yes"==e.dryer&&(t+="Trockner<br/>"),"yes"==e.group_only&&(t+="Nutzung nur durch Gruppen<br/>"),"reception"==e.camp_site&&(t+="Reception vorhanden<br/>")),"information"==e.tourism&&"map"==e.information&&("topo"==e.map_type&&(t+="Topografische Karte</br>"),"street"==e.map_type&&(t+="Straßenkarte</br>"),"scheme"==e.map_type&&(t+="Schematische Karte</br>"),"toposcope"==e.map_type&&(t+="Schematische Karte</br>")),"information"==e.tourism&&"map"==e.information&&("site"==e.map_size&&(t+="Karte einer Anlage</br>"),"city"==e.map_size&&(t+="Stadtplan</br>"),"region"==e.map_size&&(t+="Karte der Region</br>")),"geology"==e.board_type&&(t+="Geologische Informationen<br/>"),"history"==e.board_type&&(t+="Historische Informationen<br/>"),"nature"==e.board_type&&(t+="Informationen über Natur<br/>"),"notice"==e.board_type&&(t+="Allgemeine Information<br/>"),"plants"==e.board_type&&(t+="Informationen über Pflanzen<br/>"),"wildlife"==e.board_type&&(t+="Informationen über Wild<br/>"),t},b=t.fnContentAmenity=function(e){var t="";if("boat_sharing"==e.amenity&&(t+=e.boattype+"<br/>"),"embassy"==e.amenity&&(t+=e.country+"<br/>"),e.vending)switch(e.vending){case"admission_tickets":t+="Tickets<br/>";break;case"animal_feed":t+="Tierfutter<br/>";break;case"books":t+="Bücher<br/>";break;case"candles":t+="Kerzen<br/>";break;case"cigarettes":t+="Zigaretten<br/>";break;case"condoms":t+="Kondome<br/>";break;case"drinks":t+="Getränke<br/>";break;case"first_aid":t+="Erste Hilfe Artikel<br/>";break;case"fishing_tackle":t+="Angelequipment<br/>";break;case"flowers":t+="Blumen<br/>";break;case"ice_cream":t+="Eis<br/>";break;case"laundry_detergent":t+="Waschmittel<br/>";break;case"newspapers":t+="Zeitung<br/>";break;case"SIM_cards":t+="SIM-Karten<br/>";break;case"sweets":t+="Süßigkeiten<br/>";break;case"parcel_pickup":t+="Paketstation<br/>";break;case"ice_cubes":t+="Eiswürfel<br/>";break;case"public_transport_tickets":t+="Tickets für öffentliche Verkehrsmittel<br/>";break;case"parking_ticket":t+="Parkticket<br/>";break;case"sex_toys":t+="Sexspielzeug<br/>";break;case"stamps":t+="Briefmarken<br/>";break;case"toll":t+="Mauttickets<br/>";break;case"umbrellas":t+="Regenschirme<br/>";break;default:t+="Inhalt unbekannt<br/>"}return"post_box"==e.amenity&&(e.collection_times&&(t+="Leerungszeiten: "+e.collection_times+"<br/>"),"yes"==e.drive_through&&(t+="Vom Auto aus erreichbar. <br/>")),t},v=t.fnContentStorage=function(e){var t="";if("storage_tank"==e.man_made){if(e.content){var r=e.content;switch(r){case"fuel":r="Diesel";break;case"oil":r="Öl";break;case"gas":r="Gas";break;case"slurry":r="Gülle";break;case"cement":r="Zement";break;case"water":r="Wasser";break;case"manure":r="Dünger";break;case"silage":r="Silage"}t+="Inhalt: "+r+"<br/>"}if(e.contents){switch(r=e.contents){case"fuel":r="Diesel";break;case"oil":r="Öl";break;case"gas":r="Gas";break;case"slurry":r="Gülle";break;case"cement":r="Zement";break;case"water":r="Wasser";break;case"manure":r="Dünger";break;case"silage":r="Silage"}t+="Inhalt: "+r+"<br/>"}}return e.storage&&("gas"==e.storage&&(t+="Inhalt: Gas<br/>"),"oil"==e.storage&&(t+="Inhalt: Öl<br/>")),t},w=t.fnContentInformationCity=function(e){var t="";if(e["name:de"]&&(t+="deutscher Name: "+e["name:de"]+"<br/>"),1e4<=e.population)if(e.population=""+e.population,3<e.population.length){for(var r=e.population.length%3,n=0<r?e.population.substring(0,r):"",i=0;i<Math.floor(e.population.length/3);i++)n=0==r&&0==i?n+e.population.substring(r+3*i,r+3*i+3):n+"."+e.population.substring(r+3*i,r+3*i+3);t+="Einwohnerzahl: "+n+"<br/>"}else t+="Einwohnerzahl "+e.population+"<br/>";return 1e4>=e.population&&(t+="Einwohnerzahl: "+e.population+"<br/>"),t},O=t.fnContentEmergency=function(e){var t="";if(e.lifeboat&&("inshore"==e.lifeboat?t+="Einsatzgebiet: Inshore (Binnen)<br/>":"offshore"==e.lifeboat&&(t+="Einsatzgebiet: Offshore (Buten)<br/>")),e["lifeboat:class"]&&(t+="Bootstyp: "+e["lifeboat:class"]+"<br/>"),e["siren:type"]){var r=e["siren:type"];switch(r){case"mechanical":r="mechanisch";break;case"electronic":r="elektronisch";break;case"pneumatic":r="pneumatisch";break;case"electromechanic":r="elektromechanisch"}t+="Typ: "+r+"<br/>"}if(e["siren:purpose"]){switch(r=e["siren:purpose"]){case"air_raid":r="Luftschutz";break;case"tornado":r="Tornado";break;case"storm":r="Sturm";break;case"civil_defense":r="Bevölkerungsschutz";break;case"fire":r="Feuer"}t+="Nutzung: "+r+"<br/>"}return e["siren:model"]&&(t+="Model: "+e["siren:model"]+"<br/>"),e["siren:range"]&&(t+="Hörweite: "+e["siren:range"]+"<br/>"),t},E=t.fnContentCuisine=function(e){var t="";if(e.cuisine){var r="";t="supermarket"!=e.shop&&"convenience"!=e.shop&&"deli"!=e.shop&&"organic"!=e.shop||"restaurant"==e.amenity?t+"Küche: ":t+"Spezialitäten: ";"arabic"==e.cuisine&&(r+="arabisch<br/>"),"italian"==e.cuisine&&(r+=" italienisch<br/>"),"international"==e.cuisine&&(r+=" international<br/>"),"regional"==e.cuisine&&(r+=" regional<br/>"),"chinese"==e.cuisine&&(r+=" chinesisch<br/>"),"greek"==e.cuisine&&(r+=" griechisch<br/>"),"african"==e.cuisine&&(r+=" afrikanisch<br/>"),"german"==e.cuisine&&(r+=" deutsch<br/>"),"mexican"==e.cuisine&&(r+=" mexikanisch<br/>"),"french"==e.cuisine&&(r+=" französisch<br/>"),"indian"==e.cuisine&&(r+=" indisch<br/>"),"iranian"==e.cuisine&&(r+=" iranisch<br/>"),"lebanese"==e.cuisine&&(r+=" libanesisch<br/>"),"thai"==e.cuisine&&(r+=" thailändisch<br/>"),"balkan"==e.cuisine&&(r+=" balkan<br/>"),"turkish"==e.cuisine&&(r+=" türkisch<br/>"),"bavarian"==e.cuisine&&(r+=" bayrisch<br/>"),"czech"==e.cuisine&&(r+=" tschechisch<br/>"),"portuguese"==e.cuisine&&(r+=" portugiesisch<br/>"),"spanish"==e.cuisine&&(r+=" spanisch<br/>"),"japanese"==e.cuisine&&(r+=" japanisch<br/>"),"fish"==e.cuisine&&(r+=" Fisch<br/>"),"brazilian"==e.cuisine&&(r+=" brasilianisch<br/>"),"asian"==e.cuisine&&(r+=" asiatisch<br/>"),"mediterranean"==e.cuisine&&(r+=" mediterran<br/>"),"seafood"==e.cuisine&&(r+=" Meeresfrüchte<br/>"),"ice_cream"==e.cuisine&&(r+=" Eiscrem<br/>"),"burger"==e.cuisine&&(r+=" Fast Food<br/>"),"frozen_yogurt"==e.cuisine&&(r+=" Frozen Yogurt<br/>"),""==r&&(r=e.cuisine+"<br/>"),t+=r}return t},T=t.fnContentShipping=function(e){var t="";if(e.harbour="yes","yes"==e["access:tide"]&&(t+="Zufahrtsbeschränkung durch Tide</br>"),"yes"==e["access:swell"]&&(t+="Zufahrtsbeschränkung durch Schwell</br>"),"yes"==e["access:ice"]&&(t+="Zufahrtsbeschränkung durch Eis</br>"),e.vhf_channel&&(t+="UKW-Kanal: "+e.vhf_channel+"</br>"),e.mmsi&&(t+="MMSI-Nummer: "+e.mmsi+"</br>"),e["harbour:information"]&&(t+="Information :"+e["harbour:information"]+"</br>"),"yes"==e.motorboat&&(t+="Fahren mit Motor erlaubt</br>"),"no"==e.motorboat&&(t+="Fahren mit Motor nicht erlaubt</br>"),e.CEMT&&(t+="CEMT: "+e.CEMT+"</br>"),"yes"==e.intermittent&&(t+="Fluss zeitweise ausgetrocknet</br>"),"yes"==e.tidal&&(t+="Gezeiten beeinflussen die Strömung</br>"),e.draft&&(t+="Fahrwassertiefe: "+e.draft+" m</br>"),"slipway"!=e.leisure&&"slipway"!=e.harbour||("hand"==e.operating&&(t+="Funktionsweise: Handbetrieb, Slipwagen<br/>"),"car"==e.operating&&(t+="Funktionsweise: mit Auto, Bootsanhänger<br/>"),"cable_winch"==e.operating&&(t+="Funktionsweise: Seilwinde<br/>"),"travellift"==e.operating&&(t+="Funktionsweise: Travellift<br/>"),"crane"==e.man_made&&(t+="mit Kran<br/>",e["crane:maxload"]&&(t+="Maximale Last: "+e["crane:maxload"]+"<br/>"),e["ship:maxdraft"]&&(t+="Maximaler Tiefgang: "+e["ship:maxdraft"]+"<br/>"),e["ship:maxlength"]&&(t+="Maximale Bootslänge: "+e["ship:maxlength"]+"<br/>")),"yes"==e.vehicle&&(t+="Mit Fahrzeug erreichbar<br/>")),t+=F(e),"ferry"==e.route||"ferry_terminal"==e.amenity||"yes"==e.ferry){var r=e.duration;""!=r&&"undefined"!=r&&null!=r&&(t+="Fahrtzeit in Std. : "+r+"<br/>"),"yes"==e.motorcar&&(t+="Autos erlaubt <br/>"),"no"==e.motorcar&&(t+="Autos nicht erlaubt <br/>"),"no"==e.motor_vehicle&&(t+="Fahrzeuge nicht erlaubt <br/>"),"yes"==e.motor_vehicle&&(t+="Fahrzeuge erlaubt <br/>"),"yes"==e.vehicle&&(t+="Fahrzeuge erlaubt <br/>"),"no"==e.vehicle&&(t+="Keine Fahrzeuge<br/>"),"no"==e.bicycle&&(t+="Keine Fahrräder<br/>"),"no"==e.bicycle&&(t+="Fahrräder erlaubt<br/>"),"yes"==e.hgv&&(t+="LKW erlaubt <br/>"),"no"==e.hgv&&(t+="LKW nicht erlaubt <br/>"),"yes"==e.foot&&(t+="Fussgänger erlaubt <br/>"),"no"==e.foot&&(t+="Fussgänger nicht erlaubt <br/>"),"yes"==e.bicycle&&(t+="Fahrradfahrer erlaubt <br/>"),"no"==e.bicycle&&(t+="Fahrradfahrer nicht erlaubt <br/>"),"yes"==e["ferry:cable"]&&(t+="Seilfähre<br/>")}if(e["seamark:light:1:colour"]){switch(r=e["seamark:light:1:colour"]){case"white":r="Weiß";break;case"red":r="Rot";break;case"green":r="Grün";break;case"blue":r="Blau";break;case"yellow":r="Gelb";break;case"amber":r="Bernsteinfarben"}t+="Farbe des Lichts: "+r+"<br/>"}if("lighthouse"==e.man_made&&(e["seamark:light:1:character"]&&(t+="Rhytmus des Lichtes: "+e["seamark:light:1:character"]+"<br/>"),e["seamark:light:1:period"]&&(t+="Periode: "+e["seamark:light:1:period"]+"<br/>"),e["seamark:light:1:height"]&&(t+="Höhe: "+e["seamark:light:1:height"]+" m<br/>"),e["seamark:light:1:range"]&&(t+="Reichweite: "+e["seamark:light:1:range"]+" sm<br/>")),e["seamark:light:colour"]){switch(r=e["seamark:light:colour"]){case"white":r="Weiß";break;case"red":r="Rot";break;case"green":r="Grün";break;case"blue":r="Blau";break;case"yellow":r="Gelb";break;case"amber":r="Bernsteinfarben"}t+="Farbe des Lichts: "+r+"<br/>"}return"lighthouse"==e.man_made&&(e["seamark:light:character"]&&(t+="Rhytmus des Lichtes: "+e["seamark:light:character"]+"<br/>"),e["seamark:light:height"]&&(t+="Höhe: "+e["seamark:light:height"]+" m<br/>"),e["seamark:light:range"]&&(t+="Reichweite: "+e["seamark:light:range"]+" sm<br/>"),e["seamark:light:period"]&&(t+="Periode: "+e["seamark:light:period"]+"<br/>")),t},S=t.fnContentHydrants=function(e){var t="";if("fire_hydrant"==e.emergency){var r=e["fire_hydrant:count"];"undefined"!=r&&null!=r&&""!=r&&(t+="Anzahl: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:diameter"])&&null!=r&&""!=r&&(t+="Rohrdurchmesser: "+r+" mm<br/>"),"undefined"!=(r=e["fire_hydrant:pressure"])&&null!=r&&""!=r&&(t="suction"==r?t+"Druck in bar / Saugleitung: Saugleitung<br/>":t+"Druck in bar / Saugleitung: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:position"])&&null!=r&&""!=r&&("lane"==r?t+="Position: Fahrbahn<br/>":"parking_lot"==r?t+="Position: Parkbucht<br/>":"sidewalk"==r?t+="Position: Bürgersteig<br/>":"green"==r&&(t+="Position: Wiese<br/>")),"undefined"!=(r=e.water_volume)&&null!=r&&""!=r&&(t+="Volumen: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:awwa_class"])&&null!=r&&""!=r?t+="AWWA Klasse: "+r+"<br/>":"undefined"!=(r=e.flow_rate)&&null!=r&&""!=r&&(t+="Durchfluss: "+r+"<br/>"),"undefined"!=(r=e.water_source)&&null!=r&&""!=r&&"main"!=r&&(t+="Wasserquelle: "+r+"<br/>"),"undefined"!=(r=e["couplings:type"])&&null!=r&&""!=r&&(t+="Kopplungstyp: "+r+"<br/>"),"undefined"!=(r=e["couplings:diameter"])&&null!=r&&""!=r&&(t+="Kopplungsdurchmesser: "+r+"<br/>"),"dry_barrel"===(r=e["pillar:type"])&&(t+="Typ Überflurhydrant: "+r+"<br/>"),"fire_hydrant"===e["disused:emergency"]&&(t+="Aktuell unbrauchbar."),""==t&&(t="Keine Details vorhanden.")}return t},C=t.fnContentStreetsTraffic=function(e){var t="";if("yes"==e["red_turn:right"]&&(t+="Ampel mit Grünpfeil<br/>"),"no"==e["red_turn:right"]&&(t+="Ampel ohne Grünpfeil<br/>"),e.bridge&&(e.height&&(t+="Höhe über dem Grund: "+e.height+" m<br/>"),e.length&&(t+="Länge der Brücke: "+e.length+" m<br/>"),e.bridge_ref&&(t+="Bauwerksnummer: "+e.bridge_ref+"<br/>"),e.start_date&&(t+="Baujahr: "+e.start_date+"</br>;"),e.maxweight&&(t+="Tragfähigkeit: "+e.maxweight+" t</br>")),e.highway&&"yes"==e.toll&&(t+="Mautpflichtige Straße<br/>"),"yes"==e["toll:hgv"]&&(t+="Mautpflichtige Straße für LKWs<br/>"),e.surface){var r=e.surface;t=t+"Oberfläche: ";switch(r){case"grass":t+="Gras<br/>";break;case"paved":t+="versiegelt<br/>";break;case"asphalt":t+="Asphalt<br/>";break;case"cobblestone":t+="Naturstein unbehauen<br/>";break;case"sett":t+="behauenes Steinpflaster<br/>";break;case"concrete":t+="Beton<br/>";break;case"unpaved":t+="ohne Straßenbelag<br/>";break;case"paving_stones":t+="Pflastersteine<br/>";break;case"compacted":t+="verdichtete Deckschicht aus Natursteinmaterial<br/>";break;case"dirt":t+="unbefestigt<br/>";break;case"fine_gravel":t+="Splitt/Kies<br/>";break;case"grass_paver":t+="Rasengittersteine<br/>";break;case"gravel":t+="Schotter<br/>";break;case"earth":case"ground":t+="naturbelassene Oberfläche<br/>";break;case"metal":t+="Metall<br/>";break;case"mud":t+="Matsch, Morast<br/>";break;case"sand":t+="Sand<br/>";break;case"wood":t+="Holz<br/>";break;case"tartan":t+="Tartan- oder Kunststoffbelag<br/>";break;case"artificial_turf":t+="Kunstrasen<br/>";break;case"clay":t+="Ascheplatz<br/>";break;default:t+="unbekannt<br/>"}}if("grade1"==e.tracktype&&(t+="Wegbeschaffenheit: Befestigter Weg (Asphalt, Beton oder Pflastersteine)<br/>"),"grade2"==e.tracktype&&(t+="Wegbeschaffenheit: Befestigter Weg (Schotter oder andere verdichtete Materialien)<br/>"),"grade3"==e.tracktype&&(t+="Wegbeschaffenheit: Befestigter oder ausgebesserter Weg, der harten und weichen Untergrund enthält (z. B. Feinschotter-, Sand- oder Erdweg)<br/>"),"grade4"==e.tracktype&&(t+="Wegbeschaffenheit: Unbefestigter Weg, hauptsächlich weiche Materialien, Pflanzenwuchs entlang der Spurmitte (z. B. Gras-, Sand- oder Erdweg)<br/>"),"grade5"==e.tracktype&&(t+="Wegbeschaffenheit: Unbefestigter Weg, Oberfläche besteht aus Sand, Erde etc., oft nur Abdruck in Gras, teilweise schwer von umgebendem Gelände unterscheidbar<br/>"),"yes"==e.motorcycle&&(t+="<br/>mit dem Auto befahrbar.<br/>"),"no"==e.motorcycle&&(t+="<br/>keine motorisierten Fahrzeuge zugelassen.<br/>"),"excellent"==e.trail_visibility&&(t+="Wegerkennbarkeit: Gut ausgewiesener Weg<br/>"),"good"==e.trail_visibility&&(t+="Wegerkennbarkeit: Wegmarkierung sichbar, aber manchmal etwas schwer zu finden<br/>"),"intermediate"==e.trail_visibility&&(t+="Wegerkennbarkeit: Weg nicht durchgegend sichbar<br/>"),"bad"==e.trail_visibility&&(t+="Wegerkennbarkeit: Wegspur ist kaum zu erkennen<br/>"),"horrible"==e.trail_visibility&&(t+="Wegerkennbarkeit: Oft kein Weg vorhanden<br/>"),"no"==e.trail_visibility&&(t+="Wegerkennbarkeit: Meistens keine Wegspur zu erkennen<br/>"),"hiking"==e.sac_scale&&(t+="Weg: Weg gut gebahnt. (Schwierigskeitstyp: 1)</br>"),"mountain_hiking"==e.sac_scale&&(t+="Weg: Durchgehend gut ersichtlicher und gut begehbarer Weg (Schwierigskeitstyp: 2)</br>"),"demanding_mountain_hiking"==e.sac_scale&&(t+="Weg: Heikle Stellen können mit Seilen oder Ketten gesichert sein. Leitern sind möglich. Eventuell sind die Hände fürs Gleichgewicht nötig. (Schwierigskeitstyp: 3)</br>"),"alphine_hiking"==e.sac_scale&&(t+="Weg: Wegspur kaum vorhanden. An gewissen Stellen benötigt man die Hände zum weiterkommen (Schwierigskeitstyp: 4)</br>"),"demanding_alphine_hiking"==e.sac_scale&&(t+="Weg: Oft weglos, einzelne einfache Kletterstellen bis II. (Schwierigskeitstyp: 5)</br>"),"difficult_alpine_hiking"==e.sac_scale&&(t+="Weg: Schwieriges Alpinenwandern,Kletterstellen bis II. Schwierigskeitstyp: 6</br>"),e["mtb:name"]&&(t+="Fahrradstrecke :"+e["mtb:name"]+"</br>"),"0"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Keine besondere Schwierigkeiten.</br>Wegbeschaffenheit: fester und griffiger Untergrund.</br>Hindernisse: Keine Hindernisse</br>Gefälle: Leicht bis mäßig</br>Kurven: weit</br>Fahrtechnik: keine besonderes fahrtechnisches Können nötig</br>"),"1"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Der Weg enthält flache Wurzeln und kleinere Steine. Häufig auch vereizelte Wasserrinnen und Erosionsschäden</br>Wegbeschaffenheit: loserer Untergrund möglich, kleine Wurzeln und Steine</br>Hindernisse: kleine Hindernisse, Wasserrinnen, Erosionsschäden</br>Gefälle: bis zu 40%</br>Kurven: eng</br>Fahrtechnik: Fahrtechnische Grundkentnisse nötig. Hindernisse können überrollt werden</br>"),"2"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Der Weg enthält größere Wurzeln und Steine. Häufig auch vereizelte Wasserrinnen und Erosionsschäden</br>Wegbeschaffenheit: Untergrund meist nicht verfestigt, größere Wurzeln und Steine</br>Hindernisse:  flache Absätze und Treppen</br>Gefälle: bis zu 70%</br>Kurven: leichte Spitzkehren</br>Fahrtechnik: Fortgeschrittene Fahrtechnik nötig.</br>"),"3"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Auf dem Weg findet man verblockte Singletrails mit vielen größeren Felsbrocken und/oder Wurzelpassagen</br>Wegbeschaffenheit: verblockt, viele große Wurzeln/Felsen - rutschiger Untergrund, loses Geröll</br>Hindernisse:  hohe Absätze</br>Gefälle: 70% oder mehr</br>Kurven: enge Spitzkehren</br>Fahrtechnik: Sehr gute Bike-Beherrschung nötig.</br>"),"4"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Auf dem Weg sind sehr steile und stark verblockte Singletrails mit großen Felsbrocken und/oder anspruchsvollen Wurzelpassagen, dazwischen häufig loses Geröll und extreme Steilrampen</br>Wegbeschaffenheit: verblockt, viele große Wurzeln/Felsen - rutschiger Untergrund, loses Geröll</br>Hindernisse:  Steilrampen, kaum fahrbare Absätze</br>Gefälle: 70% oder mehr</br>Kurven:  Ösenartige Spitzkehren</br>Fahrtechnik: Perfekte Bike-Beherrschung mit Trial-Techniken nötig.</br>"),"5"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Der weg wird charakterisiert durch blockartiges Gelände mit Gegenanstiegen, Geröllfeldern und Erdrutschen, ösenartigen Spitzkehren, mehreren hohen, direkt aufeinanderfolgenden Absätzen und Hindernissen wie umgefallenen Bäumen</br>Wegbeschaffenheit: verblockt mit Gegenanstiegen / rutschiger Untergrund, loses Geröll / der Weg ist eher ein Wandersteig</br>Hindernisse:  Steilrampen, kaum fahrbare Absätze</br>Gefälle: 70% oder mehr</br>Kurven:  Ösenartige Spitzkehren mit Hindernissen</br>Fahrtechnik: excellente Bike-Beherrschung spezieller Trial-Techniken nötig.</br>"),"6"==e["mtb:scale"]&&(t+="Mountainbikestrecke: Der weg ist hochanspruchsvoll, und selbst für Profis und Trial-Fahrer nicht passierbar</br>Wegbeschaffenheit:  Großteils nur noch kletterbar</br>Hindernisse: Absätze > 2 m, Leitern, Trittstufen, Kletterstellen bei denen man beide Hände braucht.</br>Gefälle: 100% oder mehr</br>Kurven: - </br>Fahrtechnik:  hier reicht auch die beste Fahrtechnik nicht mehr</br>"),"10"==e.maxspeed&&(t+="Vekehrsberühigter Bereich. Hier gilt eine maximale Fahrgeschwindigkeit von 10 Km/h sowie die Regel rechts vor links.</br>"),"30"==e.maxspeed&&(t+="Vekehrsberühigter Bereich. Hier gilt rechts vor links sowie eine maximale Geschwindigkeit von 30 Km/h</br>"),"50"==e.maxspeed&&(t+="Maximal erlaubte Geschwindigkeit von 50 Km/h darf nicht überschritten werden </br>"),"70"==e.maxspeed&&(t+="Maximal erlaubte Geschwindigkeit von 50 Km/h darf nicht überschritten werden </br>"),"80"==e.maxspeed&&(t+="Maximale Geschwindigkeit von 80 Km/h darf nicht überschritten werden.</br>"),"100"==e.maxspeed&&(t+="Maximale Geschwindigkeit von 100 Km/h darf nicht überschritten werden.</br>"),"no"==e.overtaking&&(t+="Überholverbot, Fahrzeuge dürfen nicht überholen !</br>"),"yes"==e.noexit&&(t+="Die Straße endet hier, es handelt sich um eine Sackgasse</br>"),"yes"==e.oneway&&(t+="Es handelt sich hier um eine Einbahnstraße, sie dürfen diese Straße nur in eine Richtung befahren</br>"),"designated"==e.priority_road&&(t+="Es handelt sich hierbei um eine Vorfahrtsstraße, derjenige, der sich auf dieser befindet, hat gegenüber anderen Fahrzeugen die Vorfahrt!</br>"),"end"==e.priority_road&&(t+="Die Vorfahrtsstraße endet hier und die Regelung wird aufgehoben</br>"),"emergency_bay"==e.highway&&(t+="Hier befindet sich eine Bucht die nur in Notfällen zur Benuzung zur Verfügung steht</br>"),"yes"==e.traffic_calming&&(t+="Verkehrsberuhigter Bereich</br>"),"bump"==e.traffic_calming&&(t+="Kurze Bodenwelle</br>"),"chicane"==e.traffic_calming&&(t+="Zu umfahrendenes Hinderniss</br>"),"choker"==e.traffic_calming&&(t+="Fahrbahnverengung, zu umfahrende Hindernisse möglich</br>"),"cushion"==e.traffic_calming&&(t+="Bodenwelle mit Lücken aus mehreren rechteckigen Huckeln</br>"),"hump"==e.traffic_calming&&(t+="vergleichbare Bodenwelle mit etwar einer Länge von 2-4M</br>"),"island"==e.traffic_calming&&(t+="Eine Verkehrsinsel</br>"),"rumble_strip"==e.traffic_calming&&(t+="Holperstreifen</br>"),"table"==e.traffic_calming&&(t+="lange Bodenwellen mit flachen Mittelstück</br>"),"parking"==e.amenity&&("yes"==e.fee&&(t+="kostenpflichtig<br/>"),""!=(r=e["capacity:women"])&&"no"!=r&&null!=r)){var n="unbekannt";"yes"!=r&&(n=r),t+="Frauenparkplätze (Anzahl: "+n+") <br/>"}return e.park_ride&&("bus"==e.park_ride&&(t+="Busanbindung<br/>"),"tram"==e.park_ride&&(t+="Bahnanbindung<br/>"),"unknown"==e.park_ride&&(t+="Verkehrsmittel unbekannt<br/>")),e["railway:position"]&&(t+="Streckenkilometer<br/>Position: "+e["railway:position"]+"<br/>"),e.uic_ref&&(t+="UIC: "+e.uic_ref+"<br/>"),t},x=t.fnContentSports=function(e){var t="";return"9pin"==e.sport&&(t+="Mögliche Sportart: Kegeln<br/>"),"10pin"==e.sport&&(t+="Mögliche Sportart: Bowling<br/>"),"american_football"==e.sport&&(t+="Mögliche Sportart: American Football<br/>"),"aikido"==e.sport&&(t+="Mögliche Sportart: Aikido<br/>"),"archery"==e.sport&&(t+="Mögliche Sportart: Bogenschießen<br/>"),"athletics"==e.sport&&(t+="Mögliche Sportart: Leichtathletik<br/>"),"australian_football"==e.sport&&(t+="Mögliche Sportart: Australian Football<br/>"),"base"==e.sport&&(t+="Mögliche Sportart: Objektspringen<br/>"),"badminton"==e.sport&&(t+="Mögliche Sportart: Badminton<br/>"),"baseball"==e.sport&&(t+="Mögliche Sportart: Baseball<br/>"),"basketball"==e.sport&&(t+="Mögliche Sportart: Basketball<br/>"),"beachvolleyball"==e.sport&&(t+="Mögliche Sportart: Beachvolleyball<br/>"),"bmx"==e.sport&&(t+="Mögliche Sportart: BMX<br/>"),"boules"==e.sport&&(t+="Mögliche Sportart: Boccia<br/>"),"boule"==e.sport&&(t+="Mögliche Sportart: Boccia<br/>"),"bowls"==e.sport&&(t+="Mögliche Sportart: Bowls<br/>"),"boxing"==e.sport&&(t+="Mögliche Sportart: Boxen<br/>"),"canadian_football"==e.sport&&(t+="Mögliche Sportart: Canadian Football<br/>"),"canoe"==e.sport&&(t+="Mögliche Sportart: Paddeln<br/>"),"chess"==e.sport&&(t+="Mögliche Sportart: Schach<br/>"),"cliff_diving"==e.sport&&(t+="Mögliche Sportart: Klippenspringen<br/>"),"climbing"==e.sport&&(t+="Mögliche Sportart: Klettern<br/>"),"climbing_adventure"==e.sport&&(t+="Mögliche Sportart: Klettern<br/>"),"cricket"==e.sport&&(t+="Mögliche Sportart: Cricket<br/>"),"cricket_nets"==e.sport&&(t+="Mögliche Sportart: Cricket Netz<br/>"),"croquet"==e.sport&&(t+="Mögliche Sportart: Croquet<br/>"),"curling"==e.sport&&(t+="Mögliche Sportart: Curling<br/>"),"cycling"==e.sport&&(t+="Mögliche Sportart: Radrennen, Radsport<br/>"),"dog_racing"==e.sport&&(t+="Mögliche Sportart: Hunderennen<br/>"),"darts"!=e.sport&&"dart"!=e.sport||(t+="Darts<br/>"),"fencing"==e.sport&&(t+="Mögliche Sportart: Fechten<br/>"),"equestrian"==e.sport&&(t+="Mögliche Sportart: Reiten<br/>"),"football"==e.sport&&(t+="Mögliche Sportart: American Football<br/>"),"free_flying"==e.sport&&(t+="Mögliche Sportart: Freeflying<br/>"),"gaelic_games"==e.sport&&(t+="Mögliche Sportart: Gaelic games<br/>"),"golf"==e.sport&&(t+="Mögliche Sportart: Golf<br/>"),"gymnastics"==e.sport&&(t+="Mögliche Sportart: Gymnastik<br/>"),"hockey"==e.sport&&(t+="Mögliche Sportart: Hockey<br/>"),"horseshoes"==e.sport&&(t+="Mögliche Sportart: Hufeisenwerfen<br/>"),"horse_racing"==e.sport&&(t+="Mögliche Sportart: Pferderennen<br/>"),"ice_stock"==e.sport&&(t+="Mögliche Sportart: Eisstockschießen<br/>"),"judo"==e.sport&&(t+="Mögliche Sportart: Judo<br/>"),"karting"==e.sport&&(t+="Mögliche Sportart: Kartfahren<br/>"),"kitesurfing"==e.sport&&(t+="Mögliche Sportart: Kitesurfing<br/>"),"korfball"==e.sport&&(t+="Mögliche Sportart: Korfball<br/>"),"motor"==e.sport&&(t+="Mögliche Sportart: Motorsport<br/>"),"multi"==e.sport&&(t+="Mögliche Sportart: Mehrfachsport<br/>"),"obstacle_course"==e.sport&&(t+="Mögliche Sportart: Hindernislauf<br/>"),"orienteering"==e.sport&&(t+="Mögliche Sportart: Orientierungslauf<br/>"),"paddle_tennis"==e.sport&&(t+="Mögliche Sportart: Paddle-Tennis<br/>"),"paragliding"==e.sport&&(t+="Mögliche Sportart: Gleitschirmfliegen<br/>"),"Pelota"==e.sport&&(t+="Mögliche Sportart: Pelota<br/>"),"rasquet"==e.sport&&(t+="Mögliche Sportart: Racquetball<br/>"),"rowing"==e.sport&&(t+="Mögliche Sportart: Rudern<br/>"),"rugby_league"==e.sport&&(t+="Mögliche Sportart: Rugby League<br/>"),"rugby_union"==e.sport&&(t+="Mögliche Sportart: Rugby Union<br/>"),"running"==e.sport&&(t+="Mögliche Sportart: Laufsport<br/>"),"scuba_diving"==e.sport&&(t+="Mögliche Sportart: Sporttauchen<br/>"),"shooting"==e.sport&&(t+="Mögliche Sportart: Sportschießen<br/>"),"skating"==e.sport&&(t+="Mögliche Sportart: Eislaufsport<br/>"),"skateboard"==e.sport&&(t+="Mögliche Sportart: Skateboard<br/>"),"skiing"==e.sport&&(t+="Mögliche Sportart: Skifahren<br/>"),"soccer"==e.sport&&(t+="Mögliche Sportart: Fußball<br/>"),"surfing"==e.sport&&(t+="Mögliche Sportart: Surfen<br/>"),"swimming"==e.sport&&(t+="Mögliche Sportart: Schwimmen<br/>"),"table_tennis"==e.sport&&(t+="Mögliche Sportart: Tischtennis<br/>"),"taekwondo"==e.sport&&(t+="Mögliche Sportart: Taekwondo<br/>"),"team_handball"==e.sport&&(t+="Mögliche Sportart: Handball<br/>"),"tennis"==e.sport&&(t+="Mögliche Sportart: Tennis<br/>"),"toboggan"==e.sport&&(t+="Mögliche Sportart: Rodeln<br/>"),"volleyball"==e.sport&&(t+="Mögliche Sportart: Volleyball<br/>"),"water_ski"==e.sport&&(t+="Mögliche Sportart: Wasserski<br/>"),"weightlifting"==e.sport&&(t+="Mögliche Sportart: Gewichtheben<br/>"),"wrestling"==e.sport&&(t+="Mögliche Sportart: Ringen<br/>"),t};function k(e){var t="",r="",n=e["healthcare:speciality"];return""!=n&&("general"==n&&(r+="Allgemeinmedizin<br/>"),"allergology"==n&&(r+="Allergologie<br/>"),"anaesthetics"==n&&(r+="Anästhesiologie<br/>"),"biochemistry"==n&&(r+="Medizinische und chemische Labordiagnostik<br/>"),"biological_haematology"==n&&(r+="Biologische Hämatologie<br/>"),"biology"==n&&(r+="Medizinische Biologie<br/>"),"cardiology"==n&&(r+="Kardiologie<br/>"),"cardiac_surgery"==n&&(r+="Kardiovaskularchirurgie<br/>"),"child_psychiatry"==n&&(r+="Kinder- u. Jugendpsychatrie<br/>"),"dental_oral_maxillo_facial_surgery"==n&&(r+="Zahn-, Mund-, Kiefer- und Gesichtschirurgie<br/>"),"dermatology"==n&&(r+="Hautkrankheiten<br/>"),"dermatovenereology"==n&&(r+="Haut- und Geschlechtskrankheiten<br/>"),"diagnostic_radiology"==n&&(r+="Diagnostische Radiologie<br/>"),"emergency"==n&&(r+="Unfall- und Notfallmedizin<br/>"),"endocrinology"==n&&(r+="Endokrinologie<br/>"),"gastroenterological_surgery"==n&&(r+="Gastroenterologische Chirurgie<br/>"),"gastroenterology"==n&&(r+="Gastroenterologie<br/>"),"geriatrics"==n&&(r+="Geriatrie<br/>"),"gynaecology"==n&&(r+="Geburtshilfe und Frauenheilkunde<br/>"),"haematology"==n&&(r+="Allgemeine Hämatologie<br/>"),"hepatology"==n&&(r+="Hepatologie<br/>"),"immunology"==n&&(r+="Immunologie<br/>"),"infectious_diseases"==n&&(r+="Ansteckende Krankheiten<br/>"),"intensive"==n&&(r+="Intensivmedizin<br/>"),"internal"==n&&(r+="Allgemeine (innere) Medizin<br/>"),"maxillofacial_surgery"==n&&(r+="Mund-Kiefer-Gesichtschirurgie<br/>"),"nephrology"==n&&(r+="Nierenkrankheiten<br/>"),"neurology"==n&&(r+="Neurologie<br/>"),"neurophysiology"==n&&(r+="Klinische Neurophysiologie<br/>"),"neuropsychiatry"==n&&(r+="Neuropsychiatrie(Neurologie und Psychiatrie)<br/>"),"neurosurgery"==n&&(r+="Neurochirurgie<br/>"),"nuclear"==n&&(r+="Nuklearmedizin<br/>"),"occupational"==n&&(r+="Arbeitsmedizin <br/>"),"oncology"==n&&(r+="Onkologie<br/>"),"ophthalmology"==n&&(r+="Augenheilkunde<br/>"),"orthopaedics"==n&&(r+="Orthopädie<br/>"),"otolaryngology"==n&&(r+="Hals-Nasen-Ohren-Heilkunde<br/>"),"paediatric_surgery"==n&&(r+="Kinderchirurgie<br/>"),"paediatrics"==n&&(r+="Kinderheilkunde<br/>"),"palliative"==n&&(r+="Palliativmedizin<br/>"),"physiatry"==n&&(r+="Physikalischeund Rehabilitative Medizin<br/>"),"plastic_surgery"==n&&(r+="Plastische Chirurgie<br/>"),"proctology"==n&&(r+="Proktologie<br/>"),"psychiatry"==n&&(r+="Psychiatrie<br/>"),"pulmonology"==n&&(r+="Lungen- und Bronchialheilkunde<br/>"),"radiology"==n&&(r+="Radiologie<br/>"),"radiotherapy"==n&&(r+="Strahlentherapie<br/>"),"rheumatology"==n&&(r+="Rheumatologie<br/>"),"stomatology"==n&&(r+="Stomatologie<br/>"),"surgery"==n&&(r+="Chirurgie<br/>"),"surgical_oncology"==n&&(r+="Krebschirurgie<br/>"),"thoracic_surgery"==n&&(r+="Thoraxchirurgie<br/>"),"transplant"==n&&(r+="Transplantationsmedizin<br/>"),"trauma"==n&&(r+="Unfallchirurgie<br/>"),"tropical"==n&&(r+="Tropenmedizin<br/>"),"urology"==n&&(r+="Urologie<br/>"),"vascular_surgery"==n&&(r+="Gefäßchirurgie<br/>"),"venereology"==n&&(r+="Geschlechtskrankheiten<br/>"),"acupuncture"==n&&(r+="Akupunktur<br/>"),"naturopathy"==n&&(r+="Naturheilkunde<br/>"),"chiropractic"==n&&(r+="Chiropraktik <br/>"),"homeopathy"==n&&(r+="Homöopathie<br/>"),"osteopathy"==n&&(r+="Osteopathie<br/>")),""!=e.health_specialty&&("yes"==e["health_specialty:family_medicine"]&&(r+="Allgemeinmedizin<br/>"),"yes"==e["health_specialty:emergency_medicine"]&&(r+="Notfallmedizin<br/>"),"yes"==e["health_specialty:anaesthesiology"]&&(r+="Anästhesie<br/>"),"yes"==e["health_specialty:dermatology"]&&(r+="Dermatologie<br/>"),"yes"==e["health_specialty:ear_nose_throat"]&&(r+="Hals, Nasen, Ohren (HNO)<br/>"),"yes"==e["health_specialty:occupational_medicine"]&&(r+="Arbeitsnmedizin<br/>"),"yes"==e["health_specialty:internal_medicine"]&&(r+="innere Medizin<br/>"),"yes"==e["health_specialty:neurology"]&&(r+="Neurologie<br/>"),"yes"==e["health_specialty:ophthalmology"]&&(r+="Augenheilkunde<br/>"),"yes"==e["health_specialty:palliative_medicine"]&&(r+="Palliativmedizin<br/>"),"yes"==e["health_specialty:psychiatry"]&&(r+="Psychatrie<br/>"),"yes"==e["health_specialty:gynaecology"]&&(r+="Gynäkologie<br/>"),"yes"==e["health_specialty:urology"]&&(r+="Urologie<br/>"),"yes"==e["health_specialty:pain_medicine"]&&(r+="Schmerzmedizin<br/>"),"yes"==e["health_specialty:environmental_medicine"]&&(r+="Umweltmedizin<br/>"),"yes"==e["health_specialty:intensive_care_medicin"]&&(r+="Intensivmedizin<br/>"),"yes"==e["health_specialty:paediatrics"]&&(r+="Kinder- u. Jugendmedizin<br/>"),"yes"==e["health_specialty:physiatry"]&&(r+="Physikalische und Rehabilitative Medizin<br/>"),"yes"==e["health_specialty:radiology"]&&(r+="Radiologie<br/>"),"yes"==e["health_specialty:general"]&&(r+="Allgemeinmedizin<br/>"),"yes"==e["health_specialty:occupational_therapy"]&&(r+="Ergotherapie<br/>"),"yes"==e["health_specialty:pulmonology"]&&(r+="Pneumologie<br/>"),"yes"==e["health_specialty:acupuncture"]&&(r+="Akupunktur<br/>"),"yes"==e["health_specialty:orthopaedics"]&&(r+="Orthopädie<br/>"),"yes"==e["health_specialty:chiropractic"]&&(r+="Chiropraktik<br/>"),"yes"==e["health_specialty:sports_medicine"]&&(r+="Sportmedizin<br/>")),""!=r&&(t=t+'Fachgebiete: <div class="c4g_open_text">'+r+"</div>"),t}function R(e){var t="";if(e["generator:method"]){switch(t+="Erzeugungsart: ",e["generator:method"]){case"combustion":t+="Verbrennung";break;case"thermal":t+="thermische Nutzung (z.B. Solarthermie)";break;case"pumping":t+="durch Pumpen (z.B. die Nutzung von Geothermie)";break;case"photovoltaic":t+="Photovoltaik";break;case"gasification":t+="Vergasung, danach Verbrennung";break;case"anaerobic_digestion":t+="Erzeugung von Biogas durch Vergärung";break;case"pyrolysis":t+="Pyrolyse, Aufspaltung durch hohe Temperaturen";break;case"fission":t+="Kernspaltung";break;case"fusion":t+="Kernfusion";break;default:t+="unbekannt<br/>"}t+="<br/>"}if(e.power_source){switch(t+="Erzeugungsart: ",e.power_source){case"photovoltaic":t+="Photovoltaik";break;default:t+="unbekannt<br/>"}t+="<br/>"}return e["generator:output:electricity"]&&(t+="elekt. Energieerzeugung: "+e["generator:output:electricity"]+"<br/>"),e["generator:output:heat"]&&(t+="therm. Energieerzeugung: "+e["generator:output:heat"]+"<br/>"),e["generator:output:cold"]&&(t+="therm. Energieerzeugung: "+e["generator:output:cold"]+"<br/>"),e["generator:output"]&&(t+="Nennleistung: "+e["generator:output"]+"<br/>"),e["generator:output:hot_air"]&&(t+="Art des Transportmediums: "+e["generator:output:hot_air"]+"<br/>"),e["generator:output:cold_water"]&&(t+="Art des Transportmediums: "+e["generator:output:cold_water"]+"<br/>"),e["generator:output:cold_air"]&&(t+="Art des Transportmediums: "+e["generator:output:cold_air"]+"<br/>"),e["generator:output:compressed_air"]&&(t+="Art des Transportmediums: "+e["generator:output:compressed_air"]+"<br/>"),e["generator:output:steam"]&&(t+="Art des Transportmediums: "+e["generator:output:steam"]+"<br/>"),e["generator:output:vacuum"]&&(t+="Art des Transportmediums: "+e["generator:output:vacuum"]+"<br/>"),e["generator:output:battery_charging"]&&(t+="Art des Transportmediums: "+e["generator:output:battery_charging"]+"<br/>"),"PWR"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-1"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-2"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-3"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-4"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-5"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"BWR-6"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"PHWR"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"GCR"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"FBR"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"RBMK-1000"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"RBMK-1500"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"VVER"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"CANDU"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"CPR-1000"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"EPR"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"tokamak"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"stellarator"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"ICF"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"cold-fusion"==e["generator:type"]&&(t+="Generatortyp: "+e["generator:type"]+"<br/>"),"wind_turbine"==e["generator:method"]&&"horizontal_axis"==e["generator:type"]&&(t+="Generatortyp: Horizontal-Achsen Windenergieanlage<br/>"),"wind_turbine"==e["generator:method"]&&"vertical_turbine"==e["generator:type"]&&(t+="Generatortyp: Vertikalrotor<br/>"),"francis_turbine"==e["generator:type"]&&(t+="Generatortyp: Francis-Turbine<br/>"),"kaplan_turbine"==e["generator:type"]&&(t+="Generatortyp: Kaplan-Turbine<br/>"),"pelton_turbine"==e["generator:type"]&&(t+="Generatortyp: Pelton-Turbine<br/>"),"stream"==e["generator:method"]&&"horizontal_axis"==e["generator:type"]&&(t+="Generatortyp: Gezeitenstromgenerator mit horizontaler Achse<br/>"),"stream"==e["generator:method"]&&"vertical_axis"==e["generator:type"]&&(t+="Generatortyp: Gezeitenstromgenerator mit vertikaler Achse<br/>"),"steam_turbine"==e["generator:type"]&&(t+="Generatortyp: Dampfturbine<br/>"),"heat_pump"==e["generator:type"]&&(t+="Generatortyp: Wärmepumpe<br/>"),"solar_thermal_collector"==e["generator:type"]&&(t+="Generatortyp: Sonnenkollektor<br/>"),"solar_photovoltaic_panel"==e["generator:type"]&&(t+="Generatortyp: Photovoltaic-System<br/>"),"steam_generator"==e["generator:type"]&&(t+="Generatortyp: Dampfgenerator<br/>"),"gas_turbine"==e["generator:type"]&&(t+="Generatortyp: Gasturbine<br/>"),"combined_cycle"==e["generator:type"]&&(t+="Generatortyp: Dampfgenerator<br/>"),"reciprocating_engine"==e["generator:type"]&&(t+="Generatortyp: Verbrennungsmotor/Blockheizkraftwerk<br/>"),t}function P(e){var t="";return"container"!=e.recycling_type&&"centre"!=e.recycling_type&&"recycling"!=e.amenity||("yes"==e["recycling:glass"]&&(t+="Altglascontainer</br>"),"yes"==e["recycling:shoes"]&&(t+="Schuhentsorgung</br>"),"yes"==e["recycling:cooking_oil"]&&(t+="Speise-Öl-Entsorgung</br>"),"yes"==e["recycling:paper"]&&(t+="Papierentsorgung</br>"),"yes"==e["recycling:engine_oil"]&&(t+="Öl-Entsorgung (Maschinen-, Alt-und Motoröl)</br>"),"yes"==e["recycling:clothes"]&&(t+="Altkleidercontainer</br>"),"yes"==e["recycling:car_batteries"]&&(t+="Auto-Batterien-Entsorgung</br>"),"yes"==e["recycling:cans"]&&(t+="Blechdosenentsorgung</br>"),"yes"==e["recycling:scrap_metal"]&&(t+="Altmetallentsorgung</br>"),"yes"==e["recycling:plastic"]&&(t+="Plastikentsorgung</br>"),"yes"==e["recycling:batterries"]&&(t+="Batterieentsorgung</br>"),"yes"==e["recycling:plastic_bottles"]&&(t+="Plastikflaschenentsorgung</br>"),"yes"==e["recycling:green_waste"]&&(t+="Grünabfälle</br>"),"yes"==e["recycling:hardcore"]&&(t+="Bauschutt und Straßenmaterial Entsorgung</br>")),t}var I=function(e){var t="";return e.width&&(t+="Breite: "+e.width+" m<br/>"),e.height&&(t+="Höhe: "+e.height+" m<br/>"),e.maxwidth&&(t+="Maximalbreite: "+e.maxwidth+" m<br/>"),e.maxheight&&(t+="Maximalhöhe: "+e.maxheight+" m<br/>"),e.maxweight&&(t+="Maximalgewicht: "+e.maxweight+" t<br/>"),e.maxspeed&&(t+="Höchstgeschwindigkeit: "+e.maxspeed+" km/h<br/>"),e.min_age&&(t+="Mindestalter: "+e.min_age+"<br/>"),e.max_age&&(t+="Maximalalter: "+e.max_age+"<br/>"),"yes"==e.nudism&&(t+="Freikörperkultur<br/>"),"yes"==e.ruins&&(t+="Ruine<br/>"),e.ele&&(t+="Höhe über NN: "+e.ele+" m<br/>"),e["xmas:day_date"]&&(t+="Dauer von - bis: "+e["xmas:day_date"]+"<br/>"),e["rotor:diameter"]&&(t+="Rotordurchmesser: "+e["rotor:diameter"]+" m<br/>"),e["xmas:note"]&&(t+="Hinweis: "+e["xmas:note"]+"<br/>"),"port"==e["seamark:beacon_lateral:category"]&&(t+="Backbord<br/>"),"starboard"==e["seamark:beacon_lateral:category"]&&(t+="Steuerbord<br/>"),"yes"==e["service:bicycle:retail"]&&(t+="Fahrradverkauf<br/>"),"yes"==e["service:bicycle:repair"]&&(t+="Fahrradreparatur<br/>"),"yes"==e["service:bicycle:rental"]&&(t+="Fahrradverleih<br/>"),"yes"==e["service:bicycle:pump"]&&(t+="Benutzung einer Luftpumpe möglich<br/>"),"yes"==e["service:bicycle:diy"]&&(t+="Benutzung von Werkzeug möglich<br/>"),"yes"==e["service:bicycle:cleaning"]&&(t+="Fahrräder werden gewaschen<br/>"),"yes"==e["service:bicycle:second_hand"]&&(t+="Verkauf von gebrauchten Fahrrädern<br/>"),"yes"==e["service:bicycle:charging"]&&(t+="Elektro-Fahrräder können geladen werden<br/>"),"yes"==e.cafe&&(t+="Kleine Café-Ecke<br/>"),"yes"==e.breakfast&&(t+="Besonderes Frühstücksangebot<br/>"),"yes"==e.snack&&(t+="Back-Snacks warm oder kalt<br/>"),"yes"==e.indoor_seating&&(t+="Sitzmöglichkeiten im Innenbereich<br/>"),"yes"==e.outdoor_seating&&(t+="Sitzmöglichkeiten im Außenbereich<br/>"),"yes"==e.self_service&&(t+="Selbstbedienungsbäckerei<br/>"),"yes"==e.bakehouse&&(t+="Backstube<br/>"),"yes"==e.pastry_shop&&(t+="Gebäck aus der Konditorei<br/>"),"yes"==e.fair_trade&&(t+="einige Fair-Trade-Produkte im Sortiment<br/>"),"only"==e.fair_trade&&(t+="fast ausschließlich Fair-Trade-Produkte im Sortiment<br/>"),"no"==e.fair_trade&&(t+="keine Fair-Trade-Produkte im Sortiment<br/>"),t},j=function(e){var t="";return"doctors"!=e.amenity&&"physician"!=e.office&&"doctor"!=e.healthcare||(t+=k(e),e.medical_area&&(t+=e.medical_area+"<br/>"),e.type&&(t+=e.type+"<br/>"),e["doctors:de"]&&(t+=e["doctors:de"]+"<br/>"),e["note:de"]&&(t+=e["note:de"]+"<br/>")),"yes"==e.dispensing&&(t+="Apotheke mit Rezepteinlösung<br/>"),"abused"==e["social_facility:for"]&&(t+="Einrichtung für: Menschen die Misshandlung erlitten haben<br/>"),"child"==e["social_facility:for"]&&(t+="Einrichtung für: Kinder<br/>"),"disabled"==e["social_facility:for"]&&(t+="Einrichtung für: Menschen mit körperlicher oder geistiger Behinderung<br/>"),"diseased"==e["social_facility:for"]&&(t+="Einrichtung für: Erkrankte Menschen<br/>"),"drug_addicted"==e["social_facility:for"]&&(t+="Einrichtung für: Drogensüchtige<br/>"),"homeless"==e["social_facility:for"]&&(t+="Einrichtung für: Obdachlose<br/>"),"juvenile"==e["social_facility:for"]&&(t+="Einrichtung für: Jugendliche und Teenager<br/>"),"mental_health"==e["social_facility:for"]&&(t+="Einrichtung für: Menschen mit psychischen Problemen<br/>"),"migrant"==e["social_facility:for"]&&(t+="Einrichtung für: Menschen mit Migrationshintergrund<br/>"),"orphan"==e["social_facility:for"]&&(t+="Einrichtung für: Waisen<br/>"),"senior"==e["social_facility:for"]&&(t+="Einrichtung für: Senioren<br/>"),"underprivileged"==e["social_facility:for"]&&(t+="Einrichtung für: Arme oder benachteiligte Menschen<br/>"),"unemployed"==e["social_facility:for"]&&(t+="Einrichtung für: Arbeitslose<br/>"),"victim"==e["social_facility:for"]&&(t+="Einrichtung für: Opfer eines Verbrechens<br/>"),t};function L(e){var t="";return e["building:color"]&&(t+="Gebäudenfarbe: "+e["building:color"]+"</br>"),e["building:height"]&&(t+="Gebäudenhöhe: "+e["building:height"]+" m</br>"),e["building:level"]&&(t+="Etage: "+e["building:level"]+"</br>"),e["building:part"]&&(t+="Gebäudeteile: "+e["building:part"]+"</br>"),e["roof:color"]&&(t+="Dachfarbe: "+e["roof:colour"]+"</br>"),e["roof:shape"]&&(t+="Dachform: "+e["roof:shape"]+"</br>"),e["roof:height"]&&(t+="Dachhöhe: "+e["roof:height"]+" m</br>"),e["roof:material"]&&(t+="Dachmaterial: "+e["roof:material"]+" </br>"),e["roof:orientation"]&&(t+="Dachausrichtung: "+e["roof:orientation"]+" </br>"),e["roof:direction"]&&(t+="Dachausrichtung: "+e["roof:direction"]+" </br>"),e["building:type"]&&(t+="Gebäudentyp: "+e["building:type"]+"</br>"),t}function A(e){var t="";return"surveillance"==e.man_made&&("indoor"==e.surveillance&&(t+="Innenbereich wird überwacht"),"outdoor"==e.surveillance&&(t+="Außenbereich wird überwacht"),"public"==e.surveillance&&(t+="Öffentliche Überwachung"),"camera"==e["surveillance:type"]&&(t+="Überwachungstyp: Kamera"),"guard"==e["surveillance:type"]&&(t+="Überwachungstyp: Wächter"),"ALPR"==e["surveillance:type"]&&(t+="Überwachungstyp: ALPR"),"town"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Ort"),"parking"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Parkplatz"),"traffic"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Verkehr"),"shop"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Shops"),"bank"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Bank"),"building"==e["surveillance:zone"]&&(t+="Überwachungsbereich: Gebäude")),t}function F(e){var t="";return"wreck"==e.historic&&(e["wreck:date_sunk"]&&(t+="Gesunken am: "+e["wreck:date_sunk"]+"<br/>"),e["wreck:depth"]&&(t+="Tiefe: "+e["wreck:depth"]+"<br/>"),e["wreck:clearance"]&&(t+="Freiraum: "+e["wreck:clearance"]+"<br/>"),e["wreck:date_commissioned"]&&(t+="Anerkannt seit: "+e["wreck:date_commissioned"]+"<br/>"),e["wreck:gross_tonnage"]&&(t+="Gewicht: "+e["wreck:gross_tonnage"]+"<br/>"),e["wreck:length"]&&(t+="Länge: "+e["wreck:length"]+"<br/>"),e["wreck:width"]&&(t+="Breite: "+e["wreck:width"]+"<br/>"),e["wreck:cargo"]&&(t="timber"==e["wreck:cargo"]?t+"Ladung: Holz<br/>":"coal"==e["wreck:cargo"]?t+"Ladung: Kohle<br/>":t+"Ladung: "+e["wreck:cargo"]+"<br/>"),"yes"==e["wreck:visible_at_low_tide"]&&(t+="Sichtbar bei Niedrigwasser: Ja<br/>"),"no"==e["wreck:visible_at_low_tide"]&&(t+="Sichtbar bei Niedrigwasser: Nein<br/>"),"yes"==e["wreck:visible_at_high_tide"]&&(t+="Sichtbar bei Hochwasser: Ja<br/>"),"no"==e["wreck:visible_at_high_tide"]&&(t+="Sichtbar bei Hochwasser: Nein<br/>"),"yes"==e.access&&(t+="Zutritt möglich<br/>"),"no"==e.access&&(t+="Zutritt nicht möglich<br/>"),"permit_required"==e.access&&(t+="Zutritt nur mit Genehmigung<br/>")),t}function M(e){var t="";if(e["monastery:type"])switch(e["monastery:type"]){case"monastery":t+="Typ: Klösterliche Gemeinschaft (monastery)<br/>";break;case"convent":t+="Typ: Bettelmönch Gemeinschaft (convent)<br/>";break;case"canonry":t+="Typ: Kanonikat (canonry)<br/>";break;case"commandry":t+="Typ: Militär geführt (commandry)<br/>";break;case"hermitage":t+="Typ: Einsiedelei (hermitage)<br/>";break;default:t+="Typ: unbekannt<br/>"}if(e["community:gender"]&&("male"==e["community:gender"]&&(t+="Geschlecht: Männergemeinschaft<br/>"),"female"==e["community:gender"]&&(t+="Geschlecht: Frauengemeinschaft<br/>")),e.religious_rank&&("abbey"==e.religious_rank?t+="Religiöser Rang: Abtei<br/>":"abbey"==e.religious_rank&&(t+="Religiöser Rang: Erzabtei<br/>")),"yes"==e.shrine&&(t+="Besonderheit: Heiligengrab / Reliquienschrein<br/>"),"yes"==e.sanctuary&&(t+="Besonderheit: Heiligtum / Altarraum (Sanktuar)<br/>"),e.religion)switch(e.religion){case"animist":t+="Religion: animistisch<br/><br/>";break;case"bahai":t+="Religion: bahai<br/>";break;case"buddhist":t+="Religion: buddhistisch<br/>";break;case"christian":t+="Religion: christlich<br/>";break;case"hindu":t+="Religion: hinduistisch<br/>";break;case"IglesiaNiCristo":t+="Religion: IglesiaNiCristo<br/>";break;case"jain":t+="Religion: jain<br/>";break;case"jewish":t+="Religion: jüdisch<br/>";break;case"multifaith":t+="Religion: pluralistisch<br/>";break;case"muslim":t+="Religion: muslimisch<br/>",type+="Moschee<br/>";break;case"pagan":t+="Religion: heidnisch<br/>";break;case"pastafarian":t+="Religion: pastafarisch<br/>";break;case"scientologist":t+="Religion: scientologisch<br/>";break;case"shinto":t+="Religion: schintoistisch<br/>";break;case"sikh":t+="Religion: sikh<br/>";break;case"spiritualist":t+="Religion: spiritistisch<br/>";break;case"taoist":t+="Religion: taoistisch<br/>";break;case"unitarian":t+="Religion: unitarian<br/>";break;case"yazidi":t+="Religion: yazidi<br/>";break;case"zoroastrian":t+="Religion: zoroastrisch<br/>";break;default:t+="Religion: unbekannt<br/>"}if(e.denomination)switch(e.denomination){case"anglican":t+="Konfession: Anglikanische Gemeinschaft<br/><br/>";break;case"baptist":t+="Konfession: Baptisten<br/>";break;case"catholic":t+="Konfession: Katholische Kirche, ohne genauere Spezifizierung<br/>";break;case"roman_catholic":t+="Konfession: Römisch-Katholische Kirche<br/>";break;case"old_catholic":t+="Konfession: Altkatholische Kirche (Schweiz: Christ-Katholisch)<br/>";break;case"greek_catholic":t+="Konfession: Griechisch-Katholische Kirche, Sammelbezeichnung für die mit Rom unierten Ostkirchen des byzantinischen Ritus<br/>";break;case"evangelical":t+="Konfession: Evangelikalismus ist eine theologische Richtung innerhalb des Protestantismus. Achtung! Nicht verwechseln mit der evangelischen (= protestantischen) Kirche<br/>";break;case"jehovahs_witness":t+="Konfession: Zeugen Jehovas<br/>";break;case"lutheran":t+="Konfession: Lutheraner, evangelisch-lutherisch<br/>";break;case"mennonite":t+="Konfession: Mennoniten<br/>";break;case"messianic_jewish":t+="Konfession: Messianische Juden, stehen theologisch den evangelikalen Christen nahe.<br/>";break;case"methodist":t+="Konfession: Methodist Church (engl. Methodism)<br/>";break;case"mormon":t+="Konfession: Mormonen<br/>";break;case"new_apostolic":t+="Konfession: Neuapostolische Kirche<br/>";break;case"orthodox":t+="Konfession: Orthodox, ohne genauere Spezifizierung<br/>";break;case"greek_orthodox":t+="Konfession: Griechisch-Orthodox<br/>";break;case"coptic_orthodox":t+="Konfession: Koptische Kirche, ist die christliche altorientalische Kirche Ägyptens.<br/>";break;case"pentecostal":t+="Konfession: Pfingstbewegung<br/>";break;case"presbyterian":t+="Konfession: Presbyterianische Kirchen<br/>";break;case"protestant":t+="Konfession: Evangelische Kirchen<br/>";break;case"quaker":t+="Konfession: Quäker<br/>";break;case"reformed":t+="Konfession: Evangelisch-reformierte<br/>";break;case"russian_orthodox":t+="Konfession: Russisch-Orthodox<br/>";break;case"seventh_day_adventist":t+="Konfession: Siebenten-Tags-Adventisten<br/>";break;case"christian_community":t+="Konfession: Die Christengemeinschaft ist eine christliche Kirche, die sich als selbständige Kultusgemeinschaft versteht.<br/>";break;case"adventist":t+="Konfession: Adventisten, nicht alle Adventisten sind Siebenten-Tags-Adventisten.<br/>";break;case"alliance":t+="Konfession: Christian and Missionary Alliance (C&MA) is an evangelical Protestant denomination within Christianity.<br/>";break;case"assemblies_of_god":t+="Konfession: Assemblies of God, ist eine pfingstlerische Denomination.<br/>";break;case"apostolic":t+="Konfession: Apostolische Kirche<br/>";break;case"armenian_apostolic":t+="Konfession: Armenische Apostolische Kirche, ist eine altorientalische Kirche.<br/>";break;case"assyrian":t+="Konfession: Assyrische Kirche des Ostens, auch Apostolische Kirche des Ostens, ist eine autokephale und völlig eigenständige Ostkirche syrischer Tradition in Nachfolge des altchristlichen Katholikats von Seleukia-Ktesiphon.<br/>";break;case"christ_scientist":t+="Konfession: Christian Science (deutsch: Christliche Wissenschaft) ging aus der Neugeist-Bewegung hervor.<br/>";break;case"church_of_scotland":t+="Konfession: Church of Scotland (dt. Kirche Schottlands) ist die Nationalkirche in Schottland. Im Sprachgebrauch auch „the Kirk“ genannt.<br/>";break;case"czechoslovak_hussite":t+="Konfession: Tschechoslowakische Hussitische Kirche, ist eine christliche Kirche, die durch Abspaltung von der Römisch-Katholischen Kirche entstanden ist. Oft auch Neuhussitische Kirche genannt, vornehmlich in Tschechien verbreitet, aber auch in der Slowakei<br/>";break;case"dutch_reformed":t+="Konfession: Niederländisch-reformierte Kirche, (einschließlich NGK und ähnliche Kirchen in Südafrika)<br/>";break;case"exclusive_brethren":t+="Konfession: Exclusive Brethren<br/>";break;case"foursquare":t+="Konfession: International Church of the Foursquare Gospel<br/>";break;case"kimbanguist":t+="Konfession: Kimbanguistenkirche, ist eine afrikanische, unabhängige, christliche Kirche.<br/>";break;case"living_waters_church":t+="Konfession: Living Waters Christian Church<br/>";break;case"mariavite":t+="Konfession: Mariavitismus<br/>";break;case"maronite":t+="Konfession: Syrisch-maronitische Kirche, ist eine mit Rom unierte, christliche Kirche, die den römischen Papst als Oberhaupt anerkennt.<br/>";break;case"moravian":t+="Konfession: Herrnhuter Brüdergemeine, (auch: Unitas Fratrum, Evangelische oder Erneuerte Brüder-Unität, engl. Moravian Church) ist eine aus der böhmischen Reformation herkommende überkonfessionell-christliche Glaubensbewegung.<br/>";break;case"nazarene":t+="Konfession: Kirche des Nazareners, ist eine Freikirche und Heiligungsgemeinde in methodistischer Tradition.<br/>";break;case"nondenominational":t+="Konfession: Nondenominational Christianity<br/>";break;case"old_believers":t+="Konfession: Altorthodoxe, (häufiger Altgläubige) ist eine Sammelbezeichnung für religiöse Strömungen und Gruppen innerhalb der russisch-orthodoxen Tradition.<br/>";break;case"polish_catholic":t+="Konfession: Polnisch-Katholische Kirche<br/>";break;case"salvation_army":t+="Konfession: Heilsarmee, ist eine christliche Freikirche mit ausgeprägter sozialer Tätigkeit.<br/>";break;case"santo_daime":t+="Konfession: Santo Daime, ist einer synkretistischen religiöse Bewegung aus Brasilien.<br/>";break;case"serbian_orthodox":t+="Konfession: Serbisch-Orthodoxe Kirche, bezeichnet die orthodoxe Kirche von Serbien und die ihr nachgeordneten Kirchen.<br/>";break;case"spiritism":t+="Konfession: Spiritismus, oder Spiritualismus die Lehre des Spiritisten Allan Kardec<br/>";break;case"united":t+="Konfession: United Church of Canada, ist die zweitgrößte Kirche in Kanada.<br/>";break;case"united_church_of_christ":t+="Konfession: United Church of Christ, ist eine Kirche in den USA.<br/>";break;case"united_free_church_of_scotland":t+="Konfession: United Free Church of Scotland, ist eine presbyterianische Freikirche in Schottland.<br/>";break;case"united_methodist":t+="Konfession: Evangelisch-methodistische Kirche, (engl. United Methodist Church (UMC)) ist eine christliche Kirche in der wesleyanischen Tradition.<br/>";break;case"united_reformed":t+="Konfession: United Reformed Church, (Vereinigte Reformierte Kirche, URC) ist eine reformierte Kirche in Großbritannien.<br/>";break;case"uniting":t+="Konfession: Uniting Church in Australia (UCA) ist die drittgrößte christliche Denomination in Australien.<br/>";break;case"church_of_sweden":t+="Konfession: Schwedische Kirche, ist die evangelisch-lutherische Kirche und ehemalige Staatskirche Schwedens.<br/>";break;case"mission_covenant_church_of_sweden":t+="Konfession: Schwedische Missionskirche ist eine reformierte Kirche in Schweden.<br/>";break;case"alternative":t+="Konfession: alternative<br/>";break;case"ashkenazi":t+="Konfession: ashkenazi<br/>";break;case"buchari":t+="Konfession: buchari<br/>";break;case"conservative":t+="Konfession: conservative<br/>";break;case"egalitarian":t+="Konfession: egalitarian<br/>";break;case"hasidic":t+="Konfession: hasidic<br/>";break;case"humanistic":t+="Konfession: humanistic<br/>";break;case"kabbalah":t+="Konfession: kabbalah<br/>";break;case"kabbalistic":t+="Konfession: kabbalistic<br/>";break;case"karaite":t+="Konfession: karaite<br/>";break;case"liberal":t+="Konfession: liberal<br/>";break;case"lubavitch":t+="Konfession: lubavitch<br/>";break;case"lubavitch_messianic":t+="Konfession: lubavitch_messianic<br/>";break;case"mizrachi_baghdadi":t+="Konfession: mizrachi_baghdadi<br/>";break;case"mizrachi_chida":t+="Konfession: mizrachi_chida<br/>";break;case"mizrachi_jerusalemite":t+="Konfession: mizrachi_jerusalemite<br/>";break;case"mizrachi_livorno":t+="Konfession: mizrachi_livorno<br/>";break;case"mizrachi_moroccan":t+="Konfession: mizrachi_moroccan<br/>";break;case"modern_orthodox":t+="Konfession: modern_orthodox<br/>";break;case"neo_orthodox":t+="Konfession: neo_orthodox<br/>";break;case"nondenominational":t+="Konfession: nondenominational<br/>";break;case"orthodox":t+="Konfession: orthodox<br/>";break;case"orthodox_ashkenaz":t+="Konfession: orthodox_ashkenaz<br/>";break;case"orthodox_sefard":t+="Konfession: orthodox_sefard<br/>";break;case"progressive":t+="Konfession: progressive<br/>";break;case"reconstructionist":t+="Konfession: reconstructionist<br/>";break;case"reform":t+="Konfession: reform<br/>";break;case"renewal":t+="Konfession: renewal<br/>";break;case"samaritan":t+="Konfession: samaritan<br/>";break;case"sefardi":t+="Konfession: sefardi<br/>";break;case"sefardi_amsterdam":t+="Konfession: sefardi_amsterdam<br/>";break;case"sefardi_london":t+="Konfession: sefardi_london<br/>";break;case"traditional":t+="Konfession: traditional<br/>";break;case"ultra_orthodox":t+="Konfession: ultra_orthodox<br/>";break;case"unaffiliated":t+="Konfession: unaffiliated<br/>";break;case"yemenite":t+="Konfession: yemenite<br/>";break;case"yemenite_baladi":t+="Konfession: yemenite_baladi<br/>";break;case"yemenite_shami":t+="Konfession: yemenite_shami<br/>";break;case"ahmadiya":t+="Konfession: ahmadiya<br/>";break;case"alaouite":t+="Konfession: alaouite<br/>";break;case"druze":t+="Konfession: druze<br/>";break;case"ibadi":t+="Konfession: ibadi<br/>";break;case"ismaili":t+="Konfession: ismaili<br/>";break;case"shia":t+="Konfession: shia<br/>";break;case"sunni":t+="Konfession: sunni<br/>";break;case"nichiren":t+="Konfession: nichiren<br/>";break;case"jodo_shinshu":t+="Konfession: jodo_shinshu<br/>";break;case"jodo_shu":t+="Konfession: jodo_shu<br/>";break;case"vajrayana":t+="Konfession: vajrayana<br/>";break;case"shingon_shu":t+="Konfession: shingon_shu<br/>";break;case"zen":t+="Konfession: zen<br/>";break;case"thai_mahanikaya":t+="Konfession: thai_mahanikaya<br/>";break;case"thai_thammayut":t+="Konfession: thai_thammayut<br/>";break;case"asatru":t+="Konfession: asatru<br/>";break;case"celtic":t+="Konfession: celtic<br/>";break;case"greco-roman":t+="Konfession: greco-roman<br/>";break;case"wicca":t+="Konfession: wicca<br/>";break;case"irani":t+="Konfession: irani<br/>";break;case"parsi":t+="Konfession: parsi<br/>";break;default:t+="unbekannt<br/>"}if(e.community)switch(e.community){case"AA":t+="Ordensgemeinschaft (AA): Augustinians of the Assumption <br/>";break;case"BSCM":t+="Ordensgemeinschaft (BSCM): Adorers of the Sacred Heart of Jesus of Montmartre <br/>";break;case"CBMV":t+="Ordensgemeinschaft (CBMV): Augustiner-Chorfrauen B.M.V.<br/>";break;case"CO":t+="Ordensgemeinschaft (CO): Oratorians<br/>";break;case"CMC":t+="Ordensgemeinschaft (CMC): Congregation of the Mother Co-Redemptrix<br/>";break;case"CRSP":t+="Ordensgemeinschaft (CRSP): Kongregation der Regularkleriker vom hl. Paulus (Barnabiten)<br/>";break;case"CSJ":t+="Ordensgemeinschaft (CSJ): Carmel Saint-Joseph<br/>";break;case"CSSP":t+="Ordensgemeinschaft (CSSP): Congrégation du Saint-Esprit<br/>";break;case"CSSR":t+="Ordensgemeinschaft (CSSR): Congrégation du Très Saint Rédempteur<br/>";break;case"FCJM":t+="Ordensgemeinschaft (FCJM): Franciscan Sisters, Daughters of the Sacred Heart of Jesus and Mary<br/>";break;case"FMGB":t+="Ordensgemeinschaft (FMGB): Suore Francescane Missionarie di Gesù Bambino<br/>";break;case"FMH":t+="Ordensgemeinschaft (FMH): Congregatio Filiarum Mariae Sanctissimae ab Horto<br/>";break;case"FMM":t+="Ordensgemeinschaft (FMM): Franciscaines missionnaires de Marie<br/>";break;case"FSC":t+="Ordensgemeinschaft (FSC): Frères des Écoles chrétiennes<br/>";break;case"MCCI":t+="Ordensgemeinschaft (MCCI): Missionnaires comboniens du Sacré-Cœur<br/>";break;case"MSFS":t+="Ordensgemeinschaft (MSFS): Missionnaires de Saint François de Sales<br/>";break;case"OCart":t+="Ordensgemeinschaft (OCart): Order of the Carthusians<br/>";break;case"OCC":t+="Ordensgemeinschaft (OCC): Ordre de Notre Dame du Mont-Carmel<br/>";break;case"OCD":t+="Ordensgemeinschaft (OCD): Ordre des Carmes déchaux<br/>";break;case"OCSO":t+="Ordensgemeinschaft (OCSO): Zisterzienserorden der strengeren Observanz (Trappisten)<br/>";break;case"OFM":t+="Ordensgemeinschaft (OFM): Ordre des Frères Mineurs (Franziskaner)<br/>";break;case"OFMCap":t+="Ordensgemeinschaft (OFMCap): Ordre des Frères Mineurs Capucins<br/>";break;case"OFMConv":t+="Ordensgemeinschaft (OFMConv): Ordre des Frères Mineurs Conventuels<br/>";break;case"OFS":t+="Ordensgemeinschaft (OFS): Franciscans secular Third Order<br/>";break;case"OMI":t+="Ordensgemeinschaft (OMI): Oblats de Marie<br/>";break;case"OP":t+="Ordensgemeinschaft (OP): Ordre des Frères Prêcheurs<br/>";break;case"OPraem":t+="Ordensgemeinschaft (OPraem): Ordre des chanoines réguliers de Prémontré<br/>";break;case"OSB":t+="Ordensgemeinschaft (OSB): Order of Saint Benedict<br/>";break;case"OSC":t+="Ordensgemeinschaft (OSC): Ordre de Sainte-Claire ou Ordre des Pauvres Dames<br/>";break;case"OSSS":t+="Ordensgemeinschaft (OSSS): Ordre de Sainte-Brigitte<br/>";break;case"OVM":t+="Ordensgemeinschaft (OVM): Order of the Visitation of Holy Mary (Salesianerinnen)<br/>";break;case"PSDP":t+="Ordensgemeinschaft (PSDP): Petites sœurs des pauvres (Kleinen Schwestern der Armen)<br/>";break;case"PFJ":t+="Ordensgemeinschaft (PFJ): Petits Frères de Jésus<br/>";break;case"SDB":t+="Ordensgemeinschaft (SDB): Société de Saint François de Sales<br/>";break;case"SJ":t+="Ordensgemeinschaft (SJ): Compagnie de Jésus<br/>";break;case"SOC":t+="Ordensgemeinschaft (SOC): Order of Cistercians<br/>";break;case"SSCC":t+="Ordensgemeinschaft (SSCC): Congregation of the Sacred Hearts of Jesus and Mary<br/>";break;case"SSF":t+="Ordensgemeinschaft (SSF): Society of St Francis<br/>";break;case"SSJE":t+="Ordensgemeinschaft (SSJE): Society of St John the Evangelist<br/>";break;case"SSpS":t+="Ordensgemeinschaft (SSpS): Steyler Missionsschwestern<br/>";break;case"TOR":t+="Ordensgemeinschaft (TOR): Terzo Ordine Regolare di San Francesco<br/>";break;default:t+="unbekannt<br/>"}return t}},function(e,t,r){
/*!
 * PEP v0.5.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
e.exports=function(){"use strict";var e=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function r(r,n){n=n||Object.create(null);var i=document.createEvent("Event");i.initEvent(r,n.bubbles||!1,n.cancelable||!1);for(var o,a=2;a<e.length;a++)i[o=e[a]]=n[o]||t[a];i.buttons=n.buttons||0;var s=0;return s=void 0!==n.pressure&&i.buttons?n.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=n.pointerId||0,i.width=n.width||1,i.height=n.height||1,i.pressure=s,i.tiltX=n.tiltX||0,i.tiltY=n.tiltY||0,i.twist=n.twist||0,i.tangentialPressure=n.tangentialPressure||0,i.pointerType=n.pointerType||"",i.hwTimestamp=n.hwTimestamp||0,i.isPrimary=n.isPrimary||!1,i.detail=0,i}var n=window.Map&&window.Map.prototype.forEach?Map:i;function i(){this.array=[],this.size=0}i.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach((function(r,n){e.call(t,r,n,this)}),this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!=typeof SVGElementInstance,u={pointermap:new n,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var r=t,n=r.events;n&&(n.forEach((function(e){r[e]&&(this.eventMap[e]=r[e].bind(r))}),this),this.eventSources[e]=r,this.eventSourceList.push(r))},register:function(e){for(var t,r=this.eventSourceList.length,n=0;n<r&&(t=this.eventSourceList[n]);n++)t.register.call(t,e)},unregister:function(e){for(var t,r=this.eventSourceList.length,n=0;n<r&&(t=this.eventSourceList[n]);n++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,r=this.eventMap&&this.eventMap[t];r&&r(e),e._handledByPE=!0}},listen:function(e,t){t.forEach((function(t){this.addEvent(e,t)}),this)},unlisten:function(e,t){t.forEach((function(t){this.removeEvent(e,t)}),this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var n=new r(e,t);return t.preventDefault&&(n.preventDefault=t.preventDefault),n._target=n._target||t.target,n},fireEvent:function(e,t){var r=this.makeEvent(e,t);return this.dispatchEvent(r)},cloneEvent:function(e){for(var t,r=Object.create(null),n=0;n<o.length;n++)r[t=o[n]]=e[t]||a[n],!l||"target"!==t&&"relatedTarget"!==t||r[t]instanceof SVGElementInstance&&(r[t]=r[t].correspondingUseElement);return e.preventDefault&&(r.preventDefault=function(){e.preventDefault()}),r},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,r){for(var n=e.target,i=[];null!=n&&n!==document&&!n.contains(e.relatedTarget);)if(i.push(n),!(n=n.parentNode))return;r&&i.reverse(),i.forEach((function(r){e.target=r,t.call(this,e)}),this)},setCapture:function(e,t,n){this.captureInfo[e]&&this.releaseCapture(e,n),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,n),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new r("gotpointercapture",{bubbles:!0});i.pointerId=e,i._target=t,n||this.asyncDispatchEvent(i)},releaseCapture:function(e,t){var n=this.captureInfo[e];if(n){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new r("lostpointercapture",{bubbles:!0});i.pointerId=e,i._target=n,t||this.asyncDispatchEvent(i)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};u.boundHandler=u.eventHandler.bind(u);var c={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var r=e.querySelector("shadow");r&&(t=r.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],r=this.shadow(e);r;)t.push(r),r=this.olderShadow(r);return t},searchRoot:function(e,t,r){if(e){var n,i,o=e.elementFromPoint(t,r);for(i=this.targetingShadow(o);i;){if(n=i.elementFromPoint(t,r)){var a=this.targetingShadow(n);return this.searchRoot(a,t,r)||n}i=this.olderShadow(i)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,r=e.clientY,n=this.owner(e.target);return n.elementFromPoint(t,r)||(n=document),this.searchRoot(n,t,r)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),d=Array.prototype.slice.call.bind(Array.prototype.slice),f=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(e,t,r,n){this.addCallback=e.bind(n),this.removeCallback=t.bind(n),this.changedCallback=r.bind(n),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function _(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}y.prototype={watchSubtree:function(e){this.observer&&c.canTarget(e)&&this.observer.observe(e,m)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){h(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(d(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=p(e,this.findElements,this);return t.push(f(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var b=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],v="",w=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=u.pointermap,T=[1,4,2,8,16],S=!1;try{S=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var C,x={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,r=this.lastTouches,n=e.clientX,i=e.clientY,o=0,a=r.length;o<a&&(t=r[o]);o++){var s=Math.abs(n-t.x),l=Math.abs(i-t.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(e){var t=u.cloneEvent(e),r=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),r()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,"webkitForce"in e&&(t.pressure=e.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),t},prepareButtonsForMove:function(e,t){var r=E.get(this.POINTER_ID);0!==t.which&&r?e.buttons=r.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),r=this.prepareEvent(e);S||(r.buttons=T[r.button],t&&(r.buttons|=t.buttons),e.buttons=r.buttons),E.set(this.POINTER_ID,e),t&&0!==t.buttons?u.move(r):u.down(r)}},webkitmouseforcechanged:function(e){this.mousemove(e)},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),r=this.prepareEvent(e);if(!S){var n=T[r.button];r.buttons=t?t.buttons&~n:0,e.buttons=r.buttons}E.set(this.POINTER_ID,e),r.buttons&=~T[r.button],0===r.buttons?u.up(r):u.move(r)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,u.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},k=u.captureInfo,R=c.findTarget.bind(c),P=c.allShadows.bind(c),I=u.pointermap,j={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(e){C.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),r=this.touchActionToScrollType(t);"number"==typeof r&&(e._scrollType=r,u.listen(e,this.events),P(e).forEach((function(e){e._scrollType=r,u.listen(e,this.events)}),this))},elementRemoved:function(e){if(I.size>0){var t=this.events;e.addEventListener("touchend",(function(){e._scrollType=void 0,u.unlisten(e,t)}))}else e._scrollType=void 0,u.unlisten(e,this.events);P(e).forEach((function(e){e._scrollType=void 0,u.unlisten(e,this.events)}),this)},elementChanged:function(e,t){var r=e.getAttribute("touch-action"),n=this.touchActionToScrollType(r),i=this.touchActionToScrollType(t);"number"==typeof n&&"number"==typeof i?(e._scrollType=n,P(e).forEach((function(e){e._scrollType=n}),this)):"number"==typeof i?this.elementRemoved(e):"number"==typeof n&&this.elementAdded(e)},scrollTypes:{UP:function(e){return e.includes("pan-y")||e.includes("pan-up")?1:0},DOWN:function(e){return e.includes("pan-y")||e.includes("pan-down")?2:0},LEFT:function(e){return e.includes("pan-x")||e.includes("pan-left")?4:0},RIGHT:function(e){return e.includes("pan-x")||e.includes("pan-right")?8:0}},touchActionToScrollType:function(e){if(e){if("auto"===e)return 15;if("none"===e)return 0;var t=e.split(" "),r=this.scrollTypes;return r.UP(t)|r.DOWN(t)|r.LEFT(t)|r.RIGHT(t)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===I.size||1===I.size&&I.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e&&"touchforcechange"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,r=u.cloneEvent(e),n=r.pointerId=e.identifier+2;if(r.target=k[n]||R(r),r.bubbles=!0,r.cancelable=!0,r.button=0,r.buttons=this.typeToButtons(t.type),r.width=2*(e.radiusX||e.webkitRadiusX||0),r.height=2*(e.radiusY||e.webkitRadiusY||0),r.pressure=void 0!==e.force?e.force:void 0!==e.webkitForce?e.webkitForce:void 0,r.isPrimary=this.isPrimaryTouch(e),e.altitudeAngle){var i=Math.tan(e.altitudeAngle),o=180/Math.PI;r.tiltX=Math.atan(Math.cos(e.azimuthAngle)/i)*o,r.tiltY=Math.atan(Math.sin(e.azimuthAngle)/i)*o}else r.tiltX=0,r.tiltY=0;"stylus"===e.touchType?r.pointerType="pen":r.pointerType=this.POINTER_TYPE,r.altKey=t.altKey,r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.shiftKey=t.shiftKey;var a=this;return r.preventDefault=function(){a.scrolling=!1,a.firstXY=null,t.preventDefault()},r},processTouches:function(e,t){var r=e.changedTouches;this.currentTouchEvent=e;for(var n,i=0;i<r.length;i++)n=r[i],t.call(this,this.touchToPointer(n))},shouldScroll:function(e){if(this.firstXY){var t,r=e.currentTarget._scrollType;if(0===r)t=!1;else if(15===r)t=!0;else{var n=e.changedTouches[0],i=n.clientY-this.firstXY.Y,o=Math.abs(i),a=n.clientX-this.firstXY.X,s=Math.abs(a),l=1&r,u=2&r,c=4&r,h=8&r;c&&h?t=s>o:c?t=s>o&&a>0:h&&(t=s>o&&a<0),t||(l&&u?t=s<o:l?t=s<o&&i>0:u&&(t=s<o&&i<0))}return this.firstXY=null,t}},findTouch:function(e,t){for(var r,n=0,i=e.length;n<i&&(r=e[n]);n++)if(r.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(I.size>=t.length){var r=[];I.forEach((function(e,n){if(1!==n&&!this.findTouch(t,n-2)){var i=e.out;r.push(i)}}),this),r.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){I.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),u.enterOver(e),u.down(e)},touchforcechange:function(e){this.touchmove(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):("touchforcechange"!==e.type&&e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,r=I.get(t.pointerId);if(r){var n=r.out,i=r.outTarget;u.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(u.leaveOut(n),u.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),r.out=t,r.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(u.up(e),u.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){u.cancel(e),u.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){I.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=x.lastTouches,r=e.changedTouches[0];if(this.isPrimaryTouch(r)){var n={x:r.clientX,y:r.clientY};t.push(n);var i=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}.bind(null,t,n);setTimeout(i,2500)}}};C=new y(j.elementAdded,j.elementRemoved,j.elementChanged,j);var L,A,F,M=u.pointermap,N=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,D={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return N&&((t=u.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){M.delete(e)},MSPointerDown:function(e){M.set(e.pointerId,e);var t=this.prepareEvent(e);u.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);u.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);u.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);u.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);u.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=u.makeEvent("lostpointercapture",e);u.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=u.makeEvent("gotpointercapture",e);u.dispatchEvent(t)}};function G(e){if(!u.pointermap.has(e)){var t=new Error("NotFoundError");throw t.name="NotFoundError",t}}function U(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var r=new Error("InvalidStateError");throw r.name="InvalidStateError",r}}function z(e){return 0!==u.pointermap.get(e).buttons}return window.navigator.msPointerEnabled?(L=function(e){G(e),U(this),z(e)&&(u.setCapture(e,this,!0),this.msSetPointerCapture(e))},A=function(e){G(e),u.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(L=function(e){G(e),U(this),z(e)&&u.setCapture(e,this)},A=function(e){G(e),u.releaseCapture(e)}),F=function(e){return!!u.captureInfo[e]},function(){if(w){b.forEach((function(e){v+=e.selector+_(e.value)+"\n",O&&(v+=function(e){return"body /shadow-deep/ "+e}(e.selector)+_(e.value)+"\n")}));var e=document.createElement("style");e.textContent=v,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=r,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),u.registerSource("ms",D)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",x),void 0!==window.ontouchstart&&u.registerSource("touch",j);u.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:L},releasePointerCapture:{value:A},hasPointerCapture:{value:F}}),{dispatcher:u,Installer:y,PointerEvent:r,PointerMap:n,targetFinding:c}}()},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */Object.defineProperty(t,"__esModule",{value:!0});t.routingConstants={ROUTER_INPUT_WRAPPER:"c4g-router-input-wrapper",ROUTER_PROFILE_WRAPPER:"c4g-router-profile-wrapper",ROUTER_INPUT_FROM:"c4g-router-input-from",ROUTER_INPUT_TO:"c4g-router-input-to",ROUTER_INPUT_OVER:"c4g-router-input-over",ROUTER_INPUT_CLEAR:"c4g-router-input-clear",ROUTER_BUTTONBAR:"c4g-router-buttonbar",ROUTER_ATTRIBUTION_WRAPPER:"c4g-router-attribution-wrapper",ROUTER_INSTRUCTIONS_WRAPPER:"c4g-router-instructions-wrapper",ROUTER_INSTRUCTIONS_HEADER:"c4g-router-instructions-header",ROUTER_SWITCH:"c4g-router-switch",ROUTER_OVER:"c4g-router-over",ROUTER_PRINT:"c4g-router-print",ROUTER_PROFILE_CAR:"c4g-router-profile-car",ROUTER_PROFILE_TRUCK:"c4g-router-profile-hgv",ROUTER_PROFILE_BIKE:"c4g-router-profile-bike",ROUTER_PROFILE_FOOT:"c4g-router-profile-foot",ROUTER_PROFILE_WHEELCHAIR:"c4g-router-profile-wheelchair",ROUTER_PROFILE_SCOOTER:"c4g-router-profile-scooter",ROUTER_INSTRUCTIONS_TABLE:"c4g-router-instruction-table",ROUTER_INSTRUCTIONS_ITEM:"c4g-router-instruction-item",ROUTER_INSTRUCTIONS_ITEM_ODD:"c4g-router-instruction-item--odd",ROUTER_INSTRUCTIONS_ITEM_EVEN:"c4g-router-instruction-item--even",ROUTER_INSTRUCTIONS_ITEM_DIRECTION:"c4g-router-instruction-item_direction",ROUTER_INSTRUCTIONS_ITEM_DIRECTION_ICON:"c4g-router-instruction-item_direction-icon",ROUTER_INSTRUCTIONS_ITEM_DIRECTION_TEXT:"c4g-router-instruction-item_text",ROUTER_INSTRUCTIONS_ITEM_DIRECTION_DISTANCE:"c4g-router-instruction-item_distance",ROUTE_LAYER_VALUES:"c4g-routing-layer-values",ROUTE_LAYERS_SELECT:"c4g-routing-layers-select",ROUTE_TOGGLE:"c4g-routing-toggle",OUTPUT_DETOUR:"c4g-routing-output",ROUTE_START_BUTTON:"c4g-route-search-start",ROUTER_SEARCH:"c4g-router-search",ROUTE_POSITION:"c4g-router-position",ROUTE_ERROR:"c4g-routing-error",NONE:""}},function(e,t,r){"use strict";e.exports=r(302)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHumanDistance=
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package   	con4gis
 * @version        6
 * @author  	    con4gis contributors (see "authors.txt")
 * @license 	    LGPL-3.0-or-later
 * @copyright 	Küstenschmiede GmbH Software & Design
 * @link              https://www.con4gis.org
 *
 */
function(e){var t,r;t=parseInt(e,10),r=(t/=1e3)>=100?t.toFixed(0)+" km":t>=10?t.toFixed(1)+" km":t>=.1?t.toFixed(2)+" km":(1e3*t).toFixed(0)+" m";return r},t.toHumanTime=function(e){var t,r,n,i;t=parseInt(e,10),r=parseInt(t/60,10),t%=60,n=parseInt(r/60,10),r%=60,i=0===n&&0===r?t+" s":0===n?r+" min":n+" h "+r+" min";return i}},function(e,t,r){"use strict";r.r(t);var n,i=r(169),o=r(59),a=r(99),s=r(46),l=r(38),u=r(51),c=r(12),h=r(41),p=r(17),d=r(3),f=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),g="accuracy",m="accuracyGeometry",y="altitude",_="altitudeAccuracy",b="heading",v="position",w="projection",O="speed",E="tracking",T="trackingOptions",S=function(e){function t(t){var r=e.call(this,c.a.ERROR)||this;return r.code=t.code,r.message=t.message,r}return f(t,e),t}(u.a),C=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.position_=null,r.transform_=d.identityTransform,r.watchId_=void 0,r.addEventListener(Object(l.b)(w),r.handleProjectionChanged_),r.addEventListener(Object(l.b)(E),r.handleTrackingChanged_),void 0!==n.projection&&r.setProjection(n.projection),void 0!==n.trackingOptions&&r.setTrackingOptions(n.trackingOptions),r.setTracking(void 0!==n.tracking&&n.tracking),r}return f(t,e),t.prototype.disposeInternal=function(){this.setTracking(!1),e.prototype.disposeInternal.call(this)},t.prototype.handleProjectionChanged_=function(){var e=this.getProjection();e&&(this.transform_=Object(d.getTransformFromProjections)(Object(d.get)("EPSG:4326"),e),this.position_&&this.set(v,this.transform_(this.position_)))},t.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},t.prototype.positionChange_=function(e){var t=e.coords;this.set(g,t.accuracy),this.set(y,null===t.altitude?void 0:t.altitude),this.set(_,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(b,null===t.heading?void 0:Object(p.i)(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];var r=this.transform_(this.position_);this.set(v,r),this.set(O,null===t.speed?void 0:t.speed);var n=Object(h.a)(this.position_,t.accuracy);n.applyTransform(this.transform_),this.set(m,n),this.changed()},t.prototype.positionError_=function(e){this.setTracking(!1),this.dispatchEvent(new S(e))},t.prototype.getAccuracy=function(){return this.get(g)},t.prototype.getAccuracyGeometry=function(){return this.get(m)||null},t.prototype.getAltitude=function(){return this.get(y)},t.prototype.getAltitudeAccuracy=function(){return this.get(_)},t.prototype.getHeading=function(){return this.get(b)},t.prototype.getPosition=function(){return this.get(v)},t.prototype.getProjection=function(){return this.get(w)},t.prototype.getSpeed=function(){return this.get(O)},t.prototype.getTracking=function(){return this.get(E)},t.prototype.getTrackingOptions=function(){return this.get(T)},t.prototype.setProjection=function(e){this.set(w,Object(d.get)(e))},t.prototype.setTracking=function(e){this.set(E,e)},t.prototype.setTrackingOptions=function(e){this.set(T,e)},t}(l.a),x=r(107),k=r(8),R=r(33),P=r(152),I=r(95),j=r(98),L=r(47),A=r(106),F=r(0),M=r(67),N=r(237);function D(e,t,r){for(var n,i,o,a,s,l,u=[],c=e(0),h=e(1),d=t(c),f=t(h),g=[h,c],m=[f,d],y=[1,0],_={},b=1e5;--b>0&&y.length>0;)o=y.pop(),c=g.pop(),d=m.pop(),(l=o.toString())in _||(u.push(d[0],d[1]),_[l]=!0),a=y.pop(),h=g.pop(),f=m.pop(),i=t(n=e(s=(o+a)/2)),Object(p.g)(i[0],i[1],d[0],d[1],f[0],f[1])<r?(u.push(f[0],f[1]),_[l=a.toString()]=!0):(y.push(a,s,s,o),m.push(f,i,i,d),g.push(h,n,n,c));return u}var G=r(20),U=r(45),z=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),B=new j.a({color:"rgba(0,0,0,0.2)"}),V=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],W=function(e){function t(t){var r=this,n=t||{},i=Object(k.a)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},n);return delete i.maxLines,delete i.strokeStyle,delete i.targetSize,delete i.showLabels,delete i.lonLabelFormatter,delete i.latLabelFormatter,delete i.lonLabelPosition,delete i.latLabelPosition,delete i.lonLabelStyle,delete i.latLabelStyle,delete i.intervals,(r=e.call(this,i)||this).projection_=null,r.maxLat_=1/0,r.maxLon_=1/0,r.minLat_=-1/0,r.minLon_=-1/0,r.maxLatP_=1/0,r.maxLonP_=1/0,r.minLatP_=-1/0,r.minLonP_=-1/0,r.targetSize_=void 0!==n.targetSize?n.targetSize:100,r.maxLines_=void 0!==n.maxLines?n.maxLines:100,r.meridians_=[],r.parallels_=[],r.strokeStyle_=void 0!==n.strokeStyle?n.strokeStyle:B,r.fromLonLatTransform_=void 0,r.toLonLatTransform_=void 0,r.projectionCenterLonLat_=null,r.meridiansLabels_=null,r.parallelsLabels_=null,n.showLabels&&(r.lonLabelFormatter_=null==n.lonLabelFormatter?R.d.bind(r,"EW"):n.lonLabelFormatter,r.latLabelFormatter_=null==n.latLabelFormatter?R.d.bind(r,"NS"):n.latLabelFormatter,r.lonLabelPosition_=null==n.lonLabelPosition?0:n.lonLabelPosition,r.latLabelPosition_=null==n.latLabelPosition?1:n.latLabelPosition,r.lonLabelStyleBase_=new M.c({text:void 0!==n.lonLabelStyle?n.lonLabelStyle.clone():new P.a({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new I.a({color:"rgba(0,0,0,1)"}),stroke:new j.a({color:"rgba(255,255,255,1)",width:3})})}),r.lonLabelStyle_=function(e){var t=e.get("graticule_label");return this.lonLabelStyleBase_.getText().setText(t),this.lonLabelStyleBase_}.bind(r),r.latLabelStyleBase_=new M.c({text:void 0!==n.latLabelStyle?n.latLabelStyle.clone():new P.a({font:"12px Calibri,sans-serif",textAlign:"right",fill:new I.a({color:"rgba(0,0,0,1)"}),stroke:new j.a({color:"rgba(255,255,255,1)",width:3})})}),r.latLabelStyle_=function(e){var t=e.get("graticule_label");return this.latLabelStyleBase_.getText().setText(t),this.latLabelStyleBase_}.bind(r),r.meridiansLabels_=[],r.parallelsLabels_=[]),r.intervals_=void 0!==n.intervals?n.intervals:V,r.setSource(new A.a({loader:r.loaderFunction.bind(r),strategy:N.b,features:new o.a,overlaps:!1,useSpatialIndex:!1,wrapX:n.wrapX})),r.featurePool_=[],r.lineStyle_=new M.c({stroke:r.strokeStyle_}),r.renderedExtent_=null,r.setRenderOrder(null),r.tmpExtent_=null,r}return z(t,e),t.prototype.loaderFunction=function(e,t,r){var n=this.getSource(),i=this.getExtent()||[-1/0,-1/0,1/0,1/0],o=Object(F.getIntersection)(i,e,this.tmpExtent_);if(setTimeout((function(){n.removeLoadedExtent(e)}),0),!(this.renderedExtent_&&Object(F.equals)(this.renderedExtent_,o)||(this.renderedExtent_=o,Object(F.isEmpty)(o)))){var a=Object(F.getCenter)(o),l=t*t/4;(!this.projection_||!Object(d.equivalent)(this.projection_,r))&&this.updateProjectionInfo_(r),this.createGraticule_(o,a,t,l);var u,c=this.meridians_.length+this.parallels_.length;for(this.meridiansLabels_&&(c+=this.meridiansLabels_.length),this.parallelsLabels_&&(c+=this.parallelsLabels_.length);c>this.featurePool_.length;)u=new s.a,this.featurePool_.push(u);var h=n.getFeaturesCollection();h.clear();var p,f,g,m=0;for(p=0,f=this.meridians_.length;p<f;++p)(u=this.featurePool_[m++]).setGeometry(this.meridians_[p]),u.setStyle(this.lineStyle_),h.push(u);for(p=0,f=this.parallels_.length;p<f;++p)(u=this.featurePool_[m++]).setGeometry(this.parallels_[p]),u.setStyle(this.lineStyle_),h.push(u);if(this.meridiansLabels_)for(p=0,f=this.meridiansLabels_.length;p<f;++p)g=this.meridiansLabels_[p],(u=this.featurePool_[m++]).setGeometry(g.geom),u.setStyle(this.lonLabelStyle_),u.set("graticule_label",g.text),h.push(u);if(this.parallelsLabels_)for(p=0,f=this.parallelsLabels_.length;p<f;++p)g=this.parallelsLabels_[p],(u=this.featurePool_[m++]).setGeometry(g.geom),u.setStyle(this.latLabelStyle_),u.set("graticule_label",g.text),h.push(u)}},t.prototype.addMeridian_=function(e,t,r,n,i,o){var a=this.getMeridian_(e,t,r,n,o);if(Object(F.intersects)(a.getExtent(),i)){if(this.meridiansLabels_){var s=this.getMeridianPoint_(a,i,o);this.meridiansLabels_[o]={geom:s,text:this.lonLabelFormatter_(e)}}this.meridians_[o++]=a}return o},t.prototype.addParallel_=function(e,t,r,n,i,o){var a=this.getParallel_(e,t,r,n,o);if(Object(F.intersects)(a.getExtent(),i)){if(this.parallelsLabels_){var s=this.getParallelPoint_(a,i,o);this.parallelsLabels_[o]={geom:s,text:this.latLabelFormatter_(e)}}this.parallels_[o++]=a}return o},t.prototype.createGraticule_=function(e,t,r,n){var i=this.getInterval_(r);if(-1==i)return this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(t),c=u[0],h=u[1],f=this.maxLines_,g=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)],m=(g=Object(d.transformExtent)(g,this.projection_,"EPSG:4326"))[3],y=g[2],_=g[1],b=g[0];for(c=Math.floor(c/i)*i,l=Object(p.a)(c,this.minLon_,this.maxLon_),a=this.addMeridian_(l,_,m,n,e,0),o=0;l!=this.minLon_&&o++<f;)l=Math.max(l-i,this.minLon_),a=this.addMeridian_(l,_,m,n,e,a);for(l=Object(p.a)(c,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<f;)l=Math.min(l+i,this.maxLon_),a=this.addMeridian_(l,_,m,n,e,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),h=Math.floor(h/i)*i,s=Object(p.a)(h,this.minLat_,this.maxLat_),a=this.addParallel_(s,b,y,n,e,0),o=0;s!=this.minLat_&&o++<f;)s=Math.max(s-i,this.minLat_),a=this.addParallel_(s,b,y,n,e,a);for(s=Object(p.a)(h,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<f;)s=Math.min(s+i,this.maxLat_),a=this.addParallel_(s,b,y,n,e,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},t.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],r=this.projectionCenterLonLat_[1],n=-1,i=Math.pow(this.targetSize_*e,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(o[0]=t-u,o[1]=r-u,a[0]=t+u,a[1]=r+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=i)break;n=this.intervals_[s]}return n},t.prototype.getMeridian_=function(e,t,r,n,i){var o=function(e,t,r,n,i){var o=Object(d.get)("EPSG:4326");return D((function(n){return[e,t+(r-t)*n]}),Object(d.getTransform)(o,n),i)}(e,t,r,this.projection_,n),a=this.meridians_[i];return a?(a.setFlatCoordinates(G.a.XY,o),a.changed()):(a=new L.a(o,G.a.XY),this.meridians_[i]=a),a},t.prototype.getMeridianPoint_=function(e,t,r){var n,i=e.getFlatCoordinates(),o=Math.max(t[1],i[1]),a=Math.min(t[3],i[i.length-1]),s=Object(p.a)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,o,a),l=[i[0],s];return r in this.meridiansLabels_?(n=this.meridiansLabels_[r].geom).setCoordinates(l):n=new U.a(l),n},t.prototype.getMeridians=function(){return this.meridians_},t.prototype.getParallel_=function(e,t,r,n,i){var o=function(e,t,r,n,i){var o=Object(d.get)("EPSG:4326");return D((function(n){return[t+(r-t)*n,e]}),Object(d.getTransform)(o,n),i)}(e,t,r,this.projection_,n),a=this.parallels_[i];return a?(a.setFlatCoordinates(G.a.XY,o),a.changed()):a=new L.a(o,G.a.XY),a},t.prototype.getParallelPoint_=function(e,t,r){var n,i=e.getFlatCoordinates(),o=Math.max(t[0],i[0]),a=Math.min(t[2],i[i.length-2]),s=[Object(p.a)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,o,a),i[1]];return r in this.parallelsLabels_?(n=this.parallelsLabels_[r].geom).setCoordinates(s):n=new U.a(s),n},t.prototype.getParallels=function(){return this.parallels_},t.prototype.updateProjectionInfo_=function(e){var t=Object(d.get)("EPSG:4326"),r=e.getWorldExtent(),n=Object(d.transformExtent)(r,t,e);this.maxLat_=r[3],this.maxLon_=r[2],this.minLat_=r[1],this.minLon_=r[0],this.maxLatP_=n[3],this.maxLonP_=n[2],this.minLatP_=n[1],this.minLonP_=n[0],this.fromLonLatTransform_=Object(d.getTransform)(t,e),this.toLonLatTransform_=Object(d.getTransform)(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(F.getCenter)(e.getExtent())),this.projection_=e},t}(x.a),K=r(100),H=r(146),Y=r(147),X=r(173),Z=r(206),q=r(4),Q=r(62),$=r(174),J=(r(289),r(89)),ee=r(40),te=r(122),re=r(13),ne=r(114),ie="pointermove",oe="pointerdown",ae=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),se=function(e){function t(t,r){var n=e.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=r?r*J.a:J.a,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Object(re.a)(i,oe,n.handlePointerDown_,n),n.relayedListenerKey_=Object(re.a)(i,ie,n.relayEvent_,n),n}return ae(t,e),t.prototype.emulateClick_=function(e){var t=new te.a(ee.a.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new te.a(ee.a.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new te.a(ee.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e;t.type==ee.a.POINTERUP||t.type==ee.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==ee.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new te.a(ee.a.POINTERUP,this.map_,e);this.dispatchEvent(t),t.propagationStopped||this.dragging_||!this.isMouseActionButton_(e)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(re.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new te.a(ee.a.POINTERDOWN,this.map_,e);this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Object(re.a)(document,ee.a.POINTERMOVE,this.handlePointerMove_,this),Object(re.a)(document,ee.a.POINTERUP,this.handlePointerUp_,this),Object(re.a)(this.element_,ee.a.POINTERCANCEL,this.handlePointerUp_,this))},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new te.a(ee.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}},t.prototype.relayEvent_=function(e){var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new te.a(e.type,this.map_,e,t))},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(re.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(re.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(re.c),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(ne.a),le=r(154),ue="postrender",ce="movestart",he="moveend",pe="layergroup",de="size",fe="target",ge="view",me=r(132),ye=r(137),_e=r(175),be=r(118),ve=r(35);function we(e,t,r){return function(n,i,o,a){if(n){var s=t?0:o[0]*i,l=t?0:o[1]*i,u=e[0]+s/2,c=e[2]-s/2,h=e[1]+l/2,d=e[3]-l/2;u>c&&(c=u=(c+u)/2),h>d&&(d=h=(d+h)/2);var f=Object(p.a)(n[0],u,c),g=Object(p.a)(n[1],h,d),m=30*i;return a&&r&&(f+=-m*Math.log(1+Math.max(0,u-n[0])/m)+m*Math.log(1+Math.max(0,n[0]-c)/m),g+=-m*Math.log(1+Math.max(0,h-n[1])/m)+m*Math.log(1+Math.max(0,n[1]-d)/m)),[f,g]}}}function Oe(e){return e}var Ee=r(10);function Te(e,t,r){var n=Object(F.getWidth)(t)/r[0],i=Object(F.getHeight)(t)/r[1];return Math.min(e,Math.min(n,i))}function Se(e,t,r){var n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,r&&(n=Math.max(n,r),n/=Math.log(1+50*Math.max(0,r/e-1))/50+1),Object(p.a)(n,r/2,2*t)}function Ce(e,t,r,n){return function(i,o,a,s){if(void 0!==i){var l=n?Te(e,n,a):e;return(void 0===r||r)&&s?Se(i,l,t):Object(p.a)(i,t,l)}}}var xe=r(139),ke=r(49),Re="center",Pe="resolution",Ie="rotation",je=r(19),Le=r(87),Ae=r(2),Fe=r(65),Me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ne(e,t){setTimeout((function(){e(t)}),0)}function De(e){return!(e.sourceCenter&&e.targetCenter&&!Object(R.f)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}var Ge=function(e){function t(t){var r=e.call(this)||this,n=Object(k.a)({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Object(d.createProjection)(n.projection,"EPSG:3857"),r.targetCenter_=null,r.targetResolution_,r.targetRotation_,n.center&&(n.center=Object(d.fromUserCoordinate)(n.center,r.projection_)),n.extent&&(n.extent=Object(d.fromUserExtent)(n.extent,r.projection_)),r.applyOptions_(n),r}return Me(t,e),t.prototype.applyOptions_=function(e){var t=function(e){var t,r,n,i=void 0!==e.minZoom?e.minZoom:0,o=void 0!==e.maxZoom?e.maxZoom:28,a=void 0!==e.zoomFactor?e.zoomFactor:2,s=void 0!==e.multiWorld&&e.multiWorld,l=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,u=Object(d.createProjection)(e.projection,"EPSG:3857"),c=u.getExtent(),h=e.constrainOnlyCenter,f=e.extent;s||f||!u.isGlobal()||(h=!1,f=c);if(void 0!==e.resolutions){var g=e.resolutions;r=g[i],n=void 0!==g[o]?g[o]:g[g.length-1],t=e.constrainResolution?function(e,t,r){return function(n,i,o,a){if(void 0!==n){var s=e[0],l=e[e.length-1],u=r?Te(s,r,o):s;if(a)return void 0===t||t?Se(n,u,l):Object(p.a)(n,l,u);var c=Math.min(u,n),h=Math.floor(Object(Ee.h)(e,c,i));return e[h]>u&&h<e.length-1?e[h+1]:e[h]}}}(g,l,!h&&f):Ce(r,n,l,!h&&f)}else{var m=(c?Math.max(Object(F.getWidth)(c),Object(F.getHeight)(c)):360*d.METERS_PER_UNIT[Fe.b.DEGREES]/u.getMetersPerUnit())/be.b/Math.pow(2,0),y=m/Math.pow(2,28);void 0!==(r=e.maxResolution)?i=0:r=m/Math.pow(a,i),void 0===(n=e.minResolution)&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?r/Math.pow(a,o):m/Math.pow(a,o):y),o=i+Math.floor(Math.log(r/n)/Math.log(a)),n=r/Math.pow(a,o-i),t=e.constrainResolution?function(e,t,r,n,i){return function(o,a,s,l){if(void 0!==o){var u=i?Te(t,i,s):t,c=void 0!==r?r:0;if(l)return void 0===n||n?Se(o,u,c):Object(p.a)(o,c,u);var h=Math.ceil(Math.log(t/u)/Math.log(e)-1e-9),d=-a*(.5-1e-9)+.5,f=Math.min(u,o),g=Math.floor(Math.log(t/f)/Math.log(e)+d),m=Math.max(h,g),y=t/Math.pow(e,m);return Object(p.a)(y,c,u)}}}(a,r,n,l,!h&&f):Ce(r,n,l,!h&&f)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:i,zoomFactor:a}}(e);this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.zoomFactor_=t.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=t.minZoom;var r=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return we(e.extent,e.constrainOnlyCenter,t)}var r=Object(d.createProjection)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,we(n,!1,!1)}return Oe}(e),n=t.constraint,i=function(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?Object(xe.b)():!1===t?xe.d:"number"==typeof t?Object(xe.a)(t):xe.d}return xe.c}(e);this.constraints_={center:r,resolution:n,rotation:i},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=e},t.prototype.getUpdatedOptions_=function(e){var t=Object(k.a)({},this.options_);return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object(k.a)({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),r=0;r<t.length;++r){var n=arguments[r];n.center&&((n=Object(k.a)({},n)).center=Object(d.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&((n=Object(k.a)({},n)).anchor=Object(d.fromUserCoordinate)(n.anchor,this.getProjection())),t[r]=n}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(t=arguments[r-1],--r),!this.isDef()){var n=arguments[r-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(t&&Ne(t,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],u=0;u<r;++u){var c=arguments[u],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Le.c,callback:t};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var d=Object(p.d)(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+d,s=h.targetRotation}De(h)?h.complete=!0:i+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(ke.a.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[ke.a.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[ke.a.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(ke.a.ANIMATING,-this.hints_[ke.a.ANIMATING]);for(var e=0,t=this.animations_.length;e<t;++e){var r=this.animations_[e];r[0].callback&&Ne(r[0].callback,!1)}this.animations_.length=0},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,r=this.animations_.length-1;r>=0;--r){for(var n=this.animations_[r],i=!0,o=0,a=n.length;o<a;++o){var s=n[o];if(!s.complete){var l=e-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],d=s.sourceCenter[1],f=h+c*(s.targetCenter[0]-h),g=d+c*(s.targetCenter[1]-d);this.targetCenter_=[f,g]}if(s.sourceResolution&&s.targetResolution){var m=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var y=this.getSizeFromViewport_(this.getRotation()),_=this.constraints_.resolution(m,0,y,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===c?Object(p.d)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var v=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(v,s.anchor)}this.targetRotation_=b}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(i){this.animations_[r]=null,this.setHint(ke.a.ANIMATING,-1);var w=n[0].callback;w&&Ne(w,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var r,n=this.getCenterInternal();return void 0!==n&&(r=[n[0]-t[0],n[1]-t[1]],Object(R.g)(r,e-this.getRotation()),Object(R.a)(r,t)),r},t.prototype.calculateCenterZoom=function(e,t){var r,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(r=[t[0]-e*(t[0]-n[0])/i,t[1]-e*(t[1]-n[1])/i]);return r},t.prototype.getSizeFromViewport_=function(e){var t=[100,100],r='.ol-viewport[data-view="'+Object(q.c)(this)+'"]',n=document.querySelector(r);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}if(e){var o=t[0],a=t[1];t[0]=Math.abs(o*Math.cos(e))+Math.abs(a*Math.sin(e)),t[1]=Math.abs(o*Math.sin(e))+Math.abs(a*Math.cos(e))}return t},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?Object(d.toUserCoordinate)(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(Re)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var t=this.calculateExtentInternal(e);return Object(d.toUserExtent)(t,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getSizeFromViewport_(),r=this.getCenterInternal();Object(je.a)(r,1);var n=this.getResolution();Object(je.a)(void 0!==n,2);var i=this.getRotation();return Object(je.a)(void 0!==i,3),Object(F.getForViewAndSize)(r,n,i,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(Pe)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(Object(d.fromUserExtent)(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var r=t||this.getSizeFromViewport_(),n=Object(F.getWidth)(e)/r[0],i=Object(F.getHeight)(e)/r[1];return Math.max(n,i)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,r=this.maxResolution_,n=this.minResolution_,i=Math.log(r/n)/Math.log(t);return function(e){return r/Math.pow(t,e*i)}},t.prototype.getRotation=function(){return this.get(Ie)},t.prototype.getValueForResolutionFunction=function(e){var t=e||2,r=this.maxResolution_,n=this.minResolution_,i=Math.log(r/n)/Math.log(t);return function(e){return Math.log(r/e)/Math.log(t)/i}},t.prototype.getState=function(){var e=this.getCenterInternal(),t=this.getProjection(),r=this.getResolution(),n=this.getRotation();return{center:e.slice(0),projection:void 0!==t?t:null,resolution:r,rotation:n,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,r,n=this.minZoom_||0;if(this.resolutions_){var i=Object(Ee.h)(this.resolutions_,e,1);n=i,t=this.resolutions_[i],r=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(t/e)/Math.log(r)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(p.a)(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,Object(p.a)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var r,n=Object(k.a)({size:this.getSizeFromViewport_()},t||{});if(Object(je.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(je.a)(!Object(F.isEmpty)(e),25);var i=Object(d.fromUserExtent)(e,this.getProjection());r=Object(h.d)(i)}else if(e.getType()===Ae.a.CIRCLE){i=Object(d.fromUserExtent)(e.getExtent(),this.getProjection());(r=Object(h.d)(i)).rotate(this.getRotation(),Object(F.getCenter)(i))}else{var o=Object(d.getUserProjection)();r=o?r.clone().transform(o,this.getProjection()):e}this.fitInternal(r,n)},t.prototype.fitInternal=function(e,t){var r=t||{},n=r.size;n||(n=this.getSizeFromViewport_());var i,o=void 0!==r.padding?r.padding:[0,0,0,0],a=void 0!==r.nearest&&r.nearest;i=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;for(var s=e.getFlatCoordinates(),l=this.getRotation(),u=Math.cos(-l),c=Math.sin(-l),h=1/0,p=1/0,d=-1/0,f=-1/0,g=e.getStride(),m=0,y=s.length;m<y;m+=g){var _=s[m]*u-s[m+1]*c,b=s[m]*c+s[m+1]*u;h=Math.min(h,_),p=Math.min(p,b),d=Math.max(d,_),f=Math.max(f,b)}var v=this.getResolutionForExtentInternal([h,p,d,f],[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);v=isNaN(v)?i:Math.max(v,i),v=this.getConstrainedResolution(v,a?0:1),c=-c;var w=(h+d)/2,O=(p+f)/2,E=[(w+=(o[1]-o[3])/2*v)*u-(O+=(o[0]-o[2])/2*v)*c,O*u+w*c],T=r.callback?r.callback:ve.c;void 0!==r.duration?this.animateInternal({resolution:v,center:this.getConstrainedCenter(E,v),duration:r.duration,easing:r.easing},T):(this.targetResolution_=v,this.targetCenter_=E,this.applyTargetState_(!1,!0),Ne(T,!0))},t.prototype.centerOn=function(e,t,r){this.centerOnInternal(Object(d.fromUserCoordinate)(e,this.getProjection()),t,r)},t.prototype.centerOnInternal=function(e,t,r){var n=this.getRotation(),i=Math.cos(-n),o=Math.sin(-n),a=e[0]*i-e[1]*o,s=e[1]*i+e[0]*o,l=this.getResolution(),u=(a+=(t[0]/2-r[0])*l)*i-(s+=(r[1]-t[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenterInternal([u,c])},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=Object(d.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var r=t&&Object(d.fromUserCoordinate)(t,this.getProjection());this.adjustResolutionInternal(e,r)},t.prototype.adjustResolutionInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,n,r);void 0!==t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=Object(d.fromUserCoordinate)(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,r);void 0!==t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(Object(d.fromUserCoordinate)(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var r=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,r),i=this.getSizeFromViewport_(n),o=this.constraints_.resolution(this.targetResolution_,0,i,r),a=this.constraints_.center(this.targetCenter_,o,i,r);this.get(Ie)!==n&&this.set(Ie,n),this.get(Pe)!==o&&this.set(Pe,o),this.get(Re)&&Object(R.f)(this.get(Re),a)||this.set(Re,a),this.getAnimating()&&!e&&this.cancelAnimations()},t.prototype.resolveConstraints=function(e,t,r){var n=void 0!==e?e:200,i=t||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===n)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Object(R.f)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:n,easing:Le.b,anchor:r}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ke.a.INTERACTING,1)},t.prototype.endInteraction=function(e,t,r){var n=r&&Object(d.fromUserCoordinate)(r,this.getProjection());this.endInteractionInternal(e,t,n)},t.prototype.endInteractionInternal=function(e,t,r){this.setHint(ke.a.INTERACTING,-1),this.resolveConstraints(e,t,r)},t.prototype.getConstrainedCenter=function(e,t){var r=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)},t.prototype.getConstrainedZoom=function(e,t){var r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))},t.prototype.getConstrainedResolution=function(e,t){var r=t||0,n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(e,r,n)},t}(l.a),Ue=r(32),ze=r(207),Be=r(56),Ve=r(198),We=r(14),Ke=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function He(e,t){e.style.msTouchAction=t,e.style.touchAction=t,e.setAttribute("touch-action",t)}var Ye=function(e){function t(t){var r=e.call(this)||this,n=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,i,a={},s=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new ze.a({layers:e.layers});a[pe]=s,a[fe]=e.target,a[ge]=void 0!==e.view?e.view:new Ge,void 0!==e.controls&&(Array.isArray(e.controls)?r=new o.a(e.controls.slice()):(Object(je.a)("function"==typeof e.controls.getArray,47),r=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new o.a(e.interactions.slice()):(Object(je.a)("function"==typeof e.interactions.getArray,48),n=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?i=new o.a(e.overlays.slice()):(Object(je.a)("function"==typeof e.overlays.getArray,49),i=e.overlays):i=new o.a;return{controls:r,interactions:n,keyboardEventTarget:t,overlays:i,values:a}}(t);r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,r.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:J.a,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=Object(We.c)(),r.pixelToCoordinateTransform_=Object(We.c)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=new se(r,t.moveTolerance);var i=r.handleMapBrowserEvent.bind(r);for(var a in ee.a)r.mapBrowserEventHandler_.addEventListener(ee.a[a],i);r.keyboardEventTarget_=n.keyboardEventTarget,r.keyHandlerKeys_=null,r.focusHandlerKeys_=null;var s=r.handleBrowserEvent.bind(r);return r.viewport_.addEventListener(c.a.CONTEXTMENU,s,!1),r.viewport_.addEventListener(c.a.WHEEL,s,!1),r.controls=n.controls||new o.a,r.interactions=n.interactions||new o.a,r.overlays_=n.overlays,r.overlayIdIndex_={},r.renderer_=null,r.handleResize_,r.postRenderFunctions_=[],r.tileQueue_=new _e.a(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener(Object(l.b)(pe),r.handleLayerGroupChanged_),r.addEventListener(Object(l.b)(ge),r.handleViewChanged_),r.addEventListener(Object(l.b)(de),r.handleSizeChanged_),r.addEventListener(Object(l.b)(fe),r.handleTargetChanged_),r.setProperties(n.values),r.controls.forEach(function(e){e.setMap(this)}.bind(r)),r.controls.addEventListener(Q.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.controls.addEventListener(Q.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.interactions.forEach(function(e){e.setMap(this)}.bind(r)),r.interactions.addEventListener(Q.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.interactions.addEventListener(Q.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener(Q.a.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(r)),r.overlays_.addEventListener(Q.a.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(r)),r}return Ke(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(c.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(c.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(c.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,r){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:ve.b,a=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,a,t,null,o,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var r=[];return this.forEachFeatureAtPixel(e,(function(e){r.push(e)}),t),r},t.prototype.forEachLayerAtPixel=function(e,t,r){if(this.frameState_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||ve.b;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,i,t,o)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:ve.b,i=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,n,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]},t.prototype.getTarget=function(){return this.get(fe)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Object(d.toUserCoordinate)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?Object(We.a)(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(pe)},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer.getSource();if(n&&n.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=Object(d.fromUserCoordinate)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?Object(We.a)(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(de)},t.prototype.getView=function(){return this.get(ge)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getTilePriority=function(e,t,r,n){var i=this.frameState_;if(!(i&&t in i.wantedTiles))return Ve.a;if(!i.wantedTiles[t][e.getKey()])return Ve.a;var o=i.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n},t.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,n=new $.a(r,this,e);this.handleMapBrowserEvent(n)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){for(var t=e.originalEvent.target;t instanceof HTMLElement;){if(t.parentElement===this.overlayContainerStopEvent_)return;t=t.parentElement}e.frameState=this.frameState_;var r=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.getActive())if(!i.handleEvent(e))break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,n=r;if(e){var i=e.viewHints;if(i[ke.a.ANIMATING]||i[ke.a.INTERACTING]){var o=!J.c&&Date.now()-e.time>8;r=o?0:8,n=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,n))}!e||!this.hasListener(me.a.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(me.a.RENDERCOMPLETE,e);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.focusHandlerKeys_){for(var t=0,r=this.focusHandlerKeys_.length;t<r;++t)Object(re.c)(this.focusHandlerKeys_[t]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(t=0,r=this.keyHandlerKeys_.length;t<r;++t)Object(re.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var n=!0;e.hasAttribute("tabindex")&&(n=document.activeElement===e,this.focusHandlerKeys_=[Object(re.a)(e,c.a.FOCUS,He.bind(this,this.viewport_,"none")),Object(re.a)(e,c.a.BLUR,He.bind(this,this.viewport_,"auto"))]),He(this.viewport_,n?"none":"auto");var i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Object(re.a)(i,c.a.KEYDOWN,this.handleBrowserEvent,this),Object(re.a)(i,c.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(c.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object(Ue.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(c.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(re.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(re.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.viewport_.setAttribute("data-view",Object(q.c)(e)),this.viewPropertyListenerKey_=Object(re.a)(e,ye.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(re.a)(e,c.a.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(re.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Object(re.a)(e,ye.a.PROPERTYCHANGE,this.render,this),Object(re.a)(e,c.a.CHANGE,this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this.getSize(),r=this.getView(),n=this.frameState_,i=null;if(void 0!==t&&Object(Be.b)(t)&&r&&r.isDef()){var o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:n?n.declutterItems:[],extent:Object(F.getForViewAndSize)(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n)(!this.previousExtent_||!Object(F.isEmpty)(this.previousExtent_)&&!Object(F.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new le.a(ce,this,n)),this.previousExtent_=Object(F.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!i.viewHints[ke.a.ANIMATING]&&!i.viewHints[ke.a.INTERACTING]&&!Object(F.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new le.a(he,this,i)),Object(F.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new le.a(ue,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},t.prototype.setLayerGroup=function(e){this.set(pe,e)},t.prototype.setSize=function(e){this.set(de,e)},t.prototype.setTarget=function(e){this.set(fe,e)},t.prototype.setView=function(e){this.set(ge,e)},t.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},t}(l.a),Xe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ze=function(e){function t(t){var r=e.call(this)||this;return r.element=t.element?t.element:null,r.target_=null,r.map_=null,r.listenerKeys=[],r.render=t.render?t.render:ve.c,t.target&&r.setTarget(t.target),r}return Xe(t,e),t.prototype.disposeInternal=function(){Object(Ue.e)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(Ue.e)(this.element);for(var t=0,r=this.listenerKeys.length;t<r;++t)Object(re.c)(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,this.map_)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ve.c&&this.listenerKeys.push(Object(re.a)(e,ue,this.render,this)),e.render())},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(l.a),qe=r(69),Qe=r(94),$e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Je(e){this.updateElement_(e.frameState)}var et=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),render:n.render||Je,target:n.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===n.collapsed||n.collapsed,r.overrideCollapsible_=void 0!==n.collapsible,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var l=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=o,u.appendChild(l),u.addEventListener(c.a.CLICK,r.handleClick_.bind(r),!1);var h=i+" "+qe.e+" "+qe.b+(r.collapsed_&&r.collapsible_?" "+qe.a:"")+(r.collapsible_?"":" ol-uncollapsible"),p=r.element;return p.className=h,p.appendChild(r.ulElement_),p.appendChild(u),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return $e(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},r=[],n=e.layerStatesArray,i=0,o=n.length;i<o;++i){var a=n[i];if(Object(Qe.b)(a,e.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var u=l(e);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var c=0,h=u.length;c<h;++c)u[c]in t||(r.push(u[c]),t[u[c]]=!0);else u in t||(r.push(u),t[u]=!0)}}}}return r},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(Ee.b)(t,this.renderedAttributions_)){Object(Ue.d)(this.ulElement_);for(var n=0,i=t.length;n<i;++n){var o=document.createElement("li");o.innerHTML=t[n],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(qe.a),this.collapsed_?Object(Ue.g)(this.collapseLabel_,this.label_):Object(Ue.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t}(Ze),tt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function rt(e){var t=e.frameState;if(t){var r=t.viewState.rotation;if(r!=this.rotation_){var n="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(qe.c);i||0!==r?i&&0!==r&&this.element.classList.remove(qe.c):this.element.classList.add(qe.c)}this.label_.style.transform=n}this.rotation_=r}}var nt=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),render:n.render||rt,target:n.target})||this;var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"⇧";r.label_=null,"string"==typeof o?(r.label_=document.createElement("span"),r.label_.className="ol-compass",r.label_.textContent=o):(r.label_=o,r.label_.classList.add("ol-compass"));var a=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(r.label_),s.addEventListener(c.a.CLICK,r.handleClick_.bind(r),!1);var l=i+" "+qe.e+" "+qe.b,u=r.element;return u.className=l,u.appendChild(s),r.callResetNorth_=n.resetNorth?n.resetNorth:void 0,r.duration_=void 0!==n.duration?n.duration:250,r.autoHide_=void 0===n.autoHide||n.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(qe.c),r}return tt(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:Le.b}):e.setRotation(0))},t}(Ze),it=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),target:n.target})||this;var i=void 0!==n.className?n.className:"ol-zoom",o=void 0!==n.delta?n.delta:1,a=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",l=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i+"-in",h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof a?document.createTextNode(a):a),h.addEventListener(c.a.CLICK,r.handleClick_.bind(r,o),!1);var p=document.createElement("button");p.className=i+"-out",p.setAttribute("type","button"),p.title=u,p.appendChild("string"==typeof s?document.createTextNode(s):s),p.addEventListener(c.a.CLICK,r.handleClick_.bind(r,-o),!1);var d=i+" "+qe.e+" "+qe.b,f=r.element;return f.className=d,f.appendChild(h),f.appendChild(p),r.duration_=void 0!==n.duration?n.duration:250,r}return it(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var r=t.getZoom();if(void 0!==r){var n=t.getConstrainedZoom(r+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:Le.b})):t.setZoom(n)}}},t}(Ze);var at=r(210),st=r(242),lt=r(187),ut=r(246),ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ht(e,t){lt.a.expire()}var pt=function(e){function t(t){var r=e.call(this)||this;return r.map_=t,r.declutterTree_=null,r}return ct(t,e),t.prototype.dispatchRenderEvent=function(e,t){Object(q.b)()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;Object(We.b)(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(We.d)(n,r)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i,o,a,s){var l,u=t.viewState;function c(e,t,r){return i.call(o,t,e?r:null)}var h=u.projection,p=e,d=[[0,0]];if(h.canWrapX()){var f=h.getExtent(),g=Object(F.getWidth)(f),m=e[0];if(m<f[0]||m>f[2])p=[m+g*Math.ceil((f[0]-m)/g),e[1]];n&&d.push([-g,0],[g,0])}var y,_=t.layerStatesArray,b=_.length;this.declutterTree_&&(y=this.declutterTree_.all().map((function(e){return e.value})));for(var v=[],w=0;w<d.length;w++)for(var O=b-1;O>=0;--O){var E=_[O],T=E.layer;if(T.hasRenderer()&&Object(Qe.b)(E,u)&&a.call(s,T)){var S=T.getRenderer(),C=T.getSource();if(S&&C){var x=C.getWrapX()?p:e,k=c.bind(null,E.managed);v[0]=x[0]+d[w][0],v[1]=x[1]+d[w][1],l=S.forEachFeatureAtCoordinate(v,t,r,k,y)}if(l)return l}}},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){return Object(q.b)()},t.prototype.hasFeatureAtCoordinate=function(e,t,r,n,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,n,ve.b,this,i,o)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){this.declutterTree_=Object(ut.a)(e,this.declutterTree_)},t.prototype.scheduleExpireIconCache=function(e){lt.a.canExpireCache()&&e.postRenderFunctions.push(ht)},t}(a.a),dt=r(53),ft=r(24),gt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),mt=function(e){function t(t){var r=e.call(this,t)||this;r.labelCacheKey_=Object(re.a)(ft.o,c.a.CLEAR,t.redrawText.bind(t)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=qe.e+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return gt(t,e),t.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var n=new st.a(e,void 0,t);r.dispatchEvent(n)}},t.prototype.disposeInternal=function(){Object(re.c)(this.labelCacheKey_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(me.a.PRECOMPOSE,t);var r=t.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=t.viewState;this.children_.length=0;for(var i=null,o=0,a=r.length;o<a;++o){var s=r[o];if(t.layerIndex=o,Object(Qe.b)(s,n)&&(s.sourceState==dt.a.READY||s.sourceState==dt.a.UNDEFINED)){var l=s.layer.render(t,i);l&&l!==i&&(this.children_.push(l),i=l)}}e.prototype.renderFrame.call(this,t),Object(Ue.f)(this.element_,this.children_),this.dispatchRenderEvent(me.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){for(var o=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&Object(Qe.b)(l,o)&&i(u)){var c=u.getRenderer().getDataAtPixel(e,t,r);if(c){var h=n(u,c);if(h)return h}}}},t}(pt),yt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_t=function(e){function t(t){return(t=Object(k.a)({},t)).controls||(t.controls=function(e){var t=e||{},r=new o.a;return(void 0===t.zoom||t.zoom)&&r.push(new ot(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&r.push(new nt(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&r.push(new et(t.attributionOptions)),r}()),t.interactions||(t.interactions=Object(at.defaults)()),e.call(this,t)||this}return yt(t,e),t.prototype.createRenderer=function(){return new mt(this)},t}(Ye),bt=r(170),vt="bottom-left",wt="bottom-center",Ot="bottom-right",Et="center-left",Tt="center-center",St="center-right",Ct="top-left",xt="top-center",kt="top-right",Rt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pt="element",It="map",jt="offset",Lt="position",At="positioning",Ft=function(e){function t(t){var r=e.call(this)||this;return r.options=t,r.id=t.id,r.insertFirst=void 0===t.insertFirst||t.insertFirst,r.stopEvent=void 0===t.stopEvent||t.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==t.className?t.className:"ol-overlay-container "+qe.d,r.element.style.position="absolute",r.autoPan=void 0!==t.autoPan&&t.autoPan,r.autoPanAnimation=t.autoPanAnimation||{},r.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,r.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addEventListener(Object(l.b)(Pt),r.handleElementChanged),r.addEventListener(Object(l.b)(It),r.handleMapChanged),r.addEventListener(Object(l.b)(jt),r.handleOffsetChanged),r.addEventListener(Object(l.b)(Lt),r.handlePositionChanged),r.addEventListener(Object(l.b)(At),r.handlePositioningChanged),void 0!==t.element&&r.setElement(t.element),r.setOffset(void 0!==t.offset?t.offset:[0,0]),r.setPositioning(void 0!==t.positioning?t.positioning:Ct),void 0!==t.position&&r.setPosition(t.position),r}return Rt(t,e),t.prototype.getElement=function(){return this.get(Pt)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(It)},t.prototype.getOffset=function(){return this.get(jt)},t.prototype.getPosition=function(){return this.get(Lt)},t.prototype.getPositioning=function(){return this.get(At)},t.prototype.handleElementChanged=function(){Object(Ue.d)(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(Ue.e)(this.element),Object(re.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(re.a)(e,ue,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Lt)&&this.autoPan&&this.panIntoView()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(Pt,e)},t.prototype.setMap=function(e){this.set(It,e)},t.prototype.setOffset=function(e){this.set(jt,e)},t.prototype.setPosition=function(e){this.set(Lt,e)},t.prototype.panIntoView=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),n=this.getRect(r,[Object(Ue.c)(r),Object(Ue.b)(r)]),i=this.autoPanMargin;if(!Object(F.containsExtent)(t,n)){var o=n[0]-t[0],a=t[2]-n[2],s=n[1]-t[1],l=t[3]-n[3],u=[0,0];if(o<0?u[0]=o-i:a<0&&(u[0]=Math.abs(a)+i),s<0?u[1]=s-i:l<0&&(u[1]=Math.abs(l)+i),0!==u[0]||0!==u[1]){var c=e.getView().getCenterInternal(),h=e.getPixelFromCoordinateInternal(c),p=[h[0]+u[0],h[1]+u[1]];e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},t.prototype.getRect=function(e,t){var r=e.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[n,i,n+t[0],i+t[1]]},t.prototype.setPositioning=function(e){this.set(At,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var r=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(r,n)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var r=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=n[0],a=n[1];if(i==Ot||i==St||i==kt){""!==this.rendered.left_&&(this.rendered.left_="",r.left="");var s=Math.round(t[0]-e[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=s,r.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_="",r.right=""),i!=wt&&i!=Tt&&i!=xt||(o-=this.element.offsetWidth/2);var l=Math.round(e[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,r.left=l)}if(i==vt||i==wt||i==Ot){""!==this.rendered.top_&&(this.rendered.top_="",r.top="");var u=Math.round(t[1]-e[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=u,r.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",r.bottom=""),i!=Et&&i!=Tt&&i!=St||(a-=this.element.offsetHeight/2);var c=Math.round(e[1]+a)+"px";this.rendered.top_!=c&&(this.rendered.top_="top",r.top=c)}},t.prototype.getOptions=function(){return this.options},t}(l.a),Mt=r(101),Nt=r(176),Dt=r(143),Gt=r(208),Ut=r(209);r.d(t,"AssertionError",(function(){return i.a})),r.d(t,"Collection",(function(){return o.a})),r.d(t,"Disposable",(function(){return a.a})),r.d(t,"Feature",(function(){return s.a})),r.d(t,"Geolocation",(function(){return C})),r.d(t,"Graticule",(function(){return W})),r.d(t,"Image",(function(){return K.a})),r.d(t,"ImageBase",(function(){return H.a})),r.d(t,"ImageCanvas",(function(){return Y.a})),r.d(t,"ImageTile",(function(){return X.a})),r.d(t,"Kinetic",(function(){return Z.a})),r.d(t,"Map",(function(){return _t})),r.d(t,"MapBrowserEvent",(function(){return $.a})),r.d(t,"MapBrowserEventHandler",(function(){return se})),r.d(t,"MapBrowserPointerEvent",(function(){return te.a})),r.d(t,"MapEvent",(function(){return le.a})),r.d(t,"Object",(function(){return l.a})),r.d(t,"Observable",(function(){return bt.a})),r.d(t,"Overlay",(function(){return Ft})),r.d(t,"PluggableMap",(function(){return Ye})),r.d(t,"Tile",(function(){return Mt.a})),r.d(t,"TileCache",(function(){return Nt.a})),r.d(t,"TileQueue",(function(){return _e.a})),r.d(t,"TileRange",(function(){return Dt.b})),r.d(t,"VectorRenderTile",(function(){return Gt.a})),r.d(t,"VectorTile",(function(){return Ut.a})),r.d(t,"View",(function(){return Ge})),r.d(t,"getUid",(function(){return q.c})),r.d(t,"VERSION",(function(){return q.a}))},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */
function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function i(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function o(e){var t=n(e);return"yes"==t||"Yes"==t?"yes":"no"==t||"No"==t?"no":"limited"==t?"limited":"designated"==t?"designated":"wood"==t?"wood":"metal"==t?"metal":"concrete"==t?"concrete":"plastic"==t?"plastic":"stone"==t?"stone":"steel"==t?"steel":"brick"==t?"brick":"reinforced_concrete"==t?"reinforced_concrete":"masonry"==t?"masonry":e}Object.defineProperty(t,"__esModule",{value:!0}),t.trim=n,t.isMobile=i,t.fnHeader=a,t.fnFooter=s,t.fnGetTranslate_Type=l,t.fnArztInfo=k,t.fnKraftwerkInfo=R,t.fnWertstoffinfo=P,t.fnAdditionalBuildingInfos=L,t.fnSicherheitAdditional=A,t.fnWreckInfo=F,t.fnKlosterAdditional=M;t.fnStandardInfoPopup=function(e,t){var r,n=e.getProperties(),i="";if("function"==typeof t){var o=t.call(e)[0].getImage();if(o)try{r=o.getSrc()}catch(e){r=""}}else{o=t.getImage();try{r=o.getSrc()}catch(e){r=""}}return i+=a(n,r),i+=u(n),'<div class="c4g_popup_text">'+(i+=s(n,e.get("osm_type")+"/"+e.getId()))+"</div>"},t.fnReducedInfoPopup=function(e,t){var r,n=e.getProperties(),i="",o=!1;switch(r="function"==typeof t?t.call(e)[0].getImage().getSrc():t.getImage().getSrc(),"restaurant"!=n.amenity&&"pub"!=n.amenity&&"biergarten"!=n.amenity||(o=!0),"hotel"==n.tourism&&(o=!0),"guest_house"==n.tourism&&(o=!0),"chalet"==n.tourism&&(o=!0),"hostel"==n.tourism&&(o=!0),"alpine_hut"==n.tourism&&(o=!0),"artwork"!=n.tourism&&"artwork"!=n.amenity||(o=!0),"museum"!=n.tourism&&"museum"!=n.amenity||(o=!0),"cinema"==n.amenity&&(o=!0),"theatre"==n.amenity&&(o=!0),"attraction"!=n.amenity&&"fountain"!=n.amenity&&"monument"!=n.historic&&"city_gate"!=n.historic&&"ruins"!=n.historic&&"castle"!=n.historic&&"attraction"!=n.tourism||(o=!0),"playground"==n.leisure&&(o=!0),n.aerialway&&(o=!0),"swimming_pool"!=n.amenity&&"swimming_pool"!=n.leisure&&"swimming"!=n.sport||(o=!0),"station"==n.railway&&(o=!0),"swimming"==n.sport&&(o=!0),"swimming_pool"==n.leisure&&(o=!0),"swimming_pool"==n.amenity&&(o=!0),"waterpark"==n.leisure&&(o=!0),n.water_park&&(o=!0),"sports_centre"==n.leisure&&(o=!0),o){case!1:i+=a(n,r),i+=u(n),i+=s(n,e.get("osm_type")+"/"+e.getId());break;case!0:i+=a(n,r)}return'<div class="c4g_popup_text">'+i+"</div>"};function a(e,t){var r="",n="32px";if(t&&-1!=t.indexOf("icon_mapcil")&&(n="250px",t=t.replace("icon_mapcil","logo_mapcil")),e.name||e["piste:name"]||e["xmas:name"]||e["xmas:location"]){if(e.name)var i=e.name;e["piste:name"]&&(i=e["piste:name"]),e["xmas:name"]&&(i=e["xmas:name"]),e["xmas:location"]&&(i=e["xmas:location"]),r+=t?'<img src="'+t+'" width="'+n+'" name="'+i+'" alt="'+i+'"><div class="c4g_popup_header_featurename">'+i+"</div>":'<name="'+i+'" alt="'+i+'"><div class="c4g_popup_header_featurename">'+i+"</div>"}else t&&(r+='<img src="'+t+'" width="'+n+'" name="'+t+'" alt="'+t+'">');return'<div class="c4g_popup_header">'+(r+=l(e))+"</div>"}function s(e,t){var r="",a=!1;if(e["addr:housename"]&&(r+="housename: "+e["addr:housename"]+"<br/>",a=!0),e["addr:floor"]?(r+="floor: "+e["addr:floor"]+"<br/>",a=!0):e["addr:level"]&&(r+="level: "+e["addr:level"]+"<br/>",a=!0),e["addr:street"]&&(r+=e["addr:street"],r=e["addr:housenumber"]?r+" "+e["addr:housenumber"]+"<br/>":r+"<br/>",a=!0),e["addr:postcode"]&&(r+=e["addr:postcode"]+" "),e["addr:city"]&&(r+=e["addr:city"]+"<br/>",a=!0),e.sqkm)if(e.sqkm=""+e.sqkm,3<e.sqkm.length){for(var s=e.sqkm.length%3,l=0<s?e.sqkm.substring(0,s):"",u=0;u<Math.floor(e.sqkm.length/3);u++)l=0==s&&0==u?l+e.sqkm.substring(s+3*u,s+3*u+3):l+"."+e.sqkm.substring(s+3*u,s+3*u+3);r+="area: "+l+" Km²<br/>"}else r+="area "+e.sqkm+"<br/>";if(e["contact:phone"]&&(r=i()?r+'phone: <a href="tel:'+e["contact:phone"]+'">'+e["contact:phone"]+"</a><br/>":r+'phone: <a href="callto:'+e["contact:phone"]+'">'+e["contact:phone"]+"</a><br/>",a=!0),e.phone&&(r=i()?r+'phone: <a href="tel:'+e.phone+'">'+e.phone+"</a><br/>":r+'phone: <a href="callto:'+e.phone+'">'+e.phone+"</a><br/>",a=!0),e["contact:fax"]?(r+="fax: "+e["contact:fax"]+"<br/>",a=!0):e.fax&&(r+="fax: "+e.fax+"<br/>",a=!0),e["contact:email"]?(r+='email: <a href="mailto:'+e["contact:email"]+'">'+e["contact:email"]+"</a><br/>",a=!0):e.email&&(r+='email: <a href="mailto:'+e.email+'">'+e.email+"</a><br/>",a=!0),a&&(r+="<br/>"),e.opening_hours){for(a=e.opening_hours,s=0;0==s||0<a.indexOf(";");)0<s&&(a=a.replace(";","<br/>")),s++;r+='opening hours: <br/><div class="c4g_open_text">'+a+"</div>",r=0<a.indexOf("PH")?r+"(PH = public holiday)<br/>":r+"<br/>"}if(e["xmas:opening_hours"]){for(a=e["xmas:opening_hours"],s=0;0==s||0<a.indexOf(";");)0<s&&(a=a.replace(";","<br/>")),s++;r+='opening hours: <br/><div class="c4g_open_text">'+a+"</div>",r=0<a.indexOf("PH")?r+"(PH = public holiday)<br/>":r+"<br/>"}return e["xmas:url"]&&(a="",n(a=e["xmas:url"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='website: <a href="'+a+'" target="_blank">website link</a><br/>'),e["contact:website"]?(n(a=e["contact:website"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='website: <a href="'+a+'" target="_blank">website link</a><br/>'):e.website&&(n(a=e.website),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='website: <a href="'+a+'" target="_blank">website link</a><br/>'),e.wikipedia&&(n(a=e.wikipedia),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="https://wikipedia.org/wiki/"+a),r+='Wikipedia: <a href="'+a+'" target="_blank">Wikipedia link</a><br/>'),e.wikimedia_commons&&(n(a=e.wikimedia_commons),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="https://commons.wikimedia.org/wiki/"+a),r+='Wikimedia: <a href="'+a+'" target="_blank">Wikimedia link</a><br/>'),e["contact:webcam"]&&(n(a=e["contact:webcam"]),-1==a.indexOf("https://",0)&&-1==a.indexOf("http://",0)&&(a="http://"+a),r+='webcam: <a href="'+a+'" target="_blank">webcam link</a><br/>'),e.image&&(r+='<img src="'+e.image+'" width="200px" name="'+e.name+'" alt="'+e.name+'"><br/>'),a="",e.internet_access&&(a+="internet access: "+o(e.internet_access)+"<br/>"),e["internet_access:fee"]&&(a+="fee: "+o(e["internet_access:fee"])+"<br/>"),e["wifi_access:operator"]&&(a+="wifi operator: "+e["wifi_access:operator"]+"<br/>"),e["wifi_access:technology"]&&(a+="wifi technology: "+e["wifi_access:technology"]+"<br/>"),e["wifi_access:ssid"]&&(a+="wifi ssid: "+e["wifi_access:ssid"]+"<br/>"),""!=a&&(r+='internet access available<br/><div class="c4g_shop_internet_access">'+a+"</div><br/>"),e.wheelchair&&(r+="wheelchair: "+o(e.wheelchair)+"<br/>"),e["wheelchair:description"]&&(r+="description: "+e["wheelchair:description"]+"<br/>"),e["wheelchair:entrance_width"]&&(r+="entrance width (cm): "+e["wheelchair:entrance_width"]+"<br/>"),e["wheelchair:step_height"]&&(r+="step height (cm): "+e["wheelchair:step_height"]+"<br/>"),e["wheelchair:rooms"]&&(r+="rooms: "+e["wheelchair:rooms"]+"<br/>"),e["wheelchair:places"]&&(r+="places: "+e["wheelchair:places"]+"<br/>"),e["cent:places"]&&(r+="places: "+e["wheelchair:places"]+"<br/>"),e["ramp:wheelchair"]&&(r+="ramp: "+e["ramp:wheelchair"]+"<br/>"),e["capacity:disabled"]&&(r+="capacity parking: "+o(e["capacity:disabled"])+"<br/>"),e["toilets:wheelchair"]&&(r+="toilets: "+o(e["toilets:wheelchair"])+"<br/>"),e.centralkey&&(r+="centralkey: "+e.centralkey+"<br/>"),e.note&&(r+=e.note+"<br/>"),e.description&&(r+=e.description+"<br/>"),e.operator&&(r+="operator: "+e.operator+"<br/>"),e.ref&&(r+="reference: "+e.ref+"<br/>"),"yes"==e.lit&&(r+="This object is illuimanted.<br/>"),e.shop&&(a="",e.brand&&(a+="brand: "+e.brand+"<br/>"),e.sells&&(a+="sells: "+e.sells+"<br/>"),e.origin&&(a+="source market: "+e.origin+"<br/>"),"yes"==e.wholesale&&(a+="distributor: yes<br/>"),""!=a&&(r+='further particulars: <br/><div class="c4g_shop_text">'+a+"</div><br/>")),t&&(n(a=t),r=r+'<br/>OSM:    <a href="http://www.openstreetmap.org/'+(a=a.replace(/\./,"/"))+'" target="_blank">OpenStreetMap link</a><br/>'),'<div class="c4g_popup_footer">'+r+"</div>"}function l(e){var t="";if("doctors"!=e.amenity&&"doctor"!=e.healthcare||(t+="doctor<br/>"),"hospital"!=e.amenity&&"clinic"!=e.amenity&&"hospital"!=e.healthcare&&"clinic"!=e.healthcare||(t="yes"==e.emergency?t+"hospital with emergency facilities<br/>":t+"hospital<br/>"),"dentist"==e.amenity&&(t+="dentist<br/>"),"pharmacy"!=e.amenity&&"pharmacy"!=e["health_facility:type"]||(t+="pharmacy<br/>"),"physiotherapist"!=e.healthcare&&"yes"!=e["health_speciality:physiotherapy"]||(t+="physiotherapist<br/>"),"occupational_therapist"!=e.healthcare&&"yes"!=e["health_speciality:occupational_therapy"]&&"yes"!=e["health_specialty:occupational_therapy"]||(t+="occupational_therapist<br/>"),"psychotherapist"!=e.healthcare&&"yes"!=e["health_speciality:psychotherapy"]||(t+="psychotherapist<br/>"),"alternative"==e.healthcare&&(t+="alternative<br/>"),"midwife"==e.healthcare&&(t+="midwife<br/>"),"speech_therapist"!=e.healthcare&&"yes"!=e["health_speciality:speech_therapy"]||(t+="speech_therapist<br/>"),"yes"==e["health_speciality:music_therapy"]&&(t+="music_therapy<br/>"),"veterinary"==e.amenity&&(t+="veterinary<br/>"),"fire_station"==e.amenity&&(t+="fire station<br/>"),"fire_extinguisher"==e.emergency&&(t+="fire extinguisher<br/>"),"aed"==e.emergency&&(t+="aed<br/>"),"defibrillator"==e.emergency&&(t+="defibrillator<br/>"),"phone"==e.emergency&&(t+="call box<br/>"),"police"==e.amenity&&(t+="police<br/>"),"ambulance_station"==e.emergency&&(t+="ambulance station<br/>"),"technical"==e.emergency_service&&(t+="technical<br/>"),"water"==e.emergency_service&&(t+="water<br/>"),"baywatch"==e.waterway&&(t+="baywatch<br/>"),"air"==e.emergency_service&&(t+="rescue helicopter<br/>"),"emergency_access_point"==e.highway&&(t+="emergency access point<br/>"),"lifeboat_station"!=e.amenity&&"lifeboat_station"!=e.emergency||(t+="lifeboat station<br/>"),"life_ring"==e.emergency&&(t+="life ring<br/>"),"siren"==e.emergency&&(t+="siren<br/>"),"life_ring"==e.amenity&&(t+="life ring<br/>"),"rescue_station"==e.amenity&&(t+="rescue station<br/>"),"fire_hydrant"==e.emergency&&("underground"==e["fire_hydrant:type"]?t+="underground hydrant<br/>":"pillar"==e["fire_hydrant:type"]?t+="pillar hydrant<br/>":"wall"==e["fire_hydrant:type"]?t+="wall hydrant<br/>":"pond"==e["fire_hydrant:type"]&&(t+="suction point<br/>")),"suction_point"==e.emergency&&(t+="suction point<br/>"),"fire_water_pond"==e.emergency&&(t+="fire protection pond<br/>"),"mountain"==e.emergency_service&&(t+="mountain rescue service<br/>"),"water_tank"==e.emergency&&(t+="fire water tank<br/>"),"container"==e.recycling_type&&(t+="Recycling container<br/>"),"recycling"==e.amenity&&"yes"==e["recycling:excrement"]||"pump-out"==e["seamark:small_craft_facility:category"]?t+="suction station<br/>":"recycling"==e.amenity&&(t+=" buyback centre<br/>"),"yes"==e["diet:pescetarian"]?t+="pescetarian available<br/>":"only"==e["diet:pescetarian"]&&(t+="just pescetarian<br/>"),"yes"==e["diet:vegetarian"]?t+="vegetarian vorhanden<br/>":"only"==e["diet:vegetarian"]&&(t+="just vegetarian<br/>"),"yes"==e["diet:lacto_vegetarian"]?t+="lacto_vegetarian available<br/>":"only"==e["diet:lacto_vegetarian"]&&(t+="just lacto vegetarian<br/>"),"yes"==e["diet:ovo_vegetarian"]?t+="ovo vegetarian available<br/>":"only"==e["diet:ovo_vegetarian"]&&(t+="just ovo_vegetarian<br/>"),"yes"==e["diet:vegan"]?t+="vegan available<br/>":"only"==e["diet:vegan"]&&(t+="just vegan<br/>"),"yes"==e["diet:fruitarian"]?t+="fruitarian available<br/>":"only"==e["diet:fruitarian"]&&(t+="hust fruitarian<br/>"),"yes"==e["diet:raw"]?t+="raw availaibe<br/>":"only"==e["diet:raw"]&&(t+="just raw<br/>"),"yes"==e["diet:gluten_free"]?t+="gluten free available<br/>":"only"==e["diet:gluten_free"]&&(t+="just gluten free<br/>"),"yes"==e["diet:dairy_free"]?t+="dairy free available<br/>":"only"==e["diet:dairy_free"]&&(t+="just dairy free<br/>"),"yes"==e["diet:lactose_free"]?t+="lactose free available<br/>":"only"==e["diet:lactose_free"]&&(t+="just lactose free<br/>"),"yes"==e["diet:halal"]?t+="halal available<br/>":"only"==e["diet:halal"]&&(t+="just halal<br/>"),"yes"==e["diet:kosher"]?t+="kosher available<br/>":"only"==e["diet:kosher"]&&(t+="just kosher<br/>"),"pub"==e.amenity&&(t+="pub<br/>"),"bar"==e.amenity&&(t+="bar<br/>"),"yes"==e.frozen_yogurt&&(t+="frozen yogurt<br/>"),"yes"==e.slush_ice&&(t+="slush ice<br/>"),"yes"==e.cake&&(t+="cake<br/>"),"yes"==e.coffee&&(t+="coffee<br/>"),"yes"==e.drinks&&(t+="drinks<br/>"),"biergarten"==e.amenity&&(t+="biergarten<br/>"),"restaurant"==e.amenity&&(t+="restaurant<br/>"),"fast_food"==e.amenity&&(t+="fast food<br/>"),"cafe"!=e.amenity&&"coffee_shop"!=e.amenity||"ice_cream"==e.cuisine||(t+="cafe<br/>"),("cafe"==e.amenity&&"ice_cream"==e.cuisine||"ice_cream"==e.amenity)&&(t+="ice cream<br/>"),"alpine_hut"==e.tourism&&(t+="alpine hut<br/>"),"aquarium"==e.tourism&&(t+="aquarium<br/>"),"apartment"==e.tourism&&(t+="apartment<br/>"),"attraction"==e.tourism&&(t+="attraction<br/>"),"artwork"==e.tourism&&(t+="artwork<br/>"),"camp_site"==e.tourism&&(t+="camp site<br/>"),"caravan_site"==e.tourism&&(t+="caravan site<br/>"),"chalet"==e.tourism&&(t+="chalet<br/>"),"gallery"==e.tourism&&(t+="gallery<br/>"),"guest_house"==e.tourism&&(t+="guest house<br/>"),"hostel"==e.tourism&&(t+="hostel<br/>"),"hotel"==e.tourism&&(t+="hotel<br/>"),"motel"==e.tourism&&(t+="motel<br/>"),"museum"==e.tourism&&(t+="museum<br/>"),"picnic_site"==e.tourism&&(t+="picnic site<br/>"),"theme_park"==e.tourism&&(t+="theme park<br/>"),"viewpoint"==e.tourism&&(t+="viewpoint<br/>"),"wilderness_hut"==e.tourism&&(t+="wilderness_hut<br/>"),"wine_cellar"==e.tourism&&(t+="wine cellar<br/>"),"zoo"==e.tourism&&(t+="zoo<br/>","enclosure"==e.zoo&&(t+="enclosure<br/>"),"petting_zoo"==e.zoo&&(t+="petting zoo<br/>"),"falconry"==e.zoo&&(t+="falconry<br/>")),"trail_riding_station"==e.tourism&&(t+="trail riding station<br/>"),"fishing"==e.club&&(t+="fishing club<br/>"),"sport"==e.club&&"fishing"==e.sport&&(t+="fishing club<br/>"),"amateur_radio"==e.club&&(t+="amateur radio club<br/>"),"art"==e.club&&(t+="art club<br/>"),"astronomy"==e.club&&(t+="astronomy club<br/>"),"automobile"==e.club&&(t+="automobile club<br/>"),"board_games"==e.club&&(t+="board games club<br/>"),"card_games"==e.club&&(t+="card games club<br/>"),"charity"==e.club&&(t+="charity club<br/>"),"chess"==e.club&&(t+="chess club<br/>"),"cinema"==e.club&&(t+="cinema club<br/>"),"cooking"==e.club&&(t+="cooking club<br/>"),"culture"==e.club&&(t+="culture club<br/>"),"doityourself"==e.club&&(t+="doityourself club<br/>"),"equestrian"==e.club&&(t+="equestrian club<br/>"),"ethnic"==e.club&&(t+="ethnic club<br/>"),"fan"==e.club&&(t+="fan club<br/>"),"freemasonry"==e.club&&(t+="freemasonry club<br/>"),"game"==e.club&&(t+="game club<br/>"),"history"==e.club&&(t+="history club<br/>"),"hunting"==e.club&&(t+="hunting club<br/>"),"linux"==e.club&&(t+="linux club<br/>"),"motorcycle"==e.club&&(t+="motorcycle club<br/>"),"music"==e.club&&(t+="music club<br/>"),"nature"==e.club&&(t+="nature club<br/>"),"nudism"==e.club&&(t+="nudism club<br/>"),"photography"==e.club&&(t+="photography club<br/>"),"politics"==e.club&&(t+="politics club<br/>"),"religion"==e.club&&(t+="religion club<br/>"),"scout"==e.club&&(t+="scout club<br/>"),"smoke"==e.club&&(t+="smoke club<br/>"),"sport"==e.club&&(t+="sport club<br/>"),"theatre"==e.club&&(t+="theatre club<br/>"),"veterans"==e.club&&(t+="veterans club<br/>"),"amusement_arcade"==e.leisure&&(t+="penny arcade / gambling hall<br/>"),"beach_resort"==e.leisure&&(t+="beach resort<br/>"),"bird_hide"==e.leisure&&(t+="bird hide<br/>"),"common"==e.leisure&&(t+="common<br/>"),"club"==e.leisure&&(t+="club<br/>"),"dance"==e.leisure&&(t+="dance<br/>"),"dog_park"==e.leisure&&(t+="dog_park<br/>"),"firepit"==e.leisure&&(t+="firepit<br/>"),"fishing"==e.leisure&&(t+="fishing<br/>"),"garden"==e.leisure&&(t+="garden<br/>"),"golf_course"==e.leisure&&(t+="golf course<br/>"),"hackerspace"==e.leisure&&(t+="hackerspace<br/>"),"horse_riding"==e.leisure&&(t+="horse riding<br/>"),"ice_rink"==e.leisure&&(t+="ice rink<br/>"),"nature_reserve"==e.leisure&&(t+="nature reserve<br/>"),"park"==e.leisure&&(t+="park<br/>"),"miniature_golf"==e.leisure&&(t+="miniature golf<br/>"),"pitch"==e.leisure&&(t+="pitch<br/>"),"pitch"==e.leisure&&"yes"==e.building&&(t+="gym<br/>"),"playground"==e.leisure&&"yes"==e.building?t+="playground<br/>":"playground"==e.leisure&&(t+="playground<br/>"),"social_club"==e.leisure&&(t+="social club<br/>"),"spa"==e.leisure&&(t+="spa<br/>"),"sports_centre"==e.leisure&&(t+="sports centre<br/>"),"climbing_adventure"==e.sport&&(t+="climbing adventure<br/>"),"stadium"==e.leisure&&(t+="stadium<br/>"),"swimming_pool"==e.leisure&&(t+="swimming pool<br/>"),"track"==e.leisure&&(t+="track<br/>"),"water_park"==e.leisure&&(t+="water park<br/>"),"wildlife_hide"==e.leisure&&(t+="wildlife hide<br/>"),"adult_gaming_centre"==e.leisure&&(t+="adult gaming_centre<br/>"),"bowling_alley"==e.leisure&&"10pin"==e.sport&&(t+="10pin bowling_alley<br/>"),"bowling_alley"==e.leisure&&"9pin"==e.sport&&(t+="9pin bowling_alley<br/>"),"karting"!=e.sport&&"motor"!=e.sport||(t+="karting<br/>"),"darts"!=e.sport&&"dart"!=e.sport||(t+="Darts<br/>"),e["piste:type"])switch(e["piste:type"]){case"skitour":t+="skitour<br/>";break;case"downhill":t+="downhill<br/>";break;case"sled":t+="sled<br/>";break;case"nordic":t+="nordic<br/>";break;case"hike":t+="hike<br/>";break;case"snow_park":t+="snow park<br/>"}if(e.sport)switch(e.sport){case"surfing":t+="surfing<br/>";break;case"kitesurfing":t+="kitesurfing<br/>";break;case"water_ski":t+="water ski<br/>"}if(e.aerialway)switch(e.aerialway){case"cable_bar":t+="cable bar<br/>";break;case"gondola":t+="gondola<br/>";break;case"chair_lift":t+="chair lift<br/>";break;case"mixed_lift":t+="mixed lift<br/>";break;case"drag_lift":t+="drag lift<br/>";break;case"t-bar":case"t-bar":t+="t-bar<br/>";break;case"platter":t+="platter<br/>";break;case"rope_tow":t+="rope tow<br/>";break;case"magic_carpet":t+="magic carpet<br/>";break;default:t+="unknown"}if("mosque"==e.building&&(t+="mosque<br/>"),"synagogue"==e.building&&(t+="synagogue<br/>"),"temple"==e.building&&(t+="temple<br/>"),"apartments"==e.building&&(t+="apartments<br/>"),"farm"==e.building&&(t+="farm<br/>"),"hotel"==e.building&&(t+="hotel<br/>"),"house"==e.building&&(t+="house<br/>"),"detached"==e.building&&(t+="detached<br/>"),"residential"==e.building&&(t+="residential<br/>"),"domitory"!=e.building&&"residential plus"!=e.building||(t+="domitory<br/>"),"terrace"==e.building&&(t+="terrace<br/>"),"houseboat"==e.building&&(t+="houseboat<br/>"),"bungalow"==e.building&&(t+="bungalow<br/>"),"static_caravan"==e.building&&(t+="static caravan<br/>"),"commercial"==e.building&&(t+="commercial<br/>"),"retail"==e.building&&(t+="retail<br/>"),"warehouse"==e.building&&(t+="warehouse<br/>"),"bakehouse"==e.building&&(t+="bakehouse<br/>"),"shrine"==e.building&&(t+="shrine<br/>"),"civic"==e.building&&(t+="civic<br/>"),"stadium"==e.building&&(t+="stadium<br/>"),"train_station"==e.building&&(t+="train station<br/>"),"university"==e.building&&(t+="university<br/>"),"public"==e.building&&(t+="public<br/>"),"bridge"==e.building&&(t+="bridge<br/>"),"bunker"==e.building&&(t+="bunker<br/>"),"cabin"==e.building&&(t+="cabin<br/>"),"conservatory"==e.building&&(t+="conservatory<br/>"),"construction"==e.building&&(t+="construction<br/>"),"garage"==e.building&&(t+="garage<br/>"),"garages"==e.building&&(t+="garages<br/>"),"greenhouse"==e.building&&(t+="greenhouse<br/>"),"hangar"==e.building&&(t+="hangar<br/>"),"hut"==e.building&&(t+="hut<br/>"),"pavillion"==e.building&&(t+="pavillion<br/>"),"roof"==e.building&&(t+="roof<br/>"),"shed"==e.building&&(t+="shed<br/>"),"transformer_tower"==e.building&&(t+="transformer tower<br/>"),"service"==e.building&&(t+="service<br/>"),"kiosk"==e.building&&(t+="kiosk<br/>"),"carport"==e.building&&(t+="carport<br/>"),"ruins"==e.building&&(t+="ruins<br/>"),"gambling"==e.amenity&&(t+="penny arcade<br/>"),"library"==e.amenity&&(t+="library<br/>"),"fountain"==e.amenity&&(t+="fountain<br/>"),"attraction"==e.amenity&&(t+="attraction<br/>"),"social_centre"!=e.amenity&&"club"!=e.amenity||(t+="social centre<br/>"),"townhall"==e.amenity&&(t+="townhall<br/>"),"bench"==e.amenity&&(t+="bench<br/>"),"grave_yard"!=e.amenity&&"cemetery"!=e.landuse||(t+="grave yard<br/>"),"post_box"==e.amenity&&(t+="post box<br/>"),"post_office"==e.amenity&&(t+="post office<br/>"),"telephone"==e.amenity&&(t+="telephone<br/>"),"atm"==e.amenity&&(t+="atm<br/>"),"bank"==e.amenity&&(t+="bank<br/>"),"toilets"==e.amenity&&"yes"==e.diaper?t+="toilets with diaper changing table<br/>":"toilets"==e.amenity&&(t+="toilets<br/>"),"school"==e.amenity&&"1"==e["isced:level"]?t+="primary school<br/>":"school"==e.amenity&&"2"==e["isced:level"]?t+="secondary school<br/>":"school"==e.amenity&&"3"==e["isced:level"]?t+="secondary schools<br/>":"school"==e.amenity&&(t+="school<br/>"),"kindergarten"==e.amenity&&(t+="kindergarten<br/>"),"internet_cafe"==e.amenity&&(t+="internet cafe<br/>"),"daycare"==e.amenity&&(t+="daycare<br/>"),"childcare"==e.amenity&&(t+="childcare<br/>"),"university"==e.amenity&&(t+="university<br/>"),"college"==e.amenity&&(t+="college<br/>"),"shelter"==e.amenity&&(t+="shelter<br/>"),"bbq"==e.amenity&&(t+="bbq<br/>"),"nightclub"==e.amenity&&(t+="nightclub<br/>"),"bicycle_parking"==e.amenity&&(t+="bicycle parking<br/>"),"bicycle_rental"==e.amenity&&(t+="bicycle rental<br/>"),"boat_sharing"==e.amenity&&(t+="boat sharing<br/>"),"car_sharing"==e.amenity&&(t+="car sharing<br/>"),"cinema"==e.amenity&&(t+="cinema<br/>"),"swimming_pool"==e.amenity&&(t+="swimming pool<br/>"),"embassy"!=e.amenity&&"embassy"!=e.diplomatic||(t+="embassy<br/>"),"embassy"==e.amenity&&"consulate"==e.diplomatic&&(t+="consulate<br/>"),"embassy"==e.amenity&&"consulate_general"==e.diplomatic&&(t+="consulate general<br/>"),"embassy"==e.amenity&&"honorary_consulate"==e.diplomatic&&(t+="honorary consulate<br/>"),"embassy"==e.amenity&&"permanent_mission"==e.diplomatic&&(t+="permanent mission<br/>"),"embassy"==e.amenity&&"delegation"==e.diplomatic&&(t+="delegation<br/>"),"embassy"==e.amenity&&"high_commission"==e.diplomatic&&(t+="high commission<br/>"),"Barfusspfad"==e.amenity&&(t+="barefoodpath<br/>"),"casino"==e.amenity&&(t+="casino<br/>"),"spa"==e.amenity&&(t+="spa<br/>"),"stables"==e.amenity&&(t+="stables<br/>"),"watering_place"==e.amenity&&(t+="watering place<br/>"),"yes"==e.watering_place&&(t+="watering place<br/>"),"water_point"==e.amenity&&(t+="water point<br/>"),"taxi"==e.amenity&&(t+="taxi<br/>"),"car_wash"==e.amenity&&(t+="car wash<br/>"),"brothel"==e.amenity&&(t+="brothel<br/>"),"stripclub"==e.amenity&&(t+="stripclub<br/>"),"swingerclub"==e.amenity&&(t+="swingerclub<br/>"),"planetarium"==e.amenity&&(t+="planetarium<br/>"),"courthouse"==e.amenity&&(t+="court house<br/>"),"crematorium"==e.amenity&&(t+="crematorium<br/>"),"crypt"!=e.amenity&&"crypt"!=e.building||(t+="crypt<br/>"),"hunting_stand"==e.amenity&&(t+="hunting stand<br/>"),"photo_booth"==e.amenity&&(t+="photo booth<br/>"),"prison"==e.amenity&&(t+="prison<br/>"),"ranger_station"==e.amenity&&(t+="ranger station<br/>"),"register_office"==e.amenity&&(t+="register office<br/>"),"marketplace"==e.amenity&&(t+="marketplace<br/>"),"solarium"==e.amenity&&(t+="solarium<br/>"),"sauna"==e.amenity&&(t+="sauna<br/>"),"shower"==e.amenity&&(t+="shower<br/>"),"waste_disposal"==e.amenity&&(t+="waste disposal<br/>",e.waste))switch(t+="Typ: ",e.waste){case"trash":t+="General<br/>";break;case"oil":t+="Oil<br/>";break;case"drugs":t+="Pharmaceutical<br/>";break;case"organic":t+="Organic<br/>";break;case"plastic":t+="Plastic<br/>";break;case"rubble":t+="Rubble<br/>";break;case"cigarettes":t+="Cigarettes<br/>";break;default:t+="General<br/>"}if("waste_basket"!=e.amenity&&"dog_excrement"!=e.waste||(t+="dog waste station<br/>"),"scout_camp"!=e.amenity&&"scout_hut"!=e.amenity&&"scout_hall"!=e.amenity||(t+="scout camp<br/>"),"ferry_terminal"==e.amenity&&(t+="ferry terminal<br/>"),"bureau_de_change"==e.amenity&&(t+="bureau de change<br/>"),"youth_club"==e.amenity&&(t+="youth club<br/>"),"festival_grounds"==e.amenity&&(t+="festival grounds<br/>"),"yes"!=e.openfire&&"yes"!=e.fireplace||(t+="fireplace<br/>"),"vending_machine"==e.amenity)if(e.vending)switch(e.vending){case"admission_tickets":t+="vending machine admission tickets<br/>";break;case"animal_feed":t+="vending machine animal feed<br/>";break;case"bicycle_tube":t+="vending machine bicycle tube<br/>";break;case"books":t+="vending machine books<br/>";break;case"candles":t+="vending machine candles<br/>";break;case"cigarettes":t+="vending machine cigarettes<br/>";break;case"chemist":t+="vending machine chemist<br/>";break;case"condoms":t+="vending machine condoms<br/>";break;case"drinks":t+="vending machine drinks<br/>";break;case"electronics":t+="vending machine electronics<br/>";break;case"elongated_coin":t+="vending machine elongated_coin<br/>";break;case"excrement_bags":t+="vending machine excrement_bags<br/>";break;case"feminine_hygiene":t+="vending machine feminine_hygiene<br/>";break;case"first_aid":t+="vending machine first_aid<br/>";break;case"fishing_tackle":t+="vending machine fishing tackle<br/>";break;case"fishing_bait":t+="vending machine fishing bait<br/>";break;case"flowers":t+="vending machine flowers<br/>";break;case"food":t+="vending machine food<br/>";break;case"ice_cubes":t+="vending machine ice cubes<br/>";break;case"ice_cream":t+="vending machine ice cream<br/>";break;case"ink_cartridges":t+="vending machine ink cartridges<br/>";break;case"laundry_detergent":t+="vending machine laundry detergent<br/>";break;case"public_transport_tickets":t+="vending machine public transport tickets<br/>";break;case"newspaper":t+="vending machine newspaper<br/>";break;case"parcel_pickup":t+="vending machine parcel pickup<br/>";break;case"parcel_mail_in":t+="Packege station<br/>";break;case"parking_tickets":t+="vending machine parking tickets<br/>";break;case"photos":t+="vending machine photos<br/>";break;case"sex_toys":t+="vending machine sex_toys<br/>";break;case"SIM_cards":t+="vending machine SIM_cards<br/>";break;case"stamps":t+="vending machine stamps<br/>";break;case"sweets":t+="vending machine sweets<br/>";break;case"syringes":t+="vending machine syringes<br/>";break;case"toll":t+="vending machine toll<br/>";break;case"toys":t+="vending machine toys<br/>";break;case"umbrellas":t+="vending machine umbrellas<br/>";break;default:t+="vending machine<br/>"}else t+="vending machine<br/>";if("arts_centre"==e.amenity&&(t+="arts centre<br/>"),"artwork"==e.amenity&&(t+="artwork<br/>"),"museum"==e.amenity&&(t+="museum<br/>"),"theatre"==e.amenity&&(t+="theatre<br/>"),"cathedral"==e.building&&(t+="cathedral<br/>"),"church"==e.building&&(t+="church<br/>"),"chapel"==e.building&&(t+="chapel<br/>"),"place_of_worship"==e.amenity&&(t+="place of worship<br/>"),"village"==e.abandoned&&(t+="abandoned village<br/>"),"theme_park"==e["abandoned:tourism"]&&(t+="abandoned theme park<br/>"),"prison_camp"==e["abandoned:amenity"]&&"concentration_camp"==["concentration_camp"]&&(t+="abandoned concentration camp<br/>"),"yes"==e.abandoned&&"bunker"==e.military&&(t+="abandoned bunker<br/>"),"yes"==e.abandoned&&"barracks"==e.military&&(t+="abandoned barracks<br/>"),"yes"==e.abandoned&&"airfield"==e.military&&(t+="abandoned airfield<br/>"),"monastery"==e.historic&&(t+="historic monastery<br/>"),"monastery"==e.amenity&&(t+="monastery<br/>"),"monastery"==e.building&&(t+="monastery<br/>"),"manor"==e.historic&&(t+="historic manor<br/>"),"boundary_stone"==e.historic&&(t+="historic boundary stone<br/>"),"milestone"==e.historic&&(t+="historic milestone<br/>"),"monument"==e.historic&&(t+="monument<br/>"),"palace"==e.historic&&(t+="historic palace<br/>"),"mine"==e.historic&&(t+="historic mine<br/>"),"ruins"==e.historic&&(t+="ruins<br/>"),"harbour"==e.historic_usage&&(t+="historic harbour<br/>"),"rune stone"==e.historic&&(t+="rune stone<br/>"),"battlefield"==e.historic&&(t+="historic battlefield<br/>"),"blacksmith"==e.historic&&(t+="historic blacksmith<br/>"),"tree_shrine"!=e.historic&&"wayside_shrine"!=e.historic||(t+="shrine<br/>"),"city_gate"==e.historic&&(t+="historic city gate<br/>"),"wayside_cross"==e.historic&&(t+="historic wayside cross<br/>"),"monument"==e.amenity&&(t+="monument<br/>"),"memorial"==e.historic&&(t+="memorial<br/>"),"optical_telegraph"==e.historic&&(t+="historic optical telegraph<br/>"),"castle"==e.historic)if(e.castle_type)switch(e.castle_type){case"defensive":t+="defensive castle<br/>";break;case"palace":t+="palace<br/>";break;case"stately":t+="stately castle<br/>";break;case"manor":t+="manor<br/>";break;case"fortress":t+="fortress<br/>";break;case"castrum":t+="castrum<br/>";break;case"shiro":t+="shiro<br/>";break;case"kremlin":t+="kremlin<br/>";break;default:t+="castle<br/>"}else t+="castle<br/>";if("archaeological_site"==e.historic&&(t+="archaeological site<br/>"),"tomb"==e.historic)if(e.tomb)switch(e.tomb){case"tumulus":t+="tumulus<br/>";break;case"rock-cut":t+="rock<br/>";break;case"hypogeum":t+="hypogeum<br/>";break;case"war_grave":t+="war grave<br/>";break;case"mausoleum":t+="mausoleum<br/>";break;case"columbarium":t+="columbarium<br/>";break;case"crypt":t+="crypt<br/>";break;case"pyramid":t+="pyramid<br/>";break;case"sarcophagus":t+="sarcophagus<br/>";break;case"vault":t+="vault<br/>";break;case"tombstone":t+="tombstone<br/>";break;default:t+="historic tomb<br/>"}else t+="historic tomb<br/>";if("accountant"==e.office&&(t+="accountant<br/>"),"administrative"==e.office&&(t+="administrative<br/>"),"architect"==e.office&&(t+="architect<br/>"),"association"==e.office&&(t+="association<br/>"),"physician"==e.office&&(t+="physician<br/>"),"camping"==e.office&&(t+="camping office<br/>"),"company"==e.office&&(t+="company<br/>"),"educational_institution"==e.office&&(t+="educational institution<br/>"),"employment_agency"==e.office&&(t+="employment agency<br/>"),"estate_agent"==e.office&&(t+="estate agent<br/>"),"forestry"==e.office&&(t+="forestry<br/>"),"foundation"==e.office&&(t+="foundation<br/>"),"government"==e.office&&(t+="government<br/>"),"guide"==e.office&&(t+="guide office<br/>"),"insurance"==e.office&&(t+="insurance<br/>"),"it"==e.office&&(t+="it office<br/>"),"lawyer"==e.office&&(t+="lawyer<br/>"),"newspaper"==e.office&&(t+="newspaper<br/>"),"ngo"==e.office&&(t+="ngo office<br/>"),"notary"==e.office&&(t+="notary<br/>"),"political_party"==e.office&&(t+="political party<br/>"),"quango"==e.office&&(t+="quango office<br/>"),"realtor"==e.office&&(t+="realtor<br/>"),"real_estate_agent"==e.office&&(t+="real estate agent<br/>"),"register"==e.office&&(t+="register<br/>"),"religion"==e.office&&(t+="religious office<br/>"),"research"==e.office&&(t+="research office<br/>"),"tax"==e.office&&(t+="tax office<br/>"),"telecommunication"==e.office&&(t+="telecommunication office<br/>"),"travel_agent"==e.office&&(t+="travel agent<br/>"),"water_utility"==e.office&&(t+="water utility office<br/>"),"therapist"==e.office&&(t+="therapist<br/>"),"city"==e.place&&(t+="city<br/>"),"town"==e.place&&(t+="town<br/>"),"village"==e.place&&(t+="village<br/>"),"continent"==e.place&&(t+="continent<br/>"),"ocean"==e.place&&(t+="ocean</br>"),"track"==e.highway&&(t+="track<br/>"),"raceway"==e.highway&&(t+="raceway<br/>"),"designated"==e.bicycle&&(t+="cycle path<br/>"),"path"==e.highway&&(t+="food path<br/>"),"parking"==e.amenity&&(t+="parking<br/>"),"services"==e.highway&&(t+="services<br/>"),"rest_area"==e.highway&&(t+="rest area<br/>"),"turning_circle"==e.highway&&(t+="turning circle<br/>"),"service"==e.highway&&(t+="service road<br/>"),"motorway"==e.highway&&(t+="motorway<br/>"),"motorway_junction"==e.highway&&(t+="motorway junction<br/>"),"bridleway"==e.highway&&(t+="bridleway<br/>"),"yes"==e.oneway&&(t+="oneway<br/>"),"yes"==e.park_ride&&(t+="park and ride<br/>"),"unknown"==e.park_ride&&(t+="park and ride<br/>"),"bus"==e.park_ride&&(t+="park and ride<br/>"),"tram"==e.park_ride&&(t+="park and ride<br/>"),"bus_stop"==e.highway&&(t+="bus stop<br/>"),"pedestrian"==e.highway&&(t+="pedestrian<br/>"),"street_lamp"==e.highway&&(t+="street lamp<br/>"),"traffic_signals"==e.highway&&(t+="traffic signals<br/>"),"traffic_signals"==e.crossing&&(t+="traffic signals<br/>"),"speed_camera"==e.highway&&(t+="speed camera<br/>"),"yes"==e.traffic_calming&&(ret+="traffic calming</br>"),"bump"==e.traffic_calming&&(t+="bump</br>"),"chicane"==e.traffic_calming&&(t+="chicane</br>"),"choker"==e.traffic_calming&&(t+="choker</br>"),"cushion"==e.traffic_calming&&(t+="cushion</br>"),"hump"==e.traffic_calming&&(t+="hump</br>"),"island"==e.traffic_calming&&(t+="island</br>"),"rumble_strip"==e.traffic_calming&&(t+="rumble_strip</br>"),"table"==e.traffic_calming&&(t+="table</br>"),"buoy_cardinal"==e["seamark:type"]&&(t+="buoy cardinal<br/>"),"buoy_lateral"==e["seamark:type"]&&(t+="buoy lateral<br/>"),"buoy_isolated_danger"==e["seamark:type"]&&(t+="buoy isolated_danger<br/>"),"perch"==e["seamark:beacon_lateral:shape"]&&(t+="perch<br/>"),"fuel"==e.amenity&&"fuel_station"==e["seamark:small_craft_facility:category"]?t+="fuel station<br/>":"fuel"==e.amenity&&(t+="fuel<br/>"),"charging_station"==e.amenity){t=t+"charging station<br/>";var r=e.voltage;if(e.car){switch(e.car){case"yes":t+="Car: yes";break;case"no":t+="Car: No";break;default:t+="Cars: unkown"}t+="<br/>"}else t+="Cars: unkown<br/>";if(e.bicycle){switch(e.bicycle){case"yes":t+="E-Bike: yes";break;case"no":t+="E-Bike: no";break;default:t+="E-Bike: unkown"}t+="<br/>"}else t+="E-Bike: unkown<br/>";e["socket:schuko"]&&(t+="Schuko socket: "+e["socket:schuko"]+"<br/>"),e["socket:cee_blue"]&&(t+="Cee blue socket "+e["socket:cee_blue"]+"<br/>"),e["socket:cee_red_16a"]&&(t+="Cee red 16a socket "+e["socket:cee_red_16a"]+"<br/>"),e["socket:cee_red_32a"]&&(t+="Cee red 32a socket "+e["socket:cee_red_32a"]+"<br/>"),e["socket:cee_red_64a"]&&(t+="Cee red 64a socket "+e["socket:cee_red_64a"]+"<br/>"),e["socket:cee_red_125a"]&&(t+="Cee red 125a socket "+e["socket:cee_red_125a"]+"<br/>"),e["socket:nema_5_15"]&&(t+="Nema 5 15 socket "+e["socket:nema_5_15"]+"<br/>"),e["socket:nema_5_20"]&&(t+="Nema 5 20 socket "+e["socket:nema_5_20"]+"<br/>"),e["socket:nema_14_30"]&&(t+="Nema 14 30 socket "+e["socket:nema_14_30"]+"<br/>"),e["socket:nema_14_50"]&&(t+="Nema 14 50 socket "+e["socket:nema_14_50"]+"<br/>"),e["socket:bs1363"]&&(t+="Bs1363 socket "+e["socket:bs1363"]+"<br/>"),e["socket:type1"]&&(t+="Type 1 socket "+e["socket:type1"]+"<br/>"),e["socket:type1_combo"]&&(t+="Type 1 combo socket "+e["socket:schuko"]+"<br/>"),e["socket:type2"]&&(t+="Type 2 socket "+e["socket:type2"]+"<br/>"),e["socket:type2_combo"]&&(t+="Type 2 combo socket "+e["socket:type2_combo"]+"<br/>"),e["socket:type3"]&&(t+="Type 3 socket "+e["socket:type3"]+"<br/>"),e["socket:chademo"]&&(t+="Chademo socket "+e["socket:chademo"]+"<br/>"),e["socket:magne_charge"]&&(t+="Magne charge socket "+e["socket:magne_charge"]+"<br/>"),e["socket:tesla_standard"]&&(t+="Tesla standard socket "+e["socket:tesla_standard"]+"<br/>"),e["socket:tesla_supercharge"]&&(t+="Tesla supercharge: "+e["socket:tesla_supercharge"]+"<br/>"),e["socket:tesla_roadster"]&&(t+="Tesla_roadster socket "+e["socket:tesla_roadster"]+"<br/>"),t+="<br/>",e.voltage&&(t+="Volt: "+r+"<br/>")}if("yes"==e.tunnel&&(t+="tunnel<br/>"),e.bridge)switch(t+="bridge: ",e.bridge){case"swing":t+="swing";break;case"aqueduct":t+="aqueduct";break;case"bascule":t+="flap bridge";break;case"boardwalk":t+="boardwalk";break;case"cantilever":t+="cantilever";break;case"covered":t+="covered";break;case"drawbridge":t+="drawbridge";break;case"humpback":t+="humpback";break;case"lift":t+="lift";break;case"low_water_crossing":t+="low water crossing";break;case"moveable":t+="moveable";break;case"pontoon":t+="pontoon";break;case"suspension":t+="suspension";break;case"trestle":t+="trestle";break;case"viaduct":t+="viaduct"}if(e["bridge:movable"])switch(e["bridge:movable"]){case"swing":t+="swing";break;case"bascule":t+="bascule";break;case"drawbridge":t+="drawbridge";break;case"lift":t+="lift";break;case"submersible":t+="submersible";break;case"transporter":t+="transporter";break;case"retractable":t+="retractable"}if("nursing_home"!=e.amenity&&"retirement_home"!=e.amenity||(t+="nursing home / retirement home<br/>"),"social_facility"==e.amenity&&(t+="social facility<br/>"),e.social_facility&&("group_home"==e.social_facility&&"senior"==e["social_facility:for"]&&(t+="senior group home<br/>"),"assisted_living"==e.social_facility&&(t+="assisted living<br/>"),"outreach"==e.social_facility&&(t+="outreach<br/>"),"workshop"==e.social_facility&&(t+="workshop<br/>"),"ambulatory_care"!=e.social_facility&&"healthcare"!=e.social_facility||(t+="ambulatory care<br/>"),"shelter"==e.social_facility&&"senior"==e["social_facility:for"]&&(t+="senior shelter<br/>"),"shelter"==e.social_facility&&"abused"==e["social_facility:for"]&&(t+="abused shelter<br/>"),"food_bank"==e.social_facility&&(t+="food bank<br/>"),"hospice"==e.social_facility&&(t+="hospice<br/>")),e.brewery&&(t+="brand of beer: "+e.brewery+"<br/>"),"alcohol"==e.shop&&(t+="alcohol shop<br/>"),"bakery"==e.shop&&(t+="bakery shop<br/>"),"beverages"==e.shop&&(t+="beverages shop<br/>"),"butcher"==e.shop&&(t+="butcher shop<br/>"),"cheese"==e.shop&&(t+="cheese shop<br/>"),"chocolate"==e.shop&&(t+="chocolate shop<br/>"),"coffee"==e.shop&&(t+="coffee shop<br/>"),"confectionery"==e.shop&&(t+="confectionery shop<br/>"),"convenience"==e.shop&&(t+="convenience shop<br/>"),"deli"==e.shop&&(t+="deli shop<br/>"),"dairy"==e.shop&&(t+="dairy shop<br/>"),"farm"==e.shop&&(t+="farm shop<br/>"),"greengrocer"==e.shop&&(t+="greengrocer shop<br/>"),"grocery"==e.shop&&(t+="grocery shop<br/>"),"organic"==e.shop&&(t+="organic shop<br/>"),"pasta"==e.shop&&(t+="pasta shop<br/>"),"seafood"==e.shop&&(t+="seafood shop<br/>"),"tea"==e.shop&&(t+="tea shop<br/>"),"wine"==e.shop&&(t+="wine shop<br/>"),"department_store"==e.shop&&(t+="department store<br/>"),"general"==e.shop&&(t+="general shop<br/>"),"kiosk"==e.shop&&(t+="kiosk<br/>"),"mall"==e.shop&&(t+="mall<br/>"),"supermarket"==e.shop&&(t+="supermarket<br/>"),"baby_goods"==e.shop&&(t+="baby goods shop<br/>"),"bag"==e.shop&&(t+="bag shop<br/>"),"boutique"==e.shop&&(t+="boutique<br/>"),"clothes"==e.shop&&(t+="clothes shop<br/>"),"fabric"==e.shop&&(t+="fabric shop<br/>"),"fashion"==e.shop&&(t+="fashion shop<br/>"),"jewelry"==e.shop&&(t+="jewelry shop<br/>"),"leather"==e.shop&&(t+="leather shop<br/>"),"shoes"==e.shop&&(t+="shoes shop<br/>"),"variety_store"==e.shop&&(t+="variety store<br/>"),"chemist"==e.shop&&(t+="chemist<br/>"),"cosmetics"==e.shop&&(t+="cosmetics shop<br/>"),"drugstore"==e.shop&&(t+="drugstore<br/>"),"perfumery"==e.shop&&(t+="perfumery<br/>"),"erotic"==e.shop&&(t+="erotic shop<br/>"),"hairdresser"==e.shop&&(t+="hairdresser<br/>"),"hearing_aids"==e.shop&&(t+="hearing aids<br/>"),"herbalist"==e.shop&&(t+="herbalist<br/>"),"massage"==e.shop&&(t+="massage<br/>"),"medical_supply"==e.shop&&(t+="medical supply shop<br/>"),"optician"==e.shop&&(t+="optician<br/>"),"tattoo"==e.shop&&(t+="tattoo<br/>"),"bathroom_furnishing"==e.shop&&(t+="bathroom furnishing<br/>"),"doityourself"==e.shop&&(t+="doityourself<br/>"),"energy"==e.shop&&(t+="energy<br/>"),"florist"==e.shop&&(t+="florist<br/>"),"furnace"==e.shop&&(t+="furnace shop<br/>"),"garden_centre"==e.shop&&(t+="garden centre<br/>"),"gas"==e.shop&&(t+="gas<br/>"),"glaziery"==e.shop&&(t+="glaziery<br/>"),"hardware"==e.shop&&(t+="hardware shop<br/>"),"houseware"==e.shop&&(t+="houseware shop<br/>"),"locksmith"==e.shop&&(t+="locksmith<br/>"),"paint"==e.shop&&(t+="paint shop<br/>"),"trade"==e.shop&&(t+="trade<br/>"),"antiques"==e.shop&&(t+="antiques shop<br/>"),"bed"==e.shop&&(t+="bed shop<br/>"),"candles"==e.shop&&(t+="candles shop<br/>"),"carpet"==e.shop&&(t+="carpet shop<br/>"),"curtain"==e.shop&&(t+="curtain shop<br/>"),"furniture"==e.shop&&(t+="furniture store<br/>"),"interior_decoration"==e.shop&&(t+="interior decoration company<br/>"),"kitchen"==e.shop&&(t+="kitchen shop<br/>"),"window_blind"==e.shop&&(t+="window blind shop<br/>"),"computer"==e.shop&&(t+="computer shop<br/>"),"electronics"==e.shop&&(t+="electronics shop<br/>"),"hifi"==e.shop&&(t+="hifi shop<br/>"),"mobile_phone"==e.shop&&(t+="mobile phone shop<br/>"),"radiotechnics"==e.shop&&(t+="radiotechnics shop<br/>"),"vacuum_cleaner"==e.shop&&(t+="vacuum cleaner shop<br/>"),"bicycle"==e.shop&&(t+="bicycle shop<br/>"),"car"==e.shop&&(t+="car shop<br/>"),"car repair"==e.shop&&(t+="car repair<br/>"),"car_parts"==e.shop&&(t+="car parts shop<br/>"),"dive"!=e.shop&&"scuba_diving"!=e.shop||(t+="scuba diving shop<br/>"),"fishing"==e.shop&&(t+="fishing shop<br/>"),"free_flying"==e.shop&&(t+="free flying shop<br/>"),"hunting"==e.shop&&(t+="hunting shop<br/>"),"motorcycle"==e.shop&&(t+="motorcycle shop<br/>"),"outdoor"==e.shop&&(t+="outdoor shop<br/>"),"sports"==e.shop&&(t+="sports shop<br/>"),"tyres"==e.shop&&(t+="tyres<br/>"),"water_sports"==e.shop&&(t+="water sports shop<br/>"),"art"==e.shop&&(t+="art<br/>"),"craft"==e.shop&&(t+="craft<br/>"),"frame"==e.shop&&(t+="frame shop<br/>"),"music"==e.shop&&(t+="music shop<br/>"),"music_instrument"==e.shop&&(t+="music instruments shop<br/>"),"photo"==e.shop&&(t+="photo shop<br/>"),"video"==e.shop&&(t+="video<br/>"),"video_games"==e.shop&&(t+="video games<br/>"),"anime"==e.shop&&(t+="anime<br/>"),"books"==e.shop&&(t+="books shop<br/>"),"gift"==e.shop&&(t+="gift shop<br/>"),"newsagent"==e.shop&&(t+="newsagent<br/>"),"stationery"==e.shop&&(t+="stationery<br/>"),"ticket"==e.shop&&(t+="ticket shop<br/>"),"copyshop"==e.shop&&(t+="copyshop<br/>"),"funeral_directors"==e.shop&&(t+="funeral directors<br/>"),"laundry"==e.shop&&(t+="laundry<br/>"),"dry_cleaning"==e.shop&&(t+="dry cleaning<br/>"),"money_lender"==e.shop&&(t+="money lender<br/>"),"pawnbroker"==e.shop&&(t+="pawnbroker<br/>"),"pet"==e.shop&&(t+="pet shop<br/>"),"pyrotechnics"==e.shop&&(t+="pyrotechnics shop<br/>"),"religion"==e.shop&&(t+="religion<br/>"),"beauty"==e.shop&&(t+="beauty<br/>"),"solarium"==e.shop&&(t+="solarium<br/>"),"tobacco"==e.shop&&(t+="tobacco shop<br/>"),"toys"==e.shop&&(t+="toys shop<br/>"),"travel_agency"==e.shop&&(t+="travel agency<br/>"),"market_hall"==e.shop&&(t+="market hall<br/>"),"vacant"==e.shop&&(t+="vacant<br/>"),"weapons"==e.shop&&(t+="weapons shop<br/>"),"lottery"==e.gambling&&(t+="lottery<br/>"),"fish"==e.pet&&(t+="fishkeeping<br/>"),"agriucultural_engines"==e.craft&&(t+="agriucultural engines<br/>"),"basket_maker"==e.craft&&(t+="basket maker<br/>"),"beekeeper"==e.craft&&(t+="beekeeper<br/>"),"blacksmith"==e.craft&&(t+="blacksmith<br/>"),"brewery"==e.craft&&(t+="brewery<br/>"),"yes"==e.microbrewery&&(t+="micro-brewery<br/>"),"boatbuilder"==e.craft&&(t+="boatbuilder<br/>"),"bookbinder"==e.craft&&(t+="bookbinder<br/>"),"builder"==e.craft&&(t+="housebuilding<br/>"),"carpenter"==e.craft&&(t+="carpenter, woodworker, joiner<br/>"),"carpet_layer"==e.craft&&(t+="carpet layer<br/>"),"caterer"==e.craft&&(t+="caterer<br/>"),"clockmaker"==e.craft&&(t+="clockmaker<br/>"),"confectionery"==e.craft&&(t+="confectionery<br/>"),"dressmaker"==e.craft&&(t+="dressmaker<br/>"),"electrician"==e.craft&&(t+="electrician<br/>"),"gardener"==e.craft&&(t+="gardener, landscaper<br/>"),"glaziery"==e.craft&&(t+="glaziery<br/>"),"handicraft"==e.craft&&(t+="handicraft<br/>"),"hvac"==e.craft&&(t+="heating, ventilation and air-conditioning technology (HVAC)<br/>"),"insulation"==e.craft&&(t+="thermal insulation<br/>"),"jeweller"==e.craft&&(t+="jeweller, gold-/silversmiths<br/>"),"key_cutter"==e.craft&&(t+="key cutter<br/>"),"locksmith"==e.craft&&(t+="locksmith<br/>"),"metal_construction"==e.craft&&(t+="metalworker<br/>"),"optician"==e.craft&&(t+="optician<br/>"),"painter"==e.craft&&(t+="painter<br/>"),"parquet_layer"==e.craft&&(t+="parquet layer<br/>"),"photographer"==e.craft&&(t+="photographer<br/>"),"photographic_laboratory"==e.craft&&(t+="photographic laboratory<br/>"),"plasterer"==e.craft&&(t+="plasterer<br/>"),"plumber"==e.craft&&(t+="plumber<br/>"),"pottery"==e.craft&&(t+="pottery<br/>"),"rigger"==e.craft&&(t+="ship rigger<br/>"),"roofer"==e.craft&&(t+="roofer<br/>"),"saddler"==e.craft&&(t+="saddler<br/>"),"sailmaker"==e.craft&&(t+="sailmaker<br/>"),"sawmill"==e.craft&&(t+="sawmill<br/>"),"scaffolder"==e.craft&&(t+="scaffolder<br/>"),"sculptor"==e.craft&&(t+="sculptor<br/>"),"shoemaker"==e.craft&&(t+="shoemaker<br/>"),"stand_builder"==e.craft&&(t+="exhibition stand builder<br/>"),"stonemason"==e.craft&&(t+="stonemason<br/>"),"sun_protection"==e.craft&&(t+="constructor for sun protection, venetian blind, shutter<br/>"),"sweep"==e.craft&&(t+="chimney sweep<br/>"),"tailor"==e.craft&&(t+="tailor<br/>"),"tiler"==e.craft&&(t+="tiler<br/>"),"tinsmith"==e.craft&&(t+="tinsmith, metalworker<br/>"),"upholsterer"==e.craft&&(t+="upholsterer<br/>"),"watchmaker"==e.craft&&(t+="watchmaker<br/>"),"window_construction"==e.craft&&(t+="window constructor<br/>"),"machines"==e.rental&&(t+="rental park for machines<br/>"),"car_rental"==e.amenity&&(t+="car rental company<br/>"),"allotments"==e.landuse&&(t+="allotment garden<br/>"),"basin"==e.landuse&&(t+="holding reservoir<br/>"),"brownfield"==e.landuse&&(t+="brownfield<br/>"),"commercial"==e.landuse&&(t+="commercial area<br/>"),"construction"==e.landuse&&(t+="construction area<br/>"),"farmland"==e.landuse&&(t+="farmland<br/>"),"farmyard"==e.landuse&&(t+="farmyard<br/>"),"forest"==e.landuse&&(t+="forest<br/>"),"garages"==e.landuse&&(t+="garages<br/>"),"grass"==e.landuse&&(t+="grass<br/>"),"greenfield"==e.landuse&&(t+="greenfield<br/>"),"greenhouse_horticulture"==e.landuse&&(t+="greenhouse horticulture<br/>"),"industrial"==e.landuse&&(t+="industry area<br/>"),"landfill"==e.landuse&&(t+="landfill<br/>"),"meadow"==e.landuse&&(t+="meadow<br/>"),"orchard"==e.landuse&&(t+="orchard<br/>"),"plant_nursery"==e.landuse&&(t+="plant nursery<br/>"),"quarry"==e.landuse&&(t+="quarry<br/>"),"railway"==e.landuse&&(t+="railway<br/>"),"recreation_ground"==e.landuse&&(t+="recreation ground<br/>"),"reservoir"==e.landuse&&(t+="reservoir<br/>"),"residential"==e.landuse&&(t+="residential<br/>"),"retail"==e.landuse&&(t+="retrail<br/>"),"salt_pond"==e.landuse&&(t+="salt pond<br/>"),"village_green"==e.landuse&&(t+="village green<br/>"),"vineyard"==e.landuse&&(t+="vineyard<br/>"),"pond"==e.landuse&&(t+="pond<br/>"),"salt_pond"==e.landuse&&(t+="salt pond<br/>"),"animal_keeping"==e.landuse&&(t+="animal keeping<br/>"),"yes"==e.entrance&&(t+="entrance<br/>"),"main"==e.entrance&&(t+="main-entrance<br/>"),"service"==e.entrance&&(t+="rear exit for staffing and suppliers<br/>"),"exit"==e.entrance&&(t+="exit<br/>"),"emergency"==e.entrance&&(t+="emergency<br/>"),"bay"==e.natural&&(t+="bay<br/>"),"beach"==e.natural&&(t+="beach<br/>"),"wood"==e.natural&&(t+="wood<br/>"),"glacier"==e.natural&&(t+="glacier<br/>"),"cave_entrance"==e.natural&&(t+="cave entrance<br/>"),"spring"==e.natural&&(t+="spring<br/>"),"waterfall"==e.natural&&(t+="waterfall<br/>"),"scrub"==e.natural&&(t+="scrub<br/>"),"grassland"==e.natural&&(t+="grassland<br/>"),"wetland"==e.natural&&(t+="wetland<br/>"),"tree"==e.natural&&(t+="tree"),"peak"==e.natural&&"yes"==e["summit:cross"]&&(t+="cross on the summit of a mountain<br/>"),"tree_row"==e.natural&&(t+="tree row, alley of trees<br/>"),"heath"==e.natural&&(t+="heath<br/>"),"moor"==e.natural&&(t+="moor<br/>"),"grassland"==e.natural&&(t+="grassland<br/>"),"fell"==e.natural&&(t+="grasland above the tree land<br/>"),"bare_rock"==e.natural&&(t+="bare rock<br/>"),"scree"==e.natural&&(t+="scree<br/>"),"volcano"==e.natural&&(t+="volcano<br/>"),"valley"==e.natural&&(t+="valley<br/>"),"stone"==e.natural&&(t+="stone<br/>"),"sea"==e.natural&&(t+="sea<br/>"),"national_park"==e.boundary&&(t+="national park<br/>"),"protected_area"==e.boundary&&(t+="protected area<br/>"),"yes"==e.mountain_pass&&(t+="mountain pass<br/>"),"waterfall"==e.waterway&&(t+="waterfall<br/>"),"canal"==e.waterway&&(t+="canal<br/>"),"canal"==e.water&&(t+="canal<br/>"),"river"==e.waterway&&(t+="river<br/>"),"river"==e.water&&(t+="river<br/>"),"riverbank"==e.waterway&&(t+="river<br/>"),"ditch"==e.waterway&&(t+="ditch<br/>"),"stream"==e.waterway&&(t+="stream<br/>"),"ferry"==e.route&&(t+="ferry<br/>"),"turning_point"==e.waterway&&(t+="turning point<br/>"),"lake"!=e.water&&"water"!=e.natural||(t+="lake<br/>"),"cove"==e.water&&(t+="cove<br/>"),"lagoon"==e.water&&(t+="lagoon<br/>"),"pond"==e.water&&(t+="pond<br/>"),"reservoir"==e.water&&(t+="waterreservoir<br/>"),"oxbow"==e.water&&(t+="oxbow lake<br/>"),"lock"==e.water&&(t+="lock chamber<br/>"),"moat"==e.water&&(t+="castle moat<br/>"),"wastewater"==e.water&&(t+="wastewater treatment plant<br/>"),"guest"==e.mooring&&"pier"==e.man_made||"visitor_berth"==e["seamark:small_craft_facility:category"]?t+="gastrointestinal<br/>":"pier"==e.man_made&&(t+="pier<br/>"),"boatyard"==e.waterway&&(t+="boatyard<br/>"),"mooring"==e["seamark:type"]&&"dolphin"==e["seamark:mooring:category"]&&(t+="dolphin<br/>"),"foot"==e.route&&(t+="footpath<br/>"),"hiking"==e.route&&(t+="hiking trail<br/>"),"yes"==e.hiking&&"information"==e.tourism)t+="direction board<br/>";else if("information"==e.tourism&&"information"==e.tourism)if(e.information)switch(e.information){case"board":t+="direction board<br/>";break;case"map":t+="direction board with a map<br/>";break;case"office":t+="tourist information office<br/>";break;case"terminal":t+="tourist information terminal<br/>";break;case"audioguide":t+="audioguide<br/>";break;case"guidepost":t+="guidepost<br/>";break;case"tactile_map":t+="tactile map<br/>";break;case"tactile_model":t+="tactile model<br/>";break;case"route_marker":t+="route marker<br/>";break;default:t+="direction board<br/>"}else t+="direction board<br/>";if("bicycle"==e.route&&(t+="cycle track<br/>"),"mtb"==e.route&&(t+="mountain bike route<br/>"),"horse"==e.route&&(t+="bridleway<br/>"),"coastline"==e.natural&&(t+="coastline<br/>"),"cliff"==e.natural&&(t+="cliff<br/>"),"dam"==e.waterway&&(t+="dam<br/>"),"weir"==e.waterway&&(t+="weir<br/>"),"lock_gate"==e.waterway&&(t+="lock gate<br/>"),"yes"==e.lock&&(t+="lock<br/>"),"sluice_gate"==e.waterway&&(t+="sluice gate<br/>"),"pumping_station"==e.man_made&&(t+="pumping station<br/>"),"groyne"==e.man_made&&(t+="groyne<br/>"),"dyke"==e.man_made&&(t+="dyke<br/>"),"levee"==e.man_made&&(t+="levee<br/>"),"watermill"==e.man_made&&(t+="watermill<br/>"),"airfield"==e.military&&(t+="military airfield<br/>"),"naval_base"==e.military&&(t+="naval base<br/>"),"range"==e.military&&(t+="military range<br/>"),"military"==e.landuse&&(t+="military land use<br/>"),"training_area"==e.military&&(t+="military training area<br/>"),"exclusion_zone"==e.military&&(t+="military exclusion zone<br/>"),"danger_area"==e.military&&(t+="military danger area<br/>"),"barracks"==e.military&&(t+="barracks<br/>"),"nuclear_explosion_site"==e.military&&(t+="military nuclear explosion site<br/>"),"yes"==e.construction?t+="construction<br/>":"construction"==e.highway&&(t+="construction<br/>"),"petroleum_well"==e.man_made&&(t+="petroleum well<br/>"),"storage_tank"==e.man_made&&(t+="storage tank<br/>"),"wastewater_plant"==e.man_made&&(t+="wastewater plant<br/>"),"silo"==e.man_made&&(t+="silo<br/>"),"water_tower"==e.man_made&&(t+="water tower<br/>"),"windmill"==e.man_made&&(t+="windmill<br/>"),"monitoring_station"==e.man_made&&(t+="monitoring station"),"crane"==e.man_made&&(t+="crane"),"lighthouse"==e.man_made&&(t+="lighthouse"),"beacon"==e.man_made&&(t+="beacon"),"breakwater"==e.man_made&&(t+="breakwater"),"lamp"==e.man_made&&"street_lamp"==e["lamp:type"]&&(t+="street lamp<br/>"),"lantern"==e.light_source&&(t+="street lamp"),"floodlight"==e.light_source&&(t+="floodlight<br/>"),"signal_lamp"==e.light_source&&(t+="signal lamp<br/>"),"aviation"==e.light_source&&(t+="aviation<br/>"),"warning"==e.light_source&&(t+="warning<br/>"),e.light_source&&e["light:method"])switch(t+="Light Typ: ",e["light:method"]){case"gas":t+="Gas";break;case"electric":t+="electric";break;case"incandescent":t+="incandescent";break;case"halogen":t+="halogen";break;case"discharge":t+="discharge";break;case"metal-halide":t+="metal-halide";break;case"neon":t+="neon";break;case"sodium":t+="Natriumdampflampe";break;case"high_pressure_sodium":t+="high pressure sodium";break;case"low_pressure_sodium":t+="low pressure sodium";break;case"fluorescent":t+="Fluorescent";break;case"mercury":t+="Mercury";break;case"LED":t+="LED";break;case"laser":t+="Laser";break;case"arc":t+="Arc";break;default:t+="Unkown"}if("drinking_water"==e.amenity&&(t+="drinking water<br/>"),"yes"==e.drinking_water&&(t+="drinking water<br/>"),"works"==e.man_made?t+="industrial building<br/>":"industrial"==e.building?t+="industrial building<br/>":"industrial"==e.landuse?t+="industrial area<br/>":"industrial"==e.abutters?t+="industrial area<br/>":"commercial"==e.abutters&&(t+="commercial<br/>"),e["generator:source"])switch(t+="installation: ",e["generator:source"]){case"biomass":t+="biomass";break;case"biofuel":t+="biofuel";break;case"biogas":t+="biogas";break;case"coal":t+="coal";break;case"oil":t+="oil";break;case"waste":t+="waste";break;case"wind":t+="wind";break;case"solar":t+="solar";break;case"hydro":t+="hydro";break;case"tidal":t+="tidal";break;case"wave":t+="wave";break;case"geothermal":t+="geothermal";break;case"osmotic":t+="osmotic";break;case"nuclear":t+="nuclear";break;default:t+="unknown<br/>"}if("photovoltaic"==e.power_source&&(t+="photovoltaic"),"line"==e.power&&(t+="power line<br/>"),"cable"==e.power&&(t+="cable<br/>"),"cable_distribution_cabinet"==e.power&&(t+="cable distribution cabinet<br/>"),"plant"==e.power&&(t+="plant<br/>"),"station"==e.power&&(t+="station<br/>"),"sub_station"==e.power&&(t+="substation<br/>"),"compensator"==e.power&&(t+="compensator<br/>"),"converter"==e.power&&(t+="converter<br/>"),"generator"==e.power&&(t+="generator<br/>"),"heliostat"==e.power&&(t+="heliostat<br/>"),"insulator"==e.power&&(t+="insulator<br/>"),"busbar"==e.line&&(t+="busbar<br/>"),"bay"==e.line&&(t+="bay<br/>"),"minor_line"==e.power&&(t+="minor line<br/>"),"pole"==e.power&&(t+="pole<br/>"),"portal"==e.power&&(t+="portal<br/>"),"catenary_mast"==e.power&&(t+="catenary mast<br/>"),"substation"==e.power&&(t+="substation<br/>"),"switch"==e.power&&(t+="switch<br/>"),"terminal"==e.power&&(t+="terminal<br/>"),"tower"==e.power&&(t+="tower<br/>"),"transformer"==e.power&&(t+="transformer<br/>"),e.barrier)switch(e.barrier){case"bollard":t+="bollard<br/>";break;case"cycle_barrier":t+="cycle barrier<br/>";break;case"gate":t+="gate<br/>";break;case"chain":t+="chain<br/>";break;case"lift_gate":t+="lift gate<br/>";break;case"wall":t+="wall<br/>";break;case"toll_booth":t+="toll booth<br/>";break;case"fence":switch(e.fence_type){case"barbed_wire":t+="barbed wire<br/>";break;case"wood":t+="wood<br/>";break;case"chain_link":t+="chain link<br/>";break;case"electric":t+="electric<br/>";break;case"railing":t+="railing<br/>";break;case"wire":t+="wire<br/>";break;case"metal":t+="metal<br/>";break;case"pole":t+="pole<br/>";break;default:t+="fence<br/>"}break;case"block":t+="block<br/>";break;case"ditch":t+="ditch<br/>";break;case"border_control":t+="border control<br/>";break;case"hedge":t+="hedge<br/>";break;case"retaining_wall":t+="retaining wall<br/>";break;case"cattle_grid":t+="cattle grid<br/>";break;case"horse_stile":t+="horse stile<br/>";break;default:t+="unknown<br/>"}if("noise_barrier"==e.wall&&(t+="noise barrier<br/>"),"retaining_wall"==e.designation&&(t+="noise barrier<br/>"),"noise_barrier"==e.designation&&(t+="noise barrier<br/>"),"surveillance"==e.man_made&&(t+="surveillance<br/>"),e.aeroway)switch(t+="airport: ",e.aeroway){case"aerodrome":t+="airport";break;case"apron":t+="apron";break;case"gate":t+="gate";break;case"helipad":t+="helipad";break;case"hangar":t+="hangar";break;case"runway":t+="runway";break;case"taxiway":t+="taxiway";break;case"terminal":t+="terminal";break;default:t+="unknown<br/>"}if("stop"==e.railway&&(t+="railway stop<br/>"),"crossing"==e.railway&&(t+="crossing<br/>"),"level_crossing"==e.railway&&(t+="lvel crossing<br/>"),"station"==e.railway&&(t+="station<br/>"),"bus_station"==e.amenity&&(t+="bus station<br/>"),"bus_station"==!e.amenity&&"station"==e.public_transport&&"yes"==e.bus&&(t+="bus station<br/>"),"rail"==e.railway&&(t+="railway<br/>","contact_line"==e.electrified&&(t+="overhead contact line<br/>")),"tram"==e.railway&&(t+="tram<br/>"),"slipway"!=e["seamark:small_craft_facility:category"]&&"slipway"!=e.harbour&&"slipway"!=e.leisure||(t+="slipway<br/>"),"harbour"==e["seamark:type"])if(e["seamark:harbour:category"])switch(e["seamark:harbour:category"]){case"ferry":t+="ferry<br/>";break;case"container":t+="container<br/>";break;case"marina":"marina"!=e.leisure&&(t+="marina<br/>");break;case"navel_base":t+="navel base<br/>";break;case"tanker":t+="tanker<br/>";break;case"passenger":t+="passenger<br/>";break;case"bulk":t+="bulk<br/>";break;default:t+="habour<br/>"}else t+="habour<br/>";return"marina"==e.leisure&&(t+="marina<br/>"),"wreck"==e.historic&&(t+="wreck<br/>"),"animal_shelter"==e.amenity&&(t+="animal shelter<br/>"),"shelter"==e.animal&&(t+="shelter<br/>"),"horse_walker"==e.animal&&(t+="horse walker<br/>"),"yes"==e.animal_shelter&&(t+="animal shelter<br/>"),"dog"==e.animal_shelter&&(t+="animal shelter<br/>"),"cat"==e.animal_shelter&&(t+="animal shelter<br/>"),"animal_boarding"==e.amenity&&(t+="animal boarding<br/>"),"yes"==e.animal_boarding&&(t+="animal boarding<br/>"),"dog"==e.animal_boarding&&(t+="animal boarding<br/>"),"horse"==e.animal_boarding&&(t+="animal boarding<br/>"),"cat"==e.animal_boarding&&(t+="animal boarding<br/>"),"dog;cat"==e.animal_boarding&&(t+="animal boarding<br/>"),"cat;dog"==e.animal_boarding&&(t+="animal boarding<br/>"),"school"!=e.animal&&"sport"!=e.animal&&"animal_training"!=e.amenity||(t+="animal training<br/>"),"swimming"==e.animal&&(t+="swimming for dogs<br/>"),"feeding_place"!=e.amenity&&"animal_feeding"!=e.man_made&&"animal_feeding"!=e.amenity||(t+="animal feeding<br/>"),"wildlife_feeding"!=e.amenity&&"deer_feeding"!=e.amenity&&"game_feeding"!=e.amenity||(t+="wildlife feeding<br/>"),"cratch"!=e.amenity&&"cratch"!=e.man_made&&"feeding_rack"!=e.amenity||(t+="feeding rack<br/>"),"manger"==e.amenity&&(t+="manger<br/>"),"birdhouse"==e.man_made&&(t+="birdhouse<br/>"),"stork"==e.birds_nest&&(t+="storck<br/>"),"nest_box"==e.amenity&&(t+="nest box<br/>"),"wellness"==e.animal&&(t+="dog parlour<br/>"),"cemetery"==e.animal&&(t+="small animal cemetery<br/>"),"stable"!=e.building&&"stable"!=e["building:use"]||(t+="stable<br/>"),"cowshed"==e.building&&(t+="cowshed<br/>"),"sty"==e.building&&(t+="sty<br/>"),"barn"==e.building&&(t+="barn<br/>"),"farm_auxiliary"==e.building&&(t+="farm auxiliary<br/>"),(e["river:waterway_distance"]||"milestone"==e.waterway)&&(t+="milestone of waterway distance<br/>"),"milestone"==e.highway&&(t+="milestone<br/>"),"market"==e["xmas:feature"]&&(t+="Christmas fair<br/>"),"tree"==e["xmas:feature"]&&(t+="sale of Chrismas trees<br/>"),"event"==e["xmas:feature"]&&(t+="Chrismas event<br/>"),"pyramid"==e["xmas:feature"]&&(t+="Chrismas pyramid<br/>"),'<div class="c4g_popup_header_featuretype">'+t+"<br/> </div>"}var u=t.fnContent=function(e){var t;return t=""+I(e),t+=j(e),t+=c(e),t+=E(e),t+=T(e),t+=S(e),t+=x(e),t+=C(e),t+=w(e),t+=O(e),t+=v(e),t+=b(e),t+=_(e),t+=g(e),t+=m(e),t+=y(e),t+=d(e),t+=h(e),t+=M(e),t+=A(e),t+=L(e),t+=R(e),t+=f(e),t+=P(e),(t+=p(e))&&(t="<br/>"+t),'<div class="c4g_popup_content">'+t+"</div>"},c=t.fnContentAerodrome=function(e){var t="";return e.aerodrome&&("international"==e.aerodrome&&(t+="type of airport: international<br/>"),"regional"==e.aerodrome&&(t+="type of airport: regional<br/>"),"gliding"==e.aerodrome&&(t+="type of airport: gliding<br/>"),"private"==e.aerodrome&&(t+="type of airport: private<br/>")),e.iata&&(t+="IATA-Code: "+e.iata+"<br/>"),e.icao&&(t+="ICAO-Code: "+e.icao+"<br/>"),t},h=t.fnContentNatural=function(e){var t="";if((e.forest||e.wood)&&("broadleaved"!=e.leaf_type&&"deciduous"!=e.wood||(t+="broadleaved<br/>"),"needleleaved"!=e.leaf_type&&"coniferous"!=e.wood||(t+="needleleaved<br/>"),"mixed"!=e.leaf_type&&"mixed"!=e.wood||(t+="mixed<br/>"),"leafless"==e.leaf_type&&(t+="leafless<br/>"),"evergreen"==e.wood&&(t+="evergreen<br/>"),"palm"==e.wood&&(t+="palm<br/>"),"nipa_palm"==e.wood&&(t+="nipa palm<br/>"),"eucalypt"==e.wood&&(t+="eucalypt<br/>"),"filao"!=e.wood&&"casuarina"!=e.wood||(t+="casuarina<br/>")),"tree"==e.natural&&(!e["genus:de"]&&!e["species:de"]&&e.leaf_type&&(t="broadleaved"==e.leaf_type||"deciduous"==e.leaf_type||"broadleafed"==e.leaf_type?t+"broad-leaved<br/>":t+"conifer<br/>"),e.genus&&(t+=e.genus+"<br/>"),e["genus:de"]&&(t+=e["genus:de"]+"<br/>"),e.species&&(t+=e.species+"<br/>"),e["species:de"]&&(t+=e["species:de"]+"<br/>"),"landmark"==e.denotation&&(t+="landmark<br/>"),"natural_monument"==e.denotation||"yes"==e.monument)&&(t+="natural monument<br/>"),"manger"==e["feeding:type"]&&(t+="manger:rack for fodder<br/>"),"automated"==e["feeding:type"]&&(t+="automated<br/>"),e["feeding:for"])switch(e["feeding:for"]){case"sheep":t+="animal: sheep<br/>";break;case"horse":t+="animal: horse<br/>";break;case"cow":t+="animal: cow<br/>";break;case"rabbit":t+="animal: rabbit<br/>";break;case"bunny":t+="animal: bunny<br/>";break;case"cat":t+="animal: cat </br>";break;case"swan":t+="animal: swan </br>";break;case"guinea pig":t+="animal: guinea pig </br>";break;case"donkey":t+="animal: donkey </br>";break;case"squirrel":t+="animal: squirrel </br>";break;case"pig":t+="animal: pig </br>";break;case"deer":t+="animal: deer </br>";break;case"guinea pig":t+="animal: guinea pig </br>";break;case"monkey":t+="animal: monkey </br>";break;case"camel":t+="animal: camel </br>";break;case"goat":t+="animal: goat </br>";break;case"hamster":t+="animal: hamster </br>";break;case"alpaca":t+="animal: alpaca </br>";break;default:t+="animal: unknown<br/>"}if(e["feeding:fodder"])switch(e["feeding:fodder"]){case"hay":t+="feed with: hay</br>";break;case"grain":t+="feed with: grain</br>";break;case"corn":t+="feed with: corn</*br>";break;default:t+="feed with: unknown</br>"}return"volcano"==e.natural&&"active"==e.status&&(t+="active volcano<br/>"),"volcano"==e.natural&&"dormant"==e.status&&(t+="dormant volcano<br/>"),"volcano"==e.natural&&"extinct"==e.status&&(t+="extinct volcano<br/>"),"volcano"==e.natural&&"stratovolcano"==e.type&&(t+="type of volcanism:stratovolcano<br/>"),"volcano"==e.natural&&"shield"==e.type&&(t+="type of volcanism:shield<br/>"),"volcano"==e.natural&&"scoria"==e.type&&(t+="type of volcanism:scoria<br/>"),t},p=t.fnContentProtectedArea=function(e){var t="",r="";return"protected_area"==e.boundary&&(e.protect_class&&(r=e.protect_class),e.protect_id&&(r=e.protect_id),"1"==r&&(t="description: Strict Nature Reserve, Wilderness Area<br/>"),"2"==r&&(t="description: National Park<br/>"),"3"==r&&(t="description: Natural Monument or Feature<br/>"),"4"==r&&(t="description: Habitat/Species Management Area<br/>"),"5"==r&&(t="description: Protected Landscape/ Seascape<br/>"),"6"==r&&(t="description: Protected area with sustainable use of natural resources<br/>"),"7"==r&&(t="description: nature-feature area<br/>"),"97"==r&&(t="description: protected by continental agreements<br/>"),"98"==r&&(t="description: protected by interstate- or international conventions<br/>"),"99"==r&&(t="other continental or international national protected areas <br/>"),"21"==r&&(t="description: Community life: religious, sacred areas, associative locations, recreation<br/>"),"22"==r&&(t="description: Cultural assets (cultural assets and - efforts, districts historical heritage, monument conservation)<br/>"),"23"==r&&(t="description: Protection in favor of economics<br/>"),"24"==r&&(t="description: Political protection<br/>"),"25"==r&&(t="description: Military areas (military refuges, test area)<br/>"),"26"==r&&(t="description: Historic: for colonial-stuff and protectorates.<br/>"),"29"==r&&(t="description: other social protected areas<br/>"),"11"==r&&(t="description: soil: crop yield, erosion protection, ...<br/>"),"12"==r&&(t="description: water: water protection area, fresh water, drinking water, springs, ...<br/>"),"13"==r&&(t='description: climate and -air: gasper supply/cold air, ...for emission-, immission control in OSM existent, see "Low Emission Zone" (LEZ)<br/>'),"14"==r&&(t="description: species: no fishing, protected for fishery, protected for hunting, plants, ...<br/>"),"15"==r&&(t="description: location condition: floodwater retention area, protection forest, grazing land, ...<br/>"),"16"==r&&(t='description: longtime hazard area: contamination, earth-moving area, "problem sites" ...<br/>'),"19"==r&&(t="description: other national resources protected areas<br/>")),t},d=t.fnContentLanduse=function(e){var t="";return"quarry"==e.landuse&&e.resource&&(t+="Resource: "+e.resource+"<br/>"),"open_stable"==e["animal_keeping:type"]&&(t+="open stable<br/>"),"field_shelter"==e["animal_keeping:type"]&&(t+="field shelter<br/>"),"paddock"==e["animal_keeping:type"]&&(t+="paddock<br/>"),e.animal_keeping&&(t+="animals: horses<br/>"),t},f=t.fnMessstation=function(e){var t="";return"yes"==e["monitoring:water_level"]&&(t+="water level<br/>"),"yes"==e["monitoring:seismic_activity"]&&(t+="seismic activity<br/>"),"yes"==e["monitoring:tide_gauge"]&&(t+="tide gauge<br/>"),"yes"==e["monitoring:weather"]&&(t+="weather<br/>"),"yes"==e["monitoring:air_quality"]&&(t+="air quality<br/>"),t},g=t.fnContentRoute=function(e){var t="";return e.route&&("yes"==e.roundtrip&&(t+="roundtrip<br/>"),e.length&&(t+="length: "+e.length+"<br/>"),e.distance&&(t+="distance: "+e.distance+"<br/>"),e.symbol&&(t+="symbol: "+e.symbol+"<br/>")),t},m=t.fnContentPetrol=function(e){var t="";return"fuel"==e.amenity&&("yes"==e["fuel:biodiesel"]&&(t+="biodiesel<br/>"),"yes"==e["fuel:e85"]&&(t+="e85<br/>"),"yes"==e["fuel:e10"]&&(t+="e10<br/>"),"yes"==e["fuel:lpg"]&&(t+="lpg<br/>"),"yes"==e["fuel:cng"]&&(t+="cng<br/>"),"diesel"==e.fuel&&(t+="diesel<br/>"),"lpg"==e.fuel&&(t+="lpg<br/>"),"yes"==e["fuel:octane_95"]&&(t+="octane 95<br/>"),"yes"==e["fuel:octane_98"]&&(t+="octane 98<br/>"),"yes"==e["fuel:octane_100"]&&(t+="octane 100<br/>"),"yes"==e["fuel:octane_102"]&&(t+="octane 102<br/>"),"yes"==e["fuel:diesel"]&&(t+="diesel<br/>"),"yes"==e["fuel:electricity"]&&(t+="charging station / loading station<br/>")),t},y=(t.fnContentHistoric=function(e){var t="";if("archaeological_site"==e.historic&&e.site_type)switch(e.site_type){case"megalith":t+="megalith<br/>";break;case"bigstone":t+="bigstone<br/>";break;case"tumulus":t+="tumulus<br/>";break;case"fortification":t+="fortification<br/>";break;default:t+="unknown<br/>"}return t},t.fnContentBarriers=function(e,t){var r="";return"wall"!=e.barrier&&"bollard"!=e.barrier||e.material&&(r+="material: "+o(e.material)+"<br/>"),r}),_=t.fnContentTourism=function(e){var t="";return"camp_site"==e.tourism&&("yes"==e.dog&&(t+="dogs allowed<br/>"),"no"==e.dog&&(t+="dogs forbidden<br/>"),e.stars&&(t+=e.stars+"stars<br/>"),e.caravans&&(t+="caravan sites<br/>"),"yes"!=e.openfire&&"yes"!=e.fireplace||(t+="Thers is an openfire. <br/>"),"yes"==e.washing_machine&&(t+="washing machine<br/>"),"yes"==e.dryer&&(t+="dryer<br/>"),"yes"==e.group_only&&(t+="use for groups only<br/>"),"reception"==e.camp_site&&(t+="reception available<br/>")),"information"==e.tourism&&"map"==e.information&&("topo"==e.map_type&&(t+="topo</br>"),"street"==e.map_type&&(t+="street</br>"),"scheme"==e.map_type&&(t+="scheme</br>"),"toposcope"==e.map_type&&(t+="toposcope</br>")),"information"==e.tourism&&"map"==e.information&&("site"==e.map_size&&(t+="map of site</br>"),"city"==e.map_size&&(t+="city map</br>"),"region"==e.map_size&&(t+="map of region</br>")),"geology"==e.board_type&&(t+="geologic information<br/>"),"history"==e.board_type&&(t+="historic information<br/>"),"nature"==e.board_type&&(t+="information about nature<br/>"),"notice"==e.board_type&&(t+="general information<br/>"),"plants"==e.board_type&&(t+="information about plants<br/>"),"wildlife"==e.board_type&&(t+="information about wildlife<br/>"),t},b=t.fnContentAmenity=function(e){var t="";if("boat_sharing"==e.amenity&&(t+=e.boattype+"<br/>"),"embassy"==e.amenity&&(t+=e.country+"<br/>"),e.vending)switch(e.vending){case"admission_tickets":t+="tickets<br/>";break;case"animal_feed":t+="animal feed<br/>";break;case"books":t+="books<br/>";break;case"candles":t+="candles<br/>";break;case"cigarettes":t+="cigarettes<br/>";break;case"condoms":t+="condoms<br/>";break;case"drinks":t+="drinks<br/>";break;case"first_aid":t+="first aid articles<br/>";break;case"fishing_tackle":t+="fishing tackle<br/>";break;case"flowers":t+="flowers<br/>";break;case"ice_cream":t+="ice cream<br/>";break;case"laundry_detergent":t+="laundry detergent<br/>";break;case"newspapers":t+="newspapers<br/>";break;case"SIM_cards":t+="sIM-cards<br/>";break;case"sweets":t+="sweets<br/>";break;case"parcel_pickup":t+="parcel pickup<br/>";break;case"ice_cubes":t+="ice cubes<br/>";break;case"public_transport_tickets":t+="public transport tickets<br/>";break;case"parking_ticket":t+="parking tickets<br/>";break;case"sex_toys":t+="sex toys<br/>";break;case"stamps":t+="stamps<br/>";break;case"toll":t+="toll<br/>";break;case"umbrellas":t+="umbrellas<br/>";break;default:t+="content unknown<br/>"}return"post_box"==e.amenity&&(e.collection_times&&(t+="collection times: "+e.collection_times+"<br/>"),"yes"==e.drive_through&&(t+="accessible by car. <br/>")),t},v=t.fnContentStorage=function(e){var t="";if("storage_tank"==e.man_made){if(e.content){var r=e.content;switch(r){case"fuel":r="fuel";break;case"oil":r="oil";break;case"gas":r="gas";break;case"slurry":r="slurry";break;case"cement":r="cement";break;case"water":r="water";break;case"manure":r="manure";break;case"silage":r="silage"}t+="content: "+r+"<br/>"}if(e.contents){switch(r=e.contents){case"fuel":r="fuel";break;case"oil":r="oil";break;case"gas":r="gas";break;case"slurry":r="slurry";break;case"cement":r="cement";break;case"water":r="water";break;case"manure":r="manure";break;case"silage":r="silage"}t+="content: "+r+"<br/>"}}return e.storage&&("gas"==e.storage&&(t+="content: gas<br/>"),"oil"==e.storage&&(t+="content: oil<br/>")),t},w=t.fnContentInformationCity=function(e){var t="";if(e["name:de"]&&(t+="german name: "+e["name:de"]+"<br/>"),1e4<=e.population)if(e.population=""+e.population,3<e.population.length){for(var r=e.population.length%3,n=0<r?e.population.substring(0,r):"",i=0;i<Math.floor(e.population.length/3);i++)n=0==r&&0==i?n+e.population.substring(r+3*i,r+3*i+3):n+"."+e.population.substring(r+3*i,r+3*i+3);t+="population: "+n+"<br/>"}else t+="population "+e.population+"<br/>";return 1e4>=e.population&&(t+="population: "+e.population+"<br/>"),t},O=t.fnContentEmergency=function(e){var t="";if(e.lifeboat&&("inshore"==e.lifeboat?t+="application: inshore<br/>":"offshore"==e.lifeboat&&(t+="application: offshore<br/>")),e["lifeboat:class"]&&(t+="type of boat: "+e["lifeboat:class"]+"<br/>"),e["siren:type"]){var r=e["siren:type"];switch(r){case"mechanical":r="mechanical";break;case"electronic":r="electronic";break;case"pneumatic":r="pneumatic";break;case"electromechanic":r="electromechanic"}t+="Typ: "+r+"<br/>"}if(e["siren:purpose"]){switch(r=e["siren:purpose"]){case"air_raid":r="air raid";break;case"tornado":r="tornado";break;case"storm":r="storm";break;case"civil_defense":r="civil defence";break;case"fire":r="fire"}t+="use: "+r+"<br/>"}return e["siren:model"]&&(t+="model: "+e["siren:model"]+"<br/>"),e["siren:range"]&&(t+="range of siren: "+e["siren:range"]+"<br/>"),t},E=t.fnContentCuisine=function(e){var t="";if(e.cuisine){var r="";t="supermarket"!=e.shop&&"convenience"!=e.shop&&"deli"!=e.shop&&"organic"!=e.shop||"restaurant"==e.amenity?t+"cuisine: ":t+"specialties: ";"arabic"==e.cuisine&&(r+="arabic<br/>"),"italian"==e.cuisine&&(r+=" italian<br/>"),"international"==e.cuisine&&(r+=" international<br/>"),"regional"==e.cuisine&&(r+=" regional<br/>"),"chinese"==e.cuisine&&(r+=" chinese<br/>"),"greek"==e.cuisine&&(r+=" greek<br/>"),"african"==e.cuisine&&(r+=" african<br/>"),"german"==e.cuisine&&(r+=" german<br/>"),"mexican"==e.cuisine&&(r+=" mexican<br/>"),"french"==e.cuisine&&(r+=" french<br/>"),"indian"==e.cuisine&&(r+=" indian<br/>"),"iranian"==e.cuisine&&(r+=" iranian<br/>"),"lebanese"==e.cuisine&&(r+=" lebanese<br/>"),"thai"==e.cuisine&&(r+=" thai<br/>"),"balkan"==e.cuisine&&(r+=" balkan<br/>"),"turkish"==e.cuisine&&(r+=" turkish<br/>"),"bavarian"==e.cuisine&&(r+=" bavarian<br/>"),"czech"==e.cuisine&&(r+=" czech<br/>"),"portuguese"==e.cuisine&&(r+=" portuguese<br/>"),"spanish"==e.cuisine&&(r+=" spanish<br/>"),"japanese"==e.cuisine&&(r+=" japanese<br/>"),"fish"==e.cuisine&&(r+=" fish<br/>"),"brazilian"==e.cuisine&&(r+=" brazilian<br/>"),"asian"==e.cuisine&&(r+=" asian<br/>"),"mediterranean"==e.cuisine&&(r+="mediterranean<br/>"),"seafood"==e.cuisine&&(r+=" seafood<br/>"),"ice_cream"==e.cuisine&&(r+=" ice cream<br/>"),"burger"==e.cuisine&&(r+=" burger<br/>"),"frozen_yogurt"==e.cuisine&&(r+=" frozen yogurt<br/>"),""==r&&(r=e.cuisine+"<br/>"),t+=r}return t},T=t.fnContentShipping=function(e){var t="";if(e.harbour="yes","yes"==e["access:tide"]&&(t+="Access restricted by tide</br>"),"yes"==e["access:swell"]&&(t+="access restricted by swell</br>"),"yes"==e["access:ice"]&&(t+="access restricted by ice</br>"),e.vhf_channel&&(t+="UKW-Channel: "+e.vhf_channel+"</br>"),e.mmsi&&(t+="MMSI-Number: "+e.mmsi+"</br>"),e["harbour:information"]&&(t+="information :"+e["harbour:information"]+"</br>"),"yes"==e.motorboat&&(t+="motorboat allowed</br>"),"no"==e.motorboat&&(t+="motorboat prohibited </br>"),e.CEMT&&(t+="CEMT: "+e.CEMT+"</br>"),"yes"==e.intermittent&&(t+="river intermittent dried out</br>"),"yes"==e.tidal&&(t+="tidal influence the flow</br>"),e.draft&&(t+=" driving depth of water: "+e.draft+" m</br>"),"slipway"!=e.leisure&&"slipway"!=e.harbour||("hand"==e.operating&&(t+="operating: by hand<br/>"),"car"==e.operating&&(t+="operating: by car, boat trailer<br/>"),"cable_winch"==e.operating&&(t+="operating: with cable winch<br/>"),"travellift"==e.operating&&(t+="operating: by travellift<br/>"),"crane"==e.man_made&&(t+="by crane<br/>",e["crane:maxload"]&&(t+="maxload: "+e["crane:maxload"]+"<br/>"),e["ship:maxdraft"]&&(t+="maximum permissible draught: "+e["ship:maxdraft"]+"<br/>"),e["ship:maxlength"]&&(t+="maximum permissible length of a ship: "+e["ship:maxlength"]+"<br/>")),"yes"==e.vehicle&&(t+="accessible by vehicle<br/>")),t+=F(e),"ferry"!=e.route&&"ferry_terminal"!=e.amenity&&"yes"!=e.ferry||(fahrzeit=e.duration,""!=fahrzeit&&"undefined"!=fahrzeit&&null!=fahrzeit&&(t+="duration in hours : "+fahrzeit+"<br/>"),"yes"==e.motorcar&&(t+="motorcars allowed<br/>"),"no"==e.motorcar&&(t+="motorcars prohibited<br/>"),"no"==e.motor_vehicle&&(t+="motor vehicles prohibited<br/>"),"yes"==e.motor_vehicle&&(t+="motor vehicles allowed<br/>"),"yes"==e.vehicle&&(t+="vehicles allowed<br/>"),"no"==e.vehicle&&(t+="no vehicles<br/>"),"no"==e.bicycle&&(t+="no bicycles<br/>"),"no"==e.bicycle&&(t+="bicycles allowed<br/>"),"yes"==e.hgv&&(t+="hgv allowed<br/>"),"no"==e.hgv&&(t+="hgv prohibited<br/>"),"yes"==e.foot&&(t+="pedestrian allowed<br/>"),"no"==e.foot&&(t+="pedestrian prohibited <br/>"),"yes"==e.bicycle&&(t+="cyclist allowed <br/>"),"no"==e.bicycle&&(t+="cyclist prohibited <br/>"),"yes"==e["ferry:cable"]&&(t+="cable ferry<br/>")),e["seamark:light:1:colour"]){var r=e["seamark:light:1:colour"];switch(r){case"white":r="white";break;case"red":r="red";break;case"green":r="green";break;case"blue":r="blue";break;case"yellow":r="yellow";break;case"amber":r="amber"}t+="colour of light: "+r+"<br/>"}if("lighthouse"==e.man_made&&(e["seamark:light:1:character"]&&(t+="light character: "+e["seamark:light:1:character"]+"<br/>"),e["seamark:light:1:period"]&&(t+="period: "+e["seamark:light:1:period"]+"<br/>"),e["seamark:light:1:height"]&&(t+="height: "+e["seamark:light:1:height"]+" m<br/>"),e["seamark:light:1:range"]&&(t+="range: "+e["seamark:light:1:range"]+" sm<br/>")),e["seamark:light:colour"]){switch(r=e["seamark:light:colour"]){case"white":r="white";break;case"red":r="red";break;case"green":r="green";break;case"blue":r="blue";break;case"yellow":r="yellow";break;case"amber":r="amber"}t+="colour of light: "+r+"<br/>"}return"lighthouse"==e.man_made&&(e["seamark:light:character"]&&(t+="light character: "+e["seamark:light:character"]+"<br/>"),e["seamark:light:height"]&&(t+="height: "+e["seamark:light:height"]+" m<br/>"),e["seamark:light:range"]&&(t+="range: "+e["seamark:light:range"]+" sm<br/>"),e["seamark:light:period"]&&(t+="period: "+e["seamark:light:period"]+"<br/>")),t},S=t.fnContentHydrants=function(e){var t="";if("fire_hydrant"==e.emergency){var r=e["fire_hydrant:count"];"undefined"!=r&&null!=r&&""!=r&&(t+="Number: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:diameter"])&&null!=r&&""!=r&&(t+="Pipe diameter: "+r+" mm<br/>"),"undefined"!=(r=e["fire_hydrant:pressure"])&&null!=r&&""!=r&&(t="suction"==r?t+"Pressure in bar / Suction: Suction<br/>":t+"Pressure in bar / Suction: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:position"])&&null!=r&&""!=r&&("lane"==r?t+="Position: Lane<br/>":"parking_lot"==r?t+="Position: Parking Lot<br/>":"sidewalk"==r?t+="Position: Sidewalk<br/>":"green"==r&&(t+="Position: Green<br/>")),"undefined"!=(r=e.water_volume)&&null!=r&&""!=r&&(t+="Volume: "+r+"<br/>"),"undefined"!=(r=e["fire_hydrant:awwa_class"])&&null!=r&&""!=r?t+="AWWA Class: "+r+"<br/>":"undefined"!=(r=e.flow_rate)&&null!=r&&""!=r&&(t+="Flow rate: "+r+"<br/>"),"undefined"!=(r=e.water_source)&&null!=r&&""!=r&&"main"!=r&&(t+="Water source: "+r+"<br/>"),"undefined"!=(r=e["couplings:type"])&&null!=r&&""!=r&&(t+="Couplings type: "+r+"<br/>"),"undefined"!=(r=e["couplings:diameter"])&&null!=r&&""!=r&&(t+="Couplings diameter: "+r+"<br/>"),"dry_barrel"===(r=e["pillar:type"])&&(t+="Pillar type: "+r+"<br/>"),"fire_hydrant"===e["disused:emergency"]&&(t+="Currently disused"),""==t&&(t="No details available.")}return t},C=t.fnContentStreetsTraffic=function(e){var t="";if("yes"==e["red_turn:right"]&&(t+="red turn: allowed to turn to the right<br/>"),"no"==e["red_turn:right"]&&(t+="red turn: prohibited to turn to the right<br/>"),e.bridge&&(e.height&&(t+="height: "+e.height+" m<br/>"),e.length&&(t+="length: "+e.length+" m<br/>"),e.bridge_ref&&(t+="bridge ref: "+e.bridge_ref+"<br/>"),e.start_date&&(t+="start date: "+e.start_date+"</br>;"),e.maxweight&&(t+="maxweight: "+e.maxweight+" t</br>")),e.highway&&"yes"==e.toll&&(t+="toll highway<br/>"),"yes"==e["toll:hgv"]&&(t+="HGV toll<br/>"),e.surface){var r=e.surface;t=t+"surface: ";switch(r){case"grass":t+="grass<br/>";break;case"paved":t+="paved<br/>";break;case"asphalt":t+="asphalt<br/>";break;case"cobblestone":t+="cobblestone<br/>";break;case"sett":t+="sett<br/>";break;case"concrete":t+="concrete<br/>";break;case"unpaved":t+="unpaved<br/>";break;case"paving_stones":t+="paving stones<br/>";break;case"compacted":t+="compacted<br/>";break;case"dirt":t+="dirt<br/>";break;case"fine_gravel":t+="fine gravel<br/>";break;case"grass_paver":t+="grass paver<br/>";break;case"gravel":t+="gravel<br/>";break;case"earth":t+="earth<br/>";break;case"ground":t+="ground<br/>";break;case"metal":t+="metal<br/>";break;case"mud":t+="mud<br/>";break;case"sand":t+="sand<br/>";break;case"wood":t+="wood<br/>";break;case"tartan":t+="tartan<br/>";break;case"artificial_turf":t+="artificial turf<br/>";break;case"clay":t+="clay<br/>";break;default:t+="unknown<br/>"}}if("grade1"==e.tracktype&&(t+="path surface: Solid. Usually a paved or heavily compacted hardcore surface.<br/>"),"grade2"==e.tracktype&&(t+="path surface: Mostly solid. Usually an unpaved track with surface of gravel mixed with a varying amount of sand, silt, and clay.<br/>"),"grade3"==e.tracktype&&(t+="path surface: Even mixture of hard and soft materials. Almost always an unpaved track.<br/>"),"grade4"==e.tracktype&&(t+="path surface: Mostly soft. Almost always an unpaved track prominently with soil/sand/grass, but with some hard materials, or compressed materials mixed in.<br/>"),"grade5"==e.tracktype&&(t+="path surface: Soft. Almost always an unpaved track lacking hard materials, uncompacted, with surface of soil/sand/grass.<br/>"),"yes"==e.motorcycle&&(t+="<br/>motorcyle allowed.<br/>"),"no"==e.motorcycle&&(t+="<br/>motorcycles prohibited.<br/>"),"excellent"==e.trail_visibility&&(t+="trail visibility: Unambiguous path or markers everywhere<br/>"),"good"==e.trail_visibility&&(t+="trail visibility: Next marker always visible, but sometimes has to be searched for.<br/>"),"intermediate"==e.trail_visibility&&(t+="trail visibility: Track mostly visible<br/>"),"bad"==e.trail_visibility&&(t+="trail visibility: Path sometimes invisible, route partly pathless<br/>"),"horrible"==e.trail_visibility&&(t+="trail visibility: Often pathless<br/>"),"no"==e.trail_visibility&&(t+="trail visibility: Mostly pathless<br/>"),"hiking"==e.sac_scale&&(t+="trail: Trail well cleared. (SAC Scale: T1 (yellow))</br>"),"mountain_hiking"==e.sac_scale&&(t+="trail: Trail with continuous line and balanced ascent (SAC Scale: T2 (red))</br>"),"demanding_mountain_hiking"==e.sac_scale&&(t+="trail: exposed sites may be secured with ropes or chains, possible need to use hands for balance (SAC Scale: T3 (red))</br>"),"alphine_hiking"==e.sac_scale&&(t+="trail: sometimes need for hand use to get ahead (SAC Scale: T4 (blue))</br>"),"demanding_alphine_hiking"==e.sac_scale&&(t+="trail: single plainly climbing up to second grade (SAC Scale: T5 (blue))</br>"),"difficult_alpine_hiking"==e.sac_scale&&(t+="trail: climbing up to second grade (SAC Scale: T6 (blue))</br>"),e["mtb:name"]&&(t+="cycleway :"+e["mtb:name"]+"</br>"),"0"==e["mtb:scale"]&&(t+="Mountainbikeroute: Very easy way - Gravel or packed earth. No particular difficulties. Mostly forest and meadow paths (highway=path). Sections with steps, rocks, or roots are not expected. Wide curves, easy to moderate slope. No special skills are needed to ride this. Easy to ride uphill.</br>Surface: solid and handy</br>Obstacles: no obstacles</br>Gradient: mild to moderate</br>Bends: wide</br>Driving skills: no special driving skills required</br>"),"1"==e["mtb:scale"]&&(t+="Mountainbikeroute: Smaller obstacles like roots and small stones. Erosion damage may increase difficulty. Soil may be loose in places. Tight turns, but no hairpin turns. Riding requires care and attention, but no special skill. Obstacles can be ridden over. Difficult to ride uphill.</br>Surface: loose surface possible, small roots and stones</br>Obstacles: small obstacles, water gutter, erosion damage</br>Gradient: < 40%</br>Bends: wide</br>Driving skills: basic driving skills required, obstacles can be passed over</br>"),"2"==e["mtb:scale"]&&(t+="Mountainbikeroute: Obstacles such as large rocks and stones. Soil is often loose.  Steps are expected. Wider hairpin turns, steepness of up to 70%. Requires some advanced riding skills. Only very skilled riders can go uphill on this.</br>Surface: surface usually not compacted, larger roots and stones.</br>Obstacles: plain steps and stairs</br>Gradient: < 70%</br>Bends: easy hairpins</br>Driving skills: advanced driving skills required</br>"),"3"==e["mtb:scale"]&&(t+="Mountainbikeroute: Many sections with large obstacles such as boulders and large roots. Many hairpin and off-balance turns. Slippery surface and talus sections may be found. The surface may be very slippery. Constant concentration and very good skills needed. Nearly impossible to ride uphill.</br>Surface: many large roots / rocks or slippery ground, loose scree</br>Obstacles: drags, hardly driveable steps</br>Gradient: >70%</br>Bends: bail like hairpins</br>Driving skills: perfect bike control with trial skills required, like moving the rear wheel only in hairpins</br>"),"4"==e["mtb:scale"]&&(t+="Mountainbikeroute: Very steep and difficult, with sections having large boulders and roots. Frequent loose debris. Very steep sections with very tight hairpin turns and high steps that will cause the chainring to hit the ground. Some trials techniques will be necessary. Nearly impossible to ride uphill.</br>Surface: many large roots / rocks or slippery ground, loose scree</br>Obstacles: drags, hardly driveable steps</br>Gradient: >70%</br>Bends: bail like hairpins</br>Driving skills: perfect bike control with trial skills required, like moving the rear wheel only in hairpins</br>"),"5"==e["mtb:scale"]&&(t+="Mountainbikeroute: Very steep and difficult with big boulder fields and debris, and landslides. Speed must be carried for counter-ascents. If at all only short passages are available for accelerating and braking. Fallen trees may make very steep passages even more difficult. Very few Mountainbikers can actually ride at this level. Most will have to push.</br>Surface: counter-ascents / rocks or slippery ground, loose scree / path is rather a Alpine hiking (>T4) path</br>Obstacles: drags, combinations of hardly driveable steps</br>Gradient: >70%</br>Bends: bail like hairpins with obstacles</br>Driving skills: excellent bike control with special trial skills required, moving the front and rear wheel is limited</br>"),"6"==e["mtb:scale"]&&(t+="Mountainbikeroute: Classify ways with 6 that are not rideable at all for a mtbiker. E.g. Chains or stemples (metal rungs) on a via ferrata or simply unsecured alpine pathes that are not even partly rideable for the very best mtbikers (using trial techniques). Steepness is often >45°. If used for single points, then this highlights exceptionally difficult spots. Often spotting is impossible and falling may be lethal.</br>Surface: Path is rather a Alpine hiking (T5 or T6) path or bare rock without visible path.</br>Obstacles: Steps over 2m, rock faces,...</br>Gradient: >100%</br>Bends: no bends can be distinguished as such.</br>Driving skills: only the very best trial specialists or vertriders will try to ride these spots. Walking the place first to find a way to clear is needed.</br>"),"10"==e.maxspeed&&(t+='traffic-calmed sector: maxspeed 10 Km/h and "right over left"</br>'),"30"==e.maxspeed&&(t+='traffic-calmed sector: "right over left" and maxspeed 30 Km/h</br>'),"50"==e.maxspeed&&(t+="maxspeed 50 Km/h</br>"),"70"==e.maxspeed&&(t+="maxspeed 50 Km/h</br>"),"80"==e.maxspeed&&(t+="maxspeed 80 Km/h</br>"),"100"==e.maxspeed&&(t+="maxspeed  100 Km/h</br>"),"no"==e.overtaking&&(t+="No overtaking!</br>"),"yes"==e.noexit&&(t+="noexit</br>"),"yes"==e.oneway&&(t+="oneway</br>"),"designated"==e.priority_road&&(t+="priority road designated</br>"),"end"==e.priority_road&&(t+="priority road ends</br>"),"emergency_bay"==e.highway&&(t+="emergency bay</br>"),"yes"==e.traffic_calming&&(t+="traffic calming</br>"),"bump"==e.traffic_calming&&(t+="bump</br>"),"chicane"==e.traffic_calming&&(t+="chicane</br>"),"choker"==e.traffic_calming&&(t+="choker</br>"),"cushion"==e.traffic_calming&&(t+="cushion</br>"),"hump"==e.traffic_calming&&(t+="hump</br>"),"island"==e.traffic_calming&&(t+="island</br>"),"rumble_strip"==e.traffic_calming&&(t+="rumble strip</br>"),"table"==e.traffic_calming&&(t+="table</br>"),"parking"==e.amenity&&("yes"==e.fee&&(t+="fee required<br/>"),""!=(r=e["capacity:women"])&&"no"!=r&&null!=r)){var n="unkown";"yes"!=r&&(n=r),t+="ladies parking spaces (numbers: "+n+") <br/>"}return e.park_ride&&("bus"==e.park_ride&&(t+="bus connection<br/>"),"tram"==e.park_ride&&(t+="tram connection<br/>"),"unknown"==e.park_ride&&(t+="park ride unkown<br/>")),e["railway:position"]&&(t+="railway<br/>position: "+e["railway:position"]+"<br/>"),e.uic_ref&&(t+="UIC: "+e.uic_ref+"<br/>"),t},x=t.fnContentSports=function(e){var t="";return"9pin"==e.sport&&(t+="possible sport : 9pin<br/>"),"10pin"==e.sport&&(t+="possible sport : 10pin<br/>"),"american_football"==e.sport&&(t+="possible sport : american football<br/>"),"aikido"==e.sport&&(t+="possible sport : aikido<br/>"),"archery"==e.sport&&(t+="possible sport : archery<br/>"),"athletics"==e.sport&&(t+="possible sport : athletics<br/>"),"australian_football"==e.sport&&(t+="possible sport : australian football<br/>"),"base"==e.sport&&(t+="possible sport : base<br/>"),"badminton"==e.sport&&(t+="possible sport : badminton<br/>"),"baseball"==e.sport&&(t+="possible sport : baseball<br/>"),"basketball"==e.sport&&(t+="possible sport : basketball<br/>"),"beachvolleyball"==e.sport&&(t+="possible sport : beachvolleyball<br/>"),"bmx"==e.sport&&(t+="possible sport : bmx<br/>"),"boules"==e.sport&&(t+="possible sport : boules<br/>"),"boule"==e.sport&&(t+="possible sport : boule<br/>"),"bowls"==e.sport&&(t+="possible sport : bowls<br/>"),"boxing"==e.sport&&(t+="possible sport : boxing<br/>"),"canadian_football"==e.sport&&(t+="possible sport : canadian football<br/>"),"canoe"==e.sport&&(t+="possible sport : canoe<br/>"),"chess"==e.sport&&(t+="possible sport : chess<br/>"),"cliff_diving"==e.sport&&(t+="possible sport : cliff diving<br/>"),"climbing"==e.sport&&(t+="possible sport : climbing<br/>"),"climbing_adventure"==e.sport&&(t+="possible sport : adventure climbing<br/>"),"cricket"==e.sport&&(t+="possible sport : cricket<br/>"),"cricket_nets"==e.sport&&(t+="possible sport : cricket nets<br/>"),"croquet"==e.sport&&(t+="possible sport : croquet<br/>"),"curling"==e.sport&&(t+="possible sport : curling<br/>"),"cycling"==e.sport&&(t+="possible sport : cycling<br/>"),"darts"!=e.sport&&"dart"!=e.sport||(t+="Darts<br/>"),"dog_racing"==e.sport&&(t+="possible sport : dog racing<br/>"),"fencing"==e.sport&&(t+="possible sport : fencing<br/>"),"equestrian"==e.sport&&(t+="possible sport : equestrian<br/>"),"football"==e.sport&&(t+="possible sport: american football<br/>"),"free_flying"==e.sport&&(t+="possible sport: free flying<br/>"),"gaelic_games"==e.sport&&(t+="possible sport: gaelic games<br/>"),"golf"==e.sport&&(t+="possible sport: golf<br/>"),"gymnastics"==e.sport&&(t+="possible sport: gymnastik<br/>"),"hockey"==e.sport&&(t+="possible sport: hockey<br/>"),"horseshoes"==e.sport&&(t+="possible sport: horseshoes<br/>"),"horse_racing"==e.sport&&(t+="possible sport: horse racing<br/>"),"ice_stock"==e.sport&&(t+="possible sport: ice stock<br/>"),"judo"==e.sport&&(t+="possible sport: judo<br/>"),"karting"==e.sport&&(t+="possible sport: karting<br/>"),"kitesurfing"==e.sport&&(t+="possible sport: kitesurfing<br/>"),"korfball"==e.sport&&(t+="possible sport: korfball<br/>"),"motor"==e.sport&&(t+="possible sport: motor<br/>"),"multi"==e.sport&&(t+="possible sport: multi<br/>"),"obstacle_course"==e.sport&&(t+="possible sport: obstacle course<br/>"),"orienteering"==e.sport&&(t+="possible sport: orienteering<br/>"),"paddle_tennis"==e.sport&&(t+="possible sport: paddle-tennis<br/>"),"paragliding"==e.sport&&(t+="possible sport: paragliding<br/>"),"Pelota"==e.sport&&(t+="possible sport: Pelota<br/>"),"rasquet"==e.sport&&(t+="possible sport: racquet<br/>"),"rowing"==e.sport&&(t+="possible sport: rowing<br/>"),"rugby_league"==e.sport&&(t+="possible sport: rugby league<br/>"),"rugby_union"==e.sport&&(t+="possible sport: rugby union<br/>"),"running"==e.sport&&(t+="possible sport: running<br/>"),"scuba_diving"==e.sport&&(t+="possible sport: scuba diving<br/>"),"shooting"==e.sport&&(t+="possible sport: shooting<br/>"),"skating"==e.sport&&(t+="possible sport: skating<br/>"),"skateboard"==e.sport&&(t+="possible sport: skateboard<br/>"),"skiing"==e.sport&&(t+="possible sport: skiing<br/>"),"soccer"==e.sport&&(t+="possible sport: soccer<br/>"),"surfing"==e.sport&&(t+="possible sport: surfing<br/>"),"swimming"==e.sport&&(t+="possible sport: swimming<br/>"),"table_tennis"==e.sport&&(t+="possible sport: table tennis<br/>"),"taekwondo"==e.sport&&(t+="possible sport: taekwondo<br/>"),"team_handball"==e.sport&&(t+="possible sport: team handball<br/>"),"tennis"==e.sport&&(t+="possible sport: tennis<br/>"),"toboggan"==e.sport&&(t+="possible sport: toboggan<br/>"),"volleyball"==e.sport&&(t+="possible sport: volleyball<br/>"),"water_ski"==e.sport&&(t+="possible sport: water ski<br/>"),"weightlifting"==e.sport&&(t+="possible sport: weightlifting<br/>"),"wrestling"==e.sport&&(t+="possible sport: wrestling<br/>"),t};function k(e){var t="",r="",n=e["healthcare:speciality"];return""!=n&&("general"==n&&(r+="general<br/>"),"allergology"==n&&(r+="allergology<br/>"),"anaesthetics"==n&&(r+="anaesthetics<br/>"),"biochemistry"==n&&(r+="biochemistry<br/>"),"biological_haematology"==n&&(r+="biological haematology<br/>"),"biology"==n&&(r+="biology<br/>"),"cardiology"==n&&(r+="cardiology<br/>"),"cardiac_surgery"==n&&(r+="cardiac surgery<br/>"),"child_psychiatry"==n&&(r+="child psychiatry<br/>"),"dental_oral_maxillo_facial_surgery"==n&&(r+="dental-, oral-, maxillo- and facial-surgery<br/>"),"dermatology"==n&&(r+="dermatology<br/>"),"dermatovenereology"==n&&(r+="dermatovenereology<br/>"),"diagnostic_radiology"==n&&(r+="diagnostic radiology<br/>"),"emergency"==n&&(r+="emergency<br/>"),"endocrinology"==n&&(r+="endocrinology<br/>"),"gastroenterological_surgery"==n&&(r+="gastroenterological surgery<br/>"),"gastroenterology"==n&&(r+="gastroenterology<br/>"),"geriatrics"==n&&(r+="geriatrics<br/>"),"gynaecology"==n&&(r+="gynaecology<br/>"),"haematology"==n&&(r+="haematology<br/>"),"hepatology"==n&&(r+="hepatology<br/>"),"immunology"==n&&(r+="immunology<br/>"),"infectious_diseases"==n&&(r+="infectious diseases<br/>"),"intensive"==n&&(r+="intensive<br/>"),"internal"==n&&(r+="internal<br/>"),"maxillofacial_surgery"==n&&(r+="maxillofacial surgery<br/>"),"nephrology"==n&&(r+="nephrology<br/>"),"neurology"==n&&(r+="neurology<br/>"),"neurophysiology"==n&&(r+="neurophysiology<br/>"),"neuropsychiatry"==n&&(r+="neuropsychiatry<br/>"),"neurosurgery"==n&&(r+="neurosurgery<br/>"),"nuclear"==n&&(r+="nuclear<br/>"),"occupational"==n&&(r+="occupational <br/>"),"oncology"==n&&(r+="oncology<br/>"),"ophthalmology"==n&&(r+="ophthalmology<br/>"),"orthopaedics"==n&&(r+="orthopaedics<br/>"),"otolaryngology"==n&&(r+="otolaryngology<br/>"),"paediatric_surgery"==n&&(r+="paediatric surgery<br/>"),"paediatrics"==n&&(r+="paediatrics<br/>"),"palliative"==n&&(r+="palliative<br/>"),"physiatry"==n&&(r+="physiatry<br/>"),"plastic_surgery"==n&&(r+="plastic surgery<br/>"),"proctology"==n&&(r+="proctology<br/>"),"psychiatry"==n&&(r+="psychiatry<br/>"),"pulmonology"==n&&(r+="pulmonology<br/>"),"radiology"==n&&(r+="radiology<br/>"),"radiotherapy"==n&&(r+="radiotherapy<br/>"),"rheumatology"==n&&(r+="rheumatology<br/>"),"stomatology"==n&&(r+="stomatology<br/>"),"surgery"==n&&(r+="surgery<br/>"),"surgical_oncology"==n&&(r+="surgical oncology<br/>"),"thoracic_surgery"==n&&(r+="thoracic surgery<br/>"),"transplant"==n&&(r+="transplant<br/>"),"trauma"==n&&(r+="trauma<br/>"),"tropical"==n&&(r+="tropical<br/>"),"urology"==n&&(r+="urology<br/>"),"vascular_surgery"==n&&(r+="vascular surgery<br/>"),"venereology"==n&&(r+="venereology<br/>"),"acupuncture"==n&&(r+="acupuncture<br/>"),"naturopathy"==n&&(r+="naturopathy<br/>"),"chiropractic"==n&&(r+="chiropractic <br/>"),"homeopathy"==n&&(r+="homeopathy<br/>"),"osteopathy"==n&&(r+="osteopathy<br/>")),""!=e.health_specialty&&("yes"==e["health_specialty:family_medicine"]&&(r+="family medicine<br/>"),"yes"==e["health_specialty:emergency_medicine"]&&(r+="emergency medicine<br/>"),"yes"==e["health_specialty:anaesthesiology"]&&(r+="anaesthesiology<br/>"),"yes"==e["health_specialty:dermatology"]&&(r+="dermatology<br/>"),"yes"==e["health_specialty:ear_nose_throat"]&&(r+="ear, nose, throat (ENT specialist)<br/>"),"yes"==e["health_specialty:occupational_medicine"]&&(r+="occupational medicine<br/>"),"yes"==e["health_specialty:internal_medicine"]&&(r+="internal medicine<br/>"),"yes"==e["health_specialty:neurology"]&&(r+="neurology<br/>"),"yes"==e["health_specialty:ophthalmology"]&&(r+="ophthalmology<br/>"),"yes"==e["health_specialty:palliative_medicine"]&&(r+="palliative medicine<br/>"),"yes"==e["health_specialty:psychiatry"]&&(r+="psychiatry<br/>"),"yes"==e["health_specialty:gynaecology"]&&(r+="gynaecology<br/>"),"yes"==e["health_specialty:urology"]&&(r+="urology<br/>"),"yes"==e["health_specialty:pain_medicine"]&&(r+="pain medicine<br/>"),"yes"==e["health_specialty:environmental_medicine"]&&(r+="environmental medicine<br/>"),"yes"==e["health_specialty:intensive_care_medicin"]&&(r+="intensive care medicin<br/>"),"yes"==e["health_specialty:paediatrics"]&&(r+="paediatrics<br/>"),"yes"==e["health_specialty:physiatry"]&&(r+="physiatry<br/>"),"yes"==e["health_specialty:radiology"]&&(r+="radiology<br/>"),"yes"==e["health_specialty:general"]&&(r+="general<br/>"),"yes"==e["health_specialty:occupational_therapy"]&&(r+="occupational therapy<br/>"),"yes"==e["health_specialty:pulmonology"]&&(r+="pulmonology<br/>"),"yes"==e["health_specialty:acupuncture"]&&(r+="acupuncture<br/>"),"yes"==e["health_specialty:orthopaedics"]&&(r+="orthopaedics<br/>"),"yes"==e["health_specialty:chiropractic"]&&(r+="chiropractic<br/>"),"yes"==e["health_specialty:sports_medicine"]&&(r+="sports medicine<br/>")),""!=r&&(t=t+'subjects: <div class="c4g_open_text">'+r+"</div>"),t}function R(e){var t="";if(e["generator:method"]){switch(t+="method of generation: ",e["generator:method"]){case"combustion":t+="combustion";break;case"thermal":t+="thermal";break;case"pumping":t+="pumping";break;case"photovoltaic":t+="photovoltaic";break;case"gasification":t+="gasification";break;case"anaerobic_digestion":t+="anaerobic digestion";break;case"pyrolysis":t+="pyrolysis";break;case"fission":t+="fission";break;case"fusion":t+="fusion";break;default:t+="unknown<br/>"}t+="<br/>"}if(e.power_source){switch(t+="power source: ",e.power_source){case"photovoltaic":t+="photovoltaic";break;default:t+="unknown<br/>"}t+="<br/>"}return e["generator:output:electricity"]&&(t+="electricity generation: "+e["generator:output:electricity"]+"<br/>"),e["generator:output:heat"]&&(t+="heat generation: "+e["generator:output:heat"]+"<br/>"),e["generator:output:cold"]&&(t+="cold generation: "+e["generator:output:cold"]+"<br/>"),e["generator:output"]&&(t+="output: "+e["generator:output"]+"<br/>"),e["generator:output:hot_air"]&&(t+="hot-air generation: "+e["generator:output:hot_air"]+"<br/>"),e["generator:output:cold_water"]&&(t+="cold water generation: "+e["generator:output:cold_water"]+"<br/>"),e["generator:output:cold_air"]&&(t+="cold air generation: "+e["generator:output:cold_air"]+"<br/>"),e["generator:output:compressed_air"]&&(t+="compressed air generation: "+e["generator:output:compressed_air"]+"<br/>"),e["generator:output:steam"]&&(t+="steam generation: "+e["generator:output:steam"]+"<br/>"),e["generator:output:vacuum"]&&(t+="vacuum generation: "+e["generator:output:vacuum"]+"<br/>"),e["generator:output:battery_charging"]&&(t+="battery charging: "+e["generator:output:battery_charging"]+"<br/>"),"PWR"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-1"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-2"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-3"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-4"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-5"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"BWR-6"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"PHWR"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"GCR"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"FBR"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"RBMK-1000"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"RBMK-1500"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"VVER"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"CANDU"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"CPR-1000"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"EPR"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"tokamak"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"stellarator"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"ICF"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"cold-fusion"==e["generator:type"]&&(t+="generator type: "+e["generator:type"]+"<br/>"),"wind_turbine"==e["generator:method"]&&"horizontal_axis"==e["generator:type"]&&(t+="generator method: horizontal axis wind turbine<br/>"),"wind_turbine"==e["generator:method"]&&"vertical_axis"==e["generator:type"]&&(t+="generator method: vertical axis wind turbine<br/>"),"francis_turbine"==e["generator:type"]&&(t+="generator type: francis-turbine<br/>"),"kaplan_turbine"==e["generator:type"]&&(t+="generator type: kaplan-turbine<br/>"),"pelton_turbine"==e["generator:type"]&&(t+="generator type: pelton-turbine<br/>"),"stream"==e["generator:method"]&&"horizontal_axis"==e["generator:type"]&&(t+="generator method: horizontal axis sea current power station<br/>"),"stream"==e["generator:method"]&&"vertical_axis"==e["generator:type"]&&(t+="generator type: vertical axis sea current power station<br/>"),"steam_turbine"==e["generator:type"]&&(t+="generator type: steam turbine<br/>"),"heat_pump"==e["generator:type"]&&(t+="generator type: heat pump<br/>"),"solar_thermal_collector"==e["generator:type"]&&(t+="generator type: solar thermal collector<br/>"),"solar_photovoltaic_panel"==e["generator:type"]&&(t+="generator type: solar photovoltaic panel<br/>"),"steam_generator"==e["generator:type"]&&(t+="generator type: steam generator<br/>"),"gas_turbine"==e["generator:type"]&&(t+="generator type: gas turbine<br/>"),"combined_cycle"==e["generator:type"]&&(t+="generator type: combined cycle<br/>"),"reciprocating_engine"==e["generator:type"]&&(t+="generator type: reciprocating engine<br/>"),t}function P(e){var t="";return"container"!=e.recycling_type&&"centre"!=e.recycling_type&&"recycling"!=e.amenity||("yes"==e["recycling:glass"]&&(t+="glass container</br>"),"yes"==e["recycling:shoes"]&&(t+="shoe container</br>"),"yes"==e["recycling:cooking_oil"]&&(t+="recycling of cooking oil</br>"),"yes"==e["recycling:paper"]&&(t+="recycling of paper</br>"),"yes"==e["recycling:engine_oil"]&&(t+="recycling of engine oil</br>"),"yes"==e["recycling:clothes"]&&(t+="recycling of clothes</br>"),"yes"==e["recycling:car_batteries"]&&(t+="recycling of car batteries</br>"),"yes"==e["recycling:cans"]&&(t+="recycling of cans</br>"),"yes"==e["recycling:scrap_metal"]&&(t+="recycling of scrap metal</br>"),"yes"==e["recycling:plastic"]&&(t+="recycling of plastic</br>"),"yes"==e["recycling:batterries"]&&(t+="recycling of batterries</br>"),"yes"==e["recycling:plastic_bottles"]&&(t+="recycling of plastic bottles</br>"),"yes"==e["recycling:green_waste"]&&(t+="recycling of green waste</br>"),"yes"==e["recycling:hardcore"]&&(t+="recycling of hardcore</br>")),t}var I=function(e){var t="";return e.width&&(t+="width: "+e.width+" m<br/>"),e.height&&(t+="height: "+e.height+" m<br/>"),e.maxwidth&&(t+="maxwidth: "+e.maxwidth+" m<br/>"),e.maxheight&&(t+="maxheight: "+e.maxheight+" m<br/>"),e.maxweight&&(t+="maxweight: "+e.maxweight+" t<br/>"),e.maxspeed&&(t+="maxspeed: "+e.maxspeed+" km/h<br/>"),e.min_age&&(t+="minimum age: "+e.min_age+"<br/>"),e.max_age&&(t+="maximum age: "+e.max_age+"<br/>"),"yes"==e.nudism&&(t+="nudism<br/>"),"yes"==e.ruins&&(t+="ruins<br/>"),e.ele&&(t+="height above sea level: "+e.ele+" m<br/>"),e["xmas:day_date"]&&(t+="period from - till: "+e["xmas:day_date"]+"<br/>"),e["rotor:diameter"]&&(t+="diameter of rotor: "+e["rotor:diameter"]+" m<br/>"),e["xmas:note"]&&(t+="information: "+e["xmas:note"]+"<br/>"),"port"==e["seamark:beacon_lateral:category"]&&(t+="port<br/>"),"starboard"==e["seamark:beacon_lateral:category"]&&(t+="starboard<br/>"),"yes"==e["service:bicycle:retail"]&&(t+="retail bicycles<br/>"),"yes"==e["service:bicycle:repair"]&&(t+="repair bicycles<br/>"),"yes"==e["service:bicycle:rental"]&&(t+="rental bicycles<br/>"),"yes"==e["service:bicycle:pump"]&&(t+="use of a pump is possible<br/>"),"yes"==e["service:bicycle:diy"]&&(t+="diy is possible<br/>"),"yes"==e["service:bicycle:cleaning"]&&(t+="cleaning bicycles<br/>"),"yes"==e["service:bicycle:second_hand"]&&(t+="sale of second hand bicycles<br/>"),"yes"==e["service:bicycle:charging"]&&(t+="charging electric bikes is possible<br/>"),"yes"==e.cafe&&(t+="cafe<br/>"),"yes"==e.breakfast&&(t+="breakfast<br/>"),"yes"==e.snack&&(t+="snack<br/>"),"yes"==e.indoor_seating&&(t+="indoor seating<br/>"),"yes"==e.outdoor_seating&&(t+="outdoor seating<br/>"),"yes"==e.self_service&&(t+="self service<br/>"),"yes"==e.bakehouse&&(t+="bakehouse<br/>"),"yes"==e.pastry_shop&&(t+="pastry shop<br/>"),"yes"==e.fair_trade&&(t+="fair trade<br/>"),"only"==e.fair_trade&&(t+="only fair trade<br/>"),"no"==e.fair_trade&&(t+="no fair trade<br/>"),t},j=function(e){var t="";return"doctors"!=e.amenity&&"physician"!=e.office&&"doctor"!=e.healthcare||(t+=k(e),e.medical_area&&(t+=e.medical_area+"<br/>"),e.type&&(t+=e.type+"<br/>"),e["doctors:de"]&&(t+=e["doctors:de"]+"<br/>"),e["note:de"]&&(t+=e["note:de"]+"<br/>")),"yes"==e.dispensing&&(t+="pharmacy with dispensing<br/>"),"abused"==e["social_facility:for"]&&(t+="social facility for: abused people<br/>"),"child"==e["social_facility:for"]&&(t+="social facility for: children<br/>"),"disabled"==e["social_facility:for"]&&(t+="social facility for: disabled people<br/>"),"diseased"==e["social_facility:for"]&&(t+="social facility for: diseased people<br/>"),"drug_addicted"==e["social_facility:for"]&&(t+="social facility for: drug addicted people<br/>"),"homeless"==e["social_facility:for"]&&(t+="social facility for: homeless<br/>"),"juvenile"==e["social_facility:for"]&&(t+="social facility for: juvenile and teenager<br/>"),"mental_health"==e["social_facility:for"]&&(t+="social facility for: people with mental health problems<br/>"),"migrant"==e["social_facility:for"]&&(t+="social facility for: migrants<br/>"),"orphan"==e["social_facility:for"]&&(t+="social facility for: orphans<br/>"),"senior"==e["social_facility:for"]&&(t+="social facility for: seniors<br/>"),"underprivileged"==e["social_facility:for"]&&(t+="social facility for: underprivileged people<br/>"),"unemployed"==e["social_facility:for"]&&(t+="social facility for: unemployed<br/>"),"victim"==e["social_facility:for"]&&(t+="social facility for: victims<br/>"),t};function L(e){var t="";return e["building:color"]&&(t+="building color: "+e["building:color"]+"</br>"),e["building:height"]&&(t+="building height: "+e["building:height"]+" m</br>"),e["building:level"]&&(t+="level: "+e["building:level"]+"</br>"),e["building:part"]&&(t+="building part: "+e["building:part"]+"</br>"),e["roof:color"]&&(t+="roof color: "+e["roof:colour"]+"</br>"),e["roof:shape"]&&(t+="roof shape: "+e["roof:shape"]+"</br>"),e["roof:height"]&&(t+="roof height: "+e["roof:height"]+" m</br>"),e["roof:material"]&&(t+="roof material: "+e["roof:material"]+" </br>"),e["roof:orientation"]&&(t+="roof orientation: "+e["roof:orientation"]+" </br>"),e["roof:direction"]&&(t+="roof direction: "+e["roof:direction"]+" </br>"),e["building:type"]&&(t+="building type: "+e["building:type"]+"</br>"),t}function A(e){var t="";return"surveillance"==e.man_made&&("indoor"==e.surveillance&&(t+="indoor surveillance"),"outdoor"==e.surveillance&&(t+="outdoor surveillance"),"public"==e.surveillance&&(t+="public surveillance"),"camera"==e["surveillance:type"]&&(t+="type of surveillance: camera"),"guard"==e["surveillance:type"]&&(t+="type of surveillance: guard"),"ALPR"==e["surveillance:type"]&&(t+="type of surveillance: ALPR"),"town"==e["surveillance:zone"]&&(t+="zone of surveillance: town"),"parking"==e["surveillance:zone"]&&(t+="zone of surveillance: parking"),"traffic"==e["surveillance:zone"]&&(t+="zone of surveillance: traffic"),"shop"==e["surveillance:zone"]&&(t+="zone of surveillance: shop"),"bank"==e["surveillance:zone"]&&(t+="zone of surveillance: bank"),"building"==e["surveillance:zone"]&&(t+="zone of surveillance: building")),t}function F(e){var t="";return"wreck"==e.historic&&(e["wreck:date_sunk"]&&(t+="sunk: "+e["wreck:date_sunk"]+"<br/>"),e["wreck:depth"]&&(t+="depth: "+e["wreck:depth"]+"<br/>"),e["wreck:clearance"]&&(t+="clearance: "+e["wreck:clearance"]+"<br/>"),e["wreck:date_commissioned"]&&(t+="commissioned: "+e["wreck:date_commissioned"]+"<br/>"),e["wreck:gross_tonnage"]&&(t+="gross tonnage: "+e["wreck:gross_tonnage"]+"<br/>"),e["wreck:length"]&&(t+="length: "+e["wreck:length"]+"<br/>"),e["wreck:width"]&&(t+="width: "+e["wreck:width"]+"<br/>"),e["wreck:cargo"]&&(t="timber"==e["wreck:cargo"]?t+"cargo: timber<br/>":"coal"==e["wreck:cargo"]?t+"cargo: coal<br/>":t+"cargo: "+e["wreck:cargo"]+"<br/>"),"yes"==e["wreck:visible_at_low_tide"]&&(t+="visible at low tide: yes<br/>"),"no"==e["wreck:visible_at_low_tide"]&&(t+="visible at low tide: no<br/>"),"yes"==e["wreck:visible_at_high_tide"]&&(t+="visible at high tide: yes<br/>"),"no"==e["wreck:visible_at_high_tide"]&&(t+="visible at high tide: no<br/>"),"yes"==e.access&&(t+="accessible<br/>"),"no"==e.access&&(t+="no access possible<br/>"),"permit_required"==e.access&&(t+="permit required for acces<br/>")),t}function M(e){var t="";if(e["monastery:type"])switch(e["monastery:type"]){case"monastery":t+="type: monastery<br/>";break;case"convent":t+="type: convent<br/>";break;case"canonry":t+="type: canonry<br/>";break;case"commandry":t+="type: commandry<br/>";break;case"hermitage":t+="type: hermitage<br/>";break;default:t+="type: unknown<br/>"}if(e["community:gender"]&&("male"==e["community:gender"]&&(t+="gender: male<br/>"),"female"==e["community:gender"]&&(t+="gender: female<br/>")),e.religious_rank&&("abbey"==e.religious_rank?t+="religious rank: abbey<br/>":"abbey"==e.religious_rank&&(t+="religious rank: abbey<br/>")),"yes"==e.shrine&&(t+="feature: shrine<br/>"),"yes"==e.sanctuary&&(t+="feature: sanctuary<br/>"),e.religion)switch(e.religion){case"animist":t+="religion: animist<br/><br/>";break;case"bahai":t+="religion: bahai<br/>";break;case"buddhist":t+="religion: buddhist<br/>";break;case"christian":t+="religion: christian<br/>";break;case"hindu":t+="religion: hindu<br/>";break;case"IglesiaNiCristo":t+="religion: IglesiaNiCristo<br/>";break;case"jain":t+="religion: jain<br/>";break;case"jewish":t+="religion: jewish<br/>";break;case"multifaith":t+="religion: multifaith<br/>";break;case"muslim":t+="religion: muslim<br/>",type+="Mosque<br/>";break;case"pagan":t+="religion: pagan<br/>";break;case"pastafarian":t+="religion: pastafarian<br/>";break;case"scientologist":t+="religion: scientologist<br/>";break;case"shinto":t+="religion: shinto<br/>";break;case"sikh":t+="religion: sikh<br/>";break;case"spiritualist":t+="religion: spiritualist<br/>";break;case"taoist":t+="religion: taoist<br/>";break;case"unitarian":t+="religion: unitarian<br/>";break;case"yazidi":t+="religion: yazidi<br/>";break;case"zoroastrian":t+="eligion: zoroastrian<br/>";break;default:t+="religion: unknown<br/>"}if(e.denomination)switch(e.denomination){case"anglican":t+="denomination: Anglican<br/><br/>";break;case"baptist":t+="denomination: Baptist<br/>";break;case"catholic":t+="denomination: Catholic<br/>";break;case"roman_catholic":t+="denomination: Roman Catholic<br/>";break;case"old_catholic":t+="denomination: Old Catholic<br/>";break;case"greek_catholic":t+="denomination: Greek Catholic<br/>";break;case"evangelical":t+="denomination: Evangelical";case"jehovahs_witness":t+="denomination: Jehovahs Witness<br/>";break;case"lutheran":t+="denomination: Lutheran<br/>";break;case"mennonite":t+="denomination: Mennonite<br/>";break;case"messianic_jewish":t+="denomination: Messianic Jewish<br/>";break;case"methodist":t+="denomination: Methodist<br/>";break;case"mormon":t+="denomination: Mormon<br/>";break;case"new_apostolic":t+="denomination: New Apostolic<br/>";break;case"orthodox":t+="denomination: Orthodox<br/>";break;case"greek_orthodox":t+="denomination: Greek Orthodox<br/>";break;case"coptic_orthodox":t+="denomination: coptic orthodox<br/>";break;case"pentecostal":t+="denomination: pentecostal<br/>";break;case"presbyterian":t+="denomination: Presbyterian<br/>";break;case"protestant":t+="denomination: Protestant<br/>";break;case"quaker":t+="denomination: Quaker<br/>";break;case"reformed":t+="denomination: Reformed<br/>";break;case"russian_orthodox":t+="denomination: Russian-Orthodox<br/>";break;case"seventh_day_adventist":t+="denomination: Seventh Day Adventist<br/>";break;case"christian_community":t+="denomination: Christian Community<br/>";break;case"adventist":t+="denomination: Adventist<br/>";break;case"alliance":t+="denomination: Alliance<br/>";break;case"assemblies_of_god":t+="denomination: Assemblies of God<br/>";break;case"apostolic":t+="denomination: Apostolic<br/>";break;case"armenian_apostolic":t+="denomination: Armenian Apostolic<br/>";break;case"assyrian":t+="denomination: Assyrian<br/>";break;case"christ_scientist":t+="denomination: Christ Scientist<br/>";break;case"church_of_scotland":t+="denomination: Church of Scotland<br/>";break;case"czechoslovak_hussite":t+="denomination: Czechoslovak Hussite<br/>";break;case"dutch_reformed":t+="denomination: Dutch Reformed<br/>";break;case"exclusive_brethren":t+="denomination: Exclusive Brethren<br/>";break;case"foursquare":t+="denomination: Foursquare<br/>";break;case"kimbanguist":t+="denomination: Kimbanguist<br/>";break;case"living_waters_church":t+="denomination: Living Waters Church<br/>";break;case"mariavite":t+="denomination: Mariavite<br/>";break;case"maronite":t+="denomination: Maronite<br/>";break;case"moravian":t+="denomination: Moravian<br/>";break;case"nazarene":t+="denomination: Nazarene<br/>";break;case"nondenominational":t+="denomination: Nondenominational<br/>";break;case"old_believers":t+="denomination: Old Believers<br/>";break;case"polish_catholic":t+="denomination: Polish-Catholic<br/>";break;case"salvation_army":t+="denomination: Salvation Army<br/>";break;case"santo_daime":t+="denomination: Santo Daime<br/>";break;case"serbian_orthodox":t+="denomination: Serbisch-Orthodox<br/>";break;case"spiritism":t+="denomination: Spiritism<br/>";break;case"united":t+="denomination: United<br/>";break;case"united_church_of_christ":t+="denomination: United Church of Christ<br/>";break;case"united_free_church_of_scotland":t+="denomination: United Free Church of Scotland<br/>";break;case"united_methodist":t+="denomination: United Methodist<br/>";break;case"united_reformed":t+="denomination: United Reformed<br/>";break;case"uniting":t+="denomination: Uniting<br/>";break;case"church_of_sweden":t+="denomination: Church of Sweden<br/>";break;case"mission_covenant_church_of_sweden":t+="denomination: Mission Covenant Church Of Sweden<br/>";break;case"alternative":t+="denomination: alternative<br/>";break;case"ashkenazi":t+="denomination: ashkenazi<br/>";break;case"buchari":t+="denomination: buchari<br/>";break;case"conservative":t+="denomination: conservative<br/>";break;case"egalitarian":t+="denomination: egalitarian<br/>";break;case"hasidic":t+="denomination: hasidic<br/>";break;case"humanistic":t+="denomination: humanistic<br/>";break;case"kabbalah":t+="denomination: kabbalah<br/>";break;case"kabbalistic":t+="denomination: kabbalistic<br/>";break;case"karaite":t+="denomination: karaite<br/>";break;case"liberal":t+="denomination: liberal<br/>";break;case"lubavitch":t+="denomination: lubavitch<br/>";break;case"lubavitch_messianic":t+="denomination: lubavitch messianic<br/>";break;case"mizrachi_baghdadi":t+="denomination: mizrachi baghdadi<br/>";break;case"mizrachi_chida":t+="denomination: mizrachi chida<br/>";break;case"mizrachi_jerusalemite":t+="denomination: mizrachi jerusalemite<br/>";break;case"mizrachi_livorno":t+="denomination: mizrachi livorno<br/>";break;case"mizrachi_moroccan":t+="denomination: mizrachi moroccan<br/>";break;case"modern_orthodox":t+="denomination: modern orthodox<br/>";break;case"neo_orthodox":t+="denomination: neo orthodox<br/>";break;case"nondenominational":t+="denomination: nondenominational<br/>";break;case"orthodox":t+="denomination: orthodox<br/>";break;case"orthodox_ashkenaz":t+="denomination: orthodox ashkenaz<br/>";break;case"orthodox_sefard":t+="denomination: orthodox sefard<br/>";break;case"progressive":t+="denomination: progressive<br/>";break;case"reconstructionist":t+="denomination: reconstructionist<br/>";break;case"reform":t+="denomination: reform<br/>";break;case"renewal":t+="denomination: renewal<br/>";break;case"samaritan":t+="denomination: samaritan<br/>";break;case"sefardi":t+="denomination: sefardi<br/>";break;case"sefardi_amsterdam":t+="denomination: sefardi amsterdam<br/>";break;case"sefardi_london":t+="denomination: sefardi london<br/>";break;case"traditional":t+="denomination: traditional<br/>";break;case"ultra_orthodox":t+="denomination: ultra orthodox<br/>";break;case"unaffiliated":t+="denomination: unaffiliated<br/>";break;case"yemenite":t+="denomination: yemenite<br/>";break;case"yemenite_baladi":t+="denomination: yemenite baladi<br/>";break;case"yemenite_shami":t+="denomination: yemenite shami<br/>";break;case"ahmadiya":t+="denomination: ahmadiya<br/>";break;case"alaouite":t+="denomination: alaouite<br/>";break;case"druze":t+="denomination: druze<br/>";break;case"ibadi":t+="denomination: ibadi<br/>";break;case"ismaili":t+="denomination: ismaili<br/>";break;case"shia":t+="denomination: shia<br/>";break;case"sunni":t+="denomination: sunni<br/>";break;case"nichiren":t+="denomination: nichiren<br/>";break;case"jodo_shinshu":t+="denomination: jodo shinshu<br/>";break;case"jodo_shu":t+="denomination: jodo shu<br/>";break;case"vajrayana":t+="denomination: vajrayana<br/>";break;case"shingon_shu":t+="denomination: shingon shu<br/>";break;case"zen":t+="denomination: zen<br/>";break;case"thai_mahanikaya":t+="denomination: thai mahanikaya<br/>";break;case"thai_thammayut":t+="denomination: thai thammayut<br/>";break;case"asatru":t+="denomination: asatru<br/>";break;case"celtic":t+="denomination: celtic<br/>";break;case"greco_roman":t+="denomination: greco roman<br/>";break;case"wicca":t+="denomination: wicca<br/>";break;case"irani":t+="denomination: irani<br/>";break;case"parsi":t+="denomination: parsi<br/>";break;default:t+="unknown<br/>"}if(e.community)switch(e.community){case"AA":t+="community (AA): Augustinians of the Assumption <br/>";break;case"BSCM":t+="community (BSCM): Adorers of the Sacred Heart of Jesus of Montmartre <br/>";break;case"CBMV":t+="community (CBMV): Augustiner-Chorfrauen B.M.V.<br/>";break;case"CO":t+="community (CO): Oratorians<br/>";break;case"CMC":t+="community (CMC): Congregation of the Mother Co-Redemptrix<br/>";break;case"CRSP":t+="community (CRSP): Kongregation der Regularkleriker vom hl. Paulus (Barnabiten)<br/>";break;case"CSJ":t+="community (CSJ): Carmel Saint-Joseph<br/>";break;case"CSSP":t+="community (CSSP): Congrégation du Saint-Esprit<br/>";break;case"CSSR":t+="community (CSSR): Congrégation du Très Saint Rédempteur<br/>";break;case"FCJM":t+="community (FCJM): Franciscan Sisters, Daughters of the Sacred Heart of Jesus and Mary<br/>";break;case"FMGB":t+="community (FMGB): Suore Francescane Missionarie di Gesù Bambino<br/>";break;case"FMH":t+="community(FMH): Congregatio Filiarum Mariae Sanctissimae ab Horto<br/>";break;case"FMM":t+="community (FMM): Franciscaines missionnaires de Marie<br/>";break;case"FSC":t+="community (FSC): Frères des Écoles chrétiennes<br/>";break;case"MCCI":t+="community (MCCI): Missionnaires comboniens du Sacré-Cœur<br/>";break;case"MSFS":t+="community (MSFS): Missionnaires de Saint François de Sales<br/>";break;case"OCart":t+="community (OCart): Order of the Carthusians<br/>";break;case"OCC":t+="community (OCC): Ordre de Notre Dame du Mont-Carmel<br/>";break;case"OCD":t+="community (OCD): Ordre des Carmes déchaux<br/>";break;case"OCSO":t+="community (OCSO): Trappists (lat. Ordo Cisterciensis Strictioris Observantiae)<br/>";break;case"OFM":t+="community (OFM): Ordre des Frères Mineurs (Franziskaner)<br/>";break;case"OFMCap":t+="community (OFMCap): Ordre des Frères Mineurs Capucins<br/>";break;case"OFMConv":t+="community (OFMConv): Ordre des Frères Mineurs Conventuels<br/>";break;case"OFS":t+="community (OFS): Franciscans secular Third Order<br/>";break;case"OMI":t+="community (OMI): Oblats de Marie<br/>";break;case"OP":t+="community (OP): Ordre des Frères Prêcheurs<br/>";break;case"OPraem":t+="community (OPraem): Ordre des chanoines réguliers de Prémontré<br/>";break;case"OSB":t+="community (OSB): Order of Saint Benedict<br/>";break;case"OSC":t+="community (OSC): Ordre de Sainte-Claire ou Ordre des Pauvres Dames<br/>";break;case"OSSS":t+="community (OSSS): Ordre de Sainte-Brigitte<br/>";break;case"OVM":t+="community (OVM): Order of the Visitation of Holy Mary (Salesianerinnen)<br/>";break;case"PSDP":t+="community (PSDP): Petites sœurs des pauvres (Kleinen Schwestern der Armen)<br/>";break;case"PFJ":t+="community (PFJ): Petits Frères de Jésus<br/>";break;case"SDB":t+="community (SDB): Société de Saint François de Sales<br/>";break;case"SJ":t+="community (SJ): Compagnie de Jésus<br/>";break;case"SOC":t+="community (SOC): Order of Cistercians<br/>";break;case"SSCC":t+="community (SSCC): Congregation of the Sacred Hearts of Jesus and Mary<br/>";break;case"SSF":t+="community (SSF): Society of St Francis<br/>";break;case"SSJE":t+="community (SSJE): Society of St John the Evangelist<br/>";break;case"SSpS":t+="community (SSpS): Steyler Missionsschwestern<br/>";break;case"TOR":t+="community (TOR): Terzo Ordine Regolare di San Francesco<br/>";break;default:t+="unknown<br/>"}return t}},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */Object.defineProperty(t,"__esModule",{value:!0});t.routingConstantsEnglish={ROUTER_VIEW_ADDRESS_INPUT:"Find route",ROUTER_FROM_LABEL:"Start",ROUTER_TO_LABEL:"End",ROUTER_CLEAR_TITLE:"Delete",ROUTER_CLEAR_HTML:"",ROUTER_Label_Interim:"Interim Goal",ROUTER_SWITCH:"Switch between Start and End",ROUTER_OVER:"Add interim goal",ROUTER_PRINT:"Print route description",POPUP_ROUTE_FROM:"Route from here",POPUP_ROUTE_TO:"Route to here",ROUTER_VIEW_LABEL_ROUTE:"Route:",ROUTER_VIEW_LABEL_DISTANCE:"Distance:",ROUTER_VIEW_LABEL_TIME:"Time:",ROUTER_VIEW_LABEL_PROFILE:"Profile",ROUTER_VIEW_ALERT_Error:"Error",ROUTER_VIEW_ALERT_ADDRESS:"Address not found.",ROUTER_VIEW_ALERT_GOCODING:"No access to geocoding.",ROUTER_ERROR_POLYLINE:"Could not calculate route.",ROUTER:"Router",ROUTER_N:"Head north",ROUTER_E:"Head east",ROUTER_S:"Head south",ROUTER_W:"Head west",ROUTER_NE:"Head northeast",ROUTER_SE:"Head southeast",ROUTER_SW:"Head southwest",ROUTER_NW:"Head northwest",ROUTER_DIRECTION_0:"unknown direction[ onto <b>%s</b>]",ROUTER_DIRECTION_1:"straight ahead[ onto <b>%s</b>]",ROUTER_DIRECTION_2:"slight right[ onto <b>%s</b>]",ROUTER_DIRECTION_3:"right[ onto <b>%s</b>]",ROUTER_DIRECTION_4:"sharp right[ onto <b>%s</b>]",ROUTER_DIRECTION_5:"turn[ onto <b>%s</b>]",ROUTER_DIRECTION_6:"sharp turn left[ onto <b>%s</b>]",ROUTER_DIRECTION_7:"turn left[ onto <b>%s</b>]",ROUTER_DIRECTION_8:"light turn left[ onto <b>%s</b>]",ROUTER_DIRECTION_10:"drive in direction of <b>%d</b>[ onto <b>%s</b>]","ROUTER_DIRECTION_11-1":"Take the first exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-2":"Take the 2nd exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-3":"Take the 3rd exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-4":"Take the 4th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-5":"Take the 5th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-6":"Take the 6th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-7":"Take the 7th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-8":"Take the 8th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-9":"Take the 9th exit in the roundabout[ onto <b>%s</b>]","ROUTER_DIRECTION_11-x":"Take one of the exits in the roundabout[ onto <b>%s</b>]",ROUTER_DIRECTION_15:"Destination reached","ROUTER_5.X_TYPE_0":" Turn %m on[ <b>%s</b>]","ROUTER_5.X_TYPE_1":" Follow the course of the road %m[ as <b>%s</b>]","ROUTER_5.X_TYPE_2":" Depart[ on <b>%s</b>]","ROUTER_5.X_TYPE_3":" Arrive <b>%m</b>","ROUTER_5.X_TYPE_4":" Continue driving[ on <b>%s</b>]","ROUTER_5.X_TYPE_5":" Take the ramp %m[ on <b>%s</b>]","ROUTER_5.X_TYPE_6":" Take the ramp %m[ to exit on<b>%s</b>]","ROUTER_5.X_TYPE_7":" Take the %m site of the fork to[ <b>%s</b>]","ROUTER_5.X_TYPE_8":" Turn %m[ on <b>%s</b>]","ROUTER_5.X_TYPE_9":" Take the lane %m[ on <b>%s</b>]","ROUTER_5.X_TYPE_10":" Turn %m to stay on the road","ROUTER_5.X_TYPE_11":" Leave the roundabout on the %z. exit[ to <b>%s</b>]","ROUTER_5.X_TYPE_12":" Leave the roundabout on the %z. exit[ to <b>%s</b>]","ROUTER_5.X_TYPE_13":" Turn %m[ on <b>%s</b>]","ROUTER_5.X_TYPE_14":" Follow the road %m","ROUTER_5.X_MOD_0":"Uturn","ROUTER_5.X_MOD_1":"sharp right","ROUTER_5.X_MOD_2":"right","ROUTER_5.X_MOD_3":"slight right","ROUTER_5.X_MOD_4":"straight","ROUTER_5.X_MOD_5":"slight left","ROUTER_5.X_MOD_6":"left","ROUTER_5.X_MOD_7":"sharp left","ROUTER_5.X_MOD_8":"somehow",ROUTER_FROM:"Start",ROUTER_TO:"End",ROUTER_FIND_ROUTE:"Find route",ROUTER_LOC_ROUTE_TO:"Route to here",ROUTER_ROUTEDESC:"Description",ROUTER_ROUTENAME:"Route",ROUTER_DISTANCE:"Distance",ROUTER_TIME:"Time",ROUTER_REV_GEOCODING:"Identified address...",ROUTER_ERROR_REV_GEOCODING:"Fault! Can not identifiy address",ROUTER_SEARCHING:"Search address...",ROUTER_ERROR_SEARCHING:"Fault! Can not find address",ROUTER_CALC_ROUTE:"Calc route...",ROUTER_ERROR_CALC_ROUTE:"Fault! Can not calc address",CTRL_ROUTER:"Toggle router",AREA_NAME:"Search perimeter",AREA_PROFILE:"Profile",AREA_FEATURECOUNT:"Found features",ROUTE_DETOUR:"Detour",AREA_DETOUR:"Radius",INSTRUCTION_HEADLINE:"Route Instructions",FEATURES_HEADLINE:"Locations",ROUTE_POSITION:"Get user position",START_ROUTE:"Start search",CAR:"Car",BIKE:"Bike",TRUCK:"Truck",WALK:"Pedestrian",WHEEL:"Wheelchair",SCOOT:"Router",NONE:""}},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */Object.defineProperty(t,"__esModule",{value:!0});t.routingConstantsGerman={ROUTER_VIEW_ADDRESS_INPUT:"Route finden",ROUTER_FROM_LABEL:"Start",ROUTER_OVER_LABEL:"Zwischenziel",ROUTER_TO_LABEL:"Ziel",ROUTER_CLEAR_TITLE:"Löschen",ROUTER_CLEAR_HTML:"",ROUTER_Label_Interim:"Zwischenziel",ROUTER_SWITCH:"Wechsel von Start und Ziel",ROUTER_OVER:"Zwischenziel hinzufügen",ROUTER_PRINT:"Routenbeschreibung drucken",ROUTER_VIEW_LABEL_ROUTE:"Route:",ROUTER_VIEW_LABEL_DISTANCE:"Entfernung:",ROUTER_VIEW_LABEL_TIME:"Zeit:",ROUTER_VIEW_LABEL_PROFILE:"Profil:",ROUTER_VIEW_ALERT_ERROR:"Fehler",ROUTER_VIEW_ALERT_ADDRESS:"Adresse nicht gefunden.",ROUTER_VIEW_ALERT_GOCODING:"Zugriff auf Geocoder fehlgeschlagen.",ROUTER_ERROR_POLYLINE:"Route konnte nicht berechnet werden.",POPUP_ROUTE_FROM:"Route von hier",POPUP_ROUTE_TO:"Route hierhin",ROUTER:"Router",ROUTER_N:"Norden",ROUTER_E:"Ost",ROUTER_S:"Süden",ROUTER_W:"Westen",ROUTER_NE:"Nordost",ROUTER_SE:"Südost",ROUTER_SW:"Südwest",ROUTER_NW:"Nordwest",ROUTER_DIRECTION_0:"Unbekannte Anweisung[ auf <b>%s</b>]",ROUTER_DIRECTION_1:"Geradeaus weiterfahren[ auf <b>%s</b>]",ROUTER_DIRECTION_2:"Leicht rechts abbiegen [auf <b>%s</b>]",ROUTER_DIRECTION_3:"Rechts abbiegen[ auf <b>%s</b>]",ROUTER_DIRECTION_4:"Scharf rechts abbiegen[ auf <b>%s</b>]",ROUTER_DIRECTION_5:"Wenden[ auf <b>%s</b>]",ROUTER_DIRECTION_6:"Scharf links abbiegen[ auf <b>%s</b>]",ROUTER_DIRECTION_7:"Links abbiegen[ auf <b>%s</b>]",ROUTER_DIRECTION_8:"Leicht links abbiegen[ auf <b>%s</b>]",ROUTER_DIRECTION_10:"Fahren Sie Richtung <b>%d</b>[ auf <b>%s</b>]","ROUTER_DIRECTION_11-1":"In den Kreisverkehr einfahren und bei erster Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-2":"In den Kreisverkehr einfahren und bei zweiter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-3":"In den Kreisverkehr einfahren und bei dritter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-4":"In den Kreisverkehr einfahren und bei vierter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-5":"In den Kreisverkehr einfahren und bei fünfter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-6":"In den Kreisverkehr einfahren und bei sechster Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-7":"In den Kreisverkehr einfahren und bei siebter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-8":"In den Kreisverkehr einfahren und bei achter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-9":"In den Kreisverkehr einfahren und bei neunter Möglichkeit[ in Richtung <b>%s</b>] verlassen","ROUTER_DIRECTION_11-x":"In den Kreisverkehr einfahren und bei einer der vielen Möglichkeiten[ in Richtung <b>%s</b>] verlassen",ROUTER_DIRECTION_15:"Sie haben Ihr Ziel erreicht","ROUTER_5.X_TYPE_0":" %m fahren[ auf <b>%s</b>]","ROUTER_5.X_TYPE_1":" %m dem Straßenverlauf folgen[ als <b>%s</b>]","ROUTER_5.X_TYPE_2":" Fahren Sie[ auf <b>%s</b>] los","ROUTER_5.X_TYPE_3":" Das Ziel befindet sich <b>%m</b>","ROUTER_5.X_TYPE_4":" Weiterfahren[ auf <b>%s</b>]","ROUTER_5.X_TYPE_5":" %m [auf <b>%s</b> ]auffahren","ROUTER_5.X_TYPE_6":" %m [auf <b>%s</b> ]abfahren","ROUTER_5.X_TYPE_7":" Den Fahrstreifen %m benutzen [auf <b>%s</b>]","ROUTER_5.X_TYPE_8":" %m abbiegen [auf <b>%s</b>]","ROUTER_5.X_TYPE_9":" Den Fahrstreifen %m benutzen [auf <b>%s</b>]","ROUTER_5.X_TYPE_10":" %m fahren um auf der Straße zu bleiben","ROUTER_5.X_TYPE_11":" Im Kreisverkehr die <b>%z.</b> Ausfahrt nehmen [auf <b>%s</b>]","ROUTER_5.X_TYPE_12":" Im Kreisverkehr die <b>%z.</b> Ausfahrt nehmen [auf <b>%s</b>]","ROUTER_5.X_TYPE_13":" %m fahren [auf <b>%s</b>]","ROUTER_5.X_TYPE_14":" abbiegen[ auf <b>%s</b>]","ROUTER_5.X_MOD_0":"Uturn","ROUTER_5.X_MOD_1":"Scharf rechts","ROUTER_5.X_MOD_2":"Rechts","ROUTER_5.X_MOD_3":"Leicht rechts","ROUTER_5.X_MOD_4":"Geradeaus","ROUTER_5.X_MOD_5":"Leicht links","ROUTER_5.X_MOD_6":"Links","ROUTER_5.X_MOD_7":"Scharf links","ROUTER_5.X_MOD_8":"in der Nähe",ROUTER_FROM:"Start",ROUTER_TO:"Ziel",ROUTER_FIND_ROUTE:"Route finden",ROUTER_LOC_ROUTE_TO:"Route hierhin",ROUTER_ROUTEDESC:"Routenbeschreibung",ROUTER_ROUTENAME:"Route",ROUTER_DISTANCE:"Distanz",ROUTER_TIME:"Zeit",ROUTER_REV_GEOCODING:"Ermittle Adresse...",ROUTER_ERROR_REV_GEOCODING:"Fehler beim Ermitteln der Adresse",ROUTER_SEARCHING:"Suche Adresse...",ROUTER_ERROR_SEARCHING:"Fehler beim Suchen der Adresse",ROUTER_CALC_ROUTE:"Berechne Route...",ROUTER_ERROR_CALC_ROUTE:"Fehler beim Berechnen der Route",AREA_NAME:"Umkreissuche",AREA_PROFILE:"Profil",AREA_FEATURECOUNT:"Gefundene Elemente",ROUTE_DETOUR:"Umweg",AREA_DETOUR:"Radius",INSTRUCTION_HEADLINE:"Routenbeschreibung",FEATURES_HEADLINE:"Lokationen",ROUTE_POSITION:"Position ermitteln",START_ROUTE:"Suche starten",CAR:"Auto",BIKE:"Fahrrad",TRUCK:"Lastkraftwagen",WALK:"Fußgänger",WHEEL:"Rollstuhl",SCOOT:"Roller",NONE:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){return function n(i,o){try{var a=t[i](o),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}("next")}))}}
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package   	con4gis
 * @version        6
 * @author  	    con4gis contributors (see "authors.txt")
 * @license 	    LGPL-3.0-or-later
 * @copyright 	Küstenschmiede GmbH Software & Design
 * @link              https://www.con4gis.org
 *
 */
t.RoutingPermalink=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._router=t,this.linkFragments={},this.rawFragments={}}var t,r;return i(e,[{key:"updateLinkFragments",value:function(e,t){this.linkFragments||(this.linkFragments={}),this.linkFragments[e]=t,this.updateUrl()}},{key:"updateUrl",value:function(){var e="?mapsParams=",t=this.linkFragments;if(t.mode&&"area"===t.mode){e+=t.mode?"m:"+t.mode+"/":"",e+=t.addressArea?"a:"+t.addressArea[0]+","+t.addressArea[1]+"/":"",e+=t.detourArea?"d:"+t.detourArea+"/":"",e+=t.searchType?"s:"+t.searchType+"/":"",e+=t.forceStart?"f:"+t.forceStart:"";var r=window.location.pathname+e;history.pushState({},null,r)}else if(t.mode&&"route"===t.mode){e+=t.mode?"m:"+t.mode+"/":"",e+=t.fromAddress?"af:"+t.fromAddress[0]+","+t.fromAddress[1]+"/":"",e+=t.toAddress?"at:"+t.toAddress[0]+","+t.toAddress[1]+"/":"",e+=t.detourRoute?"d:"+t.detourRoute+"/":"",e+=t.searchType?"s:"+t.searchType+"/":"",e+=t.forceStart?"f:"+t.forceStart:"";var n=window.location.pathname+e;history.pushState({},null,n)}}},{key:"handleInitialParams",value:(r=o(regeneratorRuntime.mark((function e(){var t,r,i,o,a,s,l,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.rawFragments=this.router.props.mapController.data.initialParams,!this.rawFragments){e.next=30;break}return e.next=5,this.checkForOldParams();case 5:t=this.rawFragments.split("/").map((function(e){return e.split(":")})),r={},t.forEach((function(e){var t=n(e,2),i=t[0],o=t[1];return r[i]=o})),i=this.router.props.mapController.data.routerLayers,o="",e.t0=regeneratorRuntime.keys(i);case 11:if((e.t1=e.t0()).done){e.next=28;break}if(a=e.t1.value,!i.hasOwnProperty(a)){e.next=26;break}s=i[a],e.t2=regeneratorRuntime.keys(s);case 16:if((e.t3=e.t2()).done){e.next=26;break}if(l=e.t3.value,!s.hasOwnProperty(l)){e.next=24;break}if(u=s[l],c=r.s,u.mapLabel!==c){e.next=24;break}return o=l,e.abrupt("break",28);case 24:e.next=16;break;case 26:e.next=11;break;case 28:this.desiredButtonRouting=o,"area"===r.m?this.handleInitialAreaSearch(r):"route"===r.m&&this.handleInitialRouteSearch(r);case 30:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"checkForOldParams",value:(t=o(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",-1===(r=this.router.props.mapController.data.initialParams).indexOf("m:")){e.next=4;break}return e.abrupt("return");case 4:if(n=r.split("/"),t+="m:"+n[0]+"/","route"!==n[0]){e.next=20;break}return e.next=9,this.router.performGeoSearch(n[1]);case 9:return i=e.sent,e.next=12,this.router.performGeoSearch(n[2]);case 12:o=e.sent,t+="af:"+i.join()+"/",t+="at:"+o.join()+"/",t+="d:"+n[3]+"/",t+="s:"+n[4]+"/",t+="f:"+n[5]+"/",e.next=27;break;case 20:return e.next=22,this.router.performGeoSearch(n[1]);case 22:a=e.sent,t+="a:"+a.join()+"/",t+="d:"+n[2]+"/",t+="s:"+n[3]+"/",t+="f:"+n[4]+"/";case 27:this.rawFragments=t;case 28:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleInitialAreaSearch",value:function(e){this.router.setState({mode:"area"});var t=e.a;t&&(t=t.split(","));var r=e.d,n=e.s,i=e.f;(r||r>1)&&this.updateLinkFragments("detour",r),t&&2===t.length&&(this.updateLinkFragments("addressArea",t),this.router.setAreaPoint(t)),n&&this.updateLinkFragments("searchType",n),i&&this.updateLinkFragments("forceStart",i),jQuery(".c4g-portside-viewtriggerbar .c4g-area-search").click()}},{key:"handleInitialRouteSearch",value:function(e){this.router.setState({mode:"route"});var t=e.af?e.af.split(",").map((function(e){return parseFloat(e)})):null,r=e.at?e.at.split(",").map((function(e){return parseFloat(e)})):null,n=e.d,i=e.s,o=e.f;n&&(jQuery(this.router.toggleDetourRoute).val(n),jQuery(this.router.toggleDetourRoute).trigger("input"),this.updateLinkFragments("detour",e.d)),t&&this.updateLinkFragments("fromAddress",t),r&&this.updateLinkFragments("toAddress",r),i&&this.updateLinkFragments("searchType",e.s),o&&this.updateLinkFragments("forceStart",e.f),t&&r&&(this.router.setRouteFrom(t[0],t[1]),this.router.setRouteTo(r[0],r[1])),jQuery(".c4g-portside-viewtriggerbar .c4g-route-search").click()}},{key:"router",get:function(){return this._router},set:function(e){this._router=e}}]),e}()},function(e,t,r){"use strict";r.r(t),r.d(t,"AlertHandler",(function(){return o}));var n=r(200),i=r.n(n);
/**
 * con4gis - the gis-kit
 *
 * @package   con4gis
 * @author    con4gis contributors (see "authors.txt")
 * @license   GNU/LGPL http://opensource.org/licenses/lgpl-3.0.html
 * @copyright Küstenschmiede GmbH Software & Design 2011 - 2018
 * @link      https://www.kuestenschmiede.de
 */
class o{showErrorDialog(e,t,r){i.a.fire(e,t,"error")}showInfoDialog(e,t,r){i.a.fire(e,t,"info")}showConfirmDialog(e,t,r,n,o,a,s){i.a.fire({title:e,text:t,type:"warning",showCancelButton:!0,confirmButtonText:o||"Confirm",cancelButtonText:a||"Cancel",dangerMode:!0,customClass:s||""}).then(e=>{e.value?r():n()})}async showSelectDialog(e,t,r,n,o){const{value:a}=await i.a.fire({title:e,input:"select",inputOptions:t,inputPlaceholder:"Select a fruit",showCancelButton:!0,confirmButtonText:r,cancelButtonText:n,customClass:o||""});return a}}},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(l[c]=r[c]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(l[s[h]]=r[s[h]])}}return l}},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))i.call(r,c)&&(l[c]=r[c]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(l[s[h]]=r[s[h]])}}return l}},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(303)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterProfileSelection=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n};
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterProfileSelection=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setProfile=r.setProfile.bind(r),r.profileTranslation={0:"car",1:"hgv",2:"bike",3:"bike",4:"bike",5:"bike",6:"bike",7:"bike",8:"foot",9:"foot",10:"wheelchair",11:"hgv",12:"scooter",13:"scooter"},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setProfile",value:function(e){this.props.router.setProfile(parseInt(e.id,10))}},{key:"render",value:function(){var e=this;return 1===this.props.profiles.length?a.default.createElement(a.default.Fragment,null):a.default.createElement("div",{className:"c4g-router-profile-wrapper"},this.props.profiles.map((function(t){return a.default.createElement("button",{onMouseUp:function(){return e.setProfile(t)},className:"c4g-router-profile-"+e.profileTranslation[t.id]+(parseInt(t.id,10)===e.props.currentProfile?" c4g-active":" c4g-inactive"),key:t.id})})))}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Titlebar=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(254),o=a(i);a(r(264));function a(e){return e&&e.__esModule?e:{default:e}}
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.Titlebar=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e="";this.props.detailBtnClass&&this.props.detailBtnCb&&(e=o.default.createElement("button",{className:this.props.detailBtnClass,onMouseUp:this.props.detailBtnCb}));var t="";return this.props.closeBtnClass&&this.props.closeBtnCb&&(t=o.default.createElement("button",{className:this.props.closeBtnClass,onMouseUp:this.props.closeBtnCb})),o.default.createElement("div",{className:this.props.wrapperClass},o.default.createElement("span",{className:this.props.headerClass},this.props.header),t,e,this.props.children)}}]),t}(i.Component)},function(e,t,r){"use strict";r.r(t);var n=r(46),i=r(19),o=r(0),a=r(8),s=r(4),l=r(3),u=r(65),c=function(){function e(){this.dataProjection=null,this.defaultFeatureProjection=null}return e.prototype.getReadOptions=function(e,t){var r;if(t){var n=t.dataProjection?Object(l.get)(t.dataProjection):this.readProjection(e);t.extent&&n&&n.getUnits()===u.b.TILE_PIXELS&&(n=Object(l.get)(n)).setWorldExtent(t.extent),r={dataProjection:n,featureProjection:t.featureProjection}}return this.adaptOptions(r)},e.prototype.adaptOptions=function(e){return Object(a.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},e)},e.prototype.getType=function(){return Object(s.b)()},e.prototype.readFeature=function(e,t){return Object(s.b)()},e.prototype.readFeatures=function(e,t){return Object(s.b)()},e.prototype.readGeometry=function(e,t){return Object(s.b)()},e.prototype.readProjection=function(e){return Object(s.b)()},e.prototype.writeFeature=function(e,t){return Object(s.b)()},e.prototype.writeFeatures=function(e,t){return Object(s.b)()},e.prototype.writeGeometry=function(e,t){return Object(s.b)()},e}();function h(e,t,r){var n,i=r?Object(l.get)(r.featureProjection):null,o=r?Object(l.get)(r.dataProjection):null;if(n=i&&o&&!Object(l.equivalent)(i,o)?(t?e.clone():e).transform(t?i:o,t?o:i):e,t&&r&&void 0!==r.decimals){var a=Math.pow(10,r.decimals);n===e&&(n=e.clone()),n.applyTransform((function(e){for(var t=0,r=e.length;t<r;++t)e[t]=Math.round(e[t]*a)/a;return e}))}return n}function p(e,t){var r=t?Object(l.get)(t.featureProjection):null,n=t?Object(l.get)(t.dataProjection):null;return r&&n&&!Object(l.equivalent)(r,n)?Object(l.transformExtent)(e,n,r):e}var d,f=r(103),g=(d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function m(e){if("string"==typeof e){var t=JSON.parse(e);return t||null}return null!==e?e:null}var y=function(e){function t(){return e.call(this)||this}return g(t,e),t.prototype.getType=function(){return f.a.JSON},t.prototype.readFeature=function(e,t){return this.readFeatureFromObject(m(e),this.getReadOptions(e,t))},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(m(e),this.getReadOptions(e,t))},t.prototype.readFeatureFromObject=function(e,t){return Object(s.b)()},t.prototype.readFeaturesFromObject=function(e,t){return Object(s.b)()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(m(e),this.getReadOptions(e,t))},t.prototype.readGeometryFromObject=function(e,t){return Object(s.b)()},t.prototype.readProjection=function(e){return this.readProjectionFromObject(m(e))},t.prototype.readProjectionFromObject=function(e){return Object(s.b)()},t.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))},t.prototype.writeFeatureObject=function(e,t){return Object(s.b)()},t.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))},t.prototype.writeFeaturesObject=function(e,t){return Object(s.b)()},t.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))},t.prototype.writeGeometryObject=function(e,t){return Object(s.b)()},t}(c),_=r(20),b=r(2),v=r(47),w=r(134),O=r(64),E=r(71),T=r(72),S=r(45),C=r(41),x=r(79),k=r(123),R=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),P={};P[b.a.POINT]=function(e){var t;t=void 0!==e.m&&void 0!==e.z?new S.a([e.x,e.y,e.z,e.m],_.a.XYZM):void 0!==e.z?new S.a([e.x,e.y,e.z],_.a.XYZ):void 0!==e.m?new S.a([e.x,e.y,e.m],_.a.XYM):new S.a([e.x,e.y]);return t},P[b.a.LINE_STRING]=function(e){var t=L(e);return new v.a(e.paths[0],t)},P[b.a.POLYGON]=function(e){var t=L(e);return new C.b(e.rings,t)},P[b.a.MULTI_POINT]=function(e){var t=L(e);return new E.a(e.points,t)},P[b.a.MULTI_LINE_STRING]=function(e){var t=L(e);return new O.a(e.paths,t)},P[b.a.MULTI_POLYGON]=function(e){var t=L(e);return new T.a(e.rings,t)};var I={};function j(e,t){var r,n,i;if(!e)return null;if("number"==typeof e.x&&"number"==typeof e.y)i=b.a.POINT;else if(e.points)i=b.a.MULTI_POINT;else if(e.paths){i=1===e.paths.length?b.a.LINE_STRING:b.a.MULTI_LINE_STRING}else if(e.rings){var a=e,s=L(a),l=function(e,t){var r,n,i=[],a=[],s=[];for(r=0,n=e.length;r<n;++r){i.length=0,Object(x.b)(i,0,e[r],t.length),Object(k.a)(i,0,i.length,t.length)?a.push([e[r]]):s.push(e[r])}for(;s.length;){var l=s.shift(),u=!1;for(r=a.length-1;r>=0;r--){var c=a[r][0];if(Object(o.containsExtent)(new w.a(c).getExtent(),new w.a(l).getExtent())){a[r].push(l),u=!0;break}}u||a.push([l.reverse()])}return a}(a.rings,s);1===l.length?(i=b.a.POLYGON,e=Object.assign({},e,((r={}).rings=l[0],r))):(i=b.a.MULTI_POLYGON,e=Object.assign({},e,((n={}).rings=l,n)))}return h((0,P[i])(e),!1,t)}function L(e){var t=_.a.XY;return!0===e.hasZ&&!0===e.hasM?t=_.a.XYZM:!0===e.hasZ?t=_.a.XYZ:!0===e.hasM&&(t=_.a.XYM),t}function A(e){var t=e.getLayout();return{hasZ:t===_.a.XYZ||t===_.a.XYZM,hasM:t===_.a.XYM||t===_.a.XYZM}}function F(e,t){return(0,I[e.getType()])(h(e,!0,t),t)}I[b.a.POINT]=function(e,t){var r,n=e.getCoordinates(),o=e.getLayout();o===_.a.XYZ?r={x:n[0],y:n[1],z:n[2]}:o===_.a.XYM?r={x:n[0],y:n[1],m:n[2]}:o===_.a.XYZM?r={x:n[0],y:n[1],z:n[2],m:n[3]}:o===_.a.XY?r={x:n[0],y:n[1]}:Object(i.a)(!1,34);return r},I[b.a.LINE_STRING]=function(e,t){var r=A(e);return{hasZ:r.hasZ,hasM:r.hasM,paths:[e.getCoordinates()]}},I[b.a.POLYGON]=function(e,t){var r=A(e);return{hasZ:r.hasZ,hasM:r.hasM,rings:e.getCoordinates(!1)}},I[b.a.MULTI_POINT]=function(e,t){var r=A(e);return{hasZ:r.hasZ,hasM:r.hasM,points:e.getCoordinates()}},I[b.a.MULTI_LINE_STRING]=function(e,t){var r=A(e);return{hasZ:r.hasZ,hasM:r.hasM,paths:e.getCoordinates()}},I[b.a.MULTI_POLYGON]=function(e,t){for(var r=A(e),n=e.getCoordinates(!1),i=[],o=0;o<n.length;o++)for(var a=n[o].length-1;a>=0;a--)i.push(n[o][a]);return{hasZ:r.hasZ,hasM:r.hasM,rings:i}};var M=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this)||this).geometryName_=n.geometryName,r}return R(t,e),t.prototype.readFeatureFromObject=function(e,t){var r=e,i=j(r.geometry,t),o=new n.a;return this.geometryName_&&o.setGeometryName(this.geometryName_),o.setGeometry(i),t&&t.idField&&r.attributes[t.idField]&&o.setId(r.attributes[t.idField]),r.attributes&&o.setProperties(r.attributes,!0),o},t.prototype.readFeaturesFromObject=function(e,t){var r=t||{};if(e.features){var n=[],i=e.features;r.idField=e.objectIdFieldName;for(var o=0,a=i.length;o<a;++o)n.push(this.readFeatureFromObject(i[o],r));return n}return[this.readFeatureFromObject(e,r)]},t.prototype.readGeometryFromObject=function(e,t){return j(e,t)},t.prototype.readProjectionFromObject=function(e){if(e.spatialReference&&void 0!==e.spatialReference.wkid){var t=e.spatialReference.wkid;return Object(l.get)("EPSG:"+t)}return null},t.prototype.writeGeometryObject=function(e,t){return F(e,this.adaptOptions(t))},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={},n=e.getGeometry();n&&(r.geometry=F(n,t),t&&t.featureProjection&&(r.geometry.spatialReference={wkid:Number(Object(l.get)(t.featureProjection).getCode().split(":").pop())}));var i=e.getProperties();return delete i[e.getGeometryName()],Object(a.d)(i)?r.attributes={}:r.attributes=i,r},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],n=0,i=e.length;n<i;++n)r.push(this.writeFeatureObject(e[n],t));return{features:r}},t}(y),N=r(130),D=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function G(e,t){if(!e)return null;var r;switch(e.type){case b.a.POINT:r=function(e){return new S.a(e.coordinates)}(e);break;case b.a.LINE_STRING:r=function(e){return new v.a(e.coordinates)}(e);break;case b.a.POLYGON:r=function(e){return new C.b(e.coordinates)}(e);break;case b.a.MULTI_POINT:r=function(e){return new E.a(e.coordinates)}(e);break;case b.a.MULTI_LINE_STRING:r=function(e){return new O.a(e.coordinates)}(e);break;case b.a.MULTI_POLYGON:r=function(e){return new T.a(e.coordinates)}(e);break;case b.a.GEOMETRY_COLLECTION:r=function(e,t){var r=e.geometries.map((function(e){return G(e,t)}));return new N.a(r)}(e);break;default:throw new Error("Unsupported GeoJSON type: "+e.type)}return h(r,!1,t)}function U(e,t){var r,n=(e=h(e,!0,t)).getType();switch(n){case b.a.POINT:r=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}}(e);break;case b.a.LINE_STRING:r=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}}(e);break;case b.a.POLYGON:r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"Polygon",coordinates:e.getCoordinates(r)}}(e,t);break;case b.a.MULTI_POINT:r=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}}(e);break;case b.a.MULTI_LINE_STRING:r=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}}(e);break;case b.a.MULTI_POLYGON:r=function(e,t){var r;t&&(r=t.rightHanded);return{type:"MultiPolygon",coordinates:e.getCoordinates(r)}}(e,t);break;case b.a.GEOMETRY_COLLECTION:r=function(e,t){return{type:"GeometryCollection",geometries:e.getGeometriesArray().map((function(e){var r=Object(a.a)({},t);return delete r.featureProjection,U(e,r)}))}}(e,t);break;case b.a.CIRCLE:r={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+n)}return r}var z=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this)||this).dataProjection=Object(l.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(r.defaultFeatureProjection=Object(l.get)(n.featureProjection)),r.geometryName_=n.geometryName,r.extractGeometryName_=n.extractGeometryName,r}return D(t,e),t.prototype.readFeatureFromObject=function(e,t){var r=null,i=G((r="Feature"===e.type?e:{type:"Feature",geometry:e,properties:null}).geometry,t),o=new n.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in r!==void 0&&o.setGeometryName(r.geometry_name),o.setGeometry(i),"id"in r&&o.setId(r.id),r.properties&&o.setProperties(r.properties,!0),o},t.prototype.readFeaturesFromObject=function(e,t){var r=null;if("FeatureCollection"===e.type){r=[];for(var n=e.features,i=0,o=n.length;i<o;++i)r.push(this.readFeatureFromObject(n[i],t))}else r=[this.readFeatureFromObject(e,t)];return r},t.prototype.readGeometryFromObject=function(e,t){return G(e,t)},t.prototype.readProjectionFromObject=function(e){var t,r=e.crs;return r?"name"==r.type?t=Object(l.get)(r.properties.name):Object(i.a)(!1,36):t=this.dataProjection,t},t.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var r={type:"Feature",geometry:null,properties:null},n=e.getId();void 0!==n&&(r.id=n);var i=e.getGeometry();i&&(r.geometry=U(i,t));var o=e.getProperties();return delete o[e.getGeometryName()],Object(a.d)(o)||(r.properties=o),r},t.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);for(var r=[],n=0,i=e.length;n<i;++n)r.push(this.writeFeatureObject(e[n],t));return{type:"FeatureCollection",features:r}},t.prototype.writeGeometryObject=function(e,t){return U(e,this.adaptOptions(t))},t}(y),B=r(10),V=document.implementation.createDocument("","",null),W="http://www.w3.org/2001/XMLSchema-instance";function K(e,t){return V.createElementNS(e,t)}function H(e,t){return function e(t,r,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)r?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var i=void 0;for(i=t.firstChild;i;i=i.nextSibling)e(i,r,n)}return n}(e,t,[]).join("")}function Y(e){return"documentElement"in e}function X(e){return(new DOMParser).parseFromString(e,"application/xml")}function Z(e,t){return function(r,n){var i=e.call(void 0!==t?t:this,r,n);if(void 0!==i){var o=n[n.length-1];Object(B.c)(o,i)}}}function q(e,t){return function(r,n){var i=e.call(void 0!==t?t:this,r,n);void 0!==i&&n[n.length-1].push(i)}}function Q(e,t){return function(r,n){var i=e.call(void 0!==t?t:this,r,n);void 0!==i&&(n[n.length-1]=i)}}function $(e,t,r){return function(n,i){var o=e.call(void 0!==r?r:this,n,i);if(void 0!==o){var a=i[i.length-1],s=void 0!==t?t:n.localName,l=void 0;s in a?l=a[s]:(l=[],a[s]=l),l.push(o)}}}function J(e,t,r){return function(n,i){var o=e.call(void 0!==r?r:this,n,i);void 0!==o&&(i[i.length-1][void 0!==t?t:n.localName]=o)}}function ee(e,t){return function(r,n,i){e.call(void 0!==t?t:this,r,n,i),i[i.length-1].node.appendChild(r)}}function te(e,t){var r,n;return function(t,i,o){if(void 0===r){r={};var a={};a[t.localName]=e,r[t.namespaceURI]=a,n=re(t.localName)}le(r,n,i,o)}}function re(e,t){var r=e;return(function(e,n,i){var o=n[n.length-1].node,a=r;return void 0===a&&(a=i),K(void 0!==t?t:o.namespaceURI,a)})}var ne=re();function ie(e,t){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=e[t[i]];return n}function oe(e,t,r){var n,i,o=void 0!==r?r:{};for(n=0,i=e.length;n<i;++n)o[e[n]]=t;return o}function ae(e,t,r,n){var i;for(i=t.firstElementChild;i;i=i.nextElementSibling){var o=e[i.namespaceURI];if(void 0!==o){var a=o[i.localName];void 0!==a&&a.call(n,i,r)}}}function se(e,t,r,n,i){return n.push(e),ae(t,r,n,i),n.pop()}function le(e,t,r,n,i,o){for(var a,s,l=(void 0!==i?i:r).length,u=0;u<l;++u)void 0!==(a=r[u])&&void 0!==(s=t.call(void 0!==o?o:this,a,n,void 0!==i?i[u]:void 0))&&e[s.namespaceURI][s.localName].call(o,s,a,n)}function ue(e,t,r,n,i,o,a){return i.push(e),le(t,r,n,i,o,a),i.pop()}var ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),he=function(e){function t(){var t=e.call(this)||this;return t.xmlSerializer_=new XMLSerializer,t}return ce(t,e),t.prototype.getType=function(){return f.a.XML},t.prototype.readFeature=function(e,t){if(e){if("string"==typeof e){var r=X(e);return this.readFeatureFromDocument(r,t)}return Y(e)?this.readFeatureFromDocument(e,t):this.readFeatureFromNode(e,t)}return null},t.prototype.readFeatureFromDocument=function(e,t){var r=this.readFeaturesFromDocument(e,t);return r.length>0?r[0]:null},t.prototype.readFeatureFromNode=function(e,t){return null},t.prototype.readFeatures=function(e,t){if(e){if("string"==typeof e){var r=X(e);return this.readFeaturesFromDocument(r,t)}return Y(e)?this.readFeaturesFromDocument(e,t):this.readFeaturesFromNode(e,t)}return[]},t.prototype.readFeaturesFromDocument=function(e,t){for(var r=[],n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(B.c)(r,this.readFeaturesFromNode(n,t));return r},t.prototype.readFeaturesFromNode=function(e,t){return Object(s.b)()},t.prototype.readGeometry=function(e,t){if(e){if("string"==typeof e){var r=X(e);return this.readGeometryFromDocument(r,t)}return Y(e)?this.readGeometryFromDocument(e,t):this.readGeometryFromNode(e,t)}return null},t.prototype.readGeometryFromDocument=function(e,t){return null},t.prototype.readGeometryFromNode=function(e,t){return null},t.prototype.readProjection=function(e){if(e){if("string"==typeof e){var t=X(e);return this.readProjectionFromDocument(t)}return Y(e)?this.readProjectionFromDocument(e):this.readProjectionFromNode(e)}return null},t.prototype.readProjectionFromDocument=function(e){return this.dataProjection},t.prototype.readProjectionFromNode=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){var r=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(r)},t.prototype.writeFeatureNode=function(e,t){return null},t.prototype.writeFeatures=function(e,t){var r=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(r)},t.prototype.writeFeaturesNode=function(e,t){return null},t.prototype.writeGeometry=function(e,t){var r=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(r)},t.prototype.writeGeometryNode=function(e,t){return null},t}(c),pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),de="http://www.opengis.net/gml",fe=/^[\s\xa0]*$/,ge=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.featureType=n.featureType,r.featureNS=n.featureNS,r.srsName=n.srsName,r.schemaLocation="",r.FEATURE_COLLECTION_PARSERS={},r.FEATURE_COLLECTION_PARSERS[r.namespace]={featureMember:q(r.readFeaturesInternal),featureMembers:Q(r.readFeaturesInternal)},r}return pe(t,e),t.prototype.readFeaturesInternal=function(e,t){var r=e.localName,n=null;if("FeatureCollection"==r)n=se([],this.FEATURE_COLLECTION_PARSERS,e,t,this);else if("featureMembers"==r||"featureMember"==r){var i=t[0],o=i.featureType,a=i.featureNS;if(!o&&e.childNodes){o=[],a={};for(var s=0,l=e.childNodes.length;s<l;++s){var u=e.childNodes[s];if(1===u.nodeType){var c=u.nodeName.split(":").pop();if(-1===o.indexOf(c)){var h="",p=0,d=u.namespaceURI;for(var f in a){if(a[f]===d){h=f;break}++p}h||(a[h="p"+p]=d),o.push(h+":"+c)}}}"featureMember"!=r&&(i.featureType=o,i.featureNS=a)}if("string"==typeof a){var g=a;(a={}).p0=g}var m={},y=Array.isArray(o)?o:[o];for(var _ in a){var b={};for(s=0,l=y.length;s<l;++s){(-1===y[s].indexOf(":")?"p0":y[s].split(":")[0])===_&&(b[y[s].split(":").pop()]="featureMembers"==r?q(this.readFeatureElement,this):Q(this.readFeatureElement,this))}m[a[_]]=b}n=se("featureMember"==r?void 0:[],m,e,t)}return null===n&&(n=[]),n},t.prototype.readGeometryElement=function(e,t){var r=t[0];r.srsName=e.firstElementChild.getAttribute("srsName"),r.srsDimension=e.firstElementChild.getAttribute("srsDimension");var n=se(null,this.GEOMETRY_PARSERS,e,t,this);return n?Array.isArray(n)?p(n,r):h(n,!1,r):void 0},t.prototype.readFeatureElementInternal=function(e,t,r){for(var i,o={},a=e.firstElementChild;a;a=a.nextElementSibling){var s=void 0,l=a.localName;0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)?(s=H(a,!1),fe.test(s)&&(s=void 0)):(r&&(s=this.readGeometryElement(a,t)),s?"boundedBy"!==l&&(i=l):s=this.readFeatureElementInternal(a,t,!1)),o[l]?(o[l]instanceof Array||(o[l]=[o[l]]),o[l].push(s)):o[l]=s;var u=a.attributes.length;if(u>0){o[l]={_content_:o[l]};for(var c=0;c<u;c++){var h=a.attributes[c].name;o[l][h]=a.attributes[c].value}}}if(r){var p=new n.a(o);i&&p.setGeometryName(i);var d=e.getAttribute("fid")||function(e,t,r){return e.getAttributeNS(t,r)||""}(e,this.namespace,"id");return d&&p.setId(d),p}return o},t.prototype.readFeatureElement=function(e,t){return this.readFeatureElementInternal(e,t,!0)},t.prototype.readPoint=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new S.a(r,_.a.XYZ)},t.prototype.readMultiPoint=function(e,t){var r=se([],this.MULTIPOINT_PARSERS_,e,t,this);return r?new E.a(r):void 0},t.prototype.readMultiLineString=function(e,t){var r=se([],this.MULTILINESTRING_PARSERS_,e,t,this);if(r)return new O.a(r)},t.prototype.readMultiPolygon=function(e,t){var r=se([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(r)return new T.a(r)},t.prototype.pointMemberParser_=function(e,t){ae(this.POINTMEMBER_PARSERS_,e,t,this)},t.prototype.lineStringMemberParser_=function(e,t){ae(this.LINESTRINGMEMBER_PARSERS_,e,t,this)},t.prototype.polygonMemberParser_=function(e,t){ae(this.POLYGONMEMBER_PARSERS_,e,t,this)},t.prototype.readLineString=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);return r?new v.a(r,_.a.XYZ):void 0},t.prototype.readFlatLinearRing_=function(e,t){var r=se(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this);return r||void 0},t.prototype.readLinearRing=function(e,t){var r=this.readFlatCoordinatesFromNode_(e,t);if(r)return new w.a(r,_.a.XYZ)},t.prototype.readPolygon=function(e,t){var r=se([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this);if(r&&r[0]){var n,i=r[0],o=[i.length],a=void 0;for(a=1,n=r.length;a<n;++a)Object(B.c)(i,r[a]),o.push(i.length);return new C.b(i,_.a.XYZ,o)}},t.prototype.readFlatCoordinatesFromNode_=function(e,t){return se(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},t.prototype.readGeometryFromNode=function(e,t){var r=this.readGeometryElement(e,[this.getReadOptions(e,t||{})]);return r||null},t.prototype.readFeaturesFromNode=function(e,t){var r={featureType:this.featureType,featureNS:this.featureNS};return t&&Object(a.a)(r,this.getReadOptions(e,t)),this.readFeaturesInternal(e,[r])||[]},t.prototype.readProjectionFromNode=function(e){return Object(l.get)(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))},t}(he);ge.prototype.namespace=de,ge.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},ge.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},ge.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},ge.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:q(ge.prototype.pointMemberParser_),pointMembers:q(ge.prototype.pointMemberParser_)}},ge.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:q(ge.prototype.lineStringMemberParser_),lineStringMembers:q(ge.prototype.lineStringMemberParser_)}},ge.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:q(ge.prototype.polygonMemberParser_),polygonMembers:q(ge.prototype.polygonMemberParser_)}},ge.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:q(ge.prototype.readFlatCoordinatesFromNode_)}},ge.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:q(ge.prototype.readLineString)}},ge.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:q(ge.prototype.readPolygon)}},ge.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Q(ge.prototype.readFlatLinearRing_)}};var me=ge,ye=r(109);function _e(e){return be(H(e,!1))}function be(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);return t?void 0!==t[1]||!1:void 0}function ve(e){var t=H(e,!1),r=Date.parse(t);return isNaN(r)?void 0:r/1e3}function we(e){return Oe(H(e,!1))}function Oe(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);return t?parseFloat(t[1]):void 0}function Ee(e){return Te(H(e,!1))}function Te(e){var t=/^\s*(\d+)\s*$/.exec(e);return t?parseInt(t[1],10):void 0}function Se(e){return H(e,!1).trim()}function Ce(e,t){Re(e,t?"1":"0")}function xe(e,t){var r=t.toPrecision();e.appendChild(V.createTextNode(r))}function ke(e,t){var r=t.toString();e.appendChild(V.createTextNode(r))}function Re(e,t){e.appendChild(V.createTextNode(t))}var Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},je=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).surface_=void 0!==n.surface&&n.surface,r.curve_=void 0!==n.curve&&n.curve,r.multiCurve_=void 0===n.multiCurve||n.multiCurve,r.multiSurface_=void 0===n.multiSurface||n.multiSurface,r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",r.hasZ=void 0!==n.hasZ&&n.hasZ,r}return Pe(t,e),t.prototype.readMultiCurve_=function(e,t){var r=se([],this.MULTICURVE_PARSERS_,e,t,this);return r?new O.a(r):void 0},t.prototype.readMultiSurface_=function(e,t){var r=se([],this.MULTISURFACE_PARSERS_,e,t,this);if(r)return new T.a(r)},t.prototype.curveMemberParser_=function(e,t){ae(this.CURVEMEMBER_PARSERS_,e,t,this)},t.prototype.surfaceMemberParser_=function(e,t){ae(this.SURFACEMEMBER_PARSERS_,e,t,this)},t.prototype.readPatch_=function(e,t){return se([null],this.PATCHES_PARSERS_,e,t,this)},t.prototype.readSegment_=function(e,t){return se([null],this.SEGMENTS_PARSERS_,e,t,this)},t.prototype.readPolygonPatch_=function(e,t){return se([null],this.FLAT_LINEAR_RINGS_PARSERS,e,t,this)},t.prototype.readLineStringSegment_=function(e,t){return se([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,e,t,this)},t.prototype.interiorParser_=function(e,t){var r=se(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},t.prototype.exteriorParser_=function(e,t){var r=se(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},t.prototype.readSurface_=function(e,t){var r=se([null],this.SURFACE_PARSERS_,e,t,this);if(r&&r[0]){var n,i=r[0],o=[i.length],a=void 0;for(a=1,n=r.length;a<n;++a)Object(B.c)(i,r[a]),o.push(i.length);return new C.b(i,_.a.XYZ,o)}},t.prototype.readCurve_=function(e,t){var r=se([null],this.CURVE_PARSERS_,e,t,this);return r?new v.a(r,_.a.XYZ):void 0},t.prototype.readEnvelope_=function(e,t){var r=se([null],this.ENVELOPE_PARSERS_,e,t,this);return Object(o.createOrUpdate)(r[1][0],r[1][1],r[2][0],r[2][1])},t.prototype.readFlatPos_=function(e,t){for(var r,n=H(e,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];r=i.exec(n);)o.push(parseFloat(r[1])),n=n.substr(r[0].length);if(""===n){var a=t[0].srsName,s="enu";if(a)s=Object(l.get)(a).getAxisOrientation();if("neu"===s){var u,c=void 0;for(c=0,u=o.length;c<u;c+=3){var h=o[c],p=o[c+1];o[c]=p,o[c+1]=h}}var d=o.length;if(2==d&&o.push(0),0!==d)return o}},t.prototype.readFlatPosList_=function(e,t){var r=H(e,!1).replace(/^\s*|\s*$/g,""),n=t[0],i=n.srsName,o=n.srsDimension,a="enu";i&&(a=Object(l.get)(i).getAxisOrientation());var s,u,c,h=r.split(/\s+/),p=2;e.getAttribute("srsDimension")?p=Te(e.getAttribute("srsDimension")):e.getAttribute("dimension")?p=Te(e.getAttribute("dimension")):e.parentNode.getAttribute("srsDimension")?p=Te(e.parentNode.getAttribute("srsDimension")):o&&(p=Te(o));for(var d=[],f=0,g=h.length;f<g;f+=p)s=parseFloat(h[f]),u=parseFloat(h[f+1]),c=3===p?parseFloat(h[f+2]):0,"en"===a.substr(0,2)?d.push(s,u,c):d.push(u,s,c);return d},t.prototype.writePos_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);var a=n.srsName,s="enu";a&&(s=Object(l.get)(a).getAxisOrientation());var u,c=t.getCoordinates();(u="en"===s.substr(0,2)?c[0]+" "+c[1]:c[1]+" "+c[0],i)&&(u+=" "+(c[2]||0));Re(e,u)},t.prototype.getCoords_=function(e,t,r){var n="enu";t&&(n=Object(l.get)(t).getAxisOrientation());var i="en"===n.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0];r&&(i+=" "+(e[2]||0));return i},t.prototype.writePosList_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=i?"3":"2";e.setAttribute("srsDimension",o);for(var a,s=n.srsName,l=t.getCoordinates(),u=l.length,c=new Array(u),h=0;h<u;++h)a=l[h],c[h]=this.getCoords_(a,s,i);Re(e,c.join(" "))},t.prototype.writePoint_=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var i=K(e.namespaceURI,"pos");e.appendChild(i),this.writePos_(i,t,r)},t.prototype.writeEnvelope=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var i=[t[0]+" "+t[1],t[2]+" "+t[3]];ue({node:e},this.ENVELOPE_SERIALIZERS_,ne,i,r,["lowerCorner","upperCorner"],this)},t.prototype.writeLinearRing_=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var i=K(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,r)},t.prototype.RING_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),K(i.namespaceURI,void 0!==o?"interior":"exterior")},t.prototype.writeSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();ue({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var s=K(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,r)}},t.prototype.writeCurveOrLineString_=function(e,t,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&n&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var i=K(e.namespaceURI,"posList");e.appendChild(i),this.writePosList_(i,t,r)}else if("Curve"===e.nodeName){var o=K(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,r)}},t.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&e.setAttribute("srsName",o);var s=t.getPolygons();ue({node:e,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},t.prototype.writeMultiPoint_=function(e,t,r){var n=r[r.length-1],i=n.srsName,o=n.hasZ;i&&e.setAttribute("srsName",i);var a=t.getPoints();ue({node:e,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS_,re("pointMember"),a,r,void 0,this)},t.prototype.writeMultiCurveOrLineString_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&e.setAttribute("srsName",o);var s=t.getLineStrings();ue({node:e,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},t.prototype.writeRing_=function(e,t,r){var n=K(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing_(n,t,r)},t.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r))},t.prototype.writePointMember_=function(e,t,r){var n=K(e.namespaceURI,"Point");e.appendChild(n),this.writePoint_(n,t,r)},t.prototype.writeLineStringOrCurveMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeCurveOrLineString_(n,t,r))},t.prototype.writeSurfacePatches_=function(e,t,r){var n=K(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r)},t.prototype.writeCurveSegments_=function(e,t,r){var n=K(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString_(n,t,r)},t.prototype.writeGeometryElement=function(e,t,r){var n,i=r[r.length-1],o=Object(a.a)({},i);o.node=e,n=Array.isArray(t)?p(t,i):h(t,!0,i),ue(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},t.prototype.writeFeatureElement=function(e,t,r){var n=t.getId();n&&e.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var l=t.getProperties(),u=[],c=[];for(var h in l){var p=l[h];null!==p&&(u.push(h),c.push(p),h==s||"function"==typeof p.getSimplifiedGeometry?h in i.serializers[o]||(i.serializers[o][h]=ee(this.writeGeometryElement,this)):h in i.serializers[o]||(i.serializers[o][h]=ee(Re)))}var d=Object(a.a)({},i);d.node=e,ue(d,i.serializers,re(void 0,o),c,r,u)},t.prototype.writeFeatureMembers_=function(e,t,r){var n=r[r.length-1],i=n.featureType,o=n.featureNS,s={};s[o]={},s[o][i]=ee(this.writeFeatureElement,this);var l=Object(a.a)({},n);l.node=e,ue(l,s,re(i,o),t,r)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1].node;return K(this.namespace,Ie[n.nodeName])},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var n,i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.curve,l=i.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"LineString"===n&&!0===s?n="Curve":"MultiLineString"===n&&!0===l&&(n="MultiCurve"),K(this.namespace,n)},t.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var r=K(this.namespace,"geom"),n={node:r,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return t&&Object(a.a)(n,t),this.writeGeometryElement(r,e,[n]),r},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=K(this.namespace,"featureMembers");r.setAttributeNS(W,"xsi:schemaLocation",this.schemaLocation);var n={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return t&&Object(a.a)(n,t),this.writeFeatureMembers_(r,e,[n]),r},t}(me);je.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Q(je.prototype.readFlatPos_),posList:Q(je.prototype.readFlatPosList_)}},je.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:je.prototype.interiorParser_,exterior:je.prototype.exteriorParser_}},je.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Q(me.prototype.readPoint),MultiPoint:Q(me.prototype.readMultiPoint),LineString:Q(me.prototype.readLineString),MultiLineString:Q(me.prototype.readMultiLineString),LinearRing:Q(me.prototype.readLinearRing),Polygon:Q(me.prototype.readPolygon),MultiPolygon:Q(me.prototype.readMultiPolygon),Surface:Q(je.prototype.readSurface_),MultiSurface:Q(je.prototype.readMultiSurface_),Curve:Q(je.prototype.readCurve_),MultiCurve:Q(je.prototype.readMultiCurve_),Envelope:Q(je.prototype.readEnvelope_)}},je.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:q(je.prototype.curveMemberParser_),curveMembers:q(je.prototype.curveMemberParser_)}},je.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:q(je.prototype.surfaceMemberParser_),surfaceMembers:q(je.prototype.surfaceMemberParser_)}},je.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:q(me.prototype.readLineString),Curve:q(je.prototype.readCurve_)}},je.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:q(me.prototype.readPolygon),Surface:q(je.prototype.readSurface_)}},je.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Q(je.prototype.readPatch_)}},je.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Q(je.prototype.readSegment_)}},je.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:q(je.prototype.readFlatPosList_),upperCorner:q(je.prototype.readFlatPosList_)}},je.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Q(je.prototype.readPolygonPatch_)}},je.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Q(je.prototype.readLineStringSegment_)}},je.prototype.writeFeatures,je.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ee(je.prototype.writeRing_),interior:ee(je.prototype.writeRing_)}},je.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ee(Re),upperCorner:ee(Re)}},je.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ee(je.prototype.writeSurfaceOrPolygonMember_),polygonMember:ee(je.prototype.writeSurfaceOrPolygonMember_)}},je.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ee(je.prototype.writePointMember_)}},je.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ee(je.prototype.writeLineStringOrCurveMember_),curveMember:ee(je.prototype.writeLineStringOrCurveMember_)}},je.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ee(je.prototype.writeCurveOrLineString_),MultiCurve:ee(je.prototype.writeMultiCurveOrLineString_),Point:ee(je.prototype.writePoint_),MultiPoint:ee(je.prototype.writeMultiPoint_),LineString:ee(je.prototype.writeCurveOrLineString_),MultiLineString:ee(je.prototype.writeMultiCurveOrLineString_),LinearRing:ee(je.prototype.writeLinearRing_),Polygon:ee(je.prototype.writeSurfaceOrPolygon_),MultiPolygon:ee(je.prototype.writeMultiSurfaceOrPolygon_),Surface:ee(je.prototype.writeSurfaceOrPolygon_),MultiSurface:ee(je.prototype.writeMultiSurfaceOrPolygon_),Envelope:ee(je.prototype.writeEnvelope)}};var Le=je,Ae=Le;Ae.prototype.writeFeatures,Ae.prototype.writeFeaturesNode;var Fe=Ae,Me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ne=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],De={rte:pt,trk:dt,wpt:ft},Ge=oe(Ne,{rte:q(pt),trk:q(dt),wpt:q(ft)}),Ue=oe(Ne,{text:J(Se,"linkText"),type:J(Se,"linkType")}),ze=oe(Ne,{rte:ee((function(e,t,r){var n=r[0],i=t.getProperties(),o={node:e};o.properties=i;var a=t.getGeometry();if(a.getType()==b.a.LINE_STRING){var s=h(a,!0,n);o.geometryLayout=s.getLayout(),i.rtept=s.getCoordinates()}var l=r[r.length-1].node,u=Qe[l.namespaceURI],c=ie(i,u);ue(o,$e,ne,c,r,u)})),trk:ee((function(e,t,r){var n=r[0],i=t.getProperties(),o={node:e};o.properties=i;var a=t.getGeometry();if(a.getType()==b.a.MULTI_LINE_STRING){var s=h(a,!0,n);i.trkseg=s.getLineStrings()}var l=r[r.length-1].node,u=et[l.namespaceURI],c=ie(i,u);ue(o,tt,ne,c,r,u)})),wpt:ee((function(e,t,r){var n=r[0],i=r[r.length-1];i.properties=t.getProperties();var o=t.getGeometry();if(o.getType()==b.a.POINT){var a=h(o,!0,n);i.geometryLayout=a.getLayout(),mt(e,a.getCoordinates(),r)}}))}),Be=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.dataProjection=Object(l.get)("EPSG:4326"),r.readExtensions_=n.readExtensions,r}return Me(t,e),t.prototype.handleReadExtensions_=function(e){e||(e=[]);for(var t=0,r=e.length;t<r;++t){var n=e[t];if(this.readExtensions_){var i=n.get("extensionsNode_")||null;this.readExtensions_(n,i)}n.set("extensionsNode_",void 0)}},t.prototype.readFeatureFromNode=function(e,t){if(!Object(B.f)(Ne,e.namespaceURI))return null;var r=De[e.localName];if(!r)return null;var n=r(e,[this.getReadOptions(e,t)]);return n?(this.handleReadExtensions_([n]),n):null},t.prototype.readFeaturesFromNode=function(e,t){if(!Object(B.f)(Ne,e.namespaceURI))return[];if("gpx"==e.localName){var r=se([],Ge,e,[this.getReadOptions(e,t)]);return r?(this.handleReadExtensions_(r),r):[]}return[]},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=K("http://www.topografix.com/GPX/1/1","gpx");return r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",W),r.setAttributeNS(W,"xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),r.setAttribute("version","1.1"),r.setAttribute("creator","OpenLayers"),ue({node:r},ze,st,e,[t]),r},t}(he),Ve=oe(Ne,{name:J(Se),cmt:J(Se),desc:J(Se),src:J(Se),link:ct,number:J(Ee),extensions:ht,type:J(Se),rtept:function(e,t){var r=se({},We,e,t);if(r){var n=t[t.length-1],i=n.flatCoordinates,o=n.layoutOptions;lt(i,o,e,r)}}}),We=oe(Ne,{ele:J(we),time:J(ve)}),Ke=oe(Ne,{name:J(Se),cmt:J(Se),desc:J(Se),src:J(Se),link:ct,number:J(Ee),type:J(Se),extensions:ht,trkseg:function(e,t){var r=t[t.length-1];ae(He,e,t);var n=r.flatCoordinates;r.ends.push(n.length)}}),He=oe(Ne,{trkpt:function(e,t){var r=se({},Ye,e,t);if(r){var n=t[t.length-1],i=n.flatCoordinates,o=n.layoutOptions;lt(i,o,e,r)}}}),Ye=oe(Ne,{ele:J(we),time:J(ve)}),Xe=oe(Ne,{ele:J(we),time:J(ve),magvar:J(we),geoidheight:J(we),name:J(Se),cmt:J(Se),desc:J(Se),src:J(Se),link:ct,sym:J(Se),type:J(Se),fix:J(Se),sat:J(Ee),hdop:J(we),vdop:J(we),pdop:J(we),ageofdgpsdata:J(we),dgpsid:J(Ee),extensions:ht}),Ze=["text","type"],qe=oe(Ne,{text:ee(Re),type:ee(Re)}),Qe=oe(Ne,["name","cmt","desc","src","link","number","type","rtept"]),$e=oe(Ne,{name:ee(Re),cmt:ee(Re),desc:ee(Re),src:ee(Re),link:ee(gt),number:ee(ke),type:ee(Re),rtept:te(ee(mt))}),Je=oe(Ne,["ele","time"]),et=oe(Ne,["name","cmt","desc","src","link","number","type","trkseg"]),tt=oe(Ne,{name:ee(Re),cmt:ee(Re),desc:ee(Re),src:ee(Re),link:ee(gt),number:ee(ke),type:ee(Re),trkseg:te(ee((function(e,t,r){var n={node:e};n.geometryLayout=t.getLayout(),n.properties={},ue(n,nt,rt,t.getCoordinates(),r)})))}),rt=re("trkpt"),nt=oe(Ne,{trkpt:ee(mt)}),it=oe(Ne,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),ot=oe(Ne,{ele:ee(xe),time:ee((function(e,t){var r=new Date(1e3*t),n=r.getUTCFullYear()+"-"+Object(ye.b)(r.getUTCMonth()+1,2)+"-"+Object(ye.b)(r.getUTCDate(),2)+"T"+Object(ye.b)(r.getUTCHours(),2)+":"+Object(ye.b)(r.getUTCMinutes(),2)+":"+Object(ye.b)(r.getUTCSeconds(),2)+"Z";e.appendChild(V.createTextNode(n))})),magvar:ee(xe),geoidheight:ee(xe),name:ee(Re),cmt:ee(Re),desc:ee(Re),src:ee(Re),link:ee(gt),sym:ee(Re),type:ee(Re),fix:ee(Re),sat:ee(ke),hdop:ee(xe),vdop:ee(xe),pdop:ee(xe),ageofdgpsdata:ee(xe),dgpsid:ee(ke)}),at={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function st(e,t,r){var n=e.getGeometry();if(n){var i=at[n.getType()];if(i)return K(t[t.length-1].node.namespaceURI,i)}}function lt(e,t,r,n){return e.push(parseFloat(r.getAttribute("lon")),parseFloat(r.getAttribute("lat"))),"ele"in n?(e.push(n.ele),delete n.ele,t.hasZ=!0):e.push(0),"time"in n?(e.push(n.time),delete n.time,t.hasM=!0):e.push(0),e}function ut(e,t,r){var n=_.a.XY,i=2;if(e.hasZ&&e.hasM?(n=_.a.XYZM,i=4):e.hasZ?(n=_.a.XYZ,i=3):e.hasM&&(n=_.a.XYM,i=3),4!==i){for(var o=0,a=t.length/4;o<a;o++)t[o*i]=t[4*o],t[o*i+1]=t[4*o+1],e.hasZ&&(t[o*i+2]=t[4*o+2]),e.hasM&&(t[o*i+2]=t[4*o+3]);if(t.length=t.length/4*i,r)for(o=0,a=r.length;o<a;o++)r[o]=r[o]/4*i}return n}function ct(e,t){var r=t[t.length-1],n=e.getAttribute("href");null!==n&&(r.link=n),ae(Ue,e,t)}function ht(e,t){t[t.length-1].extensionsNode_=e}function pt(e,t){var r=t[0],i=se({flatCoordinates:[],layoutOptions:{}},Ve,e,t);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var a=i.layoutOptions;delete i.layoutOptions;var s=ut(a,o),l=new v.a(o,s);h(l,!1,r);var u=new n.a(l);return u.setProperties(i,!0),u}}function dt(e,t){var r=t[0],i=se({flatCoordinates:[],ends:[],layoutOptions:{}},Ke,e,t);if(i){var o=i.flatCoordinates;delete i.flatCoordinates;var a=i.ends;delete i.ends;var s=i.layoutOptions;delete i.layoutOptions;var l=ut(s,o,a),u=new O.a(o,l,a);h(u,!1,r);var c=new n.a(u);return c.setProperties(i,!0),c}}function ft(e,t){var r=t[0],i=se({},Xe,e,t);if(i){var o={},a=lt([],o,e,i),s=ut(o,a),l=new S.a(a,s);h(l,!1,r);var u=new n.a(l);return u.setProperties(i,!0),u}}function gt(e,t,r){e.setAttribute("href",t);var n=r[r.length-1].properties,i=[n.linkText,n.linkType];ue({node:e},qe,ne,i,r,Ze)}function mt(e,t,r){var n=r[r.length-1],i=n.node.namespaceURI,o=n.properties;switch(e.setAttributeNS(null,"lat",String(t[1])),e.setAttributeNS(null,"lon",String(t[0])),n.geometryLayout){case _.a.XYZM:0!==t[3]&&(o.time=t[3]);case _.a.XYZ:0!==t[2]&&(o.ele=t[2]);break;case _.a.XYM:0!==t[2]&&(o.time=t[2])}var a="rtept"==e.nodeName?Je[i]:it[i],s=ie(o,a);ue({node:e,properties:o},ot,ne,s,r,a)}var yt=Be,_t=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function bt(e){return"string"==typeof e?e:""}var vt,wt,Ot,Et,Tt,St,Ct,xt=function(e){function t(){return e.call(this)||this}return _t(t,e),t.prototype.getType=function(){return f.a.TEXT},t.prototype.readFeature=function(e,t){return this.readFeatureFromText(bt(e),this.adaptOptions(t))},t.prototype.readFeatureFromText=function(e,t){return Object(s.b)()},t.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(bt(e),this.adaptOptions(t))},t.prototype.readFeaturesFromText=function(e,t){return Object(s.b)()},t.prototype.readGeometry=function(e,t){return this.readGeometryFromText(bt(e),this.adaptOptions(t))},t.prototype.readGeometryFromText=function(e,t){return Object(s.b)()},t.prototype.readProjection=function(e){return this.readProjectionFromText(bt(e))},t.prototype.readProjectionFromText=function(e){return this.dataProjection},t.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){return Object(s.b)()},t.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))},t.prototype.writeFeaturesText=function(e,t){return Object(s.b)()},t.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))},t.prototype.writeGeometryText=function(e,t){return Object(s.b)()},t}(c),kt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rt="barometric",Pt="gps",It="none",jt=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Lt=/^H.([A-Z]{3}).*?:(.*)/,At=/^HFDTE(\d{2})(\d{2})(\d{2})/,Ft=/\r\n|\r|\n/,Mt=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.dataProjection=Object(l.get)("EPSG:4326"),r.altitudeMode_=n.altitudeMode?n.altitudeMode:It,r}return kt(t,e),t.prototype.readFeatureFromText=function(e,t){var r,i,o=this.altitudeMode_,a=e.split(Ft),s={},l=[],u=2e3,c=0,p=1,d=-1;for(r=0,i=a.length;r<i;++r){var f=a[r],g=void 0;if("B"==f.charAt(0)){if(g=jt.exec(f)){var m=parseInt(g[1],10),y=parseInt(g[2],10),b=parseInt(g[3],10),w=parseInt(g[4],10)+parseInt(g[5],10)/6e4;"S"==g[6]&&(w=-w);var O=parseInt(g[7],10)+parseInt(g[8],10)/6e4;if("W"==g[9]&&(O=-O),l.push(O,w),o!=It){var E=void 0;E=o==Pt?parseInt(g[11],10):o==Rt?parseInt(g[12],10):0,l.push(E)}var T=Date.UTC(u,c,p,m,y,b);T<d&&(T=Date.UTC(u,c,p+1,m,y,b)),l.push(T/1e3),d=T}}else"H"==f.charAt(0)&&((g=At.exec(f))?(p=parseInt(g[1],10),c=parseInt(g[2],10)-1,u=2e3+parseInt(g[3],10)):(g=Lt.exec(f))&&(s[g[1]]=g[2].trim()))}if(0===l.length)return null;var S=o==It?_.a.XYM:_.a.XYZM,C=new v.a(l,S),x=new n.a(h(C,!1,t));return x.setProperties(s,!0),x},t.prototype.readFeaturesFromText=function(e,t){var r=this.readFeatureFromText(e,t);return r?[r]:[]},t}(xt),Nt=r(155),Dt=r(135),Gt=r(17),Ut=r(95),zt=r(183),Bt=r(75),Vt=r(70),Wt=r(98),Kt=r(67),Ht=r(152),Yt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xt=["http://www.google.com/kml/ext/2.2"],Zt=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],qt={fraction:Bt.a.FRACTION,pixels:Bt.a.PIXELS,insetPixels:Bt.a.PIXELS},Qt=oe(Zt,{ExtendedData:Wr,Region:Kr,MultiGeometry:J(Fr,"geometry"),LineString:J(jr,"geometry"),LinearRing:J(Lr,"geometry"),Point:J(Mr,"geometry"),Polygon:J(Dr,"geometry"),Style:J(Ur),StyleMap:function(e,t){var r=_r(e,t);if(!r)return;var n=t[t.length-1];Array.isArray(r)?n.Style=r:"string"==typeof r?n.styleUrl=r:Object(i.a)(!1,38)},address:J(Se),description:J(Se),name:J(Se),open:J(_e),phoneNumber:J(Se),styleUrl:J(gr),visibility:J(_e)},oe(Xt,{MultiTrack:J((function(e,t){var r=se([],Sr,e,t);if(!r)return;return new O.a(r)}),"geometry"),Track:J(xr,"geometry")})),$t=oe(Zt,{ExtendedData:Wr,Region:Kr,Link:function(e,t){ae(Jt,e,t)},address:J(Se),description:J(Se),name:J(Se),open:J(_e),phoneNumber:J(Se),visibility:J(_e)}),Jt=oe(Zt,{href:J(gr)}),er=oe(Zt,{LatLonAltBox:function(e,t){var r=se({},Xr,e,t);if(!r)return;var n=t[t.length-1],i=[parseFloat(r.west),parseFloat(r.south),parseFloat(r.east),parseFloat(r.north)];n.extent=i,n.altitudeMode=r.altitudeMode,n.minAltitude=parseFloat(r.minAltitude),n.maxAltitude=parseFloat(r.maxAltitude)},Lod:function(e,t){var r=se({},Zr,e,t);if(!r)return;var n=t[t.length-1];n.minLodPixels=parseFloat(r.minLodPixels),n.maxLodPixels=parseFloat(r.maxLodPixels),n.minFadeExtent=parseFloat(r.minFadeExtent),n.maxFadeExtent=parseFloat(r.maxFadeExtent)}}),tr=oe(Zt,["Document","Placemark"]),rr=oe(Zt,{Document:ee((function(e,t,r){ue({node:e},en,tn,t,r,void 0,this)})),Placemark:ee(Cn)}),nr=null;var ir,or=null;var ar,sr=null;var lr=null;var ur=null;var cr=null;var hr=function(e){function t(t){var r=e.call(this)||this,n=t||{};return cr||(vt=[255,255,255,1],nr=new Ut.a({color:vt}),wt=[20,2],Ot=Bt.a.PIXELS,Et=Bt.a.PIXELS,Tt=[64,64],St="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Ct=.5,or=new zt.a({anchor:wt,anchorOrigin:Vt.a.BOTTOM_LEFT,anchorXUnits:Ot,anchorYUnits:Et,crossOrigin:"anonymous",rotation:0,scale:Ct,size:Tt,src:St}),ir="NO_IMAGE",sr=new Wt.a({color:vt,width:1}),ar=new Wt.a({color:[51,51,51,1],width:2}),lr=new Ht.a({font:"bold 16px Helvetica",fill:nr,stroke:ar,scale:.8}),ur=new Kt.c({fill:nr,image:or,text:lr,stroke:sr,zIndex:0}),cr=[ur]),r.dataProjection=Object(l.get)("EPSG:4326"),r.defaultStyle_=n.defaultStyle?n.defaultStyle:cr,r.extractStyles_=void 0===n.extractStyles||n.extractStyles,r.writeStyles_=void 0===n.writeStyles||n.writeStyles,r.sharedStyles_={},r.showPointNames_=void 0===n.showPointNames||n.showPointNames,r}return Yt(t,e),t.prototype.readDocumentOrFolder_=function(e,t){var r=se([],oe(Zt,{Document:Z(this.readDocumentOrFolder_,this),Folder:Z(this.readDocumentOrFolder_,this),Placemark:q(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),e,t,this);return r||void 0},t.prototype.readPlacemark_=function(e,t){var r=se({geometry:null},Qt,e,t);if(r){var i=new n.a,o=e.getAttribute("id");null!==o&&i.setId(o);var a=t[0],s=r.geometry;if(s&&h(s,!1,a),i.setGeometry(s),delete r.geometry,this.extractStyles_){var l=function(e,t,r,n,i){return function(o,a){var s,l=i,u="";if(l){var c=o.getGeometry();c&&(l=c.getType()===b.a.POINT)}if(l&&(u=o.get("name"),l=l&&!!u),e)return l?(s=pr(e[0],u),e.concat(s)):e;if(t){var h=function e(t,r,n){return Array.isArray(t)?t:"string"==typeof t?(!(t in n)&&"#"+t in n&&(t="#"+t),e(n[t],r,n)):r}(t,r,n);return l?(s=pr(h[0],u),h.concat(s)):h}return l?(s=pr(r[0],u),r.concat(s)):r}}(r.Style,r.styleUrl,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);i.setStyle(l)}return delete r.Style,i.setProperties(r,!0),i}},t.prototype.readSharedStyle_=function(e,t){var r=e.getAttribute("id");if(null!==r){var n=Ur(e,t);if(n){var i=void 0,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},t.prototype.readSharedStyleMap_=function(e,t){var r=e.getAttribute("id");if(null!==r){var n=_r(e,t);if(n){var i,o=e.baseURI;if(o&&"about:blank"!=o||(o=window.location.href),o)i=new URL("#"+r,o).href;else i="#"+r;this.sharedStyles_[i]=n}}},t.prototype.readFeatureFromNode=function(e,t){if(!Object(B.f)(Zt,e.namespaceURI))return null;var r=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return r||null},t.prototype.readFeaturesFromNode=function(e,t){if(!Object(B.f)(Zt,e.namespaceURI))return[];var r,n=e.localName;if("Document"==n||"Folder"==n)return(r=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]))||[];if("Placemark"==n){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);return i?[i]:[]}if("kml"==n){r=[];for(var o=e.firstElementChild;o;o=o.nextElementSibling){var a=this.readFeaturesFromNode(o,t);a&&Object(B.c)(r,a)}return r}return[]},t.prototype.readName=function(e){if(e){if("string"==typeof e){var t=X(e);return this.readNameFromDocument(t)}return Y(e)?this.readNameFromDocument(e):this.readNameFromNode(e)}},t.prototype.readNameFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE){var r=this.readNameFromNode(t);if(r)return r}},t.prototype.readNameFromNode=function(e){for(var t=e.firstElementChild;t;t=t.nextElementSibling)if(Object(B.f)(Zt,t.namespaceURI)&&"name"==t.localName)return Se(t);for(t=e.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(Object(B.f)(Zt,t.namespaceURI)&&("Document"==r||"Folder"==r||"Placemark"==r||"kml"==r)){var n=this.readNameFromNode(t);if(n)return n}}},t.prototype.readNetworkLinks=function(e){var t=[];if("string"==typeof e){var r=X(e);Object(B.c)(t,this.readNetworkLinksFromDocument(r))}else Y(e)?Object(B.c)(t,this.readNetworkLinksFromDocument(e)):Object(B.c)(t,this.readNetworkLinksFromNode(e));return t},t.prototype.readNetworkLinksFromDocument=function(e){for(var t=[],r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(B.c)(t,this.readNetworkLinksFromNode(r));return t},t.prototype.readNetworkLinksFromNode=function(e){for(var t=[],r=e.firstElementChild;r;r=r.nextElementSibling)if(Object(B.f)(Zt,r.namespaceURI)&&"NetworkLink"==r.localName){var n=se({},$t,r,[]);t.push(n)}for(r=e.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!Object(B.f)(Zt,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||Object(B.c)(t,this.readNetworkLinksFromNode(r))}return t},t.prototype.readRegion=function(e){var t=[];if("string"==typeof e){var r=X(e);Object(B.c)(t,this.readRegionFromDocument(r))}else Y(e)?Object(B.c)(t,this.readRegionFromDocument(e)):Object(B.c)(t,this.readRegionFromNode(e));return t},t.prototype.readRegionFromDocument=function(e){for(var t=[],r=e.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(B.c)(t,this.readRegionFromNode(r));return t},t.prototype.readRegionFromNode=function(e){for(var t=[],r=e.firstElementChild;r;r=r.nextElementSibling)if(Object(B.f)(Zt,r.namespaceURI)&&"Region"==r.localName){var n=se({},er,r,[]);t.push(n)}for(r=e.firstElementChild;r;r=r.nextElementSibling){var i=r.localName;!Object(B.f)(Zt,r.namespaceURI)||"Document"!=i&&"Folder"!=i&&"kml"!=i||Object(B.c)(t,this.readRegionFromNode(r))}return t},t.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var r=K(Zt[4],"kml"),n="http://www.w3.org/2000/xmlns/";r.setAttributeNS(n,"xmlns:gx",Xt[0]),r.setAttributeNS(n,"xmlns:xsi",W),r.setAttributeNS(W,"xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var i={node:r},o={};e.length>1?o.Document=e:1==e.length&&(o.Placemark=e[0]);var a=tr[r.namespaceURI],s=ie(o,a);return ue(i,rr,ne,s,[t],a,this),r},t}(he);function pr(e,t){var r=null,n=[0,0],i="start";if(e.getImage()){var o=e.getImage().getImageSize();if(null===o&&(o=Tt),2==o.length){var a=e.getImage().getScale();n[0]=a*o[0]/2,n[1]=-a*o[1]/2,i="left"}}if(null!==e.getText()){var s=e.getText();(r=s.clone()).setFont(s.getFont()||lr.getFont()),r.setScale(s.getScale()||lr.getScale()),r.setFill(s.getFill()||lr.getFill()),r.setStroke(s.getStroke()||ar)}else r=lr.clone();return r.setText(t),r.setOffsetX(n[0]),r.setOffsetY(n[1]),r.setTextAlign(i),new Kt.c({text:r})}function dr(e){var t=H(e,!1),r=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(r){var n=r[1];return[parseInt(n.substr(6,2),16),parseInt(n.substr(4,2),16),parseInt(n.substr(2,2),16),parseInt(n.substr(0,2),16)/255]}}function fr(e){for(var t,r=H(e,!1),n=[],i=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;t=i.exec(r);){var o=parseFloat(t[1]),a=parseFloat(t[2]),s=t[3]?parseFloat(t[3]):0;n.push(o,a,s),r=r.substr(t[0].length)}if(""===r)return n}function gr(e){var t=H(e,!1).trim(),r=e.baseURI;return r&&"about:blank"!=r||(r=window.location.href),r?new URL(t,r).href:t}function mr(e){return we(e)}var yr=oe(Zt,{Pair:function(e,t){var r=se({},Hr,e,t);if(!r)return;var n=r.key;if(n&&"normal"==n){var i=r.styleUrl;i&&(t[t.length-1]=i);var o=r.Style;o&&(t[t.length-1]=o)}}});function _r(e,t){return se(void 0,yr,e,t)}var br=oe(Zt,{Icon:J((function(e,t){var r=se({},kr,e,t);return r||null})),heading:J(we),hotSpot:J((function(e){var t,r=e.getAttribute("xunits"),n=e.getAttribute("yunits");return t="insetPixels"!==r?"insetPixels"!==n?Vt.a.BOTTOM_LEFT:Vt.a.TOP_LEFT:"insetPixels"!==n?Vt.a.BOTTOM_RIGHT:Vt.a.TOP_RIGHT,{x:parseFloat(e.getAttribute("x")),xunits:qt[r],y:parseFloat(e.getAttribute("y")),yunits:qt[n],origin:t}})),scale:J(mr)});var vr=oe(Zt,{color:J(dr),scale:J(mr)});var wr=oe(Zt,{color:J(dr),width:J(we)});var Or=oe(Zt,{color:J(dr),fill:J(_e),outline:J(_e)});var Er=oe(Zt,{coordinates:Q(fr)});function Tr(e,t){return se(null,Er,e,t)}var Sr=oe(Xt,{Track:q(xr)});var Cr=oe(Zt,{when:function(e,t){var r=t[t.length-1].whens,n=H(e,!1),i=Date.parse(n);r.push(isNaN(i)?0:i)}},oe(Xt,{coord:function(e,t){var r=t[t.length-1].flatCoordinates,n=H(e,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n);if(i){var o=parseFloat(i[1]),a=parseFloat(i[2]),s=parseFloat(i[3]);r.push(o,a,s,0)}else r.push(0,0,0,0)}}));function xr(e,t){var r=se({flatCoordinates:[],whens:[]},Cr,e,t);if(r){for(var n=r.flatCoordinates,i=r.whens,o=0,a=Math.min(n.length,i.length);o<a;++o)n[4*o+3]=i[o];return new v.a(n,_.a.XYZM)}}var kr=oe(Zt,{href:J(gr)},oe(Xt,{x:J(we),y:J(we),w:J(we),h:J(we)}));var Rr=oe(Zt,{coordinates:Q(fr)});function Pr(e,t){return se(null,Rr,e,t)}var Ir=oe(Zt,{extrude:J(_e),tessellate:J(_e),altitudeMode:J(Se)});function jr(e,t){var r=se({},Ir,e,t),n=Pr(e,t);if(n){var i=new v.a(n,_.a.XYZ);return i.setProperties(r,!0),i}}function Lr(e,t){var r=se({},Ir,e,t),n=Pr(e,t);if(n){var i=new C.b(n,_.a.XYZ,[n.length]);return i.setProperties(r,!0),i}}var Ar=oe(Zt,{LineString:q(jr),LinearRing:q(Lr),MultiGeometry:q(Fr),Point:q(Mr),Polygon:q(Dr)});function Fr(e,t){var r,n=se([],Ar,e,t);if(!n)return null;if(0===n.length)return new N.a(n);for(var o,a=!0,s=n[0].getType(),l=1,u=n.length;l<u;++l)if((o=n[l]).getType()!=s){a=!1;break}if(a){var c=void 0,h=void 0;if(s==b.a.POINT){var p=n[0];c=p.getLayout(),h=p.getFlatCoordinates();for(l=1,u=n.length;l<u;++l)o=n[l],Object(B.c)(h,o.getFlatCoordinates());zr(r=new E.a(h,c),n)}else s==b.a.LINE_STRING?zr(r=new O.a(n),n):s==b.a.POLYGON?zr(r=new T.a(n),n):s==b.a.GEOMETRY_COLLECTION?r=new N.a(n):Object(i.a)(!1,37)}else r=new N.a(n);return(r)}function Mr(e,t){var r=se({},Ir,e,t),n=Pr(e,t);if(n){var i=new S.a(n,_.a.XYZ);return i.setProperties(r,!0),i}}var Nr=oe(Zt,{innerBoundaryIs:function(e,t){var r=se(void 0,qr,e,t);if(r){t[t.length-1].push(r)}},outerBoundaryIs:function(e,t){var r=se(void 0,Qr,e,t);if(r){t[t.length-1][0]=r}}});function Dr(e,t){var r=se({},Ir,e,t),n=se([null],Nr,e,t);if(n&&n[0]){for(var i=n[0],o=[i.length],a=1,s=n.length;a<s;++a)Object(B.c)(i,n[a]),o.push(i.length);var l=new C.b(i,_.a.XYZ,o);return l.setProperties(r,!0),l}}var Gr=oe(Zt,{IconStyle:function(e,t){var r=se({},br,e,t);if(r){var n,i,o,a,s=t[t.length-1],l="Icon"in r?r.Icon:{},u=!("Icon"in r)||Object.keys(l).length>0,c=l.href;c?n=c:u&&(n=St);var h,p=Vt.a.BOTTOM_LEFT,d=r.hotSpot;d?(i=[d.x,d.y],o=d.xunits,a=d.yunits,p=d.origin):n===St?(i=wt,o=Ot,a=Et):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(i=[.5,0],o=Bt.a.FRACTION,a=Bt.a.FRACTION);var f,g=l.x,m=l.y;void 0!==g&&void 0!==m&&(h=[g,m]);var y,_=l.w,b=l.h;void 0!==_&&void 0!==b&&(f=[_,b]);var v=r.heading;void 0!==v&&(y=Object(Gt.i)(v));var w=r.scale;if(u){n==St&&(f=Tt,void 0===w&&(w=Ct));var O=new zt.a({anchor:i,anchorOrigin:p,anchorXUnits:o,anchorYUnits:a,crossOrigin:"anonymous",offset:h,offsetOrigin:Vt.a.BOTTOM_LEFT,rotation:y,scale:w,size:f,src:n});s.imageStyle=O}else s.imageStyle=ir}},LabelStyle:function(e,t){var r=se({},vr,e,t);if(r){var n=t[t.length-1],i=new Ht.a({fill:new Ut.a({color:"color"in r?r.color:vt}),scale:r.scale});n.textStyle=i}},LineStyle:function(e,t){var r=se({},wr,e,t);if(r){var n=t[t.length-1],i=new Wt.a({color:"color"in r?r.color:vt,width:"width"in r?r.width:1});n.strokeStyle=i}},PolyStyle:function(e,t){var r=se({},Or,e,t);if(r){var n=t[t.length-1],i=new Ut.a({color:"color"in r?r.color:vt});n.fillStyle=i;var o=r.fill;void 0!==o&&(n.fill=o);var a=r.outline;void 0!==a&&(n.outline=a)}}});function Ur(e,t){var r=se({},Gr,e,t);if(!r)return null;var n,i="fillStyle"in r?r.fillStyle:nr,o=r.fill;void 0===o||o||(i=null),"imageStyle"in r?r.imageStyle!=ir&&(n=r.imageStyle):n=or;var a="textStyle"in r?r.textStyle:lr,s="strokeStyle"in r?r.strokeStyle:sr,l=r.outline;return void 0===l||l||(s=null),[new Kt.c({fill:i,image:n,stroke:s,text:a,zIndex:void 0})]}function zr(e,t){var r,n,i,o=t.length,a=new Array(t.length),s=new Array(t.length),l=new Array(t.length);r=!1,n=!1,i=!1;for(var u=0;u<o;++u){var c=t[u];a[u]=c.get("extrude"),s[u]=c.get("tessellate"),l[u]=c.get("altitudeMode"),r=r||void 0!==a[u],n=n||void 0!==s[u],i=i||l[u]}r&&e.set("extrude",a),n&&e.set("tessellate",s),i&&e.set("altitudeMode",l)}var Br=oe(Zt,{displayName:J(Se),value:J(Se)});var Vr=oe(Zt,{Data:function(e,t){var r=e.getAttribute("name");ae(Br,e,t);var n=t[t.length-1];r&&n.displayName?n[r]={value:n.value,displayName:n.displayName,toString:function(){return n.value}}:null!==r?n[r]=n.value:null!==n.displayName&&(n[n.displayName]=n.value),delete n.value},SchemaData:function(e,t){ae(Yr,e,t)}});function Wr(e,t){ae(Vr,e,t)}function Kr(e,t){ae(er,e,t)}var Hr=oe(Zt,{Style:J(Ur),key:J(Se),styleUrl:J(gr)});var Yr=oe(Zt,{SimpleData:function(e,t){var r=e.getAttribute("name");if(null!==r){var n=Se(e);t[t.length-1][r]=n}}});var Xr=oe(Zt,{altitudeMode:J(Se),minAltitude:J(we),maxAltitude:J(we),north:J(we),south:J(we),east:J(we),west:J(we)});var Zr=oe(Zt,{minLodPixels:J(we),maxLodPixels:J(we),minFadeExtent:J(we),maxFadeExtent:J(we)});var qr=oe(Zt,{LinearRing:Q(Tr)});var Qr=oe(Zt,{LinearRing:Q(Tr)});function $r(e,t){for(var r=Object(Dt.a)(t),n=[255*(4==r.length?r[3]:1),r[2],r[1],r[0]],i=0;i<4;++i){var o=Math.floor(n[i]).toString(16);n[i]=1==o.length?"0"+o:o}Re(e,n.join(""))}var Jr=oe(Zt,{Data:ee((function(e,t,r){e.setAttribute("name",t.name);var n={node:e},i=t.value;"object"==typeof i?(null!==i&&i.displayName&&ue(n,Jr,ne,[i.displayName],r,["displayName"]),null!==i&&i.value&&ue(n,Jr,ne,[i.value],r,["value"])):ue(n,Jr,ne,[i],r,["value"])})),value:ee((function(e,t){Re(e,t)})),displayName:ee((function(e,t){!function(e,t){e.appendChild(V.createCDATASection(t))}(e,t)}))});var en=oe(Zt,{Placemark:ee(Cn)}),tn=function(e,t,r){return K(t[t.length-1].node.namespaceURI,"Placemark")};var rn=re("Data");var nn=oe(Zt,["href"],oe(Xt,["x","y","w","h"])),on=oe(Zt,{href:ee(Re)},oe(Xt,{x:ee(xe),y:ee(xe),w:ee(xe),h:ee(xe)})),an=function(e,t,r){return K(Xt[0],"gx:"+r)};var sn=oe(Zt,["scale","heading","Icon","hotSpot"]),ln=oe(Zt,{Icon:ee((function(e,t,r){var n={node:e},i=r[r.length-1].node,o=nn[i.namespaceURI],a=ie(t,o);ue(n,on,ne,a,r,o),a=ie(t,o=nn[Xt[0]]),ue(n,on,an,a,r,o)})),heading:ee(xe),hotSpot:ee((function(e,t){e.setAttribute("x",String(t.x)),e.setAttribute("y",String(t.y)),e.setAttribute("xunits",t.xunits),e.setAttribute("yunits",t.yunits)})),scale:ee(Mn)});var un=oe(Zt,["color","scale"]),cn=oe(Zt,{color:ee($r),scale:ee(Mn)});var hn=oe(Zt,["color","width"]),pn=oe(Zt,{color:ee($r),width:ee(xe)});var dn={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},fn=function(e,t,r){if(e)return K(t[t.length-1].node.namespaceURI,dn[e.getType()])},gn=re("Point"),mn=re("LineString"),yn=re("LinearRing"),_n=re("Polygon"),bn=oe(Zt,{LineString:ee(Rn),Point:ee(Rn),Polygon:ee(Ln),GeometryCollection:ee(vn)});function vn(e,t,r){var n,o,a={node:e},s=t.getType();s==b.a.GEOMETRY_COLLECTION?(n=t.getGeometries(),o=fn):s==b.a.MULTI_POINT?(n=t.getPoints(),o=gn):s==b.a.MULTI_LINE_STRING?(n=t.getLineStrings(),o=mn):s==b.a.MULTI_POLYGON?(n=t.getPolygons(),o=_n):Object(i.a)(!1,39),ue(a,bn,o,n,r)}var wn=oe(Zt,{LinearRing:ee(Rn)});function On(e,t,r){ue({node:e},wn,yn,[t],r)}var En=oe(Zt,{ExtendedData:ee((function(e,t,r){for(var n={node:e},i=t.names,o=t.values,a=i.length,s=0;s<a;s++)ue(n,Jr,rn,[{name:i[s],value:o[s]}],r)})),MultiGeometry:ee(vn),LineString:ee(Rn),LinearRing:ee(Rn),Point:ee(Rn),Polygon:ee(Ln),Style:ee((function(e,t,r){var n={node:e},i={},o=t.getFill(),a=t.getStroke(),s=t.getImage(),l=t.getText();s&&"function"==typeof s.getSrc&&(i.IconStyle=s);l&&(i.LabelStyle=l);a&&(i.LineStyle=a);o&&(i.PolyStyle=o);var u=r[r.length-1].node,c=Nn[u.namespaceURI],h=ie(i,c);ue(n,Dn,ne,h,r,c)})),address:ee(Re),description:ee(Re),name:ee(Re),open:ee(Ce),phoneNumber:ee(Re),styleUrl:ee(Re),visibility:ee(Ce)}),Tn=oe(Zt,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),Sn=re("ExtendedData");function Cn(e,t,r){var n={node:e};t.getId()&&e.setAttribute("id",t.getId());var i=t.getProperties(),o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[t.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter((function(e){return!o[e]})),s=t.getStyleFunction();if(s){var l=s(t,0);if(l){var u=Array.isArray(l)?l[0]:l;this.writeStyles_&&(i.Style=u);var c=u.getText();c&&(i.name=c.getText())}}var p=r[r.length-1].node,d=Tn[p.namespaceURI],f=ie(i,d);if(ue(n,En,ne,f,r,d),a.length>0){var g=ie(i,a);ue(n,En,Sn,[{names:a,values:g}],r)}var m=r[0],y=t.getGeometry();y&&(y=h(y,!0,m)),ue(n,En,fn,[y],r)}var xn=oe(Zt,["extrude","tessellate","altitudeMode","coordinates"]),kn=oe(Zt,{extrude:ee(Ce),tessellate:ee(Ce),altitudeMode:ee(Re),coordinates:ee((function(e,t,r){var n,o=r[r.length-1],a=o.layout,s=o.stride;a==_.a.XY||a==_.a.XYM?n=2:a==_.a.XYZ||a==_.a.XYZM?n=3:Object(i.a)(!1,34);var l=t.length,u="";if(l>0){u+=t[0];for(var c=1;c<n;++c)u+=","+t[c];for(var h=s;h<l;h+=s){u+=" "+t[h];for(c=1;c<n;++c)u+=","+t[h+c]}}Re(e,u)}))});function Rn(e,t,r){var n=t.getFlatCoordinates(),i={node:e};i.layout=t.getLayout(),i.stride=t.getStride();var o=t.getProperties();o.coordinates=n;var a=r[r.length-1].node,s=xn[a.namespaceURI],l=ie(o,s);ue(i,kn,ne,l,r,s)}var Pn=oe(Zt,{outerBoundaryIs:ee(On),innerBoundaryIs:ee(On)}),In=re("innerBoundaryIs"),jn=re("outerBoundaryIs");function Ln(e,t,r){var n=t.getLinearRings(),i=n.shift(),o={node:e};ue(o,Pn,In,n,r),ue(o,Pn,jn,[i],r)}var An=oe(Zt,{color:ee($r)}),Fn=re("color");function Mn(e,t){xe(e,Math.round(1e6*t)/1e6)}var Nn=oe(Zt,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Dn=oe(Zt,{IconStyle:ee((function(e,t,r){var n={node:e},i={},o=t.getSrc(),a=t.getSize(),s=t.getImageSize(),l={href:o};if(a){l.w=a[0],l.h=a[1];var u=t.getAnchor(),c=t.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(l.x=c[0],l.y=s[1]-(c[1]+a[1])),u&&(u[0]!==a[0]/2||u[1]!==a[1]/2)){var h={x:u[0],xunits:Bt.a.PIXELS,y:a[1]-u[1],yunits:Bt.a.PIXELS};i.hotSpot=h}}i.Icon=l;var p=t.getScale();1!==p&&(i.scale=p);var d=t.getRotation();0!==d&&(i.heading=d);var f=r[r.length-1].node,g=sn[f.namespaceURI],m=ie(i,g);ue(n,ln,ne,m,r,g)})),LabelStyle:ee((function(e,t,r){var n={node:e},i={},o=t.getFill();o&&(i.color=o.getColor());var a=t.getScale();a&&1!==a&&(i.scale=a);var s=r[r.length-1].node,l=un[s.namespaceURI],u=ie(i,l);ue(n,cn,ne,u,r,l)})),LineStyle:ee((function(e,t,r){var n={node:e},i={color:t.getColor(),width:t.getWidth()},o=r[r.length-1].node,a=hn[o.namespaceURI],s=ie(i,a);ue(n,pn,ne,s,r,a)})),PolyStyle:ee((function(e,t,r){ue({node:e},An,Fn,[t.getColor()],r)}))});var Gn=hr,Un=r(272),zn=r.n(Un),Bn=r(145),Vn=r(245),Wn=r(161),Kn=r(144),Hn=r(74),Yn=r(14),Xn=Object(Yn.c)(),Zn=function(){function e(e,t,r,n,i){this.extent_,this.id_=i,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=r,this.properties_=n}return e.prototype.get=function(e){return this.properties_[e]},e.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===b.a.POINT?Object(o.createOrUpdateFromCoordinate)(this.flatCoordinates_):Object(o.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},e.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=Object(o.getCenter)(this.getExtent());this.flatInteriorPoints_=Object(Wn.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},e.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=Object(Vn.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(Wn.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},e.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(Kn.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},e.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,r=this.ends_,n=0,i=r.length;n<i;++n){var o=r[n],a=Object(Kn.a)(e,t,o,2,.5);Object(B.c)(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_},e.prototype.getId=function(){return this.id_},e.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},e.prototype.getGeometry=function(){return this},e.prototype.getSimplifiedGeometry=function(e){return this},e.prototype.simplifyTransformed=function(e,t){return this},e.prototype.getProperties=function(){return this.properties_},e.prototype.getStride=function(){return 2},e.prototype.getStyleFunction=function(){},e.prototype.getType=function(){return this.type_},e.prototype.transform=function(e,t){var r=(e=Object(l.get)(e)).getExtent(),n=e.getWorldExtent(),i=Object(o.getHeight)(n)/Object(o.getHeight)(r);Object(Yn.b)(Xn,n[0],n[3],i,-i,0,0,0),Object(Hn.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Xn,this.flatCoordinates_)},e}();Zn.prototype.getEnds=function(){return this.ends_},Zn.prototype.getEndss=Zn.prototype.getEnds,Zn.prototype.getFlatCoordinates=Zn.prototype.getOrientedFlatCoordinates;var qn=Zn,Qn=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function $n(e,t,r){if(3===e){var n={keys:[],values:[],features:[]},i=r.readVarint()+r.pos;r.readFields(Jn,n,i),n.length=n.features.length,n.length&&(t[n.name]=n)}}function Jn(e,t,r){if(15===e)t.version=r.readVarint();else if(1===e)t.name=r.readString();else if(5===e)t.extent=r.readVarint();else if(2===e)t.features.push(r.pos);else if(3===e)t.keys.push(r.readString());else if(4===e){for(var n=null,i=r.readVarint()+r.pos;r.pos<i;)n=1===(e=r.readVarint()>>3)?r.readString():2===e?r.readFloat():3===e?r.readDouble():4===e?r.readVarint64():5===e?r.readVarint():6===e?r.readSVarint():7===e?r.readBoolean():null;t.values.push(n)}}function ei(e,t,r){if(1==e)t.id=r.readVarint();else if(2==e)for(var n=r.readVarint()+r.pos;r.pos<n;){var i=t.layer.keys[r.readVarint()],o=t.layer.values[r.readVarint()];t.properties[i]=o}else 3==e?t.type=r.readVarint():4==e&&(t.geometry=r.pos)}function ti(e,t,r){e.pos=t.features[r];var n=e.readVarint()+e.pos,i={layer:t,type:0,properties:{}};return e.readFields(ei,i,n),i}var ri=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.dataProjection=new Bn.a({code:"",units:u.b.TILE_PIXELS}),r.featureClass_=n.featureClass?n.featureClass:qn,r.geometryName_=n.geometryName,r.layerName_=n.layerName?n.layerName:"layer",r.layers_=n.layers?n.layers:null,r.idProperty_=n.idProperty,r}return Qn(t,e),t.prototype.readRawGeometry_=function(e,t,r,n){e.pos=t.geometry;for(var o=e.readVarint()+e.pos,a=1,s=0,l=0,u=0,c=0,h=0;e.pos<o;){if(!s){var p=e.readVarint();a=7&p,s=p>>3}s--,1===a||2===a?(l+=e.readSVarint(),u+=e.readSVarint(),1===a&&c>h&&(n.push(c),h=c),r.push(l,u),c+=2):7===a?c>h&&(r.push(r[h],r[h+1]),c+=2):Object(i.a)(!1,59)}c>h&&(n.push(c),h=c)},t.prototype.createFeature_=function(e,t,r){var n,i=t.type;if(0===i)return null;var o,a=t.properties;this.idProperty_?(o=a[this.idProperty_],delete a[this.idProperty_]):o=t.id,a[this.layerName_]=t.layer.name;var s=[],l=[];this.readRawGeometry_(e,t,s,l);var u=function(e,t){var r;1===e?r=1===t?b.a.POINT:b.a.MULTI_POINT:2===e?r=1===t?b.a.LINE_STRING:b.a.MULTI_LINE_STRING:3===e&&(r=b.a.POLYGON);return r}(i,l.length);if(this.featureClass_===qn)(n=new this.featureClass_(u,s,l,a,o)).transform(r.dataProjection,r.featureProjection);else{var c=void 0;if(u==b.a.POLYGON){for(var p=[],d=0,f=0,g=0,m=l.length;g<m;++g){var y=l[g];Object(k.a)(s,d,y,2)||(p.push(l.slice(f,g)),f=g),d=y}c=p.length>1?new T.a(s,_.a.XY,p):new C.b(s,_.a.XY,l)}else c=u===b.a.POINT?new S.a(s,_.a.XY):u===b.a.LINE_STRING?new v.a(s,_.a.XY):u===b.a.POLYGON?new C.b(s,_.a.XY,l):u===b.a.MULTI_POINT?new E.a(s,_.a.XY):u===b.a.MULTI_LINE_STRING?new O.a(s,_.a.XY,l):null;n=new(0,this.featureClass_),this.geometryName_&&n.setGeometryName(this.geometryName_);var w=h(c,!1,r);n.setGeometry(w),n.setId(o),n.setProperties(a,!0)}return n},t.prototype.getType=function(){return f.a.ARRAY_BUFFER},t.prototype.readFeatures=function(e,t){var r=this.layers_,n=this.adaptOptions(t),i=Object(l.get)(n.dataProjection);i.setWorldExtent(n.extent),n.dataProjection=i;var o=new zn.a(e),a=o.readFields($n,{}),s=[];for(var u in a)if(!r||-1!=r.indexOf(u)){var c=a[u],h=c?[0,0,c.extent,c.extent]:null;i.setExtent(h);for(var p=0,d=c.length;p<d;++p){var f=ti(o,c,p);s.push(this.createFeature_(o,f,n))}}return s},t.prototype.readProjection=function(e){return this.dataProjection},t.prototype.setLayers=function(e){this.layers_=e},t}(c);function ni(e){return e.getAttributeNS("http://www.w3.org/1999/xlink","href")}var ii=function(){function e(){}return e.prototype.read=function(e){if(e){if("string"==typeof e){var t=X(e);return this.readFromDocument(t)}return Y(e)?this.readFromDocument(e):this.readFromNode(e)}return null},e.prototype.readFromDocument=function(e){},e.prototype.readFromNode=function(e){},e}(),oi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ai=[null,"http://www.opengis.net/ows/1.1"],si=oe(ai,{ServiceIdentification:J((function(e,t){return se({},vi,e,t)})),ServiceProvider:J((function(e,t){return se({},wi,e,t)})),OperationsMetadata:J((function(e,t){return se({},mi,e,t)}))}),li=function(e){function t(){return e.call(this)||this}return oi(t,e),t.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},t.prototype.readFromNode=function(e){var t=se({},si,e,[]);return t||null},t}(ii),ui=oe(ai,{DeliveryPoint:J(Se),City:J(Se),AdministrativeArea:J(Se),PostalCode:J(Se),Country:J(Se),ElectronicMailAddress:J(Se)}),ci=oe(ai,{Value:$((function(e,t){return Se(e)}))}),hi=oe(ai,{AllowedValues:J((function(e,t){return se({},ci,e,t)}))}),pi=oe(ai,{Phone:J((function(e,t){return se({},yi,e,t)})),Address:J((function(e,t){return se({},ui,e,t)}))}),di=oe(ai,{HTTP:J((function(e,t){return se({},fi,e,t)}))}),fi=oe(ai,{Get:$((function(e,t){var r=ni(e);if(!r)return;return se({href:r},_i,e,t)})),Post:void 0}),gi=oe(ai,{DCP:J((function(e,t){return se({},di,e,t)}))}),mi=oe(ai,{Operation:function(e,t){var r=e.getAttribute("name"),n=se({},gi,e,t);if(!n)return;t[t.length-1][r]=n}}),yi=oe(ai,{Voice:J(Se),Facsimile:J(Se)}),_i=oe(ai,{Constraint:$((function(e,t){var r=e.getAttribute("name");if(!r)return;return se({name:r},hi,e,t)}))}),bi=oe(ai,{IndividualName:J(Se),PositionName:J(Se),ContactInfo:J((function(e,t){return se({},pi,e,t)}))}),vi=oe(ai,{Abstract:J(Se),AccessConstraints:J(Se),Fees:J(Se),Title:J(Se),ServiceTypeVersion:J(Se),ServiceType:J(Se)}),wi=oe(ai,{ProviderName:J(Se),ProviderSite:J(ni),ServiceContact:J((function(e,t){return se({},bi,e,t)}))});var Oi=li,Ei=r(73);function Ti(e,t,r,n,i,o){var a,s;void 0!==i?(a=i,s=void 0!==o?o:0):(a=[],s=0);for(var l=t;l<r;){var u=e[l++];a[s++]=e[l++],a[s++]=u;for(var c=2;c<n;++c)a[s++]=e[l++]}return a.length=s,a}var Si=r(81),Ci=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function xi(e){for(var t,r="";e>=32;)t=63+(32|31&e),r+=String.fromCharCode(t),e>>=5;return t=e+63,r+=String.fromCharCode(t)}var ki=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.dataProjection=Object(l.get)("EPSG:4326"),r.factor_=n.factor?n.factor:1e5,r.geometryLayout_=n.geometryLayout?n.geometryLayout:_.a.XY,r}return Ci(t,e),t.prototype.readFeatureFromText=function(e,t){var r=this.readGeometryFromText(e,t);return new n.a(r)},t.prototype.readFeaturesFromText=function(e,t){return[this.readFeatureFromText(e,t)]},t.prototype.readGeometryFromText=function(e,t){var r=Object(Ei.b)(this.geometryLayout_),n=function(e,t,r){var n,i=r||1e5,o=new Array(t);for(n=0;n<t;++n)o[n]=0;for(var a=function(e,t){for(var r=t||1e5,n=function(e){for(var t=function(e){for(var t=[],r=0,n=0,i=0,o=e.length;i<o;++i){var a=e.charCodeAt(i)-63;r|=(31&a)<<n,a<32?(t.push(r),r=0,n=0):n+=5}return t}(e),r=0,n=t.length;r<n;++r){var i=t[r];t[r]=1&i?~(i>>1):i>>1}return t}(e),i=0,o=n.length;i<o;++i)n[i]/=r;return n}(e,i),s=0,l=a.length;s<l;)for(n=0;n<t;++n,++s)o[n]+=a[s],a[s]=o[n];return a}(e,r,this.factor_);Ti(n,0,n.length,r,n);var i=Object(Si.a)(n,0,n.length,r);return h(new v.a(i,this.geometryLayout_),!1,this.adaptOptions(t))},t.prototype.writeFeatureText=function(e,t){var r=e.getGeometry();return r?this.writeGeometryText(r,t):(Object(i.a)(!1,40),"")},t.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)},t.prototype.writeGeometryText=function(e,t){var r=(e=h(e,!0,this.adaptOptions(t))).getFlatCoordinates(),n=e.getStride();return Ti(r,0,r.length,n,r),function(e,t,r){var n,i=r||1e5,o=new Array(t);for(n=0;n<t;++n)o[n]=0;for(var a=0,s=e.length;a<s;)for(n=0;n<t;++n,++a){var l=e[a],u=l-o[n];o[n]=l,e[a]=u}return function(e,t){for(var r=t||1e5,n=0,i=e.length;n<i;++n)e[n]=Math.round(e[n]*r);return function(e){for(var t=0,r=e.length;t<r;++t){var n=e[t];e[t]=n<0?~(n<<1):n<<1}return function(e){for(var t="",r=0,n=e.length;r<n;++r)t+=xi(e[r]);return t}(e)}(e)}(e,i)}(r,n,this.factor_)},t}(xt),Ri=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pi=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.layerName_=n.layerName,r.layers_=n.layers?n.layers:null,r.dataProjection=Object(l.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),r}return Ri(t,e),t.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){var r=e,n=void 0,i=null,o=null;r.transform&&(i=(n=r.transform).scale,o=n.translate);var a=r.arcs;n&&function(e,t,r){for(var n=0,i=e.length;n<i;++n)Fi(e[n],t,r)}(a,i,o);var s=[],l=r.objects,u=this.layerName_,c=void 0;for(var h in l)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===l[h].type?(c=l[h],s.push.apply(s,Li(c,a,i,o,u,h,t))):(c=l[h],s.push(Ai(c,a,i,o,u,h,t))));return s}return[]},t.prototype.readProjectionFromObject=function(e){return this.dataProjection},t}(y),Ii={Point:function(e,t,r){var n=e.coordinates;t&&r&&Mi(n,t,r);return new S.a(n)},LineString:function(e,t){var r=ji(e.arcs,t);return new v.a(r)},Polygon:function(e,t){for(var r=[],n=0,i=e.arcs.length;n<i;++n)r[n]=ji(e.arcs[n],t);return new C.b(r)},MultiPoint:function(e,t,r){var n=e.coordinates;if(t&&r)for(var i=0,o=n.length;i<o;++i)Mi(n[i],t,r);return new E.a(n)},MultiLineString:function(e,t){for(var r=[],n=0,i=e.arcs.length;n<i;++n)r[n]=ji(e.arcs[n],t);return new O.a(r)},MultiPolygon:function(e,t){for(var r=[],n=0,i=e.arcs.length;n<i;++n){for(var o=e.arcs[n],a=[],s=0,l=o.length;s<l;++s)a[s]=ji(o[s],t);r[n]=a}return new T.a(r)}};function ji(e,t){for(var r,n,i=[],o=0,a=e.length;o<a;++o)r=e[o],o>0&&i.pop(),n=r>=0?t[r]:t[~r].slice().reverse(),i.push.apply(i,n);for(var s=0,l=i.length;s<l;++s)i[s]=i[s].slice();return i}function Li(e,t,r,n,i,o,a){for(var s=e.geometries,l=[],u=0,c=s.length;u<c;++u)l[u]=Ai(s[u],t,r,n,i,o,a);return l}function Ai(e,t,r,i,o,a,s){var l,u=e.type,c=Ii[u];l="Point"===u||"MultiPoint"===u?c(e,r,i):c(e,t);var p=new n.a;p.setGeometry(h(l,!1,s)),void 0!==e.id&&p.setId(e.id);var d=e.properties;return o&&(d||(d={}),d[o]=a),d&&p.setProperties(d,!0),p}function Fi(e,t,r){for(var n=0,i=0,o=0,a=e.length;o<a;++o){var s=e[o];n+=s[0],i+=s[1],s[0]=n,s[1]=i,Mi(s,t,r)}}function Mi(e,t,r){e[0]=e[0]*t[0]+r[0],e[1]=e[1]*t[1]+r[1]}var Ni=Pi,Di=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gi={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Ui=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).FEATURE_COLLECTION_PARSERS[de].featureMember=q(r.readFeaturesInternal),r.schemaLocation=n.schemaLocation?n.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd",r}return Di(t,e),t.prototype.readFlatCoordinates_=function(e,t){var r=H(e,!1).replace(/^\s*|\s*$/g,""),n=t[0].srsName,i="enu";if(n){var o=Object(l.get)(n);o&&(i=o.getAxisOrientation())}for(var a=r.trim().split(/\s+/),s=[],u=0,c=a.length;u<c;u++){var h=a[u].split(/,+/),p=parseFloat(h[0]),d=parseFloat(h[1]),f=3===h.length?parseFloat(h[2]):0;"en"===i.substr(0,2)?s.push(p,d,f):s.push(d,p,f)}return s},t.prototype.readBox_=function(e,t){var r=se([null],this.BOX_PARSERS_,e,t,this);return Object(o.createOrUpdate)(r[1][0],r[1][1],r[1][3],r[1][4])},t.prototype.innerBoundaryIsParser_=function(e,t){var r=se(void 0,this.RING_PARSERS,e,t,this);r&&t[t.length-1].push(r)},t.prototype.outerBoundaryIsParser_=function(e,t){var r=se(void 0,this.RING_PARSERS,e,t,this);r&&(t[t.length-1][0]=r)},t.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,r){var n,i=t[t.length-1],o=i.multiSurface,a=i.surface,s=i.multiCurve;return Array.isArray(e)?n="Envelope":"MultiPolygon"===(n=e.getType())&&!0===o?n="MultiSurface":"Polygon"===n&&!0===a?n="Surface":"MultiLineString"===n&&!0===s&&(n="MultiCurve"),K("http://www.opengis.net/gml",n)},t.prototype.writeFeatureElement=function(e,t,r){var n=t.getId();n&&e.setAttribute("fid",n);var i=r[r.length-1],o=i.featureNS,s=t.getGeometryName();i.serializers||(i.serializers={},i.serializers[o]={});var l=t.getProperties(),u=[],c=[];for(var h in l){var p=l[h];null!==p&&(u.push(h),c.push(p),h==s||"function"==typeof p.getSimplifiedGeometry?h in i.serializers[o]||(i.serializers[o][h]=ee(this.writeGeometryElement,this)):h in i.serializers[o]||(i.serializers[o][h]=ee(Re)))}var d=Object(a.a)({},i);d.node=e,ue(d,i.serializers,re(void 0,o),c,r,u)},t.prototype.writeCurveOrLineString_=function(e,t,r){var n=r[r.length-1].srsName;if("LineStringSegment"!==e.nodeName&&n&&e.setAttribute("srsName",n),"LineString"===e.nodeName||"LineStringSegment"===e.nodeName){var i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,r)}else if("Curve"===e.nodeName){var o=K(e.namespaceURI,"segments");e.appendChild(o),this.writeCurveSegments_(o,t,r)}},t.prototype.writeLineStringOrCurveMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeCurveOrLineString_(n,t,r))},t.prototype.writeMultiCurveOrLineString_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.curve;o&&e.setAttribute("srsName",o);var s=t.getLineStrings();ue({node:e,hasZ:i,srsName:o,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},t.prototype.writeGeometryElement=function(e,t,r){var n,i=r[r.length-1],o=Object(a.a)({},i);o.node=e,n=Array.isArray(t)?p(t,i):h(t,!0,i),ue(o,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],r,void 0,this)},t.prototype.createCoordinatesNode_=function(e){var t=K(e,"coordinates");return t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t},t.prototype.writeCoordinates_=function(e,t,r){for(var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=t.getCoordinates(),s=a.length,l=new Array(s),u=0;u<s;++u){var c=a[u];l[u]=this.getCoords_(c,o,i)}Re(e,l.join(" "))},t.prototype.writeCurveSegments_=function(e,t,r){var n=K(e.namespaceURI,"LineStringSegment");e.appendChild(n),this.writeCurveOrLineString_(n,t,r)},t.prototype.writeSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;if("PolygonPatch"!==e.nodeName&&o&&e.setAttribute("srsName",o),"Polygon"===e.nodeName||"PolygonPatch"===e.nodeName){var a=t.getLinearRings();ue({node:e,hasZ:i,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,a,r,void 0,this)}else if("Surface"===e.nodeName){var s=K(e.namespaceURI,"patches");e.appendChild(s),this.writeSurfacePatches_(s,t,r)}},t.prototype.RING_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1],i=n.node,o=n.exteriorWritten;return void 0===o&&(n.exteriorWritten=!0),K(i.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},t.prototype.writeSurfacePatches_=function(e,t,r){var n=K(e.namespaceURI,"PolygonPatch");e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r)},t.prototype.writeRing_=function(e,t,r){var n=K(e.namespaceURI,"LinearRing");e.appendChild(n),this.writeLinearRing_(n,t,r)},t.prototype.getCoords_=function(e,t,r){var n="enu";t&&(n=Object(l.get)(t).getAxisOrientation());var i="en"===n.substr(0,2)?e[0]+","+e[1]:e[1]+","+e[0];r&&(i+=","+(e[2]||0));return i},t.prototype.writePoint_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&e.setAttribute("srsName",o);var a=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(a);var s=t.getCoordinates();Re(a,this.getCoords_(s,o,i))},t.prototype.writeMultiPoint_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName;o&&e.setAttribute("srsName",o);var a=t.getPoints();ue({node:e,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS_,re("pointMember"),a,r,void 0,this)},t.prototype.writePointMember_=function(e,t,r){var n=K(e.namespaceURI,"Point");e.appendChild(n),this.writePoint_(n,t,r)},t.prototype.writeLinearRing_=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var i=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(i),this.writeCoordinates_(i,t,r)},t.prototype.writeMultiSurfaceOrPolygon_=function(e,t,r){var n=r[r.length-1],i=n.hasZ,o=n.srsName,a=n.surface;o&&e.setAttribute("srsName",o);var s=t.getPolygons();ue({node:e,hasZ:i,srsName:o,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,r,void 0,this)},t.prototype.writeSurfaceOrPolygonMember_=function(e,t,r){var n=this.GEOMETRY_NODE_FACTORY_(t,r);n&&(e.appendChild(n),this.writeSurfaceOrPolygon_(n,t,r))},t.prototype.writeEnvelope=function(e,t,r){var n=r[r.length-1].srsName;n&&e.setAttribute("srsName",n);var i=[t[0]+" "+t[1],t[2]+" "+t[3]];ue({node:e},this.ENVELOPE_SERIALIZERS_,ne,i,r,["lowerCorner","upperCorner"],this)},t.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,r){var n=t[t.length-1].node;return K("http://www.opengis.net/gml",Gi[n.nodeName])},t}(me);Ui.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Q(Ui.prototype.readFlatCoordinates_)}},Ui.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Ui.prototype.innerBoundaryIsParser_,outerBoundaryIs:Ui.prototype.outerBoundaryIsParser_}},Ui.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:q(Ui.prototype.readFlatCoordinates_)}},Ui.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Q(me.prototype.readPoint),MultiPoint:Q(me.prototype.readMultiPoint),LineString:Q(me.prototype.readLineString),MultiLineString:Q(me.prototype.readMultiLineString),LinearRing:Q(me.prototype.readLinearRing),Polygon:Q(me.prototype.readPolygon),MultiPolygon:Q(me.prototype.readMultiPolygon),Box:Q(Ui.prototype.readBox_)}},Ui.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ee(Ui.prototype.writeCurveOrLineString_),MultiCurve:ee(Ui.prototype.writeMultiCurveOrLineString_),Point:ee(Ui.prototype.writePoint_),MultiPoint:ee(Ui.prototype.writeMultiPoint_),LineString:ee(Ui.prototype.writeCurveOrLineString_),MultiLineString:ee(Ui.prototype.writeMultiCurveOrLineString_),LinearRing:ee(Ui.prototype.writeLinearRing_),Polygon:ee(Ui.prototype.writeSurfaceOrPolygon_),MultiPolygon:ee(Ui.prototype.writeMultiSurfaceOrPolygon_),Surface:ee(Ui.prototype.writeSurfaceOrPolygon_),MultiSurface:ee(Ui.prototype.writeMultiSurfaceOrPolygon_),Envelope:ee(Ui.prototype.writeEnvelope)}},Ui.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ee(Ui.prototype.writeLineStringOrCurveMember_),curveMember:ee(Ui.prototype.writeLineStringOrCurveMember_)}},Ui.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ee(Ui.prototype.writeRing_),innerBoundaryIs:ee(Ui.prototype.writeRing_)}},Ui.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ee(Ui.prototype.writePointMember_)}},Ui.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ee(Ui.prototype.writeSurfaceOrPolygonMember_),polygonMember:ee(Ui.prototype.writeSurfaceOrPolygonMember_)}},Ui.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ee(Re),upperCorner:ee(Re)}};var zi=Ui,Bi=function(){function e(e){this.tagName_=e}return e.prototype.getTagName=function(){return this.tagName_},e}(),Vi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wi=function(e){function t(t,r){var n=e.call(this,t)||this;return n.conditions=r,Object(i.a)(n.conditions.length>=2,57),n}return Vi(t,e),t}(Bi),Ki=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hi=function(e){function t(t){return e.call(this,"And",Array.prototype.slice.call(arguments))||this}return Ki(t,e),t}(Wi),Yi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xi=function(e){function t(t,r,n){var i=e.call(this,"BBOX")||this;if(i.geometryName=t,i.extent=r,4!==r.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return i.srsName=n,i}return Yi(t,e),t}(Bi),Zi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qi=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.geometryName=r||"the_geom",o.geometry=n,o.srsName=i,o}return Zi(t,e),t}(Bi),Qi=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$i=(function(e){function t(t,r,n){return e.call(this,"Contains",t,r,n)||this}Qi(t,e)}(qi),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),Ji=function(e){function t(t,r){var n=e.call(this,t)||this;return n.propertyName=r,n}return $i(t,e),t}(Bi),eo=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),to=(function(e){function t(t,r,n){var i=e.call(this,"During",t)||this;return i.begin=r,i.end=n,i}eo(t,e)}(Ji),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ro=function(e){function t(t,r,n,i){var o=e.call(this,t,r)||this;return o.expression=n,o.matchCase=i,o}return to(t,e),t}(Ji),no=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),io=(function(e){function t(t,r,n){return e.call(this,"PropertyIsEqualTo",t,r,n)||this}no(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),oo=(function(e){function t(t,r){return e.call(this,"PropertyIsGreaterThan",t,r)||this}io(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ao=(function(e){function t(t,r){return e.call(this,"PropertyIsGreaterThanOrEqualTo",t,r)||this}oo(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),so=(function(e){function t(t,r,n){return e.call(this,"Intersects",t,r,n)||this}ao(t,e)}(qi),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),lo=(function(e){function t(t,r,n){var i=e.call(this,"PropertyIsBetween",t)||this;return i.lowerBoundary=r,i.upperBoundary=n,i}so(t,e)}(Ji),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),uo=(function(e){function t(t,r,n,i,o,a){var s=e.call(this,"PropertyIsLike",t)||this;return s.pattern=r,s.wildCard=void 0!==n?n:"*",s.singleChar=void 0!==i?i:".",s.escapeChar=void 0!==o?o:"!",s.matchCase=a,s}lo(t,e)}(Ji),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),co=(function(e){function t(t){return e.call(this,"PropertyIsNull",t)||this}uo(t,e)}(Ji),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),ho=(function(e){function t(t,r){return e.call(this,"PropertyIsLessThan",t,r)||this}co(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),po=(function(e){function t(t,r){return e.call(this,"PropertyIsLessThanOrEqualTo",t,r)||this}ho(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),fo=(function(e){function t(t){var r=e.call(this,"Not")||this;return r.condition=t,r}po(t,e)}(Bi),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),go=(function(e){function t(t,r,n){return e.call(this,"PropertyIsNotEqualTo",t,r,n)||this}fo(t,e)}(ro),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}()),mo=(function(e){function t(t){return e.call(this,"Or",Array.prototype.slice.call(arguments))||this}go(t,e)}(Wi),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}());!function(e){function t(t,r,n){return e.call(this,"Within",t,r,n)||this}mo(t,e)}(qi);var yo=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_o={"http://www.opengis.net/gml":{boundedBy:J(me.prototype.readGeometryElement,"bounds")}},bo={"http://www.opengis.net/wfs":{totalInserted:J(Ee),totalUpdated:J(Ee),totalDeleted:J(Ee)}},vo={"http://www.opengis.net/wfs":{TransactionSummary:J((function(e,t){return se({},bo,e,t)}),"transactionSummary"),InsertResults:J((function(e,t){return se([],Ro,e,t)}),"insertIds")}},wo={"http://www.opengis.net/wfs":{PropertyName:ee(Re)}},Oo={"http://www.opengis.net/wfs":{Insert:ee((function(e,t,r){var n=r[r.length-1],i=n.featureType,o=n.featureNS,a=n.gmlVersion,s=K(o,i);e.appendChild(s),2===a?zi.prototype.writeFeatureElement(s,t,r):Le.prototype.writeFeatureElement(s,t,r)})),Update:ee((function(e,t,r){var n=r[r.length-1];Object(i.a)(void 0!==t.getId(),27);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=Io(a,o),u=t.getGeometryName();e.setAttribute("typeName",l),e.setAttributeNS(Eo,"xmlns:"+a,s);var c=t.getId();if(void 0!==c){for(var h=t.getKeys(),p=[],d=0,f=h.length;d<f;d++){var g=t.get(h[d]);if(void 0!==g){var m=h[d];g&&"function"==typeof g.getSimplifiedGeometry&&(m=u),p.push({name:m,value:g})}}ue({gmlVersion:n.gmlVersion,node:e,hasZ:n.hasZ,srsName:n.srsName},Oo,re("Property"),p,r),Po(e,c,r)}})),Delete:ee((function(e,t,r){var n=r[r.length-1];Object(i.a)(void 0!==t.getId(),26);var o=n.featureType,a=n.featurePrefix,s=n.featureNS,l=Io(a,o);e.setAttribute("typeName",l),e.setAttributeNS(Eo,"xmlns:"+a,s);var u=t.getId();void 0!==u&&Po(e,u,r)})),Property:ee((function(e,t,r){var n=K(So,"Name"),i=r[r.length-1].gmlVersion;if(e.appendChild(n),Re(n,t.name),void 0!==t.value&&null!==t.value){var o=K(So,"Value");e.appendChild(o),t.value&&"function"==typeof t.value.getSimplifiedGeometry?2===i?zi.prototype.writeGeometryElement(o,t.value,r):Le.prototype.writeGeometryElement(o,t.value,r):Re(o,t.value)}})),Native:ee((function(e,t,r){t.vendorId&&e.setAttribute("vendorId",t.vendorId);void 0!==t.safeToIgnore&&e.setAttribute("safeToIgnore",String(t.safeToIgnore));void 0!==t.value&&Re(e,t.value)}))}},Eo="http://www.w3.org/2000/xmlns/",To="http://www.opengis.net/ogc",So="http://www.opengis.net/wfs",Co={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},xo=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.featureType_=n.featureType,r.featureNS_=n.featureNS,r.gmlFormat_=n.gmlFormat?n.gmlFormat:new Le,r.schemaLocation_=n.schemaLocation?n.schemaLocation:Co["1.1.0"],r}return yo(t,e),t.prototype.getFeatureType=function(){return this.featureType_},t.prototype.setFeatureType=function(e){this.featureType_=e},t.prototype.readFeaturesFromNode=function(e,t){var r={node:e};Object(a.a)(r,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(a.a)(r,this.getReadOptions(e,t||{}));var n=[r];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[de].featureMember=q(me.prototype.readFeaturesInternal);var i=se([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,n,this.gmlFormat_);return i||(i=[]),i},t.prototype.readTransactionResponse=function(e){if(e){if("string"==typeof e){var t=X(e);return this.readTransactionResponseFromDocument(t)}return Y(e)?this.readTransactionResponseFromDocument(e):this.readTransactionResponseFromNode(e)}},t.prototype.readFeatureCollectionMetadata=function(e){if(e){if("string"==typeof e){var t=X(e);return this.readFeatureCollectionMetadataFromDocument(t)}return Y(e)?this.readFeatureCollectionMetadataFromDocument(e):this.readFeatureCollectionMetadataFromNode(e)}},t.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(t)},t.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={},r=Te(e.getAttribute("numberOfFeatures"));return t.numberOfFeatures=r,se(t,_o,e,[],this.gmlFormat_)},t.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(t)},t.prototype.readTransactionResponseFromNode=function(e){return se({},vo,e,[])},t.prototype.writeGetFeature=function(e){var t,r,n,o,s=K(So,"GetFeature");if(s.setAttribute("service","WFS"),s.setAttribute("version","1.1.0"),e&&(e.handle&&s.setAttribute("handle",e.handle),e.outputFormat&&s.setAttribute("outputFormat",e.outputFormat),void 0!==e.maxFeatures&&s.setAttribute("maxFeatures",String(e.maxFeatures)),e.resultType&&s.setAttribute("resultType",e.resultType),void 0!==e.startIndex&&s.setAttribute("startIndex",String(e.startIndex)),void 0!==e.count&&s.setAttribute("count",String(e.count)),void 0!==e.viewParams&&s.setAttribute("viewParams",e.viewParams),t=e.filter,e.bbox)){Object(i.a)(e.geometryName,12);var l=(r=e.geometryName,n=e.bbox,o=e.srsName,new Xi(r,n,o));t=t?function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Hi,t))}(t,l):l}s.setAttributeNS(W,"xsi:schemaLocation",this.schemaLocation_);var u={node:s};return Object(a.a)(u,{srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:t,propertyNames:e.propertyNames?e.propertyNames:[]}),Object(i.a)(Array.isArray(e.featureTypes),11),function(e,t,r){var n=r[r.length-1],i=Object(a.a)({},n);i.node=e,ue(i,jo,re("Query"),t,r)}(s,e.featureTypes,[u]),s},t.prototype.writeTransaction=function(e,t,r,n){var i,o,s=[],l=K(So,"Transaction"),u=n.version?n.version:"1.1.0",c="1.0.0"===u?2:3;l.setAttribute("service","WFS"),l.setAttribute("version",u),n&&(i=n.gmlOptions?n.gmlOptions:{},n.handle&&l.setAttribute("handle",n.handle));var h=Co[u];l.setAttributeNS(W,"xsi:schemaLocation",h);var p=n.featurePrefix?n.featurePrefix:"feature";return e&&(o=Object(a.a)({node:l},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:p,gmlVersion:c,hasZ:n.hasZ,srsName:n.srsName}),Object(a.a)(o,i),ue(o,Oo,re("Insert"),e,s)),t&&(o=Object(a.a)({node:l},{featureNS:n.featureNS,featureType:n.featureType,featurePrefix:p,gmlVersion:c,hasZ:n.hasZ,srsName:n.srsName}),Object(a.a)(o,i),ue(o,Oo,re("Update"),t,s)),r&&ue({node:l,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:p,gmlVersion:c,srsName:n.srsName},Oo,re("Delete"),r,s),n.nativeElements&&ue({node:l,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:p,gmlVersion:c,srsName:n.srsName},Oo,re("Native"),n.nativeElements,s),l},t.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(t);return null},t.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild)for(var t=(e=e.firstElementChild.firstElementChild).firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var r=[{}];return this.gmlFormat_.readGeometryElement(t,r),Object(l.get)(r.pop().srsName)}return null},t}(he);var ko={"http://www.opengis.net/ogc":{FeatureId:q((function(e,t){return e.getAttribute("fid")}))}};var Ro={"http://www.opengis.net/wfs":{Feature:function(e,t){ae(ko,e,t)}}};function Po(e,t,r){var n=K(To,"Filter"),i=K(To,"FeatureId");n.appendChild(i),i.setAttribute("fid",t),e.appendChild(n)}function Io(e,t){var r=(e=e||"feature")+":";return 0===t.indexOf(r)?t:r+t}var jo={"http://www.opengis.net/wfs":{Query:ee((function(e,t,r){var n,i=r[r.length-1],o=i.featurePrefix,s=i.featureNS,l=i.propertyNames,u=i.srsName;n=o?Io(o,t):t;e.setAttribute("typeName",n),u&&e.setAttribute("srsName",u);s&&e.setAttributeNS(Eo,"xmlns:"+o,s);var c=Object(a.a)({},i);c.node=e,ue(c,wo,re("PropertyName"),l,r);var h=i.filter;if(h){var p=K(To,"Filter");e.appendChild(p),Lo(p,h,r)}}))},"http://www.opengis.net/ogc":{During:ee((function(e,t,r){var n=K("http://www.opengis.net/fes","ValueReference");Re(n,t.propertyName),e.appendChild(n);var i=K(de,"TimePeriod");e.appendChild(i);var o=K(de,"begin");i.appendChild(o),Go(o,t.begin);var a=K(de,"end");i.appendChild(a),Go(a,t.end)})),And:ee(Ao),Or:ee(Ao),Not:ee((function(e,t,r){var n={node:e},i=t.condition;ue(n,jo,re(i.getTagName()),[i],r)})),BBOX:ee((function(e,t,r){r[r.length-1].srsName=t.srsName,No(e,t.geometryName),Le.prototype.writeGeometryElement(e,t.extent,r)})),Contains:ee((function(e,t,r){r[r.length-1].srsName=t.srsName,No(e,t.geometryName),Le.prototype.writeGeometryElement(e,t.geometry,r)})),Intersects:ee((function(e,t,r){r[r.length-1].srsName=t.srsName,No(e,t.geometryName),Le.prototype.writeGeometryElement(e,t.geometry,r)})),Within:ee((function(e,t,r){r[r.length-1].srsName=t.srsName,No(e,t.geometryName),Le.prototype.writeGeometryElement(e,t.geometry,r)})),PropertyIsEqualTo:ee(Fo),PropertyIsNotEqualTo:ee(Fo),PropertyIsLessThan:ee(Fo),PropertyIsLessThanOrEqualTo:ee(Fo),PropertyIsGreaterThan:ee(Fo),PropertyIsGreaterThanOrEqualTo:ee(Fo),PropertyIsNull:ee((function(e,t,r){No(e,t.propertyName)})),PropertyIsBetween:ee((function(e,t,r){No(e,t.propertyName);var n=K(To,"LowerBoundary");e.appendChild(n),Do(n,""+t.lowerBoundary);var i=K(To,"UpperBoundary");e.appendChild(i),Do(i,""+t.upperBoundary)})),PropertyIsLike:ee((function(e,t,r){e.setAttribute("wildCard",t.wildCard),e.setAttribute("singleChar",t.singleChar),e.setAttribute("escapeChar",t.escapeChar),void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString());No(e,t.propertyName),Do(e,""+t.pattern)}))}};function Lo(e,t,r){ue({node:e},jo,re(t.getTagName()),[t],r)}function Ao(e,t,r){for(var n={node:e},i=t.conditions,o=0,a=i.length;o<a;++o){var s=i[o];ue(n,jo,re(s.getTagName()),[s],r)}}function Fo(e,t,r){void 0!==t.matchCase&&e.setAttribute("matchCase",t.matchCase.toString()),No(e,t.propertyName),Do(e,""+t.expression)}function Mo(e,t,r){var n=K(To,e);Re(n,r),t.appendChild(n)}function No(e,t){Mo("PropertyName",e,t)}function Do(e,t){Mo("Literal",e,t)}function Go(e,t){var r=K(de,"TimeInstant");e.appendChild(r);var n=K(de,"timePosition");r.appendChild(n),Re(n,t)}var Uo=xo,zo=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bo={POINT:S.a,LINESTRING:v.a,POLYGON:C.b,MULTIPOINT:E.a,MULTILINESTRING:O.a,MULTIPOLYGON:T.a},Vo=1,Wo=2,Ko=3,Ho=4,Yo=5,Xo=6,Zo={};for(var qo in b.a)Zo[qo]=b.a[qo].toUpperCase();var Qo=function(){function e(e){this.wkt=e,this.index_=-1}return e.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.prototype.isNumeric_=function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)},e.prototype.isWhiteSpace_=function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e},e.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},e.prototype.nextToken=function(){var e,t=this.nextChar_(),r=this.index_,n=t;if("("==t)e=Wo;else if(","==t)e=Yo;else if(")"==t)e=Ko;else if(this.isNumeric_(t)||"-"==t)e=Ho,n=this.readNumber_();else if(this.isAlpha_(t))e=Vo,n=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=Xo}return{position:r,value:n,type:e}},e.prototype.readNumber_=function(){var e,t=this.index_,r=!1,n=!1;do{"."==e?r=!0:"e"!=e&&"E"!=e||(n=!0),e=this.nextChar_()}while(this.isNumeric_(e,r)||!n&&("e"==e||"E"==e)||n&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))},e.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()},e}(),$o=function(){function e(e){this.lexer_=e,this.token_,this.layout_=_.a.XY}return e.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},e.prototype.isTokenType=function(e){return this.token_.type==e},e.prototype.match=function(e){var t=this.isTokenType(e);return t&&this.consume_(),t},e.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},e.prototype.parseGeometryLayout_=function(){var e=_.a.XY,t=this.token_;if(this.isTokenType(Vo)){var r=t.value;"Z"===r?e=_.a.XYZ:"M"===r?e=_.a.XYM:"ZM"===r&&(e=_.a.XYZM),e!==_.a.XY&&this.consume_()}return e},e.prototype.parseGeometryCollectionText_=function(){if(this.match(Wo)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(Yo));if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parsePointText_=function(){if(this.match(Wo)){var e=this.parsePoint_();if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},e.prototype.parseLineStringText_=function(){if(this.match(Wo)){var e=this.parsePointList_();if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parsePolygonText_=function(){if(this.match(Wo)){var e=this.parseLineStringTextList_();if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiPointText_=function(){if(this.match(Wo)){var e=void 0;if(e=this.token_.type==Wo?this.parsePointTextList_():this.parsePointList_(),this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiLineStringText_=function(){if(this.match(Wo)){var e=this.parseLineStringTextList_();if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parseMultiPolygonText_=function(){if(this.match(Wo)){var e=this.parsePolygonTextList_();if(this.match(Ko))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},e.prototype.parsePoint_=function(){for(var e=[],t=this.layout_.length,r=0;r<t;++r){var n=this.token_;if(!this.match(Ho))break;e.push(n.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())},e.prototype.parsePointList_=function(){for(var e=[this.parsePoint_()];this.match(Yo);)e.push(this.parsePoint_());return e},e.prototype.parsePointTextList_=function(){for(var e=[this.parsePointText_()];this.match(Yo);)e.push(this.parsePointText_());return e},e.prototype.parseLineStringTextList_=function(){for(var e=[this.parseLineStringText_()];this.match(Yo);)e.push(this.parseLineStringText_());return e},e.prototype.parsePolygonTextList_=function(){for(var e=[this.parsePolygonText_()];this.match(Yo);)e.push(this.parsePolygonText_());return e},e.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(Vo)&&"EMPTY"==this.token_.value;return e&&this.consume_(),e},e.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},e.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(Vo)){var t=e.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==t){var r=this.parseGeometryCollectionText_();return new N.a(r)}var n=Bo[t];if(!n)throw new Error("Invalid geometry type: "+t);var i=void 0;switch(t){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+t)}return i||(i=n===Bo.POINT?[NaN,NaN]:[]),new n(i,this.layout_)}throw new Error(this.formatErrorMessage_())},e}(),Jo=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return zo(t,e),t.prototype.parse_=function(e){var t=new Qo(e);return new $o(t).parse()},t.prototype.readFeatureFromText=function(e,t){var r=this.readGeometryFromText(e,t);if(r){var i=new n.a;return i.setGeometry(r),i}return null},t.prototype.readFeaturesFromText=function(e,t){for(var r=[],i=this.readGeometryFromText(e,t),o=[],a=0,s=(r=this.splitCollection_&&i.getType()==b.a.GEOMETRY_COLLECTION?i.getGeometriesArray():[i]).length;a<s;++a){var l=new n.a;l.setGeometry(r[a]),o.push(l)}return o},t.prototype.readGeometryFromText=function(e,t){var r=this.parse_(e);return r?h(r,!1,t):null},t.prototype.writeFeatureText=function(e,t){var r=e.getGeometry();return r?this.writeGeometryText(r,t):""},t.prototype.writeFeaturesText=function(e,t){if(1==e.length)return this.writeFeatureText(e[0],t);for(var r=[],n=0,i=e.length;n<i;++n)r.push(e[n].getGeometry());var o=new N.a(r);return this.writeGeometryText(o,t)},t.prototype.writeGeometryText=function(e,t){return ia(h(e,!0,t))},t}(xt);function ea(e){var t=e.getCoordinates();return 0===t.length?"":t.join(" ")}function ta(e){for(var t=e.getCoordinates(),r=[],n=0,i=t.length;n<i;++n)r.push(t[n].join(" "));return r.join(",")}function ra(e){for(var t=[],r=e.getLinearRings(),n=0,i=r.length;n<i;++n)t.push("("+ta(r[n])+")");return t.join(",")}var na={Point:ea,LineString:ta,Polygon:ra,MultiPoint:function(e){for(var t=[],r=e.getPoints(),n=0,i=r.length;n<i;++n)t.push("("+ea(r[n])+")");return t.join(",")},MultiLineString:function(e){for(var t=[],r=e.getLineStrings(),n=0,i=r.length;n<i;++n)t.push("("+ta(r[n])+")");return t.join(",")},MultiPolygon:function(e){for(var t=[],r=e.getPolygons(),n=0,i=r.length;n<i;++n)t.push("("+ra(r[n])+")");return t.join(",")},GeometryCollection:function(e){for(var t=[],r=e.getGeometries(),n=0,i=r.length;n<i;++n)t.push(ia(r[n]));return t.join(",")}};function ia(e){var t=e.getType(),r=(0,na[t])(e);if(t=t.toUpperCase(),"function"==typeof e.getFlatCoordinates){var n=function(e){var t=e.getLayout(),r="";return t!==_.a.XYZ&&t!==_.a.XYZM||(r+="Z"),t!==_.a.XYM&&t!==_.a.XYZM||(r+="M"),r}(e);n.length>0&&(t+=" "+n)}return 0===r.length?t+" EMPTY":t+"("+r+")"}var oa=Jo,aa=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sa=[null,"http://www.opengis.net/wms"],la=oe(sa,{Service:J((function(e,t){return se({},ha,e,t)})),Capability:J((function(e,t){return se({},ua,e,t)}))}),ua=oe(sa,{Request:J((function(e,t){return se({},ba,e,t)})),Exception:J((function(e,t){return se([],ga,e,t)})),Layer:J((function(e,t){return se({},ma,e,t)}))}),ca=function(e){function t(){var t=e.call(this)||this;return t.version=void 0,t}return aa(t,e),t.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},t.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=se({version:this.version},la,e,[]);return t||null},t}(ii),ha=oe(sa,{Name:J(Se),Title:J(Se),Abstract:J(Se),KeywordList:J(Ra),OnlineResource:J(ni),ContactInformation:J((function(e,t){return se({},pa,e,t)})),Fees:J(Se),AccessConstraints:J(Se),LayerLimit:J(Ee),MaxWidth:J(Ee),MaxHeight:J(Ee)}),pa=oe(sa,{ContactPersonPrimary:J((function(e,t){return se({},da,e,t)})),ContactPosition:J(Se),ContactAddress:J((function(e,t){return se({},fa,e,t)})),ContactVoiceTelephone:J(Se),ContactFacsimileTelephone:J(Se),ContactElectronicMailAddress:J(Se)}),da=oe(sa,{ContactPerson:J(Se),ContactOrganization:J(Se)}),fa=oe(sa,{AddressType:J(Se),Address:J(Se),City:J(Se),StateOrProvince:J(Se),PostCode:J(Se),Country:J(Se)}),ga=oe(sa,{Format:q(Se)}),ma=oe(sa,{Name:J(Se),Title:J(Se),Abstract:J(Se),KeywordList:J(Ra),CRS:$(Se),EX_GeographicBoundingBox:J((function(e,t){var r=se({},_a,e,t);if(!r)return;var n=r.westBoundLongitude,i=r.southBoundLatitude,o=r.eastBoundLongitude,a=r.northBoundLatitude;if(void 0===n||void 0===i||void 0===o||void 0===a)return;return[n,i,o,a]})),BoundingBox:$((function(e,t){var r=[Oe(e.getAttribute("minx")),Oe(e.getAttribute("miny")),Oe(e.getAttribute("maxx")),Oe(e.getAttribute("maxy"))],n=[Oe(e.getAttribute("resx")),Oe(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:r,res:n}})),Dimension:$((function(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:be(e.getAttribute("multipleValues")),nearestValue:be(e.getAttribute("nearestValue")),current:be(e.getAttribute("current")),values:Se(e)}})),Attribution:J((function(e,t){return se({},ya,e,t)})),AuthorityURL:$((function(e,t){var r=Ca(e,t);if(r)return r.name=e.getAttribute("name"),r;return})),Identifier:$(Se),MetadataURL:$((function(e,t){var r=Ca(e,t);if(r)return r.type=e.getAttribute("type"),r;return})),DataURL:$(Ca),FeatureListURL:$(Ca),Style:$((function(e,t){return se({},Ea,e,t)})),MinScaleDenominator:J(we),MaxScaleDenominator:J(we),Layer:$((function(e,t){var r=t[t.length-1],n=se({},ma,e,t);if(!n)return;var i=be(e.getAttribute("queryable"));void 0===i&&(i=r.queryable);n.queryable=void 0!==i&&i;var o=Te(e.getAttribute("cascaded"));void 0===o&&(o=r.cascaded);n.cascaded=o;var a=be(e.getAttribute("opaque"));void 0===a&&(a=r.opaque);n.opaque=void 0!==a&&a;var s=be(e.getAttribute("noSubsets"));void 0===s&&(s=r.noSubsets);n.noSubsets=void 0!==s&&s;var l=Oe(e.getAttribute("fixedWidth"));l||(l=r.fixedWidth);n.fixedWidth=l;var u=Oe(e.getAttribute("fixedHeight"));u||(u=r.fixedHeight);n.fixedHeight=u,["Style","CRS","AuthorityURL"].forEach((function(e){if(e in r){var t=n[e]||[];n[e]=t.concat(r[e])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(e){if(!(e in n)){var t=r[e];n[e]=t}})),n}))}),ya=oe(sa,{Title:J(Se),OnlineResource:J(ni),LogoURL:J(ka)}),_a=oe(sa,{westBoundLongitude:J(we),eastBoundLongitude:J(we),southBoundLatitude:J(we),northBoundLatitude:J(we)}),ba=oe(sa,{GetCapabilities:J(xa),GetMap:J(xa),GetFeatureInfo:J(xa)}),va=oe(sa,{Format:$(Se),DCPType:$((function(e,t){return se({},wa,e,t)}))}),wa=oe(sa,{HTTP:J((function(e,t){return se({},Oa,e,t)}))}),Oa=oe(sa,{Get:J(Ca),Post:J(Ca)}),Ea=oe(sa,{Name:J(Se),Title:J(Se),Abstract:J(Se),LegendURL:$(ka),StyleSheetURL:J(Ca),StyleURL:J(Ca)}),Ta=oe(sa,{Format:J(Se),OnlineResource:J(ni)}),Sa=oe(sa,{Keyword:q(Se)});function Ca(e,t){return se({},Ta,e,t)}function xa(e,t){return se({},va,e,t)}function ka(e,t){var r=Ca(e,t);if(r){var n=[Te(e.getAttribute("width")),Te(e.getAttribute("height"))];return r.size=n,r}}function Ra(e,t){return se([],Sa,e,t)}var Pa=ca,Ia=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ja=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.featureNS_="http://mapserver.gis.umn.edu/mapserver",r.gmlFormat_=new zi,r.layers_=n.layers?n.layers:null,r}return Ia(t,e),t.prototype.getLayers=function(){return this.layers_},t.prototype.setLayers=function(e){this.layers_=e},t.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var r=e.localName,n=[];if(0===e.childNodes.length)return n;if("msGMLOutput"==r)for(var i=0,o=e.childNodes.length;i<o;i++){var a=e.childNodes[i];if(a.nodeType===Node.ELEMENT_NODE){var s=a,l=t[0],u=s.localName.replace("_layer","");if(!this.layers_||Object(B.f)(this.layers_,u)){var c=u+"_feature";l.featureType=c,l.featureNS=this.featureNS_;var h={};h[c]=q(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var p=oe([l.featureNS,null],h);s.setAttribute("namespaceURI",this.featureNS_);var d=se([],p,s,t,this.gmlFormat_);d&&Object(B.c)(n,d)}}}if("FeatureCollection"==r){var f=se([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);f&&(n=f)}return n},t.prototype.readFeaturesFromNode=function(e,t){var r={};return t&&Object(a.a)(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])},t}(he),La=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Aa=[null,"http://www.opengis.net/wmts/1.0"],Fa=[null,"http://www.opengis.net/ows/1.1"],Ma=oe(Aa,{Contents:J((function(e,t){return se({},Da,e,t)}))}),Na=function(e){function t(){var t=e.call(this)||this;return t.owsParser_=new Oi,t}return La(t,e),t.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.readFromNode(t);return null},t.prototype.readFromNode=function(e){var t=e.getAttribute("version").trim(),r=this.owsParser_.readFromNode(e);return r?(r.version=t,(r=se(r,Ma,e,[]))||null):null},t}(ii),Da=oe(Aa,{Layer:$((function(e,t){return se({},Ga,e,t)})),TileMatrixSet:$((function(e,t){return se({},Ha,e,t)}))}),Ga=oe(Aa,{Style:$((function(e,t){var r=se({},Ua,e,t);if(!r)return;var n="true"===e.getAttribute("isDefault");return r.isDefault=n,r})),Format:$(Se),TileMatrixSetLink:$((function(e,t){return se({},za,e,t)})),Dimension:$((function(e,t){return se({},Wa,e,t)})),ResourceURL:$((function(e,t){var r=e.getAttribute("format"),n=e.getAttribute("template"),i=e.getAttribute("resourceType"),o={};r&&(o.format=r);n&&(o.template=n);i&&(o.resourceType=i);return o}))},oe(Fa,{Title:J(Se),Abstract:J(Se),WGS84BoundingBox:J((function(e,t){var r=se([],Ka,e,t);if(2!=r.length)return;return Object(o.boundingExtent)(r)})),Identifier:J(Se)})),Ua=oe(Aa,{LegendURL:$((function(e,t){var r={};return r.format=e.getAttribute("format"),r.href=ni(e),r}))},oe(Fa,{Title:J(Se),Identifier:J(Se)})),za=oe(Aa,{TileMatrixSet:J(Se),TileMatrixSetLimits:J((function(e,t){return se([],Ba,e,t)}))}),Ba=oe(Aa,{TileMatrixLimits:q((function(e,t){return se({},Va,e,t)}))}),Va=oe(Aa,{TileMatrix:J(Se),MinTileRow:J(Ee),MaxTileRow:J(Ee),MinTileCol:J(Ee),MaxTileCol:J(Ee)}),Wa=oe(Aa,{Default:J(Se),Value:$(Se)},oe(Fa,{Identifier:J(Se)})),Ka=oe(Fa,{LowerCorner:q(Xa),UpperCorner:q(Xa)}),Ha=oe(Aa,{WellKnownScaleSet:J(Se),TileMatrix:$((function(e,t){return se({},Ya,e,t)}))},oe(Fa,{SupportedCRS:J(Se),Identifier:J(Se)})),Ya=oe(Aa,{TopLeftCorner:J(Xa),ScaleDenominator:J(we),TileWidth:J(Ee),TileHeight:J(Ee),MatrixWidth:J(Ee),MatrixHeight:J(Ee)},oe(Fa,{Identifier:J(Se)}));function Xa(e,t){var r=Se(e).split(/\s+/);if(r&&2==r.length){var n=+r[0],i=+r[1];if(!isNaN(n)&&!isNaN(i))return[n,i]}}var Za=Na;r.d(t,"EsriJSON",(function(){return M})),r.d(t,"GeoJSON",(function(){return z})),r.d(t,"GML",(function(){return Fe})),r.d(t,"GPX",(function(){return yt})),r.d(t,"IGC",(function(){return Mt})),r.d(t,"IIIFInfo",(function(){return Nt.b})),r.d(t,"KML",(function(){return Gn})),r.d(t,"MVT",(function(){return ri})),r.d(t,"OWS",(function(){return Oi})),r.d(t,"Polyline",(function(){return ki})),r.d(t,"TopoJSON",(function(){return Ni})),r.d(t,"WFS",(function(){return Uo})),r.d(t,"WKT",(function(){return oa})),r.d(t,"WMSCapabilities",(function(){return Pa})),r.d(t,"WMSGetFeatureInfo",(function(){return ja})),r.d(t,"WMTSCapabilities",(function(){return Za}))},function(e,t,r){"use strict";r.r(t);var n=r(19),i=r(17),o=r(54);function a(e,t){var r=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?e.replace(r,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var e=s[0],r=t.getFullTileRange(e);return Object(n.a)(r,55),(r.getHeight()-s[2]-1).toString()})):void 0}}function s(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=a(e[i],t);return l(n)}function l(e){return 1===e.length?e[0]:function(t,r,n){if(t){var a=Object(o.e)(t),s=Object(i.d)(a,e.length);return e[s](t,r,n)}}}function u(e,t,r){}function c(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}var h=r(0),p=r(4);function d(e,t,r,n){var i=document.createElement("script"),o="olc_"+Object(p.c)(t);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(-1==e.indexOf("?")?"?":"&")+(n||"callback")+"="+o;var s=setTimeout((function(){a(),r&&r()}),1e4);window[o]=function(e){clearTimeout(s),a(),t(e)},document.getElementsByTagName("head")[0].appendChild(i)}var f=r(3),g=r(53),m=r(84),y=r(173),_=r(176),b=r(16),v=r(12),w=r(101),O=r(13),E=r(32);function T(e,t,r,n){var i=Object(f.transform)(r,t,e),o=Object(f.getPointResolution)(t,n,r),a=t.getMetersPerUnit();void 0!==a&&(o*=a);var s=e.getMetersPerUnit();void 0!==s&&(o/=s);var l=e.getExtent();if(!l||Object(h.containsCoordinate)(l,i)){var u=Object(f.getPointResolution)(e,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}function S(e,t,r,n){var i=r-e,o=n-t,a=Math.sqrt(i*i+o*o);return[Math.round(r+i/a),Math.round(n+o/a)]}function C(e,t,r,n,o,a,s,l,u,c,p){var d=Object(E.a)(Math.round(r*e),Math.round(r*t));if(0===u.length)return d.canvas;d.scale(r,r);var f=Object(h.createEmpty)();u.forEach((function(e,t,r){Object(h.extend)(f,e.extent)}));var g=Object(h.getWidth)(f),m=Object(h.getHeight)(f),y=Object(E.a)(Math.round(r*g/n),Math.round(r*m/n)),_=r/n;u.forEach((function(e,t,r){var n=e.extent[0]-f[0],i=-(e.extent[3]-f[3]),o=Object(h.getWidth)(e.extent),a=Object(h.getHeight)(e.extent);y.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,n*_,i*_,o*_,a*_)}));var b=Object(h.getTopLeft)(s);return l.getTriangles().forEach((function(e,t,o){var s=e.source,l=e.target,u=s[0][0],c=s[0][1],h=s[1][0],p=s[1][1],g=s[2][0],m=s[2][1],_=(l[0][0]-b[0])/a,v=-(l[0][1]-b[1])/a,w=(l[1][0]-b[0])/a,O=-(l[1][1]-b[1])/a,E=(l[2][0]-b[0])/a,T=-(l[2][1]-b[1])/a,C=u,x=c;u=0,c=0;var k=[[h-=C,p-=x,0,0,w-_],[g-=C,m-=x,0,0,E-_],[0,0,h,p,O-v],[0,0,g,m,T-v]],R=Object(i.e)(k);if(R){d.save(),d.beginPath();var P=(_+w+E)/3,I=(v+O+T)/3,j=S(P,I,_,v),L=S(P,I,w,O),A=S(P,I,E,T);d.moveTo(L[0],L[1]),d.lineTo(j[0],j[1]),d.lineTo(A[0],A[1]),d.clip(),d.transform(R[0],R[2],R[1],R[3],_,v),d.translate(f[0]-C,f[3]-x),d.scale(n/r,-n/r),d.drawImage(y.canvas,0,0),d.restore()}})),p&&(d.save(),d.strokeStyle="black",d.lineWidth=1,l.getTriangles().forEach((function(e,t,r){var n=e.target,i=(n[0][0]-b[0])/a,o=-(n[0][1]-b[1])/a,s=(n[1][0]-b[0])/a,l=-(n[1][1]-b[1])/a,u=(n[2][0]-b[0])/a,c=-(n[2][1]-b[1])/a;d.beginPath(),d.moveTo(s,l),d.lineTo(i,o),d.lineTo(u,c),d.closePath(),d.stroke()})),d.restore()),d.canvas}var x,k=function(){function e(e,t,r,n,i){this.sourceProj_=e,this.targetProj_=t;var o={},a=Object(f.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return o[t]||(o[t]=a(e)),o[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Object(h.getWidth)(n)==Object(h.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(h.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(h.getWidth)(this.targetProj_.getExtent()):null;var s=Object(h.getTopLeft)(r),l=Object(h.getTopRight)(r),u=Object(h.getBottomRight)(r),c=Object(h.getBottomLeft)(r),p=this.transformInv_(s),d=this.transformInv_(l),g=this.transformInv_(u),m=this.transformInv_(c);if(this.addQuad_(s,l,u,c,p,d,g,m,10),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach((function(e,t,r){y=Math.min(y,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-y>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-y>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-y>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-y>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var r=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-r<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}o={}}return e.prototype.addTriangle_=function(e,t,r,n,i,o){this.triangles_.push({source:[n,i,o],target:[e,t,r]})},e.prototype.addQuad_=function(e,t,r,n,o,a,s,l,u){var c=Object(h.boundingExtent)([o,a,s,l]),p=this.sourceWorldWidth_?Object(h.getWidth)(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&p>.5&&p<1,g=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=Object(h.boundingExtent)([e,t,r,n]);g=Object(h.getWidth)(m)/this.targetWorldWidth_>.25||g}!f&&this.sourceProj_.isGlobal()&&p&&(g=p>.25||g)}if(g||!this.maxSourceExtent_||Object(h.intersects)(c,this.maxSourceExtent_)){if(!(g||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;g=!0}if(u>0){if(!g){var y=[(e[0]+r[0])/2,(e[1]+r[1])/2],_=this.transformInv_(y),b=void 0;if(f)b=(Object(i.d)(o[0],d)+Object(i.d)(s[0],d))/2-Object(i.d)(_[0],d);else b=(o[0]+s[0])/2-_[0];var v=(o[1]+s[1])/2-_[1];g=b*b+v*v>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var w=[(t[0]+r[0])/2,(t[1]+r[1])/2],O=this.transformInv_(w),E=[(n[0]+e[0])/2,(n[1]+e[1])/2],T=this.transformInv_(E);this.addQuad_(e,t,w,E,o,a,O,T,u-1),this.addQuad_(E,w,r,n,T,O,s,l,u-1)}else{var S=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(S),x=[(r[0]+n[0])/2,(r[1]+n[1])/2],k=this.transformInv_(x);this.addQuad_(e,S,x,n,o,C,k,l,u-1),this.addQuad_(S,t,r,x,C,a,s,k,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,r,n,o,s,l),this.addTriangle_(e,t,r,o,a,s)}},e.prototype.calculateSourceExtent=function(){var e=Object(h.createEmpty)();return this.triangles_.forEach((function(t,r,n){var i=t.source;Object(h.extendCoordinate)(e,i[0]),Object(h.extendCoordinate)(e,i[1]),Object(h.extendCoordinate)(e,i[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}(),R=(x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),P=function(e){function t(t,r,n,o,a,s,l,u,c,p,d){var f=e.call(this,a,b.a.IDLE)||this;f.renderEdges_=void 0!==d&&d,f.pixelRatio_=l,f.gutter_=u,f.canvas_=null,f.sourceTileGrid_=r,f.targetTileGrid_=o,f.wrappedTileCoord_=s||a,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var g=o.getTileCoordExtent(f.wrappedTileCoord_),y=f.targetTileGrid_.getExtent(),_=f.sourceTileGrid_.getExtent(),v=y?Object(h.getIntersection)(g,y):g;if(0===Object(h.getArea)(v))return f.state=b.a.EMPTY,f;var w=t.getExtent();w&&(_=_?Object(h.getIntersection)(_,w):w);var O=o.getResolution(f.wrappedTileCoord_[0]),E=T(t,n,Object(h.getCenter)(v),O);if(!isFinite(E)||E<=0)return f.state=b.a.EMPTY,f;var S=void 0!==p?p:m.b;if(f.triangulation_=new k(t,n,v,_,E*S),0===f.triangulation_.getTriangles().length)return f.state=b.a.EMPTY,f;f.sourceZ_=r.getZForResolution(E);var C=f.triangulation_.calculateSourceExtent();if(_&&(t.canWrapX()?(C[1]=Object(i.a)(C[1],_[1],_[3]),C[3]=Object(i.a)(C[3],_[1],_[3])):C=Object(h.getIntersection)(C,_)),Object(h.getArea)(C)){for(var x=r.getTileRangeForExtentAndZ(C,f.sourceZ_),R=x.minX;R<=x.maxX;R++)for(var P=x.minY;P<=x.maxY;P++){var I=c(f.sourceZ_,R,P,l);I&&f.sourceTiles_.push(I)}0===f.sourceTiles_.length&&(f.state=b.a.EMPTY)}else f.state=b.a.EMPTY;return f}return R(t,e),t.prototype.disposeInternal=function(){this.state==b.a.LOADING&&this.unlistenSources_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,r,n){t&&t.getState()==b.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=b.a.ERROR;else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),n="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=C(n,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=b.a.LOADED}this.changed()},t.prototype.load=function(){if(this.state==b.a.IDLE){this.state=b.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,r,n){var i=t.getState();if(i==b.a.IDLE||i==b.a.LOADING){e++;var o=Object(O.a)(t,v.a.CHANGE,(function(r){var n=t.getState();n!=b.a.LOADED&&n!=b.a.ERROR&&n!=b.a.EMPTY||(Object(O.c)(o),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach((function(e,t,r){e.getState()==b.a.IDLE&&e.load()})),0===e&&setTimeout(this.reproject_.bind(this),0)}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(O.c),this.sourcesListenerKeys_=null},t}(w.a),I=r(51),j=r(56),L=r(128),A=r(118),F=r(165),M=r(65),N=r(143),D=r(10),G=[0,0,0],U=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Object(n.a)(Object(D.g)(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Object(n.a)(this.origins_.length==this.resolutions_.length,20));var o=e.extent;void 0===o||this.origin_||this.origins_||(this.origin_=Object(h.getTopLeft)(o)),Object(n.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Object(n.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:A.b,Object(n.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){return new N.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1))}),this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(e,t,r){for(var n=this.getTileRangeForExtentAndZ(e,t),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)r([t,i,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,r,n){var i,o,a,s=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],a=e[2]):s=this.getTileCoordExtent(e,n);l>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),i=Object(N.a)(o,o,a,a,r)):i=this.getTileRangeForExtentAndZ(s,l,r),t(l,i))return!0;--l}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*e[1],i=2*e[2];return Object(N.a)(n,n+1,i,i+1,t)}var o=this.getTileCoordExtent(e,r);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null},e.prototype.getTileRangeExtent=function(e,t,r){var n=this.getOrigin(e),i=this.getResolution(e),o=Object(j.d)(this.getTileSize(e),this.tmpSize_),a=n[0]+t.minX*o[0]*i,s=n[0]+(t.maxX+1)*o[0]*i,l=n[1]+t.minY*o[1]*i,u=n[1]+(t.maxY+1)*o[1]*i;return Object(h.createOrUpdate)(a,l,s,u,r)},e.prototype.getTileRangeForExtentAndZ=function(e,t,r){var n=G;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);var i=n[1],o=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),Object(N.a)(i,n[1],o,n[2],r)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=Object(j.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*r,t[1]-(e[2]+.5)*n[1]*r]},e.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Object(j.d)(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*i[0]*n,a=r[1]-(e[2]+1)*i[1]*n,s=o+i[0]*n,l=a+i[1]*n;return Object(h.createOrUpdate)(o,a,s,l,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,r,n,i){var a=this.getZForResolution(r),s=r/this.getResolution(a),l=this.getOrigin(a),u=Object(j.d)(this.getTileSize(a),this.tmpSize_),c=n?.5:0,h=n?.5:0,p=Math.floor((e-l[0])/r+c),d=Math.floor((l[1]-t)/r+h),f=s*p/u[0],g=s*d/u[1];return n?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),Object(o.a)(a,f,g,i)},e.prototype.getTileCoordForXYAndZ_=function(e,t,r,n,i){var a=this.getOrigin(r),s=this.getResolution(r),l=Object(j.d)(this.getTileSize(r),this.tmpSize_),u=n?.5:0,c=n?.5:0,h=Math.floor((e-a[0])/s+u),p=Math.floor((a[1]-t)/s+c),d=h/l[0],f=p/l[1];return n?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),Object(o.a)(r,d,f,i)},e.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},e.prototype.getZForResolution=function(e,t){var r=Object(D.h)(this.resolutions_,e,t||0);return Object(i.a)(r,this.minZoom,this.maxZoom)},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),n=this.minZoom;n<t;++n)r[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=r},e}();function z(e){var t=e.getDefaultTileGrid();return t||(t=W(e),e.setDefaultTileGrid(t)),t}function B(e){var t=e||{},r=t.extent||Object(f.get)("EPSG:3857").getExtent(),n={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:V(r,t.maxZoom,t.tileSize)};return new U(n)}function V(e,t,r){for(var n=void 0!==t?t:A.a,i=Object(h.getHeight)(e),o=Object(h.getWidth)(e),a=Object(j.d)(void 0!==r?r:A.b),s=Math.max(o/a[0],i/a[1]),l=n+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u}function W(e,t,r,n){return function(e,t,r,n){var i=void 0!==n?n:F.a.TOP_LEFT,o=V(e,t,r);return new U({extent:e,origin:Object(h.getCorner)(e,i),resolutions:o,tileSize:r})}(K(e),t,r,n)}function K(e){var t=(e=Object(f.get)(e)).getExtent();if(!t){var r=180*f.METERS_PER_UNIT[M.b.DEGREES]/e.getMetersPerUnit();t=Object(h.createOrUpdate)(-r,-r,r,r)}return t}var H=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Y=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX})||this;r.opaque_=void 0!==t.opaque&&t.opaque,r.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,r.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;var n=t.cacheSize;if(void 0===n){var i=[256,256],o=t.tileGrid;o&&Object(j.d)(o.getTileSize(o.getMinZoom()),i);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;n=4*Math.ceil(s/i[0])*Math.ceil(l/i[1])}return r.tileCache=new _.a(n),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition},r.zDirection=t.zDirection?t.zDirection:0,r}return H(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);r&&r.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,r,n){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var a,s,l,u=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=Object(o.d)(t,c,h),l=!1,i.containsKey(s)&&(l=(a=i.get(s)).getState()===b.a.LOADED)&&(l=!1!==n(a)),l||(u=!1);return u},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,t,r,n,i){return Object(p.b)()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:z(e)},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!Object(f.equivalent)(t,e)?null:this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=this.getTilePixelRatio(t),o=Object(j.d)(n.getTileSize(e),this.tmpSize);return 1==i?o:Object(j.c)(o,i,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var r=void 0!==t?t:this.getProjection(),n=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=function(e,t,r){var n=t[0],i=e.getTileCoordCenter(t),o=K(r);if(Object(h.containsCoordinate)(o,i))return t;var a=Object(h.getWidth)(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,n)}(n,e,r)),Object(o.f)(e,n)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.useTile=function(e,t,r,n){},t}(L.a),X=function(e){function t(t,r){var n=e.call(this,t)||this;return n.tile=r,n}return H(t,e),t}(I.a),Z=Y,q="tileloadstart",Q="tileloadend",$="tileloaderror",J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=!t.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,r.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(r):u,r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return J(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,r=e.target,n=Object(p.c)(r),i=r.getState();i==b.a.LOADING?(this.tileLoadingKeys_[n]=!0,t=q):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=i==b.a.ERROR?$:i==b.a.LOADED||i==b.a.ABORT?Q:void 0),null!=t&&this.dispatchEvent(new X(t,r))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=c(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(s(e,this.tileGrid),t):this.setKey(t)},t.prototype.useTile=function(e,t,r){var n=Object(o.d)(e,t,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(Z),te=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function re(e,t){e.getImage().src=t}var ne=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:re,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,r.tileClass=void 0!==t.tileClass?t.tileClass:y.a,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return te(t,e),t.prototype.canExpireCache=function(){if(!m.a)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},t.prototype.expireCache=function(t,r){if(m.a){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?r:{})}}else e.prototype.expireCache.call(this,t,r)},t.prototype.getGutterForProjection=function(e){return m.a&&this.getProjection()&&e&&!Object(f.equivalent)(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getOpaque=function(t){return!(m.a&&this.getProjection()&&t&&!Object(f.equivalent)(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(t){if(!m.a)return e.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(!this.tileGrid||r&&!Object(f.equivalent)(r,t)){var n=Object(p.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=z(t)),this.tileGridForProjection[n]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(t){if(!m.a)return e.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||Object(f.equivalent)(r,t))return this.tileCache;var n=Object(p.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new _.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,t,r,n,i,o){var a=[e,t,r],s=this.getTileCoordForTileUrlFunction(a,i),l=s?this.tileUrlFunction(s,n,i):void 0,u=new this.tileClass(a,void 0!==l?b.a.IDLE:b.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(v.a.CHANGE,this.handleTileChange.bind(this)),u},t.prototype.getTile=function(e,t,r,n,i){var a=this.getProjection();if(m.a&&a&&i&&!Object(f.equivalent)(a,i)){var s=this.getTileCacheForProjection(i),l=[e,t,r],u=void 0,c=Object(o.c)(l);s.containsKey(c)&&(u=s.get(c));var h=this.getKey();if(u&&u.key==h)return u;var p=this.getTileGridForProjection(a),d=this.getTileGridForProjection(i),g=this.getTileCoordForTileUrlFunction(l,i),y=new P(a,p,i,d,l,g,this.getTilePixelRatio(n),this.getGutter(),function(e,t,r,n){return this.getTileInternal(e,t,r,n,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=h,u?(y.interimTile=u,y.refreshInterimChain(),s.replace(c,y)):s.set(c,y),y}return this.getTileInternal(e,t,r,n,a||i)},t.prototype.getTileInternal=function(e,t,r,n,i){var a=null,s=Object(o.d)(e,t,r),l=this.getKey();if(this.tileCache.containsKey(s)){if((a=this.tileCache.get(s)).key!=l){var u=a;a=this.createTile_(e,t,r,n,i,l),u.getState()==b.a.IDLE?a.interimTile=u.interimTile:a.interimTile=u,a.refreshInterimChain(),this.tileCache.replace(s,a)}}else a=this.createTile_(e,t,r,n,i,l),this.tileCache.set(s,a);return a},t.prototype.setRenderReprojectionEdges=function(e){if(m.a&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){if(m.a){var r=Object(f.get)(e);if(r){var n=Object(p.c)(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}},t}(ee),ie=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var oe=function(e){function t(t){var r=this,n=void 0!==t.hidpi&&t.hidpi;return(r=e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(f.get)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:g.a.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this).hidpi_=n,r.culture_=void 0!==t.culture?t.culture:"en-us",r.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,r.apiKey_=t.key,r.imagerySet_=t.imagerySet,d("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+r.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+r.apiKey_+"&c="+r.culture_,r.handleImageryMetadataResponse.bind(r),void 0,"jsonp"),r}return ie(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],r=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,n=K(this.getProjection()),i=this.hidpi_?2:1,a=t.imageWidth==t.imageHeight?t.imageWidth/i:[t.imageWidth/i,t.imageHeight/i],s=B({extent:n,minZoom:t.zoomMin,maxZoom:r,tileSize:a});this.tileGrid=s;var u=this.culture_,c=this.hidpi_;if(this.tileUrlFunction=l(t.imageUrlSubdomains.map((function(e){var r=[0,0,0],n=t.imageUrl.replace("{subdomain}",e).replace("{culture}",u);return function(e,t,i){if(e){Object(o.a)(e[0],e[1],e[2],r);var a=n;return c&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",function(e){var t,r,n=e[0],i=new Array(n),o=1<<n-1;for(t=0;t<n;++t)r=48,e[1]&o&&(r+=1),e[2]&o&&(r+=2),i[t]=String.fromCharCode(r),o>>=1;return i.join("")}(r))}}}))),t.imageryProviders){var p=Object(f.getTransformFromProjections)(Object(f.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var r=[],n=e.viewState,i=this.getTileGrid(),o=i.getZForResolution(n.resolution,this.zDirection),a=i.getTileCoordForCoordAndZ(n.center,o)[0];return t.imageryProviders.map((function(t){for(var n=!1,i=t.coverageAreas,o=0,s=i.length;o<s;++o){var l=i[o];if(a>=l.zoomMin&&a<=l.zoomMax){var u=l.bbox,c=[u[1],u[0],u[3],u[2]],d=Object(h.applyTransform)(c,p);if(Object(h.intersects)(d,e.extent)){n=!0;break}}}n&&r.push(t.attribution)})),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),r}.bind(this))}this.setState(g.a.READY)}else this.setState(g.a.ERROR)},t}(ne),ae=r(8),se=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),le=function(e){function t(t){var r=t||{},n=void 0!==r.projection?r.projection:"EPSG:3857",i=void 0!==r.tileGrid?r.tileGrid:B({extent:K(n),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:n,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return se(t,e),t}(ne),ue=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ce=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,wrapX:t.wrapX})||this;return r.account_=t.account,r.mapId_=t.map||"",r.config_=t.config||{},r.templateCache_={},r.initializeMap_(),r}return ue(t,e),t.prototype.getConfig=function(){return this.config_},t.prototype.updateConfig=function(e){Object(ae.a)(this.config_,e),this.initializeMap_()},t.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},t.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e])this.applyTemplate_(this.templateCache_[e]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,e)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",t),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},t.prototype.handleInitResponse_=function(e,t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var n=void 0;try{n=JSON.parse(r.responseText)}catch(e){return void this.setState(g.a.ERROR)}this.applyTemplate_(n),this.templateCache_[e]=n,this.setState(g.a.READY)}else this.setState(g.a.ERROR)},t.prototype.handleInitError_=function(e){this.setState(g.a.ERROR)},t.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)},t}(le),he=r(46),pe=r(2),de=r(33),fe=r(45),ge=r(106),me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==t.distance?t.distance:20,r.features=[],r.geometryFunction=t.geometryFunction||function(e){var t=e.getGeometry();return Object(n.a)(t.getType()==pe.a.POINT,10),t},r.source=t.source,r.source.addEventListener(v.a.CHANGE,r.refresh.bind(r)),r}return me(t,e),t.prototype.getDistance=function(){return this.distance},t.prototype.getSource=function(){return this.source},t.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},t.prototype.setDistance=function(e){this.distance=e,this.refresh()},t.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},t.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var e=Object(h.createEmpty)(),t=this.distance*this.resolution,r=this.source.getFeatures(),n={},i=0,o=r.length;i<o;i++){var a=r[i];if(!(Object(p.c)(a)in n)){var s=this.geometryFunction(a);if(s){var l=s.getCoordinates();Object(h.createOrUpdateFromCoordinate)(l,e),Object(h.buffer)(e,t,e);var u=this.source.getFeaturesInExtent(e);u=u.filter((function(e){var t=Object(p.c)(e);return!(t in n)&&(n[t]=!0,!0)})),this.features.push(this.createCluster(u))}}}}},t.prototype.createCluster=function(e){for(var t=[0,0],r=e.length-1;r>=0;--r){var n=this.geometryFunction(e[r]);n?Object(de.a)(t,n.getCoordinates()):e.splice(r,1)}Object(de.h)(t,1/e.length);var i=new he.a(new fe.a(t));return i.set("features",e),i},t}(ge.a),_e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be="default",ve="truncated",we=function(e){function t(t,r,n,i,o,a,s,l){var u=e.call(this,n,i,o,a,s,l)||this;return u.zoomifyImage_=null,u.tileSize_=Object(j.d)(r.getTileSize(n[0])).map((function(e){return e*t})),u}return _e(t,e),t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var t=e.prototype.getImage.call(this);if(this.state==b.a.LOADED){var r=this.tileSize_;if(t.width==r[0]&&t.height==r[1])return this.zoomifyImage_=t,t;var n=Object(E.a)(r[0],r[1]);return n.drawImage(t,0,0),this.zoomifyImage_=n.canvas,n.canvas}return t},t}(y.a),Oe=function(e){function t(t){var r=this,i=t||{},o=i.size,a=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:be,s=o[0],u=o[1],p=i.extent||[0,-o[1],o[0],0],d=[],f=i.tileSize||A.b,g=i.tilePixelRatio||1,m=f;switch(a){case be:for(;s>m||u>m;)d.push([Math.ceil(s/m),Math.ceil(u/m)]),m+=m;break;case ve:for(var y=s,_=u;y>m||_>m;)d.push([Math.ceil(y/m),Math.ceil(_/m)]),y>>=1,_>>=1;break;default:Object(n.a)(!1,53)}d.push([1,1]),d.reverse();for(var b=[1],v=[0],w=1,O=d.length;w<O;w++)b.push(1<<w),v.push(d[w-1][0]*d[w-1][1]+v[w-1]);b.reverse();var E=new U({tileSize:f,extent:p,origin:Object(h.getTopLeft)(p),resolutions:b}),T=i.url;T&&-1==T.indexOf("{TileGroup}")&&-1==T.indexOf("{tileIndex}")&&(T+="{TileGroup}/{z}-{x}-{y}.jpg");var S=l(c(T).map((function(e){return function(t,r,n){if(t){var i=t[0],o=t[1],a=t[2],s=o+a*d[i][0],l=E.getTileSize(i),u=Array.isArray(l)?l[0]:l,c={z:i,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+v[i])/u|0)};return e.replace(/\{(\w+?)\}/g,(function(e,t){return c[t]}))}}}))),C=we.bind(null,g,E);return(r=e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,tilePixelRatio:g,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:C,tileGrid:E,tileUrlFunction:S,transition:i.transition})||this).zDirection=i.zDirection,r}return _e(t,e),t}(ne),Ee=r(155),Te=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Se(e){return e.toLocaleString("en",{maximumFractionDigits:10})}var Ce=function(e){function t(t){var r=this,i=t||{},o=i.url||"";o+=o.lastIndexOf("/")===o.length-1||""===o?"":"/";var a=i.version||Ee.a.VERSION2,s=i.sizes||[],l=i.size;Object(n.a)(null!=l&&Array.isArray(l)&&2==l.length&&!isNaN(l[0])&&l[0]>0&&!isNaN(l[1])&&l[1]>0,60);var u,c,p,d=l[0],f=l[1],g=i.tileSize,m=i.tilePixelRatio||1,y=i.format||"jpg",_=i.quality||(i.version==Ee.a.VERSION1?"native":"default"),b=i.resolutions||[],v=i.supports||[],w=i.extent||[0,-f,d,0],O=null!=s&&Array.isArray(s)&&s.length>0,E=null!=g&&("number"==typeof g&&Number.isInteger(g)&&g>0||Array.isArray(g)&&g.length>0),T=null!=v&&Array.isArray(v)&&(v.includes("regionByPx")||v.includes("regionByPct"))&&(v.includes("sizeByWh")||v.includes("sizeByH")||v.includes("sizeByW")||v.includes("sizeByPct"));if(b.sort((function(e,t){return t-e})),E||T)if(null!=g&&("number"==typeof g&&Number.isInteger(g)&&g>0?(u=g,c=g):Array.isArray(g)&&g.length>0&&((1==g.length||null==g[1]&&Number.isInteger(g[0]))&&(u=g[0],c=g[0]),2==g.length&&(Number.isInteger(g[0])&&Number.isInteger(g[1])?(u=g[0],c=g[1]):null==g[0]&&Number.isInteger(g[1])&&(u=g[1],c=g[1])))),void 0!==u&&void 0!==c||(u=A.b,c=A.b),0==b.length)for(var S=p=Math.max(Math.ceil(Math.log(d/u)/Math.LN2),Math.ceil(Math.log(f/c)/Math.LN2));S>=0;S--)b.push(Math.pow(2,S));else{var C=Math.max.apply(Math,b);p=Math.round(Math.log(C)/Math.LN2)}else if(u=d,c=f,b=[],O){s.sort((function(e,t){return e[0]-t[0]})),p=-1;var x=[];for(S=0;S<s.length;S++){var k=d/s[S][0];b.length>0&&b[b.length-1]==k?x.push(S):(b.push(k),p++)}if(x.length>0)for(S=0;S<x.length;S++)s.splice(x[S]-S,1)}else b.push(1),s.push([d,f]),p=0;var R=new U({tileSize:[u,c],extent:w,origin:Object(h.getTopLeft)(w),resolutions:b}),P=we.bind(null,m,R);return(r=e.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,state:i.state,tileClass:P,tileGrid:R,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:function(e,t,r){var n,i,l=e[0];if(!(l>p)){var h=e[1],g=e[2],m=b[l];if(!(void 0===h||void 0===g||void 0===m||h<0||Math.ceil(d/m/u)<=h||g<0||Math.ceil(f/m/c)<=g)){if(T||E){var w=h*u*m,S=g*c*m,C=u*m,x=c*m,k=u,R=c;if(w+C>d&&(C=d-w),S+x>f&&(x=f-S),w+u*m>d&&(k=Math.floor((d-w+m-1)/m)),S+c*m>f&&(R=Math.floor((f-S+m-1)/m)),0==w&&C==d&&0==S&&x==f)n="full";else if(!T||v.includes("regionByPx"))n=w+","+S+","+C+","+x;else if(v.includes("regionByPct")){n="pct:"+Se(w/d*100)+","+Se(S/f*100)+","+Se(C/d*100)+","+Se(x/f*100)}a!=Ee.a.VERSION3||T&&!v.includes("sizeByWh")?!T||v.includes("sizeByW")?i=k+",":v.includes("sizeByH")?i=","+R:v.includes("sizeByWh")?i=k+","+R:v.includes("sizeByPct")&&(i="pct:"+Se(100/m)):i=k+","+R}else if(n="full",O){var P=s[l][0],I=s[l][1];i=a==Ee.a.VERSION3?P==d&&I==f?"max":P+","+I:P==d?"full":P+","}else i=a==Ee.a.VERSION3?"max":"full";return o+n+"/"+i+"/0/"+_+"."+y}}},transition:i.transition})||this).zDirection=i.zDirection,r}return Te(t,e),t}(ne),xe=r(31),ke=r(146),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe=function(e){function t(t,r,n,i,o,a){var s=this,l=t.getExtent(),u=r.getExtent(),c=u?Object(h.getIntersection)(n,u):n,p=T(t,r,Object(h.getCenter)(c),i),d=m.b,f=new k(t,r,c,l,p*d),g=a(f.calculateSourceExtent(),p,o),y=g?xe.a.IDLE:xe.a.EMPTY,_=g?g.getPixelRatio():1;return(s=e.call(this,n,i,_,y)||this).targetProj_=r,s.maxSourceExtent_=l,s.triangulation_=f,s.targetResolution_=i,s.targetExtent_=n,s.sourceImage_=g,s.sourcePixelRatio_=_,s.canvas_=null,s.sourceListenerKey_=null,s}return Re(t,e),t.prototype.disposeInternal=function(){this.state==xe.a.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==xe.a.LOADED){var t=Object(h.getWidth)(this.targetExtent_)/this.targetResolution_,r=Object(h.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=C(t,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==xe.a.IDLE){this.state=xe.a.LOADING,this.changed();var e=this.sourceImage_.getState();e==xe.a.LOADED||e==xe.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(O.a)(this.sourceImage_,v.a.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=xe.a.LOADED&&t!=xe.a.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){Object(O.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(ke.a),Ie=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),je="imageloadstart",Le="imageloadend",Ae="imageloaderror",Fe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.image=r,n}return Ie(t,e),t}(I.a);function Me(e,t){e.getImage().src=t}var Ne=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state})||this;return r.resolutions_=void 0!==t.resolutions?t.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return Ie(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=Object(D.h)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},t.prototype.getImage=function(e,t,r,n){var i=this.getProjection();if(m.a&&i&&n&&!Object(f.equivalent)(i,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(f.equivalent)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==t&&Object(h.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Pe(i,n,e,t,r,function(e,t,r){return this.getImageInternal(e,t,r,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(n=i),this.getImageInternal(e,t,r,n)},t.prototype.getImageInternal=function(e,t,r,n){return Object(p.b)()},t.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case xe.a.LOADING:this.loading=!0,this.dispatchEvent(new Fe(je,t));break;case xe.a.LOADED:this.loading=!1,this.dispatchEvent(new Fe(Le,t));break;case xe.a.ERROR:this.loading=!1,this.dispatchEvent(new Fe(Ae,t))}},t}(L.a),De=r(100);function Ge(e,t){var r=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&r.push(e+"="+encodeURIComponent(t[e]))}));var n=r.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+n}var Ue=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ze=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.hidpi_=void 0===n.hidpi||n.hidpi,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:Me,r.params_=n.params||{},r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return Ue(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(h.containsExtent)(i.getExtent(),e))return i;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(ae.a)(o,this.params_);var a=((e=e.slice())[0]+e[2])/2,s=(e[1]+e[3])/2;if(1!=this.ratio_){var l=this.ratio_*Object(h.getWidth)(e)/2,u=this.ratio_*Object(h.getHeight)(e)/2;e[0]=a-l,e[1]=s-u,e[2]=a+l,e[3]=s+u}var c=t/r,p=Math.ceil(Object(h.getWidth)(e)/c),d=Math.ceil(Object(h.getHeight)(e)/c);e[0]=a-c*p/2,e[2]=a+c*p/2,e[1]=s-c*d/2,e[3]=s+c*d/2,this.imageSize_[0]=p,this.imageSize_[1]=d;var f=this.getRequestUrl_(e,this.imageSize_,r,n,o);return this.image_=new De.a(e,t,r,f,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(v.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,r,i,o){var a=i.getCode().split(":").pop();o.SIZE=t[0]+","+t[1],o.BBOX=e.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(90*r);var s=this.url_,l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return l==s&&Object(n.a)(!1,50),Ge(l,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(ae.a)(this.params_,e),this.image_=null,this.changed()},t}(Ne),Be=r(147),Ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions,state:n.state})||this).canvasFunction_=n.canvasFunction,r.canvas_=null,r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return Ve(t,e),t.prototype.getImageInternal=function(e,t,r,n){t=this.findNearestResolution(t);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(h.containsExtent)(i.getExtent(),e))return i;e=e.slice(),Object(h.scaleFromCenter)(e,this.ratio_);var o=[Object(h.getWidth)(e)/t*r,Object(h.getHeight)(e)/t*r],a=this.canvasFunction_.call(this,e,t,r,o,n);return a&&(i=new Be.a(e,t,r,a)),this.canvas_=i,this.renderedRevision_=this.getRevision(),i},t}(Ne),Ke=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var He=function(e){function t(t){var r=e.call(this,{projection:t.projection,resolutions:t.resolutions})||this;return r.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,r.displayDpi_=void 0!==t.displayDpi?t.displayDpi:96,r.params_=t.params||{},r.url_=t.url,r.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:Me,r.hidpi_=void 0===t.hidpi||t.hidpi,r.metersPerUnit_=void 0!==t.metersPerUnit?t.metersPerUnit:1,r.ratio_=void 0!==t.ratio?t.ratio:1,r.useOverlay_=void 0!==t.useOverlay&&t.useOverlay,r.image_=null,r.renderedRevision_=0,r}return Ke(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){t=this.findNearestResolution(t),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(h.containsExtent)(i.getExtent(),e))return i;1!=this.ratio_&&(e=e.slice(),Object(h.scaleFromCenter)(e,this.ratio_));var o=[Object(h.getWidth)(e)/t*r,Object(h.getHeight)(e)/t*r];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,e,o,n);(i=new De.a(e,t,r,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(v.a.CHANGE,this.handleImageChange.bind(this))}else i=null;return this.image_=i,this.renderedRevision_=this.getRevision(),i},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.updateParams=function(e){Object(ae.a)(this.params_,e),this.changed()},t.prototype.getUrl=function(e,t,r,n,i){var o=function(e,t,r,n){var i=Object(h.getWidth)(e),o=Object(h.getHeight)(e),a=t[0],s=t[1],l=.0254/n;return s*i>a*o?i*r/(a*l):o*r/(s*l)}(r,n,this.metersPerUnit_,this.displayDpi_),a=Object(h.getCenter)(r),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:o,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return Object(ae.a)(s,t),Ge(e,s)},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t}(Ne),Ye=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xe=function(e){function t(t){var r=this,n=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.imageLoadFunction?t.imageLoadFunction:Me;return(r=e.call(this,{attributions:t.attributions,projection:Object(f.get)(t.projection)})||this).url_=t.url,r.imageExtent_=t.imageExtent,r.image_=new De.a(r.imageExtent_,void 0,1,r.url_,n,i),r.imageSize_=t.imageSize?t.imageSize:null,r.image_.addEventListener(v.a.CHANGE,r.handleImageChange.bind(r)),r}return Ye(t,e),t.prototype.getImageExtent=function(){return this.imageExtent_},t.prototype.getImageInternal=function(e,t,r,n){return Object(h.intersects)(e,this.image_.getExtent())?this.image_:null},t.prototype.getUrl=function(){return this.url_},t.prototype.handleImageChange=function(t){if(this.image_.getState()==xe.a.LOADED){var r=this.image_.getExtent(),n=this.image_.getImage(),i=void 0,o=void 0;this.imageSize_?(i=this.imageSize_[0],o=this.imageSize_[1]):(i=n.width,o=n.height);var a=Object(h.getHeight)(r)/o,s=Math.ceil(Object(h.getWidth)(r)/a);if(s!=i){var l=Object(E.a)(s,o),u=l.canvas;l.drawImage(n,0,0,i,o,0,0,u.width,u.height),this.image_.setImage(u)}}e.prototype.handleImageChange.call(this,t)},t}(Ne),Ze="carmentaserver",qe="geoserver",Qe="mapserver",$e="qgis",Je=r(109),et=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt=[101,101],rt=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:Me,r.params_=n.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return et(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){if(void 0!==this.url_){var i=Object(f.get)(r),o=this.getProjection();o&&o!==i&&(t=T(o,i,e,t),e=Object(f.transform)(e,i,o));var a=Object(h.getForViewAndSize)(e,t,0,tt),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ae.a)(s,this.params_,n);var l=Math.floor((e[0]-a[0])/t),u=Math.floor((a[3]-e[1])/t);return s[this.v13_?"I":"X"]=l,s[this.v13_?"J":"Y"]=u,this.getRequestUrl_(a,tt,1,o||i,s)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*i*39.37*(25.4/.28)}return Object(ae.a)(r,t),Ge(this.url_,r)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var i=t/r,o=Object(h.getCenter)(e),a=Math.ceil(Object(h.getWidth)(e)/i),s=Math.ceil(Object(h.getHeight)(e)/i),l=Object(h.getForViewAndSize)(o,i,0,[a,s]),u=Math.ceil(this.ratio_*Object(h.getWidth)(e)/i),c=Math.ceil(this.ratio_*Object(h.getHeight)(e)/i),p=Object(h.getForViewAndSize)(o,i,0,[u,c]),d=this.image_;if(d&&this.renderedRevision_==this.getRevision()&&d.getResolution()==t&&d.getPixelRatio()==r&&Object(h.containsExtent)(d.getExtent(),l))return d;var f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(ae.a)(f,this.params_),this.imageSize_[0]=Math.round(Object(h.getWidth)(p)/i),this.imageSize_[1]=Math.round(Object(h.getHeight)(p)/i);var g=this.getRequestUrl_(p,this.imageSize_,r,n,f);return this.image_=new De.a(p,t,r,g,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(v.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,r,i,o){if(Object(n.a)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case qe:var a=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case Qe:o.MAP_RESOLUTION=90*r;break;case Ze:case $e:o.DPI=90*r;break;default:Object(n.a)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];var s,l=i.getAxisOrientation();return s=this.v13_&&"ne"==l.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=s.join(","),Ge(this.url_,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(ae.a)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||"1.3.0";this.v13_=Object(Je.a)(e,"1.3")>=0},t}(Ne),nt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',ot=function(e){function t(t){var r,n=t||{};r=void 0!==n.attributions?n.attributions:[it];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",o=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:o,wrapX:n.wrapX,attributionsCollapsible:!1})||this}return nt(t,e),t}(le),at=r(175),st=r(273),lt=r(212),ut=r(213),ct=r(14),ht=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt="beforeoperations",dt="afteroperations",ft="pixel",gt="image",mt=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.extent=r.extent,i.resolution=r.viewState.resolution/r.pixelRatio,i.data=n,i}return ht(t,e),t}(I.a),yt=function(e){function t(t){var r=e.call(this,{projection:null})||this;r.worker_=null,r.operationType_=void 0!==t.operationType?t.operationType:ft,r.threads_=void 0!==t.threads?t.threads:1,r.layers_=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;++n)r[n]=vt(e[n]);return r}(t.sources);for(var n,i=r.changed.bind(r),o=0,a=r.layers_.length;o<a;++o)r.layers_[o].addEventListener(v.a.CHANGE,i);return r.tileQueue_=new at.a((function(){return 1}),r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:Object(ct.c)(),extent:null,index:0,layerIndex:0,layerStatesArray:(n=r.layers_,n.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:Object(ct.c)(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},r.setAttributions((function(e){for(var r=[],n=0,i=t.sources.length;n<i;++n){var o=t.sources[n],a=(o instanceof L.a?o:o.getSource()).getAttributions();if("function"==typeof a){var s=a(e);r.push.apply(r,s)}}return 0!==r.length?r:null})),void 0!==t.operation&&r.setOperation(t.operation,t.lib),r}return ht(t,e),t.prototype.setOperation=function(e,t){this.worker_=new st.Processor({operation:e,imageOps:this.operationType_===gt,queue:1,lib:t,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(e,t,r){var n=Object(ae.a)({},this.frameState_);n.viewState=Object(ae.a)({},n.viewState);var i=Object(h.getCenter)(e);n.extent=e.slice(),n.size[0]=Math.round(Object(h.getWidth)(e)/t),n.size[1]=Math.round(Object(h.getHeight)(e)/t),n.time=1/0;var o=n.viewState;return o.center=i,o.projection=r,o.resolution=t,n},t.prototype.allSourcesReady_=function(){for(var e=!0,t=0,r=this.layers_.length;t<r;++t)if(this.layers_[t].getSource().getState()!==g.a.READY){e=!1;break}return e},t.prototype.getImage=function(e,t,r,n){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(e,t,n);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();t===o&&Object(h.equals)(e,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.layers_.length,r=new Array(t),n=0;n<t;++n){e.layerIndex=n;var i=bt(this.layers_[n],e);if(!i)return;r[n]=i}var o={};this.dispatchEvent(new mt(pt,e,o)),this.worker_.process(r,o,this.onWorkerComplete_.bind(this,e))},t.prototype.onWorkerComplete_=function(e,t,r,n){if(!t&&r){var i=e.extent,o=e.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&Object(h.equals)(i,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round(Object(h.getWidth)(i)/o),l=Math.round(Object(h.getHeight)(i)/o);a=Object(E.a)(s,l),this.renderedImageCanvas_=new Be.a(i,o,1,a.canvas)}a.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new mt(dt,e,n))}}},t.prototype.getImageInternal=function(){return null},t}(Ne),_t=null;function bt(e,t){var r=e.getRenderer();if(!r)throw new Error("Unsupported layer type: "+e);if(!r.prepareFrame(t))return null;var n,i=t.size[0],o=t.size[1],a=r.renderFrame(t,null);if(a&&(n=a.firstElementChild),!(n instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+n);if(n.width===i&&n.height===o)return n.getContext("2d").getImageData(0,0,i,o);if(_t){var s=_t.canvas;s.width!==i||s.height!==o?_t=Object(E.a)(i,o):_t.clearRect(0,0,i,o)}else _t=Object(E.a)(i,o);return _t.drawImage(n,0,0,i,o),_t.getImageData(0,0,i,o)}function vt(e){var t;return e instanceof L.a?e instanceof Z?t=new ut.a({source:e}):e instanceof Ne&&(t=new lt.a({source:e})):t=e,t}var wt=yt,Ot=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Et=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',it],Tt={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},St={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},Ct=function(e){function t(t){var r=t.layer.indexOf("-"),n=-1==r?t.layer:t.layer.slice(0,r),i=St[n],o=Tt[t.layer],a=void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+o.extension;return e.call(this,{attributions:Et,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:i.maxZoom,minZoom:null!=t.minZoom?t.minZoom:i.minZoom,opaque:o.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX})||this}return Ot(t,e),t}(le),xt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function kt(e,t,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_||(t=1);var i=n.getTileCoordExtent(e,this.tmpExtent_),o=Object(j.d)(n.getTileSize(e[0]),this.tmpSize);1!=t&&(o=Object(j.c)(o,t,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(ae.a)(a,this.params_),this.getRequestUrl_(e,o,i,t,r,a)}}var Rt=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:kt,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).params_=n.params||{},r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(h.createEmpty)(),r.setKey(r.getKeyForParams_()),r}return xt(t,e),t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,n,a,s){var l=this.urls;if(l){var u,c=a.getCode().split(":").pop();if(s.SIZE=t[0]+","+t[1],s.BBOX=r.join(","),s.BBOXSR=c,s.IMAGESR=c,s.DPI=Math.round(s.DPI?s.DPI*n:90*n),1==l.length)u=l[0];else u=l[Object(i.d)(Object(o.e)(e),l.length)];return Ge(u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),s)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1},t.prototype.updateParams=function(e){Object(ae.a)(this.params_,e),this.setKey(this.getKeyForParams_())},t}(ne),Pt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It=function(e){function t(t,r,n){var i=e.call(this,t,b.a.LOADED)||this;return i.tileSize_=r,i.text_=n,i.canvas_=null,i}return Pt(t,e),t.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var e=this.tileSize_,t=Object(E.a)(e[0],e[1]);return t.strokeStyle="grey",t.strokeRect(.5,.5,e[0]+.5,e[1]+.5),t.fillStyle="grey",t.strokeStyle="white",t.textAlign="center",t.textBaseline="middle",t.font="24px sans-serif",t.lineWidth=4,t.strokeText(this.text_,e[0]/2,e[1]/2,e[0]),t.fillText(this.text_,e[0]/2,e[1]/2,e[0]),this.canvas_=t.canvas,t.canvas},t.prototype.load=function(){},t}(w.a),jt=function(e){function t(t){var r=t||{};return e.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection})||this}return Pt(t,e),t.prototype.getTile=function(e,t,r){var n=Object(o.d)(e,t,r);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var i=Object(j.d)(this.tileGrid.getTileSize(e)),a=[e,t,r],s=this.getTileCoordForTileUrlFunction(a),l=void 0;l=s?"z:"+s[0]+" x:"+s[1]+" y:"+s[2]:"none";var u=new It(a,i,l);return this.tileCache.set(n,u),u},t}(le),Lt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),At=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Object(f.get)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:g.a.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this;if(r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)d(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",t.url),i.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):Object(n.a)(!1,51);return r}return Lt(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(e){var t,r=Object(f.get)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(f.getTransformFromProjections)(r,n);t=Object(h.applyTransform)(e.bounds,i)}var o=e.minzoom||0,a=e.maxzoom||22,l=B({extent:K(n),maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=l,this.tileUrlFunction=s(e.tiles,l),void 0!==e.attribution&&!this.getAttributions()){var u=void 0!==t?t:r.getExtent();this.setAttributions((function(t){return Object(h.intersects)(u,t.extent)?[e.attribution]:null}))}this.tileJSON_=e,this.setState(g.a.READY)},t.prototype.handleTileJSONError=function(){this.setState(g.a.ERROR)},t}(ne),Ft=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Mt(e,t,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var i=n.getResolution(e[0]),o=n.getTileCoordExtent(e,this.tmpExtent_),a=Object(j.d)(n.getTileSize(e[0]),this.tmpSize),s=this.gutter_;0!==s&&(a=Object(j.a)(a,s,this.tmpSize),o=Object(h.buffer)(o,i*s,o)),1!=t&&(a=Object(j.c)(a,t,this.tmpSize));var l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(ae.a)(l,this.params_),this.getRequestUrl_(e,a,o,t,r,l)}}var Nt=function(e){function t(t){var r=this,n=t||{},i=n.params||{},o=!("TRANSPARENT"in i)||i.TRANSPARENT;return(r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!o,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:Mt,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).gutter_=void 0!==n.gutter?n.gutter:0,r.params_=i,r.v13_=!0,r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(h.createEmpty)(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return Ft(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){var i=Object(f.get)(r),o=this.getProjection(),a=this.getTileGrid();a||(a=this.getTileGridForProjection(i));var s=a.getZForResolution(t,this.zDirection),l=a.getTileCoordForCoordAndZ(e,s);if(!(a.getResolutions().length<=l[0])){var u=a.getResolution(l[0]),c=a.getTileCoordExtent(l,this.tmpExtent_),p=Object(j.d)(a.getTileSize(l[0]),this.tmpSize),d=this.gutter_;0!==d&&(p=Object(j.a)(p,d,this.tmpSize),c=Object(h.buffer)(c,u*d,c)),o&&o!==i&&(u=T(o,i,e,u),c=Object(f.transformExtent)(c,i,o),e=Object(f.transform)(e,i,o));var g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ae.a)(g,this.params_,n);var m=Math.floor((e[0]-c[0])/u),y=Math.floor((c[3]-e[1])/u);return g[this.v13_?"I":"X"]=m,g[this.v13_?"J":"Y"]=y,this.getRequestUrl_(l,p,c,1,o||i,g)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*i*39.37*(25.4/.28)}return Object(ae.a)(r,t),Ge(this.urls[0],r)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,a,s,l){var u=this.urls;if(u){if(l.WIDTH=t[0],l.HEIGHT=t[1],l[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(l.STYLES=""),1!=a)switch(this.serverType_){case qe:var c=90*a+.5|0;"FORMAT_OPTIONS"in l?l.FORMAT_OPTIONS+=";dpi:"+c:l.FORMAT_OPTIONS="dpi:"+c;break;case Qe:l.MAP_RESOLUTION=90*a;break;case Ze:case $e:l.DPI=90*a;break;default:Object(n.a)(!1,52)}var h,p=s.getAxisOrientation(),d=r;if(this.v13_&&"ne"==p.substr(0,2)){var f=void 0;f=r[0],d[0]=r[1],d[1]=f,f=r[2],d[2]=r[3],d[3]=f}if(l.BBOX=d.join(","),1==u.length)h=u[0];else h=u[Object(i.d)(Object(o.e)(e),u.length)];return Ge(h,l)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.updateParams=function(e){Object(ae.a)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||"1.3.0";this.v13_=Object(Je.a)(e,"1.3")>=0},t}(ne),Dt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Gt=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r)||this;return s.src_=n,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return Dt(t,e),t.prototype.getImage=function(){return null},t.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof n)return null;var i=n.charCodeAt(Math.floor(t*n.length));i>=93&&i--,i>=35&&i--;var o=null;if((i-=32)in this.keys_){var a=this.keys_[i];o=this.data_&&a in this.data_?this.data_[a]:a}return o},t.prototype.forDataAtCoordinate=function(e,t,r){this.state==b.a.IDLE&&!0===r?(Object(O.b)(this,v.a.CHANGE,(function(r){t(this.getData(e))}),this),this.loadInternal_()):!0===r?setTimeout(function(){t(this.getData(e))}.bind(this),0):t(this.getData(e))},t.prototype.getKey=function(){return this.src_},t.prototype.handleError_=function(){this.state=b.a.ERROR,this.changed()},t.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=b.a.EMPTY,this.changed()},t.prototype.loadInternal_=function(){if(this.state==b.a.IDLE)if(this.state=b.a.LOADING,this.jsonp_)d(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},t.prototype.onXHRError_=function(e){this.handleError_()},t.prototype.load=function(){this.preemptive_&&this.loadInternal_()},t}(w.a),Ut=function(e){function t(t){var r=e.call(this,{projection:Object(f.get)("EPSG:3857"),state:g.a.LOADING})||this;if(r.preemptive_=void 0===t.preemptive||t.preemptive,r.tileUrlFunction_=u,r.template_=void 0,r.jsonp_=t.jsonp||!1,t.url)if(r.jsonp_)d(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",t.url),i.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):Object(n.a)(!1,51);return r}return Dt(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTemplate=function(){return this.template_},t.prototype.forDataAtCoordinateAndResolution=function(e,t,r,n){if(this.tileGrid){var i=this.tileGrid.getZForResolution(t,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(e,i);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(e,r,n)}else!0===n?setTimeout((function(){r(null)}),0):r(null)},t.prototype.handleTileJSONError=function(){this.setState(g.a.ERROR)},t.prototype.handleTileJSONResponse=function(e){var t,r=Object(f.get)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(f.getTransformFromProjections)(r,n);t=Object(h.applyTransform)(e.bounds,i)}var o=e.minzoom||0,a=e.maxzoom||22,l=B({extent:K(n),maxZoom:a,minZoom:o});this.tileGrid=l,this.template_=e.template;var u=e.grids;if(u){if(this.tileUrlFunction_=s(u,l),void 0!==e.attribution){var c=void 0!==t?t:r.getExtent();this.setAttributions((function(t){return Object(h.intersects)(c,t.extent)?[e.attribution]:null}))}this.setState(g.a.READY)}else this.setState(g.a.ERROR)},t.prototype.getTile=function(e,t,r,n,i){var a=Object(o.d)(e,t,r);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[e,t,r],l=this.getTileCoordForTileUrlFunction(s,i),u=this.tileUrlFunction_(l,n,i),c=new Gt(s,void 0!==u?b.a.IDLE:b.a.EMPTY,void 0!==u?u:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(a,c),c},t.prototype.useTile=function(e,t,r){var n=Object(o.d)(e,t,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(Z),zt=r(208),Bt=r(209),Vt=r(196),Wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Kt=function(e){function t(t){var r=this,n=t.projection||"EPSG:3857",i=t.extent||K(n),o=t.tileGrid||B({extent:i,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return(r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,opaque:!1,projection:n,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Ht,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection})||this).format_=t.format?t.format:null,r.loadingTiles_={},r.sourceTileByCoordKey_={},r.sourceTilesByTileKey_={},r.overlaps_=null==t.overlaps||t.overlaps,r.tileClass=t.tileClass?t.tileClass:Bt.a,r.tileGrids_={},r}return Wt(t,e),t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileByCoordKey_={},this.sourceTilesByTileKey_={}},t.prototype.getSourceTiles=function(e,t,r){var n=r.wrappedTileCoord,i=this.getTileGridForProjection(t),a=i.getTileCoordExtent(n),s=n[0],l=i.getResolution(s);Object(h.buffer)(a,-l,a);var u=this.tileGrid,c=u.getExtent();c&&Object(h.getIntersection)(a,c,a);var p,d,f,g=u.getZForResolution(l,1),m=u.getMinZoom(),y=this.sourceTilesByTileKey_[r.getKey()];if(y&&y.length>0&&y[0].tileCoord[0]===g)p=y,d=!0,f=g;else{p=[],f=g+1;do{--f,d=!0,u.forEachTileCoord(a,f,function(n){var i,a=Object(o.c)(n);if(a in this.sourceTileByCoordKey_){var s=(i=this.sourceTileByCoordKey_[a]).getState();if(s===b.a.LOADED||s===b.a.ERROR||s===b.a.EMPTY)return void p.push(i)}else if(f===g){var l=this.tileUrlFunction(n,e,t);void 0!==l&&((i=new this.tileClass(n,b.a.IDLE,l,this.format_,this.tileLoadFunction)).extent=u.getTileCoordExtent(n),i.projection=t,i.resolution=u.getResolution(n[0]),this.sourceTileByCoordKey_[a]=i,i.addEventListener(v.a.CHANGE,this.handleTileChange.bind(this)),i.load())}if(d=!1,i&&i.getState()!==b.a.EMPTY&&r.getState()===b.a.IDLE){r.loadingSourceTiles++;var c=Object(O.a)(i,v.a.CHANGE,(function(){var e=i.getState(),t=i.getKey();if(e===b.a.LOADED||e===b.a.ERROR){e===b.a.LOADED?(Object(D.j)(r.sourceTileListenerKeys,c),Object(O.c)(c),r.loadingSourceTiles--,delete r.errorSourceTileKeys[t]):e===b.a.ERROR&&(r.errorSourceTileKeys[t]=!0);var n=Object.keys(r.errorSourceTileKeys).length;r.loadingSourceTiles-n==0&&(r.hifi=0===n,r.sourceZ=g,r.setState(b.a.LOADED))}}));r.sourceTileListenerKeys.push(c)}}.bind(this)),d||(p.length=0)}while(!d&&f>m)}return r.getState()===b.a.IDLE&&r.setState(b.a.LOADING),d&&(r.hifi=g===f,r.sourceZ=f,r.getState()<b.a.LOADED?r.setState(b.a.LOADED):y&&Object(D.b)(p,y)||(this.removeSourceTiles(r),this.addSourceTiles(r,p))),p},t.prototype.addSourceTiles=function(e,t){this.sourceTilesByTileKey_[e.getKey()]=t;for(var r=0,n=t.length;r<n;++r)t[r].consumers++},t.prototype.removeSourceTiles=function(e){var t=e.getKey();if(t in this.sourceTilesByTileKey_)for(var r=this.sourceTilesByTileKey_[t],n=0,i=r.length;n<i;++n){var a=r[n];a.consumers--,0===a.consumers&&(a.dispose(),delete this.sourceTileByCoordKey_[Object(o.c)(a.tileCoord)])}delete this.sourceTilesByTileKey_[t]},t.prototype.getTile=function(e,t,r,n,i){var a,s=Object(o.d)(e,t,r),l=this.getKey();if(this.tileCache.containsKey(s)&&(a=this.tileCache.get(s)).key===l)return a;var u=[e,t,r],c=this.getTileCoordForTileUrlFunction(u,i),p=this.getTileGrid().getExtent(),d=this.getTileGridForProjection(i);if(c&&p){var f=d.getTileCoordExtent(c);Object(h.buffer)(f,-d.getResolution(e),f),Object(h.intersects)(p,f)||(c=null)}var g=!0;if(null!==c){var m=this.tileGrid,y=d.getResolution(e),_=m.getZForResolution(y,1),v=d.getTileCoordExtent(c);Object(h.buffer)(v,-y,v),m.forEachTileCoord(v,_,function(e){g=g&&!this.tileUrlFunction(e,n,i)}.bind(this))}var w=new zt.a(u,g?b.a.EMPTY:b.a.IDLE,c,this.tileGrid,this.getSourceTiles.bind(this,n,i),this.removeSourceTiles.bind(this));return w.key=l,a?(w.interimTile=a,w.refreshInterimChain(),this.tileCache.replace(s,w)):this.tileCache.set(s,w),w},t.prototype.getTileGridForProjection=function(e){var t=e.getCode(),r=this.tileGrids_[t];if(!r){var n=this.tileGrid;r=W(e,void 0,n?n.getTileSize(n.getMinZoom()):void 0),this.tileGrids_[t]=r}return r},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=Object(j.d)(n.getTileSize(e),this.tmpSize);return[Math.round(i[0]*t),Math.round(i[1]*t)]},t}(ee);function Ht(e,t){var r=Object(Vt.a)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(r)}var Yt="KVP",Xt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(t){var r=e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return r.matrixIds_=t.matrixIds,r}Xt(t,e),t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_}}(U);var Zt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qt=function(e){function t(t){var r=this,n=void 0!==t.requestEncoding?t.requestEncoding:Yt,i=t.tileGrid,o=t.urls;return void 0===o&&void 0!==t.url&&(o=c(t.url)),(r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:u,urls:o,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition})||this).version_=void 0!==t.version?t.version:"1.0.0",r.format_=void 0!==t.format?t.format:"image/jpeg",r.dimensions_=void 0!==t.dimensions?t.dimensions:{},r.layer_=t.layer,r.matrixSet_=t.matrixSet,r.style_=t.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),o&&o.length>0&&(r.tileUrlFunction=l(o.map(Qt.bind(r)))),r}return Zt(t,e),t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(l(e.map(Qt.bind(this))),t)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var r in this.dimensions_)t[e++]=r+"-"+this.dimensions_[r];return t.join("/")},t.prototype.updateDimensions=function(e){Object(ae.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t}(ne);function Qt(e){var t=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==Yt&&Object(ae.a)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==Yt?Ge(e,r):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in r?r[t.toLowerCase()]:e}));var n=this.tileGrid,i=this.dimensions_;return function(r,o,a){if(r){var s={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Object(ae.a)(s,i);var l=e;return l=t==Yt?Ge(l,s):l.replace(/\{(\w+?)\}/g,(function(e,t){return s[t]}))}}}r.d(t,"BingMaps",(function(){return oe})),r.d(t,"CartoDB",(function(){return ce})),r.d(t,"Cluster",(function(){return ye})),r.d(t,"IIIF",(function(){return Ce})),r.d(t,"Image",(function(){return Ne})),r.d(t,"ImageArcGISRest",(function(){return ze})),r.d(t,"ImageCanvas",(function(){return We})),r.d(t,"ImageMapGuide",(function(){return He})),r.d(t,"ImageStatic",(function(){return Xe})),r.d(t,"ImageWMS",(function(){return rt})),r.d(t,"OSM",(function(){return ot})),r.d(t,"Raster",(function(){return wt})),r.d(t,"Source",(function(){return L.a})),r.d(t,"Stamen",(function(){return Ct})),r.d(t,"Tile",(function(){return Z})),r.d(t,"TileArcGISRest",(function(){return Rt})),r.d(t,"TileDebug",(function(){return jt})),r.d(t,"TileImage",(function(){return ne})),r.d(t,"TileJSON",(function(){return At})),r.d(t,"TileWMS",(function(){return Nt})),r.d(t,"UrlTile",(function(){return ee})),r.d(t,"UTFGrid",(function(){return Ut})),r.d(t,"Vector",(function(){return ge.a})),r.d(t,"VectorTile",(function(){return Kt})),r.d(t,"WMTS",(function(){return qt})),r.d(t,"XYZ",(function(){return le})),r.d(t,"Zoomify",(function(){return Oe}))},function(e,t,r){"use strict";r.r(t);var n,i=r(63),o=r(26),a=r(34),s="postrender",l="movestart",u="moveend",c=r(36),h=r(29),p=r(9),d=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=function(e){function t(t){var r=e.call(this)||this;return r.element=t.element?t.element:null,r.target_=null,r.map_=null,r.listenerKeys=[],r.render=t.render?t.render:a.c,t.target&&r.setTarget(t.target),r}return d(t,e),t.prototype.disposeInternal=function(){Object(h.e)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(h.e)(this.element);for(var t=0,r=this.listenerKeys.length;t<r;++t)Object(p.c)(this.listenerKeys[t]);(this.listenerKeys.length=0,this.map_=e,this.map_)&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==a.c&&this.listenerKeys.push(Object(p.a)(e,s,this.render,this)),e.render())},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(c.a),g=r(42),m=r(11),y=r(93),_=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function b(e){this.updateElement_(e.frameState)}var v=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),render:n.render||b,target:n.target})||this).ulElement_=document.createElement("ul"),r.collapsed_=void 0===n.collapsed||n.collapsed,r.overrideCollapsible_=void 0!==n.collapsible,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var l=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=o,u.appendChild(l),u.addEventListener(m.a.CLICK,r.handleClick_.bind(r),!1);var c=i+" "+g.e+" "+g.b+(r.collapsed_&&r.collapsible_?" "+g.a:"")+(r.collapsible_?"":" ol-uncollapsible"),h=r.element;return h.className=c,h.appendChild(r.ulElement_),h.appendChild(u),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return _(t,e),t.prototype.collectSourceAttributions_=function(e){for(var t={},r=[],n=e.layerStatesArray,i=0,o=n.length;i<o;++i){var a=n[i];if(Object(y.b)(a,e.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var u=l(e);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var c=0,h=u.length;c<h;++c)u[c]in t||(r.push(u[c]),t[u[c]]=!0);else u in t||(r.push(u),t[u]=!0)}}}}return r},t.prototype.updateElement_=function(e){if(e){var t=this.collectSourceAttributions_(e),r=t.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Object(o.b)(t,this.renderedAttributions_)){Object(h.d)(this.ulElement_);for(var n=0,i=t.length;n<i;++n){var a=document.createElement("li");a.innerHTML=t[n],this.ulElement_.appendChild(a)}this.renderedAttributions_=t}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(g.a),this.collapsed_?Object(h.g)(this.collapseLabel_,this.label_):Object(h.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t}(f),w=r(78),O=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function E(e){var t=e.frameState;if(t){var r=t.viewState.rotation;if(r!=this.rotation_){var n="rotate("+r+"rad)";if(this.autoHide_){var i=this.element.classList.contains(g.c);i||0!==r?i&&0!==r&&this.element.classList.remove(g.c):this.element.classList.add(g.c)}this.label_.style.transform=n}this.rotation_=r}}var T=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),render:n.render||E,target:n.target})||this;var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"⇧";r.label_=null,"string"==typeof o?(r.label_=document.createElement("span"),r.label_.className="ol-compass",r.label_.textContent=o):(r.label_=o,r.label_.classList.add("ol-compass"));var a=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(r.label_),s.addEventListener(m.a.CLICK,r.handleClick_.bind(r),!1);var l=i+" "+g.e+" "+g.b,u=r.element;return u.className=l,u.appendChild(s),r.callResetNorth_=n.resetNorth?n.resetNorth:void 0,r.duration_=void 0!==n.duration?n.duration:250,r.autoHide_=void 0===n.autoHide||n.autoHide,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(g.c),r}return O(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap().getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:w.b}):e.setRotation(0))},t}(f),S=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),C=function(e){function t(t){var r=this,n=t||{};r=e.call(this,{element:document.createElement("div"),target:n.target})||this;var i=void 0!==n.className?n.className:"ol-zoom",o=void 0!==n.delta?n.delta:1,a=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",l=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i+"-in",c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof a?document.createTextNode(a):a),c.addEventListener(m.a.CLICK,r.handleClick_.bind(r,o),!1);var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(m.a.CLICK,r.handleClick_.bind(r,-o),!1);var p=i+" "+g.e+" "+g.b,d=r.element;return d.className=p,d.appendChild(c),d.appendChild(h),r.duration_=void 0!==n.duration?n.duration:250,r}return S(t,e),t.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var r=t.getZoom();if(void 0!==r){var n=t.getConstrainedZoom(r+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:n,duration:this.duration_,easing:w.b})):t.setZoom(n)}}},t}(f),x=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];function R(){var e=document.body;return!!(e.webkitRequestFullscreen||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function P(){return!!(document.webkitIsFullScreen||document.msFullscreenElement||document.fullscreenElement)}function I(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}var j=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),target:n.target})||this).cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"⤢";r.labelNode_="string"==typeof i?document.createTextNode(i):i;var o=void 0!==n.labelActive?n.labelActive:"×";r.labelActiveNode_="string"==typeof o?document.createTextNode(o):o,r.button_=document.createElement("button");var a=n.tipLabel?n.tipLabel:"Toggle full-screen";r.setClassName_(r.button_,P()),r.button_.setAttribute("type","button"),r.button_.title=a,r.button_.appendChild(r.labelNode_),r.button_.addEventListener(m.a.CLICK,r.handleClick_.bind(r),!1);var s=r.cssClassName_+" "+g.e+" "+g.b+" "+(R()?"":g.f),l=r.element;return l.className=s,l.appendChild(r.button_),r.keys_=void 0!==n.keys&&n.keys,r.source_=n.source,r}return x(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},t.prototype.handleFullScreen_=function(){if(R()){var e=this.getMap();if(e)if(P())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{var t=void 0;t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(e){e.webkitRequestFullscreen?e.webkitRequestFullscreen():I(e)}(t):I(t)}}},t.prototype.handleFullScreenChange_=function(){var e=this.getMap();P()?(this.setClassName_(this.button_,!0),Object(h.g)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(h.g)(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},t.prototype.setClassName_=function(e,t){var r=this.cssClassName_+"-true",n=this.cssClassName_+"-false",i=t?r:n;e.classList.remove(r),e.classList.remove(n),e.classList.add(i)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t)for(var r=0,n=k.length;r<n;++r)this.listenerKeys.push(Object(p.a)(document,k[r],this.handleFullScreenChange_,this))},t}(f),L="pointermove",A="pointerdown",F="pointerup",M="pointerout",N=r(7),D=(r(252),function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}());function G(e){var t=e.frameState;t?this.mapProjection_!=t.viewState.projection&&(this.mapProjection_=t.viewState.projection,this.transform_=null):this.mapProjection_=null}var U=function(e){function t(t){var r=this,n=t||{},i=document.createElement("div");return i.className=void 0!==n.className?n.className:"ol-mouse-position",(r=e.call(this,{element:i,render:n.render||G,target:n.target})||this).addEventListener(Object(c.b)("projection"),r.handleProjectionChanged_),n.coordinateFormat&&r.setCoordinateFormat(n.coordinateFormat),n.projection&&r.setProjection(n.projection),r.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",r.renderOnMouseOut_=!!r.undefinedHTML_,r.renderedHTML_=i.innerHTML,r.mapProjection_=null,r.transform_=null,r}return D(t,e),t.prototype.handleProjectionChanged_=function(){this.transform_=null},t.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")},t.prototype.getProjection=function(){return this.get("projection")},t.prototype.handleMouseMove=function(e){var t=this.getMap();this.updateHTML_(t.getEventPixel(e))},t.prototype.handleMouseOut=function(e){this.updateHTML_(null)},t.prototype.setMap=function(t){if(e.prototype.setMap.call(this,t),t){var r=t.getViewport();this.listenerKeys.push(Object(p.a)(r,L,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(p.a)(r,M,this.handleMouseOut,this))}},t.prototype.setCoordinateFormat=function(e){this.set("coordinateFormat",e)},t.prototype.setProjection=function(e){this.set("projection",Object(N.get)(e))},t.prototype.updateHTML_=function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var r=this.getProjection();this.transform_=r?Object(N.getTransformFromProjections)(this.mapProjection_,r):N.identityTransform}var n=this.getMap().getCoordinateFromPixelInternal(e);if(n){var i=Object(N.getUserProjection)();i&&(this.transform_=Object(N.getTransformFromProjections)(this.mapProjection_,i)),this.transform_(n,n);var o=this.getCoordinateFormat();t=o?o(n):n.toString()}}this.renderedHTML_&&t===this.renderedHTML_||(this.element.innerHTML=t,this.renderedHTML_=t)},t}(f),z=r(5),B=r(61),V=r(232),W=r(88),K=r(39),H=r(141),Y=r(110),X=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Z=function(e){function t(t,r){var n=e.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=r?r*W.a:W.a,n.down_=null;var i=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=i,n.pointerdownListenerKey_=Object(p.a)(i,A,n.handlePointerDown_,n),n.relayedListenerKey_=Object(p.a)(i,L,n.relayEvent_,n),n}return X(t,e),t.prototype.emulateClick_=function(e){var t=new H.a(K.a.CLICK,this.map_,e);this.dispatchEvent(t),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new H.a(K.a.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var t=new H.a(K.a.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var t=e;t.type==K.a.POINTERUP||t.type==K.a.POINTERCANCEL?delete this.trackedTouches_[t.pointerId]:t.type==K.a.POINTERDOWN&&(this.trackedTouches_[t.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new H.a(K.a.POINTERUP,this.map_,e);this.dispatchEvent(t),t.propagationStopped||this.dragging_||!this.isMouseActionButton_(e)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(p.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return 0===e.button},t.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new H.a(K.a.POINTERDOWN,this.map_,e);this.dispatchEvent(t),this.down_=e,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Object(p.a)(document,K.a.POINTERMOVE,this.handlePointerMove_,this),Object(p.a)(document,K.a.POINTERUP,this.handlePointerUp_,this),Object(p.a)(this.element_,K.a.POINTERCANCEL,this.handlePointerUp_,this))},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var t=new H.a(K.a.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}},t.prototype.relayEvent_=function(e){var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new H.a(e.type,this.map_,e,t))},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(p.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(p.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(p.c),this.dragListenerKeys_.length=0,this.element_=null,e.prototype.disposeInternal.call(this)},t}(Y.a),q=r(186),Q="layergroup",$="size",J="target",ee="view",te=r(131),re=r(116),ne=r(233),ie=r(117),oe=r(21);function ae(e,t,r){return function(n,i,o,a){if(n){var s=t?0:o[0]*i,l=t?0:o[1]*i,u=e[0]+s/2,c=e[2]-s/2,h=e[1]+l/2,p=e[3]-l/2;u>c&&(c=u=(c+u)/2),h>p&&(p=h=(p+h)/2);var d=Object(oe.a)(n[0],u,c),f=Object(oe.a)(n[1],h,p),g=30*i;return a&&r&&(d+=-g*Math.log(1+Math.max(0,u-n[0])/g)+g*Math.log(1+Math.max(0,n[0]-c)/g),f+=-g*Math.log(1+Math.max(0,h-n[1])/g)+g*Math.log(1+Math.max(0,n[1]-p)/g)),[d,f]}}}function se(e){return e}var le=r(1);function ue(e,t,r){var n=Object(le.getWidth)(t)/r[0],i=Object(le.getHeight)(t)/r[1];return Math.min(e,Math.min(n,i))}function ce(e,t,r){var n=Math.min(e,t);return n*=Math.log(1+50*Math.max(0,e/t-1))/50+1,r&&(n=Math.max(n,r),n/=Math.log(1+50*Math.max(0,r/e-1))/50+1),Object(oe.a)(n,r/2,2*t)}function he(e,t,r,n){return function(i,o,a,s){if(void 0!==i){var l=n?ue(e,n,a):e;return(void 0===r||r)&&s?ce(i,l,t):Object(oe.a)(i,t,l)}}}var pe=r(138),de=r(48),fe="center",ge="resolution",me="rotation",ye=r(25),_e=r(37),be=r(6),ve=r(68),we=r(22),Oe=r(66),Ee=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Te(e,t){setTimeout((function(){e(t)}),0)}function Se(e){return!(e.sourceCenter&&e.targetCenter&&!Object(_e.e)(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}var Ce=function(e){function t(t){var r=e.call(this)||this,n=Object(we.a)({},t);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Object(N.createProjection)(n.projection,"EPSG:3857"),r.targetCenter_=null,r.targetResolution_,r.targetRotation_,n.center&&(n.center=Object(N.fromUserCoordinate)(n.center,r.projection_)),n.extent&&(n.extent=Object(N.fromUserExtent)(n.extent,r.projection_)),r.applyOptions_(n),r}return Ee(t,e),t.prototype.applyOptions_=function(e){var t=function(e){var t,r,n,i=void 0!==e.minZoom?e.minZoom:0,a=void 0!==e.maxZoom?e.maxZoom:28,s=void 0!==e.zoomFactor?e.zoomFactor:2,l=void 0!==e.multiWorld&&e.multiWorld,u=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,c=Object(N.createProjection)(e.projection,"EPSG:3857"),h=c.getExtent(),p=e.constrainOnlyCenter,d=e.extent;l||d||!c.isGlobal()||(p=!1,d=h);if(void 0!==e.resolutions){var f=e.resolutions;r=f[i],n=void 0!==f[a]?f[a]:f[f.length-1],t=e.constrainResolution?function(e,t,r){return function(n,i,a,s){if(void 0!==n){var l=e[0],u=e[e.length-1],c=r?ue(l,r,a):l;if(s)return void 0===t||t?ce(n,c,u):Object(oe.a)(n,u,c);var h=Math.min(c,n),p=Math.floor(Object(o.h)(e,h,i));return e[p]>c&&p<e.length-1?e[p+1]:e[p]}}}(f,u,!p&&d):he(r,n,u,!p&&d)}else{var g=(h?Math.max(Object(le.getWidth)(h),Object(le.getHeight)(h)):360*N.METERS_PER_UNIT[Oe.b.DEGREES]/c.getMetersPerUnit())/ie.b/Math.pow(2,0),m=g/Math.pow(2,28);void 0!==(r=e.maxResolution)?i=0:r=g/Math.pow(s,i),void 0===(n=e.minResolution)&&(n=void 0!==e.maxZoom?void 0!==e.maxResolution?r/Math.pow(s,a):g/Math.pow(s,a):m),a=i+Math.floor(Math.log(r/n)/Math.log(s)),n=r/Math.pow(s,a-i),t=e.constrainResolution?function(e,t,r,n,i){return function(o,a,s,l){if(void 0!==o){var u=i?ue(t,i,s):t,c=void 0!==r?r:0;if(l)return void 0===n||n?ce(o,u,c):Object(oe.a)(o,c,u);var h=Math.ceil(Math.log(t/u)/Math.log(e)-1e-9),p=-a*(.5-1e-9)+.5,d=Math.min(u,o),f=Math.floor(Math.log(t/d)/Math.log(e)+p),g=Math.max(h,f),m=t/Math.pow(e,g);return Object(oe.a)(m,c,u)}}}(s,r,n,u,!p&&d):he(r,n,u,!p&&d)}return{constraint:t,maxResolution:r,minResolution:n,minZoom:i,zoomFactor:s}}(e);this.maxResolution_=t.maxResolution,this.minResolution_=t.minResolution,this.zoomFactor_=t.zoomFactor,this.resolutions_=e.resolutions,this.minZoom_=t.minZoom;var r=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return ae(e.extent,e.constrainOnlyCenter,t)}var r=Object(N.createProjection)(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&r.isGlobal()){var n=r.getExtent().slice();return n[0]=-1/0,n[2]=1/0,ae(n,!1,!1)}return se}(e),n=t.constraint,i=function(e){if(void 0===e.enableRotation||e.enableRotation){var t=e.constrainRotation;return void 0===t||!0===t?Object(pe.b)():!1===t?pe.d:"number"==typeof t?Object(pe.a)(t):pe.d}return pe.c}(e);this.constraints_={center:r,resolution:n,rotation:i},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=e},t.prototype.getUpdatedOptions_=function(e){var t=Object(we.a)({},this.options_);return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object(we.a)({},t,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),r=0;r<t.length;++r){var n=arguments[r];n.center&&((n=Object(we.a)({},n)).center=Object(N.fromUserCoordinate)(n.center,this.getProjection())),n.anchor&&((n=Object(we.a)({},n)).anchor=Object(N.fromUserCoordinate)(n.anchor,this.getProjection())),t[r]=n}this.animateInternal.apply(this,t)},t.prototype.animateInternal=function(e){var t,r=arguments.length;if(r>1&&"function"==typeof arguments[r-1]&&(t=arguments[r-1],--r),!this.isDef()){var n=arguments[r-1];return n.center&&this.setCenterInternal(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(t&&Te(t,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],u=0;u<r;++u){var c=arguments[u],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||w.c,callback:t};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var p=Object(oe.d)(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}Se(h)?h.complete=!0:i+=h.duration,l.push(h)}this.animations_.push(l),this.setHint(de.a.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[de.a.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[de.a.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(de.a.ANIMATING,-this.hints_[de.a.ANIMATING]);for(var e=0,t=this.animations_.length;e<t;++e){var r=this.animations_[e];r[0].callback&&Te(r[0].callback,!1)}this.animations_.length=0},t.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,r=this.animations_.length-1;r>=0;--r){for(var n=this.animations_[r],i=!0,o=0,a=n.length;o<a;++o){var s=n[o];if(!s.complete){var l=e-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],d=h+c*(s.targetCenter[0]-h),f=p+c*(s.targetCenter[1]-p);this.targetCenter_=[d,f]}if(s.sourceResolution&&s.targetResolution){var g=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var m=this.getSizeFromViewport_(this.getRotation()),y=this.constraints_.resolution(g,0,m,!0);this.targetCenter_=this.calculateCenterZoom(y,s.anchor)}this.targetResolution_=g,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var _=1===c?Object(oe.d)(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var b=this.constraints_.rotation(_,!0);this.targetCenter_=this.calculateCenterRotate(b,s.anchor)}this.targetRotation_=_}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(i){this.animations_[r]=null,this.setHint(de.a.ANIMATING,-1);var v=n[0].callback;v&&Te(v,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,t){var r,n=this.getCenterInternal();return void 0!==n&&(r=[n[0]-t[0],n[1]-t[1]],Object(_e.f)(r,e-this.getRotation()),Object(_e.a)(r,t)),r},t.prototype.calculateCenterZoom=function(e,t){var r,n=this.getCenterInternal(),i=this.getResolution();void 0!==n&&void 0!==i&&(r=[t[0]-e*(t[0]-n[0])/i,t[1]-e*(t[1]-n[1])/i]);return r},t.prototype.getSizeFromViewport_=function(e){var t=[100,100],r='.ol-viewport[data-view="'+Object(z.c)(this)+'"]',n=document.querySelector(r);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}if(e){var o=t[0],a=t[1];t[0]=Math.abs(o*Math.cos(e))+Math.abs(a*Math.sin(e)),t[1]=Math.abs(o*Math.sin(e))+Math.abs(a*Math.cos(e))}return t},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e?Object(N.toUserCoordinate)(e,this.getProjection()):e},t.prototype.getCenterInternal=function(){return this.get(fe)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getHints=function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var t=this.calculateExtentInternal(e);return Object(N.toUserExtent)(t,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var t=e||this.getSizeFromViewport_(),r=this.getCenterInternal();Object(ye.a)(r,1);var n=this.getResolution();Object(ye.a)(void 0!==n,2);var i=this.getRotation();return Object(ye.a)(void 0!==i,3),Object(le.getForViewAndSize)(r,n,i,t)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(ge)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,t){return this.getResolutionForExtentInternal(Object(N.fromUserExtent)(e,this.getProjection()),t)},t.prototype.getResolutionForExtentInternal=function(e,t){var r=t||this.getSizeFromViewport_(),n=Object(le.getWidth)(e)/r[0],i=Object(le.getHeight)(e)/r[1];return Math.max(n,i)},t.prototype.getResolutionForValueFunction=function(e){var t=e||2,r=this.maxResolution_,n=this.minResolution_,i=Math.log(r/n)/Math.log(t);return function(e){return r/Math.pow(t,e*i)}},t.prototype.getRotation=function(){return this.get(me)},t.prototype.getValueForResolutionFunction=function(e){var t=e||2,r=this.maxResolution_,n=this.minResolution_,i=Math.log(r/n)/Math.log(t);return function(e){return Math.log(r/e)/Math.log(t)/i}},t.prototype.getState=function(){var e=this.getCenterInternal(),t=this.getProjection(),r=this.getResolution(),n=this.getRotation();return{center:e.slice(0),projection:void 0!==t?t:null,resolution:r,rotation:n,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e},t.prototype.getZoomForResolution=function(e){var t,r,n=this.minZoom_||0;if(this.resolutions_){var i=Object(o.h)(this.resolutions_,e,1);n=i,t=this.resolutions_[i],r=i==this.resolutions_.length-1?2:t/this.resolutions_[i+1]}else t=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(t/e)/Math.log(r)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var t=Object(oe.a)(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[t]/this.resolutions_[t+1];return this.resolutions_[t]/Math.pow(r,Object(oe.a)(e-t,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,t){var r,n=Object(we.a)({size:this.getSizeFromViewport_()},t||{});if(Object(ye.a)(Array.isArray(e)||"function"==typeof e.getSimplifiedGeometry,24),Array.isArray(e)){Object(ye.a)(!Object(le.isEmpty)(e),25);var i=Object(N.fromUserExtent)(e,this.getProjection());r=Object(ve.c)(i)}else if(e.getType()===be.a.CIRCLE){i=Object(N.fromUserExtent)(e.getExtent(),this.getProjection());(r=Object(ve.c)(i)).rotate(this.getRotation(),Object(le.getCenter)(i))}else{var o=Object(N.getUserProjection)();r=o?r.clone().transform(o,this.getProjection()):e}this.fitInternal(r,n)},t.prototype.fitInternal=function(e,t){var r=t||{},n=r.size;n||(n=this.getSizeFromViewport_());var i,o=void 0!==r.padding?r.padding:[0,0,0,0],s=void 0!==r.nearest&&r.nearest;i=void 0!==r.minResolution?r.minResolution:void 0!==r.maxZoom?this.getResolutionForZoom(r.maxZoom):0;for(var l=e.getFlatCoordinates(),u=this.getRotation(),c=Math.cos(-u),h=Math.sin(-u),p=1/0,d=1/0,f=-1/0,g=-1/0,m=e.getStride(),y=0,_=l.length;y<_;y+=m){var b=l[y]*c-l[y+1]*h,v=l[y]*h+l[y+1]*c;p=Math.min(p,b),d=Math.min(d,v),f=Math.max(f,b),g=Math.max(g,v)}var w=this.getResolutionForExtentInternal([p,d,f,g],[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);w=isNaN(w)?i:Math.max(w,i),w=this.getConstrainedResolution(w,s?0:1),h=-h;var O=(p+f)/2,E=(d+g)/2,T=[(O+=(o[1]-o[3])/2*w)*c-(E+=(o[0]-o[2])/2*w)*h,E*c+O*h],S=r.callback?r.callback:a.c;void 0!==r.duration?this.animateInternal({resolution:w,center:this.getConstrainedCenter(T,w),duration:r.duration,easing:r.easing},S):(this.targetResolution_=w,this.targetCenter_=T,this.applyTargetState_(!1,!0),Te(S,!0))},t.prototype.centerOn=function(e,t,r){this.centerOnInternal(Object(N.fromUserCoordinate)(e,this.getProjection()),t,r)},t.prototype.centerOnInternal=function(e,t,r){var n=this.getRotation(),i=Math.cos(-n),o=Math.sin(-n),a=e[0]*i-e[1]*o,s=e[1]*i+e[0]*o,l=this.getResolution(),u=(a+=(t[0]/2-r[0])*l)*i-(s+=(r[1]-t[1]/2)*l)*(o=-o),c=s*i+a*o;this.setCenterInternal([u,c])},t.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},t.prototype.adjustCenter=function(e){var t=Object(N.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])},t.prototype.adjustResolution=function(e,t){var r=t&&Object(N.fromUserCoordinate)(t,this.getProjection());this.adjustResolutionInternal(e,r)},t.prototype.adjustResolutionInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.getSizeFromViewport_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*e,0,n,r);void 0!==t&&(this.targetCenter_=this.calculateCenterZoom(i,t)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)},t.prototype.adjustRotation=function(e,t){t&&(t=Object(N.fromUserCoordinate)(t,this.getProjection())),this.adjustRotationInternal(e,t)},t.prototype.adjustRotationInternal=function(e,t){var r=this.getAnimating()||this.getInteracting(),n=this.constraints_.rotation(this.targetRotation_+e,r);void 0!==t&&(this.targetCenter_=this.calculateCenterRotate(n,t)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(Object(N.fromUserCoordinate)(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,t){var r=this.getAnimating()||this.getInteracting()||t,n=this.constraints_.rotation(this.targetRotation_,r),i=this.getSizeFromViewport_(n),o=this.constraints_.resolution(this.targetResolution_,0,i,r),a=this.constraints_.center(this.targetCenter_,o,i,r);this.get(me)!==n&&this.set(me,n),this.get(ge)!==o&&this.set(ge,o),this.get(fe)&&Object(_e.e)(this.get(fe),a)||this.set(fe,a),this.getAnimating()&&!e&&this.cancelAnimations()},t.prototype.resolveConstraints=function(e,t,r){var n=void 0!==e?e:200,i=t||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===n)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&Object(_e.e)(this.getCenterInternal(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:l,resolution:s,duration:n,easing:w.b,anchor:r}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(de.a.INTERACTING,1)},t.prototype.endInteraction=function(e,t,r){var n=r&&Object(N.fromUserCoordinate)(r,this.getProjection());this.endInteractionInternal(e,t,n)},t.prototype.endInteractionInternal=function(e,t,r){this.setHint(de.a.INTERACTING,-1),this.resolveConstraints(e,t,r)},t.prototype.getConstrainedCenter=function(e,t){var r=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),r)},t.prototype.getConstrainedZoom=function(e,t){var r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,t))},t.prototype.getConstrainedResolution=function(e,t){var r=t||0,n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(e,r,n)},t}(c.a),xe=r(203),ke=r(55),Re=r(194),Pe=r(18),Ie=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function je(e,t){e.style.msTouchAction=t,e.style.touchAction=t,e.setAttribute("touch-action",t)}var Le=function(e){function t(t){var r=e.call(this)||this,n=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,o,a={},s=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new xe.a({layers:e.layers});a[Q]=s,a[J]=e.target,a[ee]=void 0!==e.view?e.view:new Ce,void 0!==e.controls&&(Array.isArray(e.controls)?r=new i.a(e.controls.slice()):(Object(ye.a)("function"==typeof e.controls.getArray,47),r=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new i.a(e.interactions.slice()):(Object(ye.a)("function"==typeof e.interactions.getArray,48),n=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?o=new i.a(e.overlays.slice()):(Object(ye.a)("function"==typeof e.overlays.getArray,49),o=e.overlays):o=new i.a;return{controls:r,interactions:n,keyboardEventTarget:t,overlays:o,values:a}}(t);r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,r.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:W.a,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=Object(Pe.c)(),r.pixelToCoordinateTransform_=Object(Pe.c)(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=new Z(r,t.moveTolerance);var o=r.handleMapBrowserEvent.bind(r);for(var a in K.a)r.mapBrowserEventHandler_.addEventListener(K.a[a],o);r.keyboardEventTarget_=n.keyboardEventTarget,r.keyHandlerKeys_=null,r.focusHandlerKeys_=null;var s=r.handleBrowserEvent.bind(r);return r.viewport_.addEventListener(m.a.CONTEXTMENU,s,!1),r.viewport_.addEventListener(m.a.WHEEL,s,!1),r.controls=n.controls||new i.a,r.interactions=n.interactions||new i.a,r.overlays_=n.overlays,r.overlayIdIndex_={},r.renderer_=null,r.handleResize_,r.postRenderFunctions_=[],r.tileQueue_=new ne.a(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addEventListener(Object(c.b)(Q),r.handleLayerGroupChanged_),r.addEventListener(Object(c.b)(ee),r.handleViewChanged_),r.addEventListener(Object(c.b)($),r.handleSizeChanged_),r.addEventListener(Object(c.b)(J),r.handleTargetChanged_),r.setProperties(n.values),r.controls.forEach(function(e){e.setMap(this)}.bind(r)),r.controls.addEventListener(B.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.controls.addEventListener(B.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.interactions.forEach(function(e){e.setMap(this)}.bind(r)),r.interactions.addEventListener(B.a.ADD,function(e){e.element.setMap(this)}.bind(r)),r.interactions.addEventListener(B.a.REMOVE,function(e){e.element.setMap(null)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r.overlays_.addEventListener(B.a.ADD,function(e){this.addOverlayInternal_(e.element)}.bind(r)),r.overlays_.addEventListener(B.a.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)}.bind(r)),r}return Ie(t,e),t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(m.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(m.a.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(m.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),e.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,t,r){if(this.frameState_){var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(r=void 0!==r?r:{}).hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==r.layerFilter?r.layerFilter:a.b,s=!1!==r.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(n,this.frameState_,i,s,t,null,o,null)}},t.prototype.getFeaturesAtPixel=function(e,t){var r=[];return this.forEachFeatureAtPixel(e,(function(e){r.push(e)}),t),r},t.prototype.forEachLayerAtPixel=function(e,t,r){if(this.frameState_){var n=r||{},i=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=n.layerFilter||a.b;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,i,t,o)}},t.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var r=this.getCoordinateFromPixelInternal(e),n=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:a.b,i=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,i,o,n,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),r="changedTouches"in e?e.changedTouches[0]:e;return[r.clientX-t.left,r.clientY-t.top]},t.prototype.getTarget=function(){return this.get(J)},t.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Object(N.toUserCoordinate)(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var t=this.frameState_;return t?Object(Pe.a)(t.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Q)},t.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer.getSource();if(n&&n.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var t=Object(N.fromUserCoordinate)(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)},t.prototype.getPixelFromCoordinateInternal=function(e){var t=this.frameState_;return t?Object(Pe.a)(t.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get($)},t.prototype.getView=function(){return this.get(ee)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getTilePriority=function(e,t,r,n){var i=this.frameState_;if(!(i&&t in i.wantedTiles))return Re.a;if(!i.wantedTiles[t][e.getKey()])return Re.a;var o=i.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n},t.prototype.handleBrowserEvent=function(e,t){var r=t||e.type,n=new V.a(r,this,e);this.handleMapBrowserEvent(n)},t.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){for(var t=e.originalEvent.target;t instanceof HTMLElement;){if(t.parentElement===this.overlayContainerStopEvent_)return;t=t.parentElement}e.frameState=this.frameState_;var r=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.getActive())if(!i.handleEvent(e))break}}},t.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var r=this.maxTilesLoading_,n=r;if(e){var i=e.viewHints;if(i[de.a.ANIMATING]||i[de.a.INTERACTING]){var o=!W.c&&Date.now()-e.time>8;r=o?0:8,n=o?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,n))}!e||!this.hasListener(te.a.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(te.a.RENDERCOMPLETE,e);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.focusHandlerKeys_){for(var t=0,r=this.focusHandlerKeys_.length;t<r;++t)Object(p.c)(this.focusHandlerKeys_[t]);this.focusHandlerKeys_=null}if(this.keyHandlerKeys_){for(t=0,r=this.keyHandlerKeys_.length;t<r;++t)Object(p.c)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var n=!0;e.hasAttribute("tabindex")&&(n=document.activeElement===e,this.focusHandlerKeys_=[Object(p.a)(e,m.a.FOCUS,je.bind(this,this.viewport_,"none")),Object(p.a)(e,m.a.BLUR,je.bind(this,this.viewport_,"auto"))]),je(this.viewport_,n?"none":"auto");var i=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[Object(p.a)(i,m.a.KEYDOWN,this.handleBrowserEvent,this),Object(p.a)(i,m.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(m.a.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Object(h.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(m.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(p.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(p.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.viewport_.setAttribute("data-view",Object(z.c)(e)),this.viewPropertyListenerKey_=Object(p.a)(e,re.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(p.a)(e,m.a.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(p.c),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[Object(p.a)(e,re.a.PROPERTYCHANGE,this.render,this),Object(p.a)(e,m.a.CHANGE,this.render,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,r=e.length;t<r;++t){var n=e[t].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var t=this.getSize(),r=this.getView(),n=this.frameState_,i=null;if(void 0!==t&&Object(ke.b)(t)&&r&&r.isDef()){var o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:n?n.declutterItems:[],extent:Object(le.getForViewAndSize)(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),n)(!this.previousExtent_||!Object(le.isEmpty)(this.previousExtent_)&&!Object(le.equals)(i.extent,this.previousExtent_))&&(this.dispatchEvent(new q.a(l,this,n)),this.previousExtent_=Object(le.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!i.viewHints[de.a.ANIMATING]&&!i.viewHints[de.a.INTERACTING]&&!Object(le.equals)(i.extent,this.previousExtent_)&&(this.dispatchEvent(new q.a(u,this,i)),Object(le.clone)(i.extent,this.previousExtent_))}this.dispatchEvent(new q.a(s,this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},t.prototype.setLayerGroup=function(e){this.set(Q,e)},t.prototype.setSize=function(e){this.set($,e)},t.prototype.setTarget=function(e){this.set(J,e)},t.prototype.setView=function(e){this.set(ee,e)},t.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},t}(c.a),Ae=r(225),Fe=r(111),Me=r(185),Ne=r(228),De=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ge(e,t){Me.a.expire()}var Ue=function(e){function t(t){var r=e.call(this)||this;return r.map_=t,r.declutterTree_=null,r}return De(t,e),t.prototype.dispatchRenderEvent=function(e,t){Object(z.b)()},t.prototype.calculateMatrices2D=function(e){var t=e.viewState,r=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;Object(Pe.b)(r,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),Object(Pe.d)(n,r)},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i,o,a,s){var l,u=t.viewState;function c(e,t,r){return i.call(o,t,e?r:null)}var h=u.projection,p=e,d=[[0,0]];if(h.canWrapX()){var f=h.getExtent(),g=Object(le.getWidth)(f),m=e[0];if(m<f[0]||m>f[2])p=[m+g*Math.ceil((f[0]-m)/g),e[1]];n&&d.push([-g,0],[g,0])}var _,b=t.layerStatesArray,v=b.length;this.declutterTree_&&(_=this.declutterTree_.all().map((function(e){return e.value})));for(var w=[],O=0;O<d.length;O++)for(var E=v-1;E>=0;--E){var T=b[E],S=T.layer;if(S.hasRenderer()&&Object(y.b)(T,u)&&a.call(s,S)){var C=S.getRenderer(),x=S.getSource();if(C&&x){var k=x.getWrapX()?p:e,R=c.bind(null,T.managed);w[0]=k[0]+d[O][0],w[1]=k[1]+d[O][1],l=C.forEachFeatureAtCoordinate(w,t,r,R,_)}if(l)return l}}},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){return Object(z.b)()},t.prototype.hasFeatureAtCoordinate=function(e,t,r,n,i,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,r,n,a.b,this,i,o)},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){this.declutterTree_=Object(Ne.a)(e,this.declutterTree_)},t.prototype.scheduleExpireIconCache=function(e){Me.a.canExpireCache()&&e.postRenderFunctions.push(Ge)},t}(Fe.a),ze=r(52),Be=r(23),Ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),We=function(e){function t(t){var r=e.call(this,t)||this;r.labelCacheKey_=Object(p.a)(Be.o,m.a.CLEAR,t.redrawText.bind(t)),r.element_=document.createElement("div");var n=r.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",r.element_.className=g.e+" ol-layers";var i=t.getViewport();return i.insertBefore(r.element_,i.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return Ve(t,e),t.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var n=new Ae.a(e,void 0,t);r.dispatchEvent(n)}},t.prototype.disposeInternal=function(){Object(p.c)(this.labelCacheKey_),e.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(te.a.PRECOMPOSE,t);var r=t.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=t.viewState;this.children_.length=0;for(var i=null,o=0,a=r.length;o<a;++o){var s=r[o];if(t.layerIndex=o,Object(y.b)(s,n)&&(s.sourceState==ze.a.READY||s.sourceState==ze.a.UNDEFINED)){var l=s.layer.render(t,i);l&&l!==i&&(this.children_.push(l),i=l)}}e.prototype.renderFrame.call(this,t),Object(h.f)(this.element_,this.children_),this.dispatchRenderEvent(te.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},t.prototype.forEachLayerAtPixel=function(e,t,r,n,i){for(var o=t.viewState,a=t.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&Object(y.b)(l,o)&&i(u)){var c=u.getRenderer().getDataAtPixel(e,t,r);if(c){var h=n(u,c);if(h)return h}}}},t}(Ue),Ke="bottom-left",He="bottom-center",Ye="bottom-right",Xe="center-left",Ze="center-center",qe="center-right",Qe="top-left",$e="top-center",Je="top-right",et=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),tt="element",rt="map",nt="offset",it="position",ot="positioning",at=function(e){function t(t){var r=e.call(this)||this;return r.options=t,r.id=t.id,r.insertFirst=void 0===t.insertFirst||t.insertFirst,r.stopEvent=void 0===t.stopEvent||t.stopEvent,r.element=document.createElement("div"),r.element.className=void 0!==t.className?t.className:"ol-overlay-container "+g.d,r.element.style.position="absolute",r.autoPan=void 0!==t.autoPan&&t.autoPan,r.autoPanAnimation=t.autoPanAnimation||{},r.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,r.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},r.mapPostrenderListenerKey=null,r.addEventListener(Object(c.b)(tt),r.handleElementChanged),r.addEventListener(Object(c.b)(rt),r.handleMapChanged),r.addEventListener(Object(c.b)(nt),r.handleOffsetChanged),r.addEventListener(Object(c.b)(it),r.handlePositionChanged),r.addEventListener(Object(c.b)(ot),r.handlePositioningChanged),void 0!==t.element&&r.setElement(t.element),r.setOffset(void 0!==t.offset?t.offset:[0,0]),r.setPositioning(void 0!==t.positioning?t.positioning:Qe),void 0!==t.position&&r.setPosition(t.position),r}return et(t,e),t.prototype.getElement=function(){return this.get(tt)},t.prototype.getId=function(){return this.id},t.prototype.getMap=function(){return this.get(rt)},t.prototype.getOffset=function(){return this.get(nt)},t.prototype.getPosition=function(){return this.get(it)},t.prototype.getPositioning=function(){return this.get(ot)},t.prototype.handleElementChanged=function(){Object(h.d)(this.element);var e=this.getElement();e&&this.element.appendChild(e)},t.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(h.e)(this.element),Object(p.c)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=Object(p.a)(e,s,this.render,this),this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element)}},t.prototype.render=function(){this.updatePixelPosition()},t.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},t.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(it)&&this.autoPan&&this.panIntoView()},t.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},t.prototype.setElement=function(e){this.set(tt,e)},t.prototype.setMap=function(e){this.set(rt,e)},t.prototype.setOffset=function(e){this.set(nt,e)},t.prototype.setPosition=function(e){this.set(it,e)},t.prototype.panIntoView=function(){var e=this.getMap();if(e&&e.getTargetElement()){var t=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),n=this.getRect(r,[Object(h.c)(r),Object(h.b)(r)]),i=this.autoPanMargin;if(!Object(le.containsExtent)(t,n)){var o=n[0]-t[0],a=t[2]-n[2],s=n[1]-t[1],l=t[3]-n[3],u=[0,0];if(o<0?u[0]=o-i:a<0&&(u[0]=Math.abs(a)+i),s<0?u[1]=s-i:l<0&&(u[1]=Math.abs(l)+i),0!==u[0]||0!==u[1]){var c=e.getView().getCenterInternal(),p=e.getPixelFromCoordinateInternal(c),d=[p[0]+u[0],p[1]+u[1]];e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},t.prototype.getRect=function(e,t){var r=e.getBoundingClientRect(),n=r.left+window.pageXOffset,i=r.top+window.pageYOffset;return[n,i,n+t[0],i+t[1]]},t.prototype.setPositioning=function(e){this.set(ot,e)},t.prototype.setVisible=function(e){this.rendered.visible!==e&&(this.element.style.display=e?"":"none",this.rendered.visible=e)},t.prototype.updatePixelPosition=function(){var e=this.getMap(),t=this.getPosition();if(e&&e.isRendered()&&t){var r=e.getPixelFromCoordinate(t),n=e.getSize();this.updateRenderedPosition(r,n)}else this.setVisible(!1)},t.prototype.updateRenderedPosition=function(e,t){var r=this.element.style,n=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=n[0],a=n[1];if(i==Ye||i==qe||i==Je){""!==this.rendered.left_&&(this.rendered.left_="",r.left="");var s=Math.round(t[0]-e[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=s,r.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_="",r.right=""),i!=He&&i!=Ze&&i!=$e||(o-=this.element.offsetWidth/2);var l=Math.round(e[0]+o)+"px";this.rendered.left_!=l&&(this.rendered.left_=l,r.left=l)}if(i==Ke||i==He||i==Ye){""!==this.rendered.top_&&(this.rendered.top_="",r.top="");var u=Math.round(t[1]-e[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=u,r.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_="",r.bottom=""),i!=Xe&&i!=Ze&&i!=qe||(a-=this.element.offsetHeight/2);var c=Math.round(e[1]+a)+"px";this.rendered.top_!=c&&(this.rendered.top_="top",r.top=c)}},t.prototype.getOptions=function(){return this.options},t}(c.a),st=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return st(t,e),t.prototype.createRenderer=function(){return new We(this)},t}(Le);function ut(e){this.validateExtent_(),this.updateBox_()}var ct=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),render:n.render||ut,target:n.target})||this).boundHandleRotationChanged_=r.handleRotationChanged_.bind(r),r.collapsed_=void 0===n.collapsed||n.collapsed,r.collapsible_=void 0===n.collapsible||n.collapsible,r.collapsible_||(r.collapsed_=!1),r.rotateWithView_=void 0!==n.rotateWithView&&n.rotateWithView,r.viewExtent_=void 0;var i=void 0!==n.className?n.className:"ol-overviewmap",o=void 0!==n.tipLabel?n.tipLabel:"Overview map",a=void 0!==n.collapseLabel?n.collapseLabel:"«";"string"==typeof a?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=a):r.collapseLabel_=a;var s=void 0!==n.label?n.label:"»";"string"==typeof s?(r.label_=document.createElement("span"),r.label_.textContent=s):r.label_=s;var l=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=o,u.appendChild(l),u.addEventListener(m.a.CLICK,r.handleClick_.bind(r),!1),r.ovmapDiv_=document.createElement("div"),r.ovmapDiv_.className="ol-overviewmap-map",r.ovmap_=new lt({view:n.view});var c=r.ovmap_;n.layers&&n.layers.forEach((function(e){c.addLayer(e)}));var h=document.createElement("div");h.className="ol-overviewmap-box",h.style.boxSizing="border-box",r.boxOverlay_=new at({position:[0,0],positioning:Ze,element:h}),r.ovmap_.addOverlay(r.boxOverlay_);var p=i+" "+g.e+" "+g.b+(r.collapsed_&&r.collapsible_?" "+g.a:"")+(r.collapsible_?"":" ol-uncollapsible"),d=r.element;d.className=p,d.appendChild(r.ovmapDiv_),d.appendChild(u);var f=r,y=r.boxOverlay_,_=r.boxOverlay_.getElement(),b=function(e){var t,r={clientX:(t=e).clientX,clientY:t.clientY},n=c.getEventCoordinateInternal(r);y.setPosition(n)},v=function(e){var t=c.getEventCoordinateInternal(e);f.getMap().getView().setCenterInternal(t),window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",v)};return _.addEventListener("mousedown",(function(){window.addEventListener("mousemove",b),window.addEventListener("mouseup",v)})),r}return st(t,e),t.prototype.setMap=function(t){var r=this.getMap();if(t!==r){if(r){var n=r.getView();n&&this.unbindView_(n),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(p.a)(t,re.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this));var i=t.getView();i&&(this.bindView_(i),i.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===ee){var t=e.oldValue;t&&this.unbindView_(t);var r=this.getMap().getView();this.bindView_(r)}},t.prototype.bindView_=function(e){e.addEventListener(Object(c.b)(me),this.boundHandleRotationChanged_)},t.prototype.unbindView_=function(e){e.removeEventListener(Object(c.b)(me),this.boundHandleRotationChanged_)},t.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var r=e.getSize(),n=e.getView().calculateExtentInternal(r);if(!this.viewExtent_||!Object(le.equals)(n,this.viewExtent_)){this.viewExtent_=n;var i=t.getSize(),o=t.getView().calculateExtentInternal(i),a=t.getPixelFromCoordinateInternal(Object(le.getTopLeft)(n)),s=t.getPixelFromCoordinateInternal(Object(le.getBottomRight)(n)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=i[0],h=i[1];l<.1*c||u<.1*h||l>.75*c||u>.75*h?this.resetExtent_():Object(le.containsExtent)(o,n)||this.recenter_()}}},t.prototype.resetExtent_=function(){var e=this.getMap(),t=this.ovmap_,r=e.getSize(),n=e.getView().calculateExtentInternal(r),i=t.getView(),o=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,o/2));Object(le.scaleFromCenter)(n,a),i.fitInternal(Object(ve.c)(n))},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,r=e.getView();t.getView().setCenterInternal(r.getCenterInternal())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var r=e.getSize(),n=e.getView(),i=t.getView(),o=this.rotateWithView_?0:-n.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=n.getCenterInternal(),u=n.getResolution(),c=i.getResolution(),h=r[0]*u/c,p=r[1]*u/c;if(a.setPosition(l),s){s.style.width=h+"px",s.style.height=p+"px";var d="rotate("+o+"rad)";s.style.transform=d}}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(g.a),this.collapsed_?Object(h.g)(this.collapseLabel_,this.label_):Object(h.g)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_){if(e.isRendered())return this.viewExtent_=void 0,void e.render();e.updateSize(),this.resetExtent_(),Object(p.b)(e,s,(function(e){this.updateBox_()}),this)}},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.setRotateWithView=function(e){this.rotateWithView_!==e&&(this.rotateWithView_=e,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},t.prototype.getOverviewMap=function(){return this.ovmap_},t}(f),ht=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),pt="degrees",dt="imperial",ft="nautical",gt="metric",mt="us",yt=[1,2,5];function _t(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var bt=function(e){function t(t){var r=this,n=t||{},i=void 0!==n.className?n.className:n.bar?"ol-scale-bar":"ol-scale-line";return(r=e.call(this,{element:document.createElement("div"),render:n.render||_t,target:n.target})||this).innerElement_=document.createElement("div"),r.innerElement_.className=i+"-inner",r.element.className=i+" "+g.e,r.element.appendChild(r.innerElement_),r.viewState_=null,r.minWidth_=void 0!==n.minWidth?n.minWidth:64,r.renderedVisible_=!1,r.renderedWidth_=void 0,r.renderedHTML_="",r.addEventListener(Object(c.b)("units"),r.handleUnitsChanged_),r.setUnits(n.units||gt),r.scaleBar_=n.bar||!1,r.scaleBarSteps_=n.steps||4,r.scaleBarText_=n.text||!1,r}return ht(t,e),t.prototype.getUnits=function(){return this.get("units")},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set("units",e)},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,r=e.projection,n=this.getUnits(),i=n==pt?Oe.b.DEGREES:Oe.b.METERS,o=Object(N.getPointResolution)(r,e.resolution,t,i),a=this.minWidth_*o,s="";if(n==pt){var l=N.METERS_PER_UNIT[Oe.b.DEGREES];(a*=l)<l/60?(s="″",o*=3600):a<l?(s="′",o*=60):s="°"}else n==dt?a<.9144?(s="in",o/=.0254):a<1609.344?(s="ft",o/=.3048):(s="mi",o/=1609.344):n==ft?(o/=1852,s="nm"):n==gt?a<.001?(s="μm",o*=1e6):a<1?(s="mm",o*=1e3):a<1e3?s="m":(s="km",o/=1e3):n==mt?a<.9144?(s="in",o*=39.37):a<1609.344?(s="ft",o/=.30480061):(s="mi",o/=1609.3472):Object(ye.a)(!1,33);for(var u,c,h,p,d=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){h=Math.floor(d/3);var f=Math.pow(10,h);if(u=yt[(d%3+3)%3]*f,c=Math.round(u/o),isNaN(c))return this.element.style.display="none",void(this.renderedVisible_=!1);if(c>=this.minWidth_)break;++d}p=this.scaleBar_?this.createScaleBar(c,u,s):u.toFixed(h<0?-h:0)+" "+s,this.renderedHTML_!=p&&(this.innerElement_.innerHTML=p,this.renderedHTML_=p),this.renderedWidth_!=c&&(this.innerElement_.style.width=c+"px",this.renderedWidth_=c),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t.prototype.createScaleBar=function(e,t,r){for(var n="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=e/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,e,!1,t,r):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,e,!0,t,r)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+e+'px;">'+n+"</div>":"")+i.join("")+"</div>"},t.prototype.createMarker=function(e,t){return'<div class="ol-scale-step-marker" style="position: '+e+";top: "+("absolute"===e?3:-10)+'px;"></div>'},t.prototype.createStepText=function(e,t,r,n,i){var o=(0===e?0:Math.round(n/this.scaleBarSteps_*e*100)/100)+(0===e?"":" "+i);return'<div class="ol-scale-step-text" style="margin-left: '+(0===e?-3:t/this.scaleBarSteps_*-1)+"px;text-align: "+(0===e?"left":"center")+"; min-width: "+(0===e?0:t/this.scaleBarSteps_*2)+"px;left: "+(r?t+"px":"unset")+';">'+o+"</div>"},t.prototype.getScaleForResolution=function(){var e=this.getMap().getView().getResolution(),t=this.viewState_.projection.getMetersPerUnit();return parseFloat(e.toString())*t*39.37*(25.4/.28)},t}(f),vt=r(50),wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ot=0,Et=1;function Tt(e){if(e.frameState){this.sliderInitialized_||this.initSlider_();var t=e.frameState.viewState.resolution;this.currentResolution_=t,this.setThumbPosition_(t)}}var St=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),render:n.render||Tt})||this).dragListenerKeys_=[],r.currentResolution_=void 0,r.direction_=Ot,r.dragging_,r.heightLimit_=0,r.widthLimit_=0,r.startX_,r.startY_,r.thumbSize_=null,r.sliderInitialized_=!1,r.duration_=void 0!==n.duration?n.duration:200;var i=void 0!==n.className?n.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=i+"-thumb "+g.e;var a=r.element;return a.setAttribute("touch-action","none"),a.className=i+" "+g.e+" "+g.b,a.appendChild(o),a.addEventListener(A,r.handleDraggerStart_.bind(r),!1),a.addEventListener(L,r.handleDraggerDrag_.bind(r),!1),a.addEventListener(F,r.handleDraggerEnd_.bind(r),!1),a.addEventListener(m.a.CLICK,r.handleContainerClick_.bind(r),!1),o.addEventListener(m.a.CLICK,vt.b,!1),r}return wt(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&t.render()},t.prototype.initSlider_=function(){var e=this.element,t=e.offsetWidth,r=e.offsetHeight,n=e.firstElementChild,i=getComputedStyle(n),o=n.offsetWidth+parseFloat(i.marginRight)+parseFloat(i.marginLeft),a=n.offsetHeight+parseFloat(i.marginTop)+parseFloat(i.marginBottom);this.thumbSize_=[o,a],t>r?(this.direction_=Et,this.widthLimit_=t-o):(this.direction_=Ot,this.heightLimit_=r-a),this.sliderInitialized_=!0},t.prototype.handleContainerClick_=function(e){var t=this.getMap().getView(),r=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2),n=this.getResolutionForPosition_(r),i=t.getConstrainedZoom(t.getZoomForResolution(n));t.animateInternal({zoom:i,duration:this.duration_,easing:w.b})},t.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.target===this.element.firstElementChild){var t=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=e.clientX-parseFloat(t.style.left),this.startY_=e.clientY-parseFloat(t.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var r=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push(Object(p.a)(document,L,r,this),Object(p.a)(document,F,n,this))}}},t.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=e.clientX-this.startX_,r=e.clientY-this.startY_,n=this.getRelativePosition_(t,r);this.currentResolution_=this.getResolutionForPosition_(n),this.getMap().getView().setResolution(this.currentResolution_)}},t.prototype.handleDraggerEnd_=function(e){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(p.c),this.dragListenerKeys_.length=0)},t.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e),r=this.element.firstElementChild;this.direction_==Et?r.style.left=this.widthLimit_*t+"px":r.style.top=this.heightLimit_*t+"px"},t.prototype.getRelativePosition_=function(e,t){var r;return r=this.direction_===Et?e/this.widthLimit_:t/this.heightLimit_,Object(oe.a)(r,0,1)},t.prototype.getResolutionForPosition_=function(e){return this.getMap().getView().getResolutionForValueFunction()(1-e)},t.prototype.getPositionForResolution_=function(e){var t=this.getMap().getView().getValueForResolutionFunction();return Object(oe.a)(1-t(e),0,1)},t}(f),Ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),xt=function(e){function t(t){var r=this,n=t||{};(r=e.call(this,{element:document.createElement("div"),target:n.target})||this).extent=n.extent?n.extent:null;var i=void 0!==n.className?n.className:"ol-zoom-extent",o=void 0!==n.label?n.label:"E",a=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=a,s.appendChild("string"==typeof o?document.createTextNode(o):o),s.addEventListener(m.a.CLICK,r.handleClick_.bind(r),!1);var l=i+" "+g.e+" "+g.b,u=r.element;return u.className=l,u.appendChild(s),r}return Ct(t,e),t.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},t.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(Object(ve.c)(t))},t}(f);function kt(e){var t=e||{},r=new i.a;return(void 0===t.zoom||t.zoom)&&r.push(new C(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&r.push(new T(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&r.push(new v(t.attributionOptions)),r}r.d(t,"defaults",(function(){return kt})),r.d(t,"Attribution",(function(){return v})),r.d(t,"Control",(function(){return f})),r.d(t,"FullScreen",(function(){return j})),r.d(t,"MousePosition",(function(){return U})),r.d(t,"OverviewMap",(function(){return ct})),r.d(t,"Rotate",(function(){return T})),r.d(t,"ScaleLine",(function(){return bt})),r.d(t,"Zoom",(function(){return C})),r.d(t,"ZoomSlider",(function(){return St})),r.d(t,"ZoomToExtent",(function(){return xt}))},function(e,t,r){"use strict";r.r(t);var n,i=r(207),o=r(38),a=r(32),s=r(107),l=r(17),u=r(8),c=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function h(e,t){for(var r=c.length,n=0;n<r;++n)try{var i=e.getContext(c[n],t);if(i)return i}catch(e){}return null}var p=r(19),d=35044;function f(e){switch(e){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var g=function(){function e(e,t){this.array=null,this.type=e,Object(p.a)(34962===e||34963===e,62),this.usage=void 0!==t?t:d}return e.prototype.ofSize=function(e){this.array=new(f(this.type))(e)},e.prototype.fromArray=function(e){this.array=f(this.type).from(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(f(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}(),m=r(4),y=r(99),_="webglcontextlost",b="webglcontextrestored",v=r(14);function w(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var O,E=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(r);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(r){this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),r=t.canvas,n=e.size;if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,r.width*this.scaleRatio_,r.height*this.scaleRatio_),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var i=t.RGBA,o=t.RGBA,a=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,i,r.width*this.scaleRatio_,r.height*this.scaleRatio_,0,o,a,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t){var r=this.getGL(),n=r.canvas;r.bindFramebuffer(r.FRAMEBUFFER,t?t.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,n.width,n.height),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,n.width,n.height),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),r.drawArrays(r.TRIANGLES,0,6)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=1;this.uniforms_.forEach((function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(i.location,n++);else if(Array.isArray(t))switch(t.length){case 2:return void r.uniform2f(i.location,t[0],t[1]);case 3:return void r.uniform3f(i.location,t[0],t[1],t[2]);case 4:return void r.uniform4f(i.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(i.location,t)}))},e}(),T=r(10),S=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),C="u_projectionMatrix",x="u_offsetScaleMatrix",k="u_offsetRotateMatrix",R="u_time",P="u_zoom",I="u_resolution",j={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function L(e){switch(e){case j.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case j.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case j.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case j.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var A=function(e){function t(t){var r=e.call(this)||this,i=t||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=h(r.canvas_);var o=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,Object(p.a)(Object(T.f)(function(){if(!n){var e=h(document.createElement("canvas"));e&&(n=e.getSupportedExtensions())}return n}(),"OES_element_index_uint"),63),o.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(_,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(b,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=Object(v.c)(),r.offsetScaleMatrix_=Object(v.c)(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],i.uniforms)for(var a in i.uniforms)r.uniforms_.push({name:a,value:i.uniforms[a]});return r.postProcessPasses_=i.postProcesses?i.postProcesses.map((function(e){return new E({webGlContext:o,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new E({webGlContext:o})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return S(t,e),t.prototype.bindBuffer=function(e){var t=this.getGL(),r=Object(m.c)(e),n=this.bufferCache_[r];n||(n={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=n);t.bindBuffer(e.getType(),n.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),r=Object(m.c)(e),n=this.bufferCache_[r];t.isContextLost()||t.deleteBuffer(n.buffer),delete this.bufferCache_[r]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(_,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(b,this.boundHandleWebGLContextRestored_)},t.prototype.prepareDraw=function(e){var t=this.getGL(),r=this.getCanvas(),n=e.size,i=e.pixelRatio;r.width=n[0]*i,r.height=n[1]*i,r.style.width=n[0]+"px",r.style.height=n[1]+"px",t.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(e);t.bindTexture(t.TEXTURE_2D,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,r){var n=this.getGL(),i=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.viewport(0,0,i[0],i[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var r=this.getGL(),n=r.UNSIGNED_INT,i=t-e,o=4*e;r.drawElements(r.TRIANGLES,i,n,o)},t.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,n=Object(v.g)(this.offsetScaleMatrix_);Object(v.i)(n,2/t[0],2/t[1]);var i=Object(v.g)(this.offsetRotateMatrix_);0!==r&&Object(v.h)(i,-r),this.setUniformMatrixValue(x,w(this.tmpMat4_,n)),this.setUniformMatrixValue(k,w(this.tmpMat4_,i)),this.setUniformFloatValue(R,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(P,e.viewState.zoom),this.setUniformFloatValue(I,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=0;this.uniforms_.forEach(function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(this.getUniformLocation(i.name),n++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(i.name,w(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),t[0],t[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),t[0],t[1],t[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(i.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var r=this.getGL(),n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n},t.prototype.getProgram=function(e,t){var r=this.getGL(),n=this.compileShader(e,r.FRAGMENT_SHADER),i=this.compileShader(t,r.VERTEX_SHADER);this.shaderCompileErrors_=null,r.getShaderInfoLog(n)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+r.getShaderInfoLog(n)),r.getShaderInfoLog(i)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n"+r.getShaderInfoLog(i));var o=r.createProgram();return r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),o},t.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var r=e.size,n=e.viewState.rotation,i=e.viewState.resolution,o=e.viewState.center;return Object(v.g)(t),Object(v.b)(t,0,0,2/(i*r[0]),2/(i*r[1]),-n,-o[0],-o[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,r,n,i){var o=this.getAttributeLocation(e);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,t,r,!1,n,i))},t.prototype.enableAttributes=function(e){for(var t=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*L(n.type)}return t}(e),r=0,n=0;n<e.length;n++){var i=e[n];this.enableAttributeArray_(i.name,i.size,i.type||5126,t,r),r+=i.size*L(i.type)}},t.prototype.handleWebGLContextLost=function(){Object(u.b)(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,r){var n=this.getGL(),i=r||n.createTexture(),o=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),t?n.texImage2D(n.TEXTURE_2D,0,o,a,s,t):n.texImage2D(n.TEXTURE_2D,0,o,e[0],e[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i},t}(y.a),F=r(2),M=r(243),N=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D="GENERATE_BUFFERS",G=function(e){function t(t,r){var n=e.call(this,t)||this,i=r||{};return n.helper=new A({postProcesses:i.postProcesses,uniforms:i.uniforms}),n}return N(t,e),t.prototype.disposeInternal=function(){this.helper.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},t}(M.a);function U(e,t){var r=t||[];return r[0]=Math.floor(e/256/256/256)/255,r[1]=Math.floor(e/256/256)%256/255,r[2]=Math.floor(e/256)%256/255,r[3]=e%256/255,r}var z=G,B=r(49),V=r(0),W=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),K=URL.createObjectURL(W);var H=new Uint8Array(4),Y=function(){function e(e,t){this.helper_=e;var r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){Object(T.b)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return H[0]=0,H[1]=0,H[2]=0,H[3]=0,H;this.readAll();var r=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return H[0]=this.data_[4*r],H[1]=this.data_[4*r+1],H[2]=this.data_[4*r+2],H[3]=this.data_[4*r+3],H},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}(),X=r(153),Z=r(13),q=r(86),Q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(e){function t(t,r){var n=this,i=r.uniforms||{},o=Object(v.c)();if(i[C]=o,(n=e.call(this,t,{uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new g(34962,35048),n.hitVerticesBuffer_=new g(34962,35048),n.indicesBuffer_=new g(34963,35048),n.program_=n.helper.getProgram(r.fragmentShader,r.vertexShader),n.getShaderCompileErrors())throw new Error(n.getShaderCompileErrors());if(n.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(r.hitFragmentShader,r.hitVertexShader),n.getShaderCompileErrors())throw new Error(n.getShaderCompileErrors());var a=r.attributes?r.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:j.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:j.FLOAT},{name:"a_index",size:1,type:j.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:j.FLOAT},{name:"a_index",size:1,type:j.FLOAT},{name:"a_hitColor",size:4,type:j.FLOAT},{name:"a_featureUid",size:1,type:j.FLOAT}].concat(a),n.customAttributes=r.attributes?r.attributes:[],n.previousExtent_=Object(V.createEmpty)(),n.currentTransform_=o,n.renderTransform_=Object(v.c)(),n.invertRenderTransform_=Object(v.c)(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new Y(n.helper),n.worker_=new Worker(K),n.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===D){var r=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,Object(v.d)(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[Object(Z.a)(s,q.a.ADDFEATURE,n.handleSourceFeatureAdded_,n),Object(Z.a)(s,q.a.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),Object(Z.a)(s,q.a.REMOVEFEATURE,n.handleSourceFeatureDelete_,n)],s.forEachFeature(function(e){this.featureCache_[Object(m.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(n)),n}return Q(t,e),t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[Object(m.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[Object(m.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[Object(m.c)(t)],this.featureCount_--},t.prototype.renderFrame=function(e){var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var r=this.helper.getCanvas(),n=e.layerStatesArray[e.layerIndex].opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=n),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),r},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),n=e.viewState,i=!e.viewHints[B.a.ANIMATING]&&!e.viewHints[B.a.INTERACTING],o=!Object(V.equals)(this.previousExtent_,e.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(o||a)){var s=n.projection,l=n.resolution,u=t instanceof X.a?t.getRenderBuffer():0,c=Object(V.buffer)(e.extent,u*l);r.loadFeatures(c,l,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),Object(v.f)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=Object(v.c)();this.helper.makeProjectionTransform(e,t);var r,n,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],l=[],u=0,c=0;for(var h in this.featureCache_)if((n=(r=this.featureCache_[h]).geometry)&&n.getType()===F.a.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],Object(v.a)(t,s),a=U(c+6,l),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=s[0],this.hitRenderInstructions_[c++]=s[1],this.hitRenderInstructions_[c++]=a[0],this.hitRenderInstructions_[c++]=a[1],this.hitRenderInstructions_[c++]=a[2],this.hitRenderInstructions_[c++]=a[3],this.hitRenderInstructions_[c++]=Number(h));for(var p=void 0,d=0;d<this.customAttributes.length;d++)p=this.customAttributes[d].callback(r.feature,r.properties),this.renderInstructions_[u++]=p,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=p)}var f={type:D,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(f.projectionTransform=t,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:D,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g.projectionTransform=t,g.hitDetection=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){if(Object(p.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=Object(v.a)(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=function(e){var t=0;return t+=Math.round(256*e[0]*256*256*255),t+=Math.round(256*e[1]*256*255),t+=Math.round(256*e[2]*255),t+=Math.round(255*e[3])}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],u=Math.floor(l).toString(),c=this.getLayer().getSource().getFeatureByUid(u);return c?n(c,this.getLayer()):void 0}},t.prototype.renderHitDetection=function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){Object(Z.c)(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(z),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee="blur",te="gradient",re="radius",ne=["#00f","#0ff","#0f0","#ff0","#f00"];var ie=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=e.call(this,i)||this).gradient_=null,r.addEventListener(Object(o.b)(te),r.handleGradientChanged_),r.setGradient(n.gradient?n.gradient:ne),r.setBlur(void 0!==n.blur?n.blur:15),r.setRadius(void 0!==n.radius?n.radius:8);var a=n.weight?n.weight:"weight";return r.weightFunction_="string"==typeof a?function(e){return e.get(a)}:a,r.setRenderOrder(null),r}return J(t,e),t.prototype.getBlur=function(){return this.get(ee)},t.prototype.getGradient=function(){return this.get(te)},t.prototype.getRadius=function(){return this.get(re)},t.prototype.handleGradientChanged_=function(){this.gradient_=function(e){for(var t=Object(a.a)(1,256),r=t.createLinearGradient(0,0,1,256),n=1/(e.length-1),i=0,o=e.length;i<o;++i)r.addColorStop(i*n,e[i]);return t.fillStyle=r,t.fillRect(0,0,1,256),t.canvas}(this.getGradient())},t.prototype.setBlur=function(e){this.set(ee,e)},t.prototype.setGradient=function(e){this.set(te,e)},t.prototype.setRadius=function(e){this.set(re,e)},t.prototype.createRenderer=function(){return new $(this,{attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?Object(l.a)(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(re)+this.get(ee))}.bind(this),u_blurSlope:function(){return this.get(re)/Math.max(1,this.get(ee))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:this.gradient_}}]})},t}(s.a),oe=r(212),ae=r(94),se=r(213),le=r(147),ue=r(247),ce=r(240),he=r(12),pe=r(31),de=r(246),fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge=function(e){function t(t){var r=e.call(this,t)||this;return r.vectorRenderer_=new ce.a(t),r.layerImageRatio_=t.getImageRatio(),r.coordinateToVectorPixelTransform_=Object(v.c)(),r.renderedPixelToCoordinateTransform_=null,r}return fe(t,e),t.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getFeatures=function(e){if(this.vectorRenderer_){var t=Object(v.a)(this.coordinateToVectorPixelTransform_,Object(v.a)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(t)}return new Promise((function(e,t){e([])}))},t.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},t.prototype.prepareFrame=function(e){var t=e.pixelRatio,r=e.viewState,n=r.resolution,i=e.viewHints,o=this.vectorRenderer_,a=e.extent;1!==this.layerImageRatio_&&(a=a.slice(0),Object(V.scaleFromCenter)(a,this.layerImageRatio_));var s=Object(V.getWidth)(a)/n,l=Object(V.getHeight)(a)/n;if(!i[B.a.ANIMATING]&&!i[B.a.INTERACTING]&&!Object(V.isEmpty)(a)){o.useContainer(null,null,1);var c=o.context,h=Object(u.a)({},e,{declutterItems:[],size:[s,l],viewState:Object(u.a)({},e.viewState,{rotation:0})}),p=new le.a(a,n,t,c.canvas,(function(e){o.prepareFrame(h)&&o.replayGroupChanged&&(o.renderFrame(h,null),Object(de.a)(h,null),e())}));p.addEventListener(he.a.CHANGE,function(){p.getState()===pe.a.LOADED&&(this.image_=p)}.bind(this)),p.load()}if(this.image_){var d=this.image_,f=d.getResolution()*t/d.getPixelRatio();this.renderedResolution=f,this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=Object(v.b)(this.coordinateToVectorPixelTransform_,s/2,l/2,1/f,-1/f,0,-r.center[0],-r.center[1])}return!!this.image_},t.prototype.preRender=function(){},t.prototype.postRender=function(){},t.prototype.forEachFeatureAtCoordinate=function(t,r,n,i,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,r,n,i,o):e.prototype.forEachFeatureAtCoordinate.call(this,t,r,n,i,o)},t}(ue.a),me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);return delete i.imageRatio,(r=e.call(this,i)||this).imageRatio_=void 0!==n.imageRatio?n.imageRatio:1,r}return me(t,e),t.prototype.getImageRatio=function(){return this.imageRatio_},t.prototype.createRenderer=function(){return new ge(this)},t}(X.a),_e=r(142),be="image",ve="hybrid",we=r(16),Oe=r(44),Ee=r(250),Te=r(248),Se=r(56),Ce=r(125),xe=r(189),ke=r(156),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe={image:[Oe.a.POLYGON,Oe.a.CIRCLE,Oe.a.LINE_STRING,Oe.a.IMAGE,Oe.a.TEXT],hybrid:[Oe.a.POLYGON,Oe.a.LINE_STRING]},Ie={image:[Oe.a.DEFAULT],hybrid:[Oe.a.IMAGE,Oe.a.TEXT,Oe.a.DEFAULT]},je=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=Object(v.c)(),r}return Re(t,e),t.prototype.prepareTile=function(e,t,r,n){var i,o=Object(m.c)(e),a=e.getState();return(a===we.a.LOADED&&e.hifi||a===we.a.ERROR||a===we.a.ABORT)&&o in this.tileListenerKeys_&&(Object(Z.c)(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),a!==we.a.LOADED&&a!==we.a.ERROR||(this.updateExecutorGroup_(e,t,r),this.tileImageNeedsRender_(e,t,r)&&(i=!0,n&&(this.renderTileImageQueue_[o]=e))),i},t.prototype.getTile=function(t,r,n,i){var o=e.prototype.getTile.call(this,t,r,n,i),a=i.pixelRatio,s=i.viewState,l=s.resolution,u=s.projection;if(o.getState()<we.a.LOADED){o.wantedResolution=l;var c=Object(m.c)(o);if(!(c in this.tileListenerKeys_)){var h=Object(Z.a)(o,he.a.CHANGE,this.prepareTile.bind(this,o,a,u,!0));this.tileListenerKeys_[c]=h}}else{var p=i.viewHints;!!(p[B.a.ANIMATING]||p[B.a.INTERACTING])&&o.wantedResolution||(o.wantedResolution=l),this.prepareTile(o,a,u,!1)&&this.renderTileImage_(o,i)}return o},t.prototype.isDrawableTile=function(t){return e.prototype.isDrawableTile.call(this,t)&&t.hasContext(this.getLayer())},t.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},t.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,e.prototype.prepareFrame.call(this,t)},t.prototype.updateExecutorGroup_=function(e,t,r){var n=this.getLayer(),i=n.getRevision(),o=n.getRenderOrder()||null,a=e.wantedResolution,s=e.getReplayState(n);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=i||s.renderedRenderOrder!=o||s.renderedZ!==e.sourceZ){var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),h=l.getSourceTiles(t,r,e),p=Object(m.c)(n),d=e.executorGroups[p];if(d)for(var f=0,g=d.length;f<g;++f)d[f].dispose();e.hitDetectionImageData=null,e.executorGroups[p]=[];for(var y=function(r,i){var d=h[r];if(d.getState()!=we.a.LOADED)return"continue";var f=d.tileCoord,g=u.getTileCoordExtent(f),m=Object(V.getIntersection)(c,g),y=Object(V.equals)(g,m)?null:Object(V.buffer)(m,n.getRenderBuffer()*a,_.tmpExtent);s.dirty=!1;var b=new Ee.a(0,m,a,t,n.getDeclutter()),v=Object(Ce.b)(a,t),w=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,a)),t){var i=this.renderFeature(e,v,t,b);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=d.getFeatures();o&&o!==s.renderedRenderOrder&&O.sort(o);for(var E=0,T=O.length;E<T;++E){var S=O[E];y&&!Object(V.intersects)(y,S.getGeometry().getExtent())||w.call(_,S)}var C=b.finish(),x=n.getDeclutter()&&1===h.length?null:m,k=new xe.a(x,a,t,l.getOverlaps(),C,n.getRenderBuffer());e.executorGroups[p].push(k)},_=this,b=0,v=h.length;b<v;++b)y(b);s.renderedRevision=i,s.renderedZ=e.sourceZ,s.renderedRenderOrder=o,s.renderedResolution=a}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=t.viewState.resolution,a=t.viewState.rotation;r=null==r?0:r;var s,l,u,c=this.getLayer(),h=c.getDeclutter(),p=c.getSource().getTileGridForProjection(t.viewState.projection),d={},f=this.renderedTiles,g=function(){var t=f[l],u=p.getTileCoordExtent(t.wrappedTileCoord),g=Object(V.containsCoordinate)(u,e);if(!h&&!g)return"continue";for(var y=t.executorGroups[Object(m.c)(c)],_=0,b=y.length;_<b;++_){var v=y[_];s=s||v.forEachFeatureAtCoordinate(e,o,a,r,(function(e){if(g||i&&-1!==i.indexOf(e)){var t=e.getId();if(void 0===t&&(t=Object(m.c)(e)),!(t in d))return d[t]=!0,n(e,c)}}),c.getDeclutter()?i:null)}};for(l=0,u=f.length;l<u;++l)g();return s},t.prototype.getFeatures=function(e){return new Promise(function(t,r){for(var n,i=this.getLayer(),o=i.getSource(),a=this.renderedProjection,s=a.getExtent(),l=this.renderedResolution,u=o.getTileGridForProjection(a),c=Object(v.a)(this.renderedPixelToCoordinateTransform_,e.slice()),h=u.getTileCoordForCoordAndResolution(c,l),p=0,d=this.renderedTiles.length;p<d;++p)if(h.toString()===this.renderedTiles[p].tileCoord.toString()){if((n=this.renderedTiles[p]).getState()===we.a.LOADED&&n.hifi){var f=u.getTileCoordExtent(n.tileCoord);if(o.getWrapX()&&a.canWrapX()&&!Object(V.containsExtent)(s,f)){var g=Object(V.getWidth)(s),m=Math.floor((c[0]-s[0])/g);c[0]-=m*g}break}n=void 0}if(n){var y=u.getTileCoordExtent(n.wrappedTileCoord),_=Object(V.getTopLeft)(y),b=[(c[0]-_[0])/l,(_[1]-c[1])/l],w=n.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]);if(n.hitDetectionImageData)t(Object(ke.b)(b,w,n.hitDetectionImageData));else{var O=Object(Se.d)(u.getTileSize(u.getZForResolution(l))),E=[O[0]/2,O[1]/2],T=this.renderedRotation_,S=[this.getRenderTransform(u.getTileCoordCenter(n.wrappedTileCoord),l,0,.5,E[0],E[1],0)];requestAnimationFrame((function(){n.hitDetectionImageData=Object(ke.a)(O,S,w,i.getStyleFunction(),u.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(i).renderedResolution,T),t(Object(ke.b)(b,w,n.hitDetectionImageData))}))}}else t([])}.bind(this))},t.prototype.handleFontsChanged=function(){Object(u.b)(this.renderTileImageQueue_);var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.renderFrame=function(t,r){var n=t.viewHints,i=!(n[B.a.ANIMATING]||n[B.a.INTERACTING]);this.renderQueuedTileImages_(i,t),e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode();if(a===be)return this.container;var s=o.getSource(),l=t.usedTiles[Object(m.c)(s)];for(var u in this.renderTileImageQueue_)l&&u in l||delete this.renderTileImageQueue_[u];for(var c=this.context,h=o.getDeclutter()?{}:null,p=Ie[a],d=t.pixelRatio,f=t.viewState,g=f.center,y=f.resolution,_=f.rotation,b=t.size,w=Math.round(b[0]*d),O=Math.round(b[1]*d),E=this.renderedTiles,T=s.getTileGridForProjection(t.viewState.projection),S=[],C=[],x=E.length-1;x>=0;--x){var k=E[x];if(k.getState()!=we.a.ABORT)for(var R=k.tileCoord,P=T.getTileCoordExtent(k.wrappedTileCoord),I=T.getTileCoordExtent(R,this.tmpExtent)[0]-P[0],j=Object(v.f)(Object(v.i)(this.inversePixelTransform.slice(),1/d,1/d),this.getRenderTransform(g,y,_,d,w,O,I)),L=k.executorGroups[Object(m.c)(o)],A=!1,F=0,M=L.length;F<M;++F){var N=L[F];if(N.hasExecutors(p)){var D=k.tileCoord[0],G=void 0;if(!h&&!A){G=N.getClipCoords(j),c.save();for(var U=0,z=S.length;U<z;++U){var V=S[U];D<C[U]&&(c.beginPath(),c.moveTo(G[0],G[1]),c.lineTo(G[2],G[3]),c.lineTo(G[4],G[5]),c.lineTo(G[6],G[7]),c.moveTo(V[6],V[7]),c.lineTo(V[4],V[5]),c.lineTo(V[2],V[3]),c.lineTo(V[0],V[1]),c.clip())}}N.execute(c,j,_,i,p,h),h||A||(c.restore(),S.push(G),C.push(D),A=!0)}}}if(h){var W=t.layerStatesArray[t.layerIndex];Object(xe.b)(h,c,_,W.opacity,i,t.declutterItems)}return this.container},t.prototype.renderQueuedTileImages_=function(e,t){for(var r in this.renderTileImageQueue_){if(!e&&Date.now()-t.time>8){t.animate=!0;break}var n=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(n,t)}},t.prototype.renderFeature=function(e,t,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)i=Object(Ce.d)(n,e,r[o],t,this.boundHandleStyleImageChange_)||i;else i=Object(Ce.d)(n,e,r,t,this.boundHandleStyleImageChange_);return i},t.prototype.tileImageNeedsRender_=function(e,t,r){var n=this.getLayer(),i=e.getReplayState(n),o=n.getRevision(),a=e.sourceZ,s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},t.prototype.renderTileImage_=function(e,t){var r=this.getLayer(),n=e.getReplayState(r),i=r.getRevision(),o=e.executorGroups[Object(m.c)(r)];n.renderedTileRevision=i,n.renderedTileZ=e.sourceZ;var a=e.wrappedTileCoord,s=a[0],l=r.getSource(),u=t.pixelRatio,c=t.viewState.projection,h=l.getTileGridForProjection(c),p=h.getResolution(e.tileCoord[0]),d=t.pixelRatio/e.wantedResolution*p,f=h.getResolution(s),g=e.getContext(r);u=Math.max(u,d/u);var y=l.getTilePixelSize(s,u,c);g.canvas.width=y[0],g.canvas.height=y[1];var _=u/d;if(1!==_){var b=Object(v.g)(this.tmpTransform_);Object(v.i)(b,_,_),g.setTransform.apply(g,b)}var w=h.getTileCoordExtent(a,this.tmpExtent),O=d/f,E=Object(v.g)(this.tmpTransform_);Object(v.i)(E,O,-O),Object(v.l)(E,-w[0],-w[3]);for(var T=0,S=o.length;T<S;++T){o[T].execute(g,E,0,!0,Pe[r.getRenderMode()])}n.renderedTileResolution=e.wantedResolution},t}(Te.a),Le=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ae=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);delete i.preload,delete i.useInterimTilesOnError,r=e.call(this,i)||this;var o=n.renderMode||ve;return Object(p.a)(null==o||o==be||o==ve,28),r.renderMode_=o,r.setPreload(n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return Le(t,e),t.prototype.createRenderer=function(){return new je(this)},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(_e.a.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(_e.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(e){this.set(_e.a.PRELOAD,e)},t.prototype.setUseInterimTilesOnError=function(e){this.set(_e.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(X.a);r.d(t,"Group",(function(){return i.a})),r.d(t,"Heatmap",(function(){return ie})),r.d(t,"Image",(function(){return oe.a})),r.d(t,"Layer",(function(){return ae.a})),r.d(t,"Tile",(function(){return se.a})),r.d(t,"Vector",(function(){return s.a})),r.d(t,"VectorImage",(function(){return ye})),r.d(t,"VectorTile",(function(){return Ae}))},function(e,t,r){var n=r(282);t.Processor=n},function(e,t,r){"use strict";e.exports=i;var n=r(290);function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function a(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function l(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function u(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function c(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function h(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function p(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function d(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function f(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function g(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function m(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function y(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=_(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(i=o[r.pos++],n=(112&i)>>4,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<3,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<10,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<17,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(127&i)<<24,i<128)return s(e,n,t);if(i=o[r.pos++],n|=(1&i)<<31,i<128)return s(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&o?function(e,t,r){return o.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){var n="",i=t;for(;i<r;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),i+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==i.Bytes)return e.push(this.readVarint(t));var r=a(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==i.Bytes)return e.push(this.readSVarint());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==i.Bytes)return e.push(this.readBoolean());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==i.Bytes)return e.push(this.readFloat());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==i.Bytes)return e.push(this.readDouble());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed32());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==i.Bytes)return e.push(this.readSFixed64());var t=a(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===i.Varint)for(;this.buf[this.pos++]>127;);else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else{if(t!==i.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;if(t.buf[t.pos++]|=r|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&l(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&l(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,i.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,u,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,d,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,g,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},function(e,t,r){var n=r(291);t.Processor=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(281),o=r(168),a=r(201),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(251)),l=r(253),u=r(258),c=r(259),h=r(288),p=r(256),d=r(190),f=(r(267),r(0),r(3)),g=r(202),m=r(270),y=r(268),_=r(210),b=r(260),v=(r(261),r(293)),w=T(r(294)),O=T(r(92)),E=r(299);function T(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package    con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version    6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author     con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright  Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link       https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var C={},x={arrFromPositions:[],arrFromNames:[],arrToPositions:[],arrToNames:[],arrOverPositions:{},arrOverNames:{}};t.Router=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=jQuery.extend({name:"router",create:!0,mapController:void 0,headline:e.mapController.data.routerHeadline||C.ROUTER,direction:"left"},e),n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r)),i=n.options.mapController.data;return n.mapData=i,void 0!==i&&(C="de"===i.lang?c.routingConstantsGerman:(i.lang,u.routingConstantsEnglish)),n.options=r,n.options.mapController?(n.layerController=n.options.mapController.proxy.layerController,n.linkFragments={mode:"",addressArea:"",addressFrom:"",addressTo:"",detour:0,searchType:"",forceStart:1},n.usePermalink=n.options.mapController.data.usePermalink,n.usePermalink&&(n.permalinkHandler=new b.RoutingPermalink(n)),n):(!1,S(n,!1))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"init",value:function(){var e,t,r;e=this,this.spinner.show();var n=[this.options.mapController.data.router_from_locstyle,this.options.mapController.data.router_to_locstyle,this.options.mapController.data.router_point_locstyle,this.options.mapController.data.areaCenterLocstyle,this.options.mapController.data.clickLocstyle];this.options.mapController.data.priorityFeatures&&this.options.mapController.data.priorityLocstyle&&n.push(this.options.mapController.data.priorityLocstyle),this.options.mapController.proxy.locationStyleController.loadLocationStyles(n);this.options.mapController.data;return this.routingAltWaySource=new y.Vector,this.routingWaySource=new y.Vector,this.routerWayLayer=new m.Vector({source:this.routingWaySource,zIndex:1,style:[new g.Style({stroke:new g.Stroke({color:"rgba(255, 255, 255, 0.6)",width:8})}),new g.Style({stroke:new g.Stroke({color:"rgba(0, 51, 119, 0.9)",width:4})})]}),this.routerAltWayLayer=new m.Vector({source:this.routingAltWaySource,zIndex:0,style:[new g.Style({stroke:new g.Stroke({color:"rgba(255, 255, 255, 0.6)",width:8})}),new g.Style({stroke:new g.Stroke({color:"rgba(0, 51, 119, 0.4)",width:4})})]}),(t=new _.Select({style:[new g.Style({stroke:new g.Stroke({color:"rgba(255, 255, 255, 0.0)",width:8})}),new g.Style({stroke:new g.Stroke({color:"rgba(255, 51, 119, 0.0)",width:4})})]})).on("select",(function(t){var r=t.selected[0];if(r){var n=r.getGeometry();n&&"LineString"===n.getType()?e.showAltRoute(e.response,r.getId()):r&&e.clickFeatureEntryForFeature(r)}})),this.mapSelectInteraction=t,this.modWayInteraction=new _.Modify({source:this.routingWaySource,style:[new g.Style({stroke:new g.Stroke({color:"rgba(255, 255, 255, 0.0)",width:8})}),new g.Style({stroke:new g.Stroke({color:"rgba(255, 51, 119, 0.0)",width:4})})]}),this.modWayInteraction.on("modifystart",(function(t){e.modifyStartPoint=new d.Point(t.mapBrowserEvent.coordinate).transform("EPSG:3857","EPSG:4326")})),this.modWayInteraction.on("modifyend",(function(t){var r=new d.Point(t.mapBrowserEvent.coordinate).transform("EPSG:3857","EPSG:4326"),n=1/0,i=void 0;if(e.overValue){if(e.overValue.length>0){for(var o in e.overValue){var a=e.modifyStartPoint.getCoordinates()[0]-e.overValue[o].getCoordinates()[0],s=e.modifyStartPoint.getCoordinates()[1]-e.overValue[o].getCoordinates()[1],l=Math.sqrt(a*a+s*s);l<n&&(n=l,i=o)}var u=e.fromValue.getCoordinates()[0]-e.modifyStartPoint.getCoordinates()[0],c=e.fromValue.getCoordinates()[1]-e.modifyStartPoint.getCoordinates()[1],h=Math.sqrt(u*u+c*c),p=e.toValue.getCoordinates()[0]-e.modifyStartPoint.getCoordinates()[0],f=e.toValue.getCoordinates()[1]-e.modifyStartPoint.getCoordinates()[1],g=Math.sqrt(p*p+f*f);u=e.fromValue.getCoordinates()[0]-e.overValue[0].getCoordinates()[0],c=e.fromValue.getCoordinates()[1]-e.overValue[0].getCoordinates()[1];var m=Math.sqrt(u*u+c*c);p=e.toValue.getCoordinates()[0]-e.overValue[e.overValue.length-1].getCoordinates()[0],f=e.toValue.getCoordinates()[1]-e.overValue[e.overValue.length-1].getCoordinates()[1];var y=Math.sqrt(p*p+f*f);h<m?i=0:g<y&&i++}}else e.overValue=[];this.$overInput=e.addInterimField(i,r.ol_uid),e.performReverseSearch(this.$overInput,r.getCoordinates()),e.overValue.splice(i,0,r),e.updateInterimIds(i),e.$buttonOver.prop("disabled",!1),e.recalculateRoute()})),e.options.mapController.map.addInteraction(t),this.options.mapController.data.enableOverPoints&&e.options.mapController.map.addInteraction(this.modWayInteraction),this.routingHintSource=new y.Vector,this.routerHintLayer=new m.Vector({source:this.routingHintSource,style:function(t,r){return!e.options.mapController.proxy||e.options.mapController.proxy.locationStyleController.arrLocStyles[e.options.mapController.data.router_point_locstyle].style(t,r)}}),this.locationsSource=new y.Vector,this.locationsLayer=new m.Vector({source:this.locationsSource,zIndex:2}),this.areaSource=new y.Vector,this.areaLayer=new m.Vector({source:this.areaSource,zIndex:2}),this.routerFeaturesSource=new y.Vector,this.routerFeaturesLayer=new m.Vector({source:this.routerFeaturesSource,zIndex:20}),this.routerLayerGroup=new m.Group({layers:new p.Collection([this.routerWayLayer,this.routerAltWayLayer,this.locationsLayer,this.routerHintLayer,this.routerFeaturesLayer,this.locationsLayer,this.areaLayer]),visible:!0}),this.options.mapController.map.addLayer(this.routerLayerGroup),this.mapData.routerLayers&&(this.viewArea=this.addAreaInterface(),"area"===this.options.mapController.data.initialMode&&this.viewArea.activate()),"route"===this.options.mapController.data.initialMode||this.viewArea,this.routeInstructions={},r=this.options.mapController.data.profile,this.geoSearchApi=this.options.mapController.data.api.geosearch+"/"+r,this.geoReverseSearchApi=this.options.mapController.data.api.geosearch_reverse+"/"+r,this.routingApi=this.options.mapController.data.api.routing+"/"+r,this.usePermalink&&this.permalinkHandler.handleInitialParams(),this.spinner.hide(),!0}},{key:"updateLinkFragments",value:function(e,t){this.usePermalink&&this.permalinkHandler.updateLinkFragments(e,t)}},{key:"updateInterimIds",value:function(e){$("."+l.routingConstants.ROUTER_INPUT_WRAPPER)}},{key:"updateUrl",value:function(){this.permalinkHandler.updateUrl()}},{key:"handleInitialParams",value:function(){this.permalinkHandler.handleInitialParams()}},{key:"preOpenFunction",value:function(e){e&&e.toLonLat&&(this.performReverseSearch(this.$toInput,e.toLonLat),this.recalculateRoute(),this.toValue=new d.Point([e.toLonLat[1],e.toLonLat[0]]))}},{key:"preHideFunction",value:function(){this.removeMapInputInteraction()}},{key:"preCloseFunction",value:function(){this.routingWaySource.clear(!0),this.routingAltWaySource.clear(!0),this.routingHintSource.clear(!0),this.locationsSource.clear(!0),this.routerFeaturesSource.clear(!0),jQuery(this.routerInstructionsWrapper).empty(),jQuery(this.routerFeatureWrapper).empty(),jQuery(this.areaFeatureWrapper).empty(),this.fromValue=null,this.clearInput(this.$fromInput),this.overValue&&(this.overValue=[],jQuery(".c4g-router-input-over").parent().remove()),this.toValue=null,this.clearInput(this.$toInput),this.removeMapInputInteraction()}},{key:"removeMapInputInteraction",value:function(){this.options.mapController.map.un("click",this.fnMapRouterInteraction),this.options.mapController.map.removeInteraction(this.mapSelectInteraction)}},{key:"showFeaturesInPortside",value:function(e,t,r){this.options.mapController.data.showFeatures&&void 0===this[r+"FeatureWrapper"]&&(this[r+"FeatureWrapper"]=document.createElement("div"),jQuery(this[r+"FeatureWrapper"]).addClass(r+"-features-display"),this[r+"ViewContentWrapper"].appendChild(this[r+"FeatureWrapper"])),this.features=e,this.type=t,this.reloadFeatureValues(r)}},{key:"showFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"router",n=this;if(n.routerFeaturesSource.clear(),!e)return[];var i=this.mapData,o="router"===r?jQuery(this.routerLayersSelect).val():jQuery(this.areaLayersSelect).val(),a=n.options.mapController.proxy.layerController.arrLayers[o],s="router"===r?n.activeLayerValue:n.activeLayerValueArea,l=[],u=[],c=[],h=e.elements?e.elements.slice():e.slice(),g=[];if(this.bestFeatureIds=[],i.priorityFeatures&&i.priorityLocstyle&&e.length>0){h.sort((function(e,t){return parseFloat(e[i.routerLayers[o][s].mapLabel])-parseFloat(t[i.routerLayers[o][s].mapLabel])}));for(var m=parseInt(i.priorityFeatures,10),y=m>h.length?h.length:m,_=0;_<y;_++)g[_]=h[_],this.bestFeatureIds.push(h[_].id)}for(var b=0;e&&b<e.length;b++){var v="",w=e[b],O=void 0,E=void 0;if("overpass"==t){if("node"===w.type&&!w.tags)continue;if(!(E=n.layerController.featureFromOverpass(w,e,a,!0)))continue}else{O=(0,f.transform)([parseFloat(w.geox),parseFloat(w.geoy)],"EPSG:4326","EPSG:3857");var T=new d.Point(O);(E=new p.Feature(T)).setId(w.id),E.set("loc_linkurl",a.loc_linkurl),E.set("hover_location",a.hover_location),E.set("hover_style",a.hover_style),E.set("zoom_onclick",a.zoom_onclick),E.set("tid",w.id)}i.routerLayers[o]&&i.routerLayers[o][s]&&i.routerLayers[o][s].mapLabel&&w[i.routerLayers[o][s].mapLabel]?v=w[i.routerLayers[o][s].mapLabel]:i.routerLayers[o]&&i.routerLayers[o][s]&&i.routerLayers[o][s].mapLabel&&w.tags&&w.tags[i.routerLayers[o][s].mapLabel]&&(v=w.tags[i.routerLayers[o][s].mapLabel]);var S=w.locstyle||a.locstyle;for(var C in i.priorityFeatures&&i.priorityLocstyle&&g.includes(w)&&(S=i.priorityLocstyle),E.set("locationStyle",S),E.set("zIndex",b),E.set("label",v),S&&n.options.mapController.proxy.locationStyleController.arrLocStyles[S]&&n.options.mapController.proxy.locationStyleController.arrLocStyles[S].style?(E.setStyle(n.options.mapController.proxy.locationStyleController.arrLocStyles[S].style),n.options.mapController.data.hideFeaturesWithoutLabel?v&&""!==v&&u.push(E):u.push(E)):(E.set("styleId",S),n.options.mapController.data.hideFeaturesWithoutLabel?v&&""!==v&&(l.push(E),c[S]=S):(l.push(E),c[S]=S)),w.tags)E.set(C,w.tags[C])}return c&&c.length>0&&n.options.mapController.proxy.locationStyleController.loadLocationStyles(c,{done:function(){for(var e=0;e<l.length;e++){var t=l[e].get("styleId");l[e].setStyle(n.options.mapController.proxy.locationStyleController.arrLocStyles[t].style),n.routerFeaturesSource.addFeature(l[e])}c=void 0}}),(e&&e.length>0||e&&e.elements)&&this.routerFeaturesSource.addFeatures(u),this.update(),h}},{key:"getInstructionIcon",value:function(e,t){var r="";switch(e){case"right":r="turn-right.png";break;case"left":r="turn-left.png";break;case"sharp left":r="sharp-left.png";break;case"sharp right":r="sharp-right.png";break;case"slight left":r="slight-left.png";break;case"slight right":r="slight-right.png";break;case"uturn":r="u-turn.png";break;case"straight":r="continue.png";break;default:r="default.png"}switch(t){case"depart":r="head.png";break;case"arrive":r="target.png";break;case"roundabout":r="round-about.png"}return"bundles/con4gismaps/vendor/osrm/images/"+r}},{key:"getInstructionIconORS",value:function(e){var t=void 0;switch(e){case 0:t="turn-left.png";break;case 1:t="turn-right.png";break;case 2:t="sharp-left.png";break;case 3:t="sharp-right.png";break;case 4:t="slight-left.png";break;case 5:t="slight-right.png";break;case 6:t="continue.png";break;case 7:case 8:t="round-about.png";break;case 9:t="u-turn.png";break;case 10:t="target.png";break;case 11:t="head.png";break;case 12:t="slight-left.png";break;case 13:t="slight-right.png"}return document.getElementsByTagName("base")[0].href+"bundles/con4gismaps/vendor/osrm/images/"+t}},{key:"getInstructionIconGraphhopper",value:function(e){var t=void 0;switch(e){case 0:t="continue.png";break;case-2:t="turn-left.png";break;case 2:t="turn-right.png";break;case-1:t="turn-left.png";break;case 1:t="turn-right.png";break;case-3:t="sharp-left.png";break;case 3:t="sharp-right.png";break;case-7:t="slight-left.png";break;case 7:t="slight-right.png";break;case 6:t="round-about.png";break;case 4:case 5:t="target.png";break;case-98:t="u-turn.png";break;case 99:t="head.png"}return document.getElementsByTagName("base")[0].href+"bundles/con4gismaps/vendor/osrm/images/"+t}},{key:"getTypeText",value:function(e){var t;switch(e){case"turn":t="ROUTER_5.X_TYPE_0";break;case"new name":t="ROUTER_5.X_TYPE_1";break;case"depart":t="ROUTER_5.X_TYPE_2";break;case"arrive":t="ROUTER_5.X_TYPE_3";break;case"merge":t="ROUTER_5.X_TYPE_4";break;case"on ramp":t="ROUTER_5.X_TYPE_5";break;case"off ramp":t="ROUTER_5.X_TYPE_6";break;case"fork":t="ROUTER_5.X_TYPE_7";break;case"end of road":t="ROUTER_5.X_TYPE_8";break;case"use lane":t="ROUTER_5.X_TYPE_9";break;case"continue":t="ROUTER_5.X_TYPE_10";break;case"roundabout":case"exit roundabout":t="ROUTER_5.X_TYPE_11";break;case"rotary":case"exit rotary":t="ROUTER_5.X_TYPE_12";break;case"roundabout turn":t="ROUTER_5.X_TYPE_13";break;case"notification":t="ROUTER_5.X_TYPE_14"}return C[t]}},{key:"getModifierText",value:function(e){var t;switch(e){case"uturn":t="ROUTER_5.X_MOD_0";break;case"sharp right":t="ROUTER_5.X_MOD_1";break;case"right":t="ROUTER_5.X_MOD_2";break;case"slight right":t="ROUTER_5.X_MOD_3";break;case"straight":t="ROUTER_5.X_MOD_4";break;case"slight left":t="ROUTER_5.X_MOD_5";break;case"left":t="ROUTER_5.X_MOD_6";break;case"sharp left":t="ROUTER_5.X_MOD_7";break;default:t="ROUTER_5.X_MOD_8"}return C[t]}},{key:"getDrivingInstructionIcon",value:function(e){var t;switch(t="default.png",e.replace(/^11-\d{1,}$/,"11")){case"1":t="continue.png";break;case"2":t="slight-right.png";break;case"3":t="turn-right.png";break;case"4":t="sharp-right.png";break;case"5":t="u-turn.png";break;case"6":t="sharp-left.png";break;case"7":t="turn-left.png";break;case"8":t="slight-left.png";break;case"10":t="head.png";break;case"11":t="round-about.png";break;case"15":t="target.png"}return document.getElementsByTagName("base")[0].href+"bundles/con4gismaps/vendor/osrm/images/"+t}},{key:"getText",value:function(e){var t="ROUTER_"+e;return void 0===C[t]&&console.warn(t+" can't find in language files."),C[t]}},{key:"getDrivingInstruction",value:function(e){var t,r;return t="DIRECTION_"+e.replace(/^11-\d{2,}$/,"11-x"),(r=this.getText(t))||(r=this.getText("DIRECTION_0")),r}},{key:"clickFeatureEntryForFeature",value:function(e){var t=e.get("tid");this.entryWrapper&&jQuery(this.entryWrapper).children().each((function(e,r){jQuery(r).data("id")===t&&jQuery(r).click()}))}},{key:"reloadFeatureValues",value:function(e){var t=this,r=t.features,n=t.type;if(t[e+"FeatureWrapper"]){jQuery(t[e+"FeatureWrapper"]).empty();var i=this.options.mapController.data.routerLayers,l=jQuery(t[e+"LayersSelect"]).val(),u="router"===e?t.activeLayerValue:t.activeLayerValueArea,c=i[l][u].keys,h=i[l][u].labels,p=document.createElement("ul");jQuery(p).addClass("route-features-list-wrapper");for(var d=function(i){var l=document.createElement("li");if(jQuery(l).addClass("route-features-list-element"),"table"===n)for(var d=0;d<c.length;d++){var f=document.createElement("div");f.innerHTML=h[d]+": "+r[i][c[d]],l.appendChild(f)}else if("overpass"===n){if(!r[i].tags)return"continue";var g=null;if(t.routerFeaturesSource.forEachFeature((function(e){e.get("tid")===r[i].id&&(g=e)})),!g)return"continue";var m=s.fnStandardInfoPopup(g,g.getStyle()),y=document.createElement("div");y.innerHTML=m,l.appendChild(y)}else window.c4gMapsHooks&&window.c4gMapsHooks.routePluginEntry&&a.utils.callHookFunctions(window.c4gMapsHooks.routePluginEntry,{entry:l,feature:r[i],values:c,labels:h,router:t,activeLayerValue:u});var _=null;if(t.routerFeaturesSource.forEachFeature((function(e){e.getId()===r[i].id&&(_=e)})),_){var b={async:!1};b.content=l.innerHTML,_.set("popup",b)}jQuery(l).addClass(o.cssConstants.INACTIVE),jQuery(l).data("id",r[i].id),jQuery(l).on("click",(function(n){t.routerFeaturesSource.forEachFeature((function(n){var o=void 0;if("area"===e?o=t.options.mapController.proxy.layerController.arrLayers[jQuery(t.areaLayersSelect).val()]:"router"===e&&(o=t.options.mapController.proxy.layerController.arrLayers[jQuery(t.routerLayersSelect).val()]),n.get("tid")===r[i].id){var a=t.options.mapController.data.clickLocstyle;if(a)if(t.options.mapController.proxy.locationStyleController.arrLocStyles[a]){var s=t.options.mapController.proxy.locationStyleController.arrLocStyles[a].style;n.setStyle(s)}else t.options.mapController.proxy.locationStyleController.loadLocationStyles([a],{done:function(){var e=t.options.mapController.proxy.locationStyleController.arrLocStyles[a].style;t.mapSelectInteraction.getFeatures().forEach((function(t,r,i){t===n&&n.setStyle(e)}))}})}else if(t.bestFeatureIds.includes(n.get("tid"))){var l=t.options.mapController.data.priorityLocstyle;n.setStyle(t.options.mapController.proxy.locationStyleController.arrLocStyles[l].style)}else n.setStyle(t.options.mapController.proxy.locationStyleController.arrLocStyles[o.locstyle].style)})),jQuery(this).parent().children("li").each((function(e,t){jQuery(t).addClass(o.cssConstants.INACTIVE).removeClass(o.cssConstants.ACTIVE)})),jQuery(this).addClass(o.cssConstants.ACTIVE).removeClass(o.cssConstants.INACTIVE),jQuery("div.c4g-portside-content-container").animate({scrollTop:l.offsetTop-300}),t.update()})),p.appendChild(l)},f=0;f<r.length;f++)d(f);t.entryWrapper=p,jQuery(".c4g-router-instructions-wrapper").css("display","none"),t[e+"FeatureWrapper"].appendChild(p)}}},{key:"handlePosition",value:function(e,t,r,n){var i=e.coords;this.options.mapController.data.profile;"fromValue"===r?(this[r]=new d.Point([i.longitude,i.latitude]),this.performReverseSearch(jQuery(this.$fromInput),[i.longitude,i.latitude])):"overValue"===r?(this[r]||(this[r]=[]),this[r].push(new d.Point([i.longitude,i.latitude])),this.performReverseSearch(jQuery(this.$overInput),[i.longitude,i.latitude])):"toValue"===r&&(this[r]=new d.Point([i.longitude,i.latitude]),this.performReverseSearch(jQuery(this.$toInput),[i.longitude,i.latitude])),"area"===n&&(this.setAreaPoint([i.longitude,i.latitude]),this[r]&&this.performArea(this[r])),this.recalculateRoute()}},{key:"addAreaInputInteraction",value:function(){var e=this;e.fnMapAreaInteraction=function(t){""===jQuery(e.areaFromInput).val()&&(e.performReverseSearch(jQuery(e.areaFromInput),(0,f.toLonLat)(t.coordinate)),e.areaValue=new d.Point((0,f.toLonLat)(t.coordinate)),e.setAreaPoint(t.coordinate),e.performArea(e.areaValue))},e.options.mapController.map.addInteraction(this.mapSelectInteraction),e.options.mapController.map.on("click",e.fnMapAreaInteraction),e.updateLinkFragments("mode","area")}},{key:"setAreaPoint",value:function(e){if(this.areaValue){var t=jQuery.extend(!0,{},this.areaValue);e[0]>=-90&&e[0]<=90&&e[1]>=-90&&e[1]<=90||t.transform("EPSG:4326","EPSG:3857");var r=new p.Feature({geometry:t}),n=this.options.mapController.data.areaCenterLocstyle;r.setStyle(this.options.mapController.proxy.locationStyleController.arrLocStyles[n].style),this.areaSource.clear(),this.routerFeaturesSource.clear(),this.routerWayLayer.getSource().clear(),this.routerAltWayLayer.getSource().clear(),this.locationsSource.clear(),this.mapSelectInteraction.getFeatures().clear(),this.areaSource.addFeature(r),this.updateLinkFragments("addressArea",e)}}},{key:"setFromPoint",value:function(e){var t=this;this.fromValue?this.fromValue.setCoordinates(e):this.fromValue=new d.Point(e),e[0]>=-90&&e[0]<=90&&e[1]>=-90&&e[1]<=90||this.fromValue.transform("EPSG:3857","EPSG:4326");jQuery.extend(!0,{},this.fromValue);var r=new p.Feature({geometry:this.fromValue}),n=this.options.mapController.data.router_from_locstyle;this.options.mapController.proxy.locationStyleController.arrLocStyles[n]?r.setStyle(this.options.mapController.proxy.locationStyleController.arrLocStyles[n].style):this.options.mapController.proxy.hook_locstyles_loaded.push((function(){r.setStyle(t.options.mapController.proxy.locationStyleController.arrLocStyles[n].style)})),this.mapSelectInteraction.getFeatures().clear(),this.routerFeaturesSource.addFeature(r),this.updateLinkFragments("addressFrom",e),this.performReverseSearch(this.$fromInput,e),this.recalculateRoute()}},{key:"setToPoint",value:function(e){var t=this;this.toValue?this.toValue.setCoordinates(e):this.toValue=new d.Point(e),e[0]>=-90&&e[0]<=90&&e[1]>=-90&&e[1]<=90||this.toValue.transform("EPSG:3857","EPSG:4326");jQuery.extend(!0,{},this.toValue);var r=new p.Feature({geometry:this.toValue}),n=this.options.mapController.data.router_to_locstyle;this.options.mapController.proxy.locationStyleController.arrLocStyles[n]?r.setStyle(this.options.mapController.proxy.locationStyleController.arrLocStyles[n].style):this.options.mapController.proxy.hook_locstyles_loaded.push((function(){r.setStyle(t.options.mapController.proxy.locationStyleController.arrLocStyles[n].style)})),this.mapSelectInteraction.getFeatures().clear(),this.routerFeaturesSource.addFeature(r),this.updateLinkFragments("addressTo",e),this.performReverseSearch(this.$toInput,e),this.recalculateRoute()}},{key:"createRouterProfileSelect",value:function(){var e=this,t=this,r=[];if(this.options.mapController.data.router_profiles&&1==Object.keys(this.options.mapController.data.router_profiles).length)this.routeProfile=[],this.routeProfile.active=Object.keys(this.options.mapController.data.router_profiles)[0];else if(this.options.mapController.data.router_profiles&&Object.keys(this.options.mapController.data.router_profiles).length>1){if(this.routeProfile=document.createElement("div"),jQuery(this.routeProfile).addClass(l.routingConstants.ROUTER_PROFILE_WRAPPER),this.options.mapController.data.router_profiles[0]&&(r.car=document.createElement("button"),jQuery(r.car).addClass(l.routingConstants.ROUTER_PROFILE_CAR),jQuery(r.car).prop("title",C.CAR),this.$routeProfileCar=jQuery(r.car),this.routeProfile.appendChild(r.car),this.$routeProfileCar.click((function(e){t.clearSiblings(this),t.routeProfile.active="0",t.recalculateRoute()}))),this.options.mapController.data.router_profiles[1]||this.options.mapController.data.router_profiles[11]){var n=document.createElement("span");if(r.truck=document.createElement("button"),r.truck.list=document.createElement("ul"),this.$routeProfileTruck=jQuery(r.truck),this.options.mapController.data.router_profiles[1]){var i=document.createElement("li");i.innerHTML=this.options.mapController.data.router_profiles[1],jQuery(i).data("profile",[1]),jQuery(i).click((function(e){t.childClick(jQuery(this))})),this.$routeProfileTruck.data("profile")||(this.$routeProfileTruck.data("profile",1),jQuery(i).addClass(o.cssConstants.ACTIVE)),r.truck.list.appendChild(i)}if(this.options.mapController.data.router_profiles[11]){var a=document.createElement("li");a.innerHTML=this.options.mapController.data.router_profiles[11],jQuery(a).data("profile",[11]),jQuery(a).click((function(e){t.childClick(jQuery(this))})),this.$routeProfileTruck.data("profile")||(this.$routeProfileTruck.data("profile",11),jQuery(a).addClass(o.cssConstants.ACTIVE)),r.truck.list.appendChild(a)}jQuery(r.truck).addClass(l.routingConstants.ROUTER_PROFILE_TRUCK),jQuery(r.truck).prop("title",C.TRUCK),1==r.truck.list.children.length?(this.routeProfile.appendChild(r.truck),this.$routeProfileTruck.click((function(e){t.clearSiblings(this),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()}))):(n.appendChild(r.truck),n.appendChild(r.truck.list),this.routeProfile.appendChild(n),this.$routeProfileTruck.click((function(e){t.clearSiblings(jQuery(this).parent()),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()})))}if(this.options.mapController.data.router_profiles[2]||this.options.mapController.data.router_profiles[3]||this.options.mapController.data.router_profiles[4]||this.options.mapController.data.router_profiles[5]||this.options.mapController.data.router_profiles[6]||this.options.mapController.data.router_profiles[7]){var s=document.createElement("span");r.bike=document.createElement("button"),r.bike.list=document.createElement("ul"),this.$routeProfileBike=jQuery(r.bike);for(var u=2;u<8;u++)this.options.mapController.data.router_profiles[u]&&function(){var n=document.createElement("li");n.innerHTML=e.options.mapController.data.router_profiles[u],jQuery(n).data("profile",[u]),jQuery(n).click((function(e){t.childClick(jQuery(n))})),e.$routeProfileBike.data("profile")||(e.$routeProfileBike.data("profile",u),jQuery(n).addClass(o.cssConstants.ACTIVE)),r.bike.list.appendChild(n)}();jQuery(r.bike).addClass(l.routingConstants.ROUTER_PROFILE_BIKE),jQuery(r.bike).prop("title",C.BIKE),1==r.bike.list.children.length?(this.routeProfile.appendChild(r.bike),this.$routeProfileBike.click((function(e){t.clearSiblings(this),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()}))):(s.appendChild(r.bike),s.appendChild(r.bike.list),this.routeProfile.appendChild(s),this.$routeProfileBike.click((function(e){t.clearSiblings(jQuery(this).parent()),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()})))}if(this.options.mapController.data.router_profiles[8]||this.options.mapController.data.router_profiles[9]){var c=document.createElement("span");r.foot=document.createElement("button"),r.foot.list=document.createElement("ul"),this.$routeProfileFoot=jQuery(r.foot);for(var h=8;h<10;h++)if(this.options.mapController.data.router_profiles[h]){var p=document.createElement("li");p.innerHTML=this.options.mapController.data.router_profiles[h],jQuery(p).data("profile",[h]),jQuery(p).click((function(e){t.childClick(jQuery(this))})),this.$routeProfileFoot.data("profile")||(this.$routeProfileFoot.data("profile",h),jQuery(p).addClass(o.cssConstants.ACTIVE)),r.foot.list.appendChild(p)}jQuery(r.foot).addClass(l.routingConstants.ROUTER_PROFILE_FOOT),jQuery(r.foot).prop("title",C.WALK),1==r.foot.list.children.length?(this.routeProfile.appendChild(r.foot),this.$routeProfileFoot.click((function(e){t.clearSiblings(this),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()}))):(c.appendChild(r.foot),c.appendChild(r.foot.list),this.routeProfile.appendChild(c),this.$routeProfileFoot.click((function(e){t.clearSiblings(jQuery(this).parent()),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()})))}if(this.options.mapController.data.router_profiles[10]&&(r.wheelchair=document.createElement("button"),jQuery(r.wheelchair).addClass(l.routingConstants.ROUTER_PROFILE_WHEELCHAIR),jQuery(r.wheelchair).prop("title",C.WHEEL),this.$routeProfileWheelchair=jQuery(r.wheelchair),this.routeProfile.appendChild(r.wheelchair),this.$routeProfileWheelchair.click((function(e){t.clearSiblings(this),t.routeProfile.active="10",t.recalculateRoute()}))),this.options.mapController.data.router_profiles[12]||this.options.mapController.data.router_profiles[13]){var d=document.createElement("span");r.motorcycle=document.createElement("button"),r.motorcycle.list=document.createElement("ul"),this.$routeProfileMotorcycle=jQuery(r.motorcycle);for(var f=12;f<14;f++)if(this.options.mapController.data.router_profiles[f]){var g=document.createElement("li");g.innerHTML=this.options.mapController.data.router_profiles[f],jQuery(g).data("profile",[f]),jQuery(g).click((function(e){t.childClick(jQuery(this))})),this.$routeProfileMotorcycle.data("profile")||(this.$routeProfileMotorcycle.data("profile",f),jQuery(g).addClass(o.cssConstants.ACTIVE)),r.motorcycle.list.appendChild(g)}jQuery(r.motorcycle).addClass(l.routingConstants.ROUTER_PROFILE_SCOOTER),jQuery(r.motorcycle).prop("title",C.SCOOTER),1==r.motorcycle.list.children.length?(this.routeProfile.appendChild(r.motorcycle),this.$routeProfileMotorcycle.click((function(e){t.clearSiblings(this),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()}))):(d.appendChild(r.motorcycle),d.appendChild(r.motorcycle.list),this.routeProfile.appendChild(d),this.$routeProfileMotorcycle.click((function(e){t.clearSiblings(jQuery(this).parent()),t.routeProfile.active=jQuery(this).data("profile"),t.recalculateRoute()})))}for(var m in this.childClick=function(e){t.routeProfile.active=e.data("profile"),t.clearSiblings(e),t.recalculateRoute()},this.clearSiblings=function(e){for(var t=jQuery(e).parent().children(),r=0;r<t.length;r++)jQuery(t[r]).removeClass(o.cssConstants.ACTIVE);jQuery(e).addClass(o.cssConstants.ACTIVE)},this.options.mapController.data.router_profiles)if(this.options.mapController.data.router_profiles.hasOwnProperty(m)){this.routeProfile.active=m;break}}else if(this.options.mapController.data.customProfiles&&this.options.mapController.data.customProfiles.length>1){this.routeProfile=document.createElement("div"),jQuery(this.routeProfile).addClass(l.routingConstants.ROUTER_PROFILE_WRAPPER),this.customProfiles=[],t.routeProfile.active=this.options.mapController.data.customProfiles[0].profileKey;var y=function(n){var i=e.options.mapController.data.customProfiles[n],a="c4g-custom-router-"+i.profileKey,s=document.createElement("style");document.head.appendChild(s);var l=s.sheet;l.addRule&&"function"==typeof document.styleSheets[0].addRule?l.addRule("button."+a+":before",'content: "\\'+i.fontAwesome+'";'):l.insertRule("button."+a+':before { content: "\\'+i.fontAwesome+'";}',0),r[i.profileKey]=document.createElement("button"),jQuery(r[i.profileKey]).prop("title",i.showName),jQuery(r[i.profileKey]).click((function(e){t.clearSiblings(this),t.routeProfile.active=i.profileKey,t.recalculateRoute()})),jQuery(r[i.profileKey]).addClass(a),0==n&&jQuery(r[i.profileKey]).addClass(o.cssConstants.ACTIVE),e.routeProfile.appendChild(r[i.profileKey]),e.customProfiles.push(jQuery(r[i.profileKey]))};for(var _ in this.options.mapController.data.customProfiles)y(_);this.clearSiblings=function(e){for(var t=jQuery(e).parent().children(),r=0;r<t.length;r++)jQuery(t[r]).removeClass(o.cssConstants.ACTIVE);jQuery(e).addClass(o.cssConstants.ACTIVE)}}else this.options.mapController.data.customProfiles?(t.routeProfile={},t.routeProfile.active=this.options.mapController.data.customProfiles[0].profileKey):console.warn("No Router Profiles enabled")}},{key:"createPositionButton",value:function(e,t,r){var n=this,i=function(i){n.handlePosition(i,e,t,r)},o=document.createElement("button");return o.className=l.routingConstants.ROUTE_POSITION,o.title=C.ROUTE_POSITION,o.innerHTML="",jQuery(o).on("click",(function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(i):console.warn("The geolocation API is not available in your browser. Consider updating it or switching to a newer browser.")})),o}},{key:"createDetourSlider",value:function(e,t,r,n){}},{key:"addInterimField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this;this.$buttonOver.prop("disabled",!0),this.overInputWrapper=document.createElement("div"),this.overInputWrapper.className=l.routingConstants.ROUTER_INPUT_WRAPPER,this.overInput=document.createElement("input"),this.overInput.type="text",this.overInput.className=l.routingConstants.ROUTER_INPUT_OVER,this.overInput.id=this.overInput.name="routingOver";var n=document.createElement("label"),i=this.createPositionButton(".c4g-router-input-over","overValue","router");n.setAttribute("for","routingFrom"),n.innerHTML=C.ROUTER_Label_Interim;var o=document.createElement("button");o.className=l.routingConstants.ROUTER_INPUT_CLEAR,o.title=C.ROUTER_CLEAR_TITLE,o.innerHTML=C.ROUTER_CLEAR_HTML,o.id=t||0,this.$routerOverClear=jQuery(o),this.overInputWrapper.appendChild(n),this.overInputWrapper.appendChild(this.overInput),this.overInputWrapper.appendChild(i),this.overInputWrapper.appendChild(o);var a=$("."+l.routingConstants.ROUTER_INPUT_WRAPPER),s=null;return s=0==e||e?a[e=parseInt(e)+1]:a.last()[0],this.routerViewInputWrapper.insertBefore(this.overInputWrapper,s),this.$routerOverClear.click((function(e){e.preventDefault(),r.clearOver(r.$overInput,this.id),jQuery(this).parent().remove()})),r.$overInput=jQuery(r.overInput),this.$overInput.on("change",(function(){r.performSearch(r.$overInput,"overValue",(function(){r.recalculateRoute()}))})),this.$overInput}},{key:"addRouterInterface",value:function(){var e,t=void 0,r=void 0,n=void 0,i=void 0,a=void 0,s=void 0,u=void 0,c=void 0,p=void 0;e=this;var g=this.mapData;if(t=document.createElement("div"),r=document.createElement("div"),this.routerViewInputWrapper=r,n=document.createElement("div"),t.appendChild(r),t.appendChild(n),e.routerViewContentWrapper=n,this.options.mapController.data.showFeatures&&this.options.mapController.data.showInstructions){var m=document.createElement("button");m.innerHTML=this.options.mapController.data.featureLabel,jQuery(m).on("click",(function(){jQuery(".c4g-router-instructions-wrapper").css("display","none"),jQuery(".router-features-display").css("display","block")}));var y=document.createElement("button");y.innerHTML=this.options.mapController.data.instructionLabel,jQuery(y).on("click",(function(){jQuery(".c4g-router-instructions-wrapper").css("display","block"),jQuery(".router-features-display").css("display","none")})),jQuery(".c4g-router-instructions-wrapper").css("display","block"),jQuery(".router-features-display").css("display","none"),e.contentSwitcher=document.createElement("div"),e.contentSwitcher.className="router-content-switcher",jQuery(e.contentSwitcher).hide(),e.contentSwitcher.appendChild(m),e.contentSwitcher.appendChild(y),n.appendChild(e.contentSwitcher)}if(this.fromInputWrapper=document.createElement("div"),this.fromInputWrapper.className=l.routingConstants.ROUTER_INPUT_WRAPPER,this.fromInput=document.createElement("input"),this.fromInput.type="text",this.fromInput.className=l.routingConstants.ROUTER_INPUT_FROM,this.fromInput.id=this.fromInput.name="routingFrom",g.autocomplete){var _={selectListener:function(t,r){var n=r.item.value,i=x.arrFromPositions[x.arrFromNames.findIndex((function(e){return e===n}))];e.fromValue=new d.Point([i[1],i[0]]),e.recalculateRoute()},submitFunction:function(t){e.$fromInput.trigger("change");e.performSearch(e.$fromInput,"fromValue",(function(){e.performViaRoute()}))},deleteFunction:function(t){e.fromValue=null,x.arrFromPositions=[],e.recalculateRoute()},changeListener:function(){}};this.$fromInput=jQuery(this.fromInput);var b={proxyUrl:g.proxyUrl,keyAutocomplete:g.autocomplete,center:function(){var t=e.options.mapController.map.getView().getCenter();return t=(0,f.transform)(t,"EPSG:3857","EPSG:4326"),t}};new v.AutocompleteHandler(this.$fromInput,_,"route-to",b,x).handleInput(),this.$fromInput.autocomplete({source:x.arrFromNames})}else this.$fromInput=jQuery(this.fromInput),this.$fromInput.on("change",(function(t){e.fromValue=null,e.performSearch(e.$fromInput,"fromValue")})),this.$fromInput.on("keydown",(function(t){if(13===t.keyCode){e.$fromInput.trigger("change");var r=function(){e.performViaRoute()};e.fromValue?r():e.performSearch(e.$fromInput,"fromValue",r)}}));(i=document.createElement("label")).setAttribute("for","routingFrom"),i.innerHTML=C.ROUTER_FROM_LABEL,(s=document.createElement("button")).className=l.routingConstants.ROUTER_INPUT_CLEAR,s.title=C.ROUTER_CLEAR_TITLE,s.innerHTML=C.ROUTER_CLEAR_HTML,this.$routerFromClear=jQuery(s),this.$routerFromClear.click((function(t){e.fromValue=null,t.preventDefault(),e.clearInput(e.$fromInput)}));var w=this.createPositionButton(".c4g-router-input-from","fromValue","router");this.routerButtonBar=document.createElement("div"),this.routerButtonBar.className=l.routingConstants.ROUTER_BUTTONBAR,this.options.mapController.data.enableOverPoints&&((p=document.createElement("button")).className=l.routingConstants.ROUTER_OVER,p.title=C.ROUTER_OVER,this.$buttonOver=jQuery(p),this.routerButtonBar.appendChild(p),this.$buttonOver.on("click",(function(){e.addInterimField()}))),this.options.mapController.data.enableTargetSwitch&&((c=document.createElement("button")).className=l.routingConstants.ROUTER_SWITCH,c.title=C.ROUTER_SWITCH,this.$switchFromTo=jQuery(c),this.routerButtonBar.appendChild(c)),this.options.mapController.data.router_api_selection>=1&&this.createRouterProfileSelect(),this.fromInputWrapper.appendChild(i),this.fromInputWrapper.appendChild(this.fromInput),this.fromInputWrapper.appendChild(w),this.fromInputWrapper.appendChild(s),p&&"0"==this.options.mapController.data.router_api_selection&&this.$buttonOver.hide(),this.options.mapController.data.enableTargetSwitch&&this.$switchFromTo.click((function(t){t.preventDefault();var r=document.getElementById("routingFrom").value;document.getElementById("routingFrom").value=document.getElementById("routingTo").value,document.getElementById("routingTo").value=r;var n=e.fromValue;e.fromValue=e.toValue,e.toValue=n,e.recalculateRoute()})),r.appendChild(this.routerButtonBar),this.routeProfile&&this.routeProfile.children&&r.appendChild(this.routeProfile);var O=function(){e.routerLayersInput=document.createElement("div"),e.routerLayersSelect=document.createElement("select"),e.routerLayersInput.appendChild(e.routerLayersSelect);var t=document.createElement("option");for(var n in t.value=!1,t.textContent="-",e.routerLayersSelect.add(t),g.routerLayers){var i=document.createElement("option");i.value=n;var a=e.options.mapController.proxy.layerController.arrLayers[n];a?(i.textContent=a.name,e.routerLayersSelect.add(i)):console.warn("The layer with the ID "+n+" is not included in the map. Please include it to use it for route search.")}e.routerLayersValueSelect=document.createElement("div"),e.routerLayersValueSelect.className=l.routingConstants.ROUTE_LAYER_VALUES,jQuery(e.routerLayersSelect).on("change",(function(){jQuery(e.routerLayersValueSelect).empty();var t=jQuery(this).val(),r=function(){e.activeLayerValue=this.innerHTML,jQuery(this).addClass(o.cssConstants.ACTIVE).removeClass(o.cssConstants.INACTIVE),jQuery(this).siblings().addClass(o.cssConstants.INACTIVE).removeClass(o.cssConstants.ACTIVE),e.reloadFeatureValues("router"),e.response&&e.response.features&&e.showFeatures(e.response.features,e.response.type,"router");var t=jQuery(e.routerLayersSelect).val();e.updateLinkFragments("searchType",e.options.mapController.data.routerLayers[t][e.activeLayerValue].mapLabel)},n=!1;for(var i in g.routerLayers[t])if(g.routerLayers[t].hasOwnProperty(i)){var a=document.createElement("button");a.innerHTML=i,a.value=g.routerLayers[t][i].keys,jQuery(a).on("click",r),e.routerLayersValueSelect.appendChild(a),e.desiredButtonRouting&&e.desiredButtonRouting===i&&(jQuery(a).click(),n=!0)}n||jQuery(e.routerLayersValueSelect.firstChild).trigger("click"),1===e.routerLayersValueSelect.childElementCount&&jQuery(e.routerLayersValueSelect.firstChild).css("display","none"),e.recalculateRoute()})),jQuery(e.routerLayersSelect).trigger("change"),Object.keys(g.routerLayers).length<=1&&jQuery(e.routerLayersSelect).css("display","none"),jQuery(e.routerLayersSelect).addClass(l.routingConstants.ROUTE_LAYERS_SELECT),jQuery(e.routerLayersInput).insertBefore(jQuery(r)),jQuery(e.routerLayersValueSelect).insertBefore(jQuery(r))};if(g.routerLayers){e.options.mapController.proxy.layers_loaded?O():(window.c4gMapsHooks=window.c4gMapsHooks||{},window.c4gMapsHooks.proxy_layer_loaded=window.c4gMapsHooks.proxy_layer_loaded||[],window.c4gMapsHooks.proxy_layer_loaded.push(O));var E=this.createDetourSlider("route",g.detourRoute.min,g.detourRoute.max,g.detourRoute.initial);r.appendChild(E)}if(r.appendChild(this.fromInputWrapper),this.toInputWrapper=document.createElement("div"),this.toInputWrapper.className=l.routingConstants.ROUTER_INPUT_WRAPPER,this.toInput=document.createElement("input"),this.toInput.type="text",this.toInput.className=l.routingConstants.ROUTER_INPUT_TO,this.toInput.id=this.toInput.name="routingTo",g.autocomplete){this.$toInput=jQuery(this.toInput);var T={selectListener:function(t,r){var n=r.item.value,i=x.arrToPositions[x.arrToNames.findIndex((function(e){return e===n}))];e.toValue=new d.Point([i[1],i[0]]),e.recalculateRoute()},submitFunction:function(){e.$toInput.trigger("change");e.performSearch(e.$toInput,"toValue",(function(){e.performViaRoute()}))},deleteFunction:function(t){e.toValue=null,x.arrFromPositions=[],x.arrFromPositions=[],e.recalculateRoute()},changeListener:function(){}},S={proxyUrl:g.proxyUrl,keyAutocomplete:g.autocomplete,center:function(){var t=e.options.mapController.map.getView().getCenter();return t=(0,f.transform)(t,"EPSG:3857","EPSG:4326"),t}};new v.AutocompleteHandler(this.$toInput,T,"route-to",S,x).handleInput(),this.$toInput.autocomplete({source:x.arrToNames})}else this.$toInput=jQuery(this.toInput),this.$fromInput.on("change",(function(t){e.fromValue=null,e.performSearch(e.$fromInput,"fromValue")})),this.$fromInput.on("keydown",(function(t){if(13===t.keyCode){e.$fromInput.trigger("change");var r=function(){e.performViaRoute()};e.fromValue?r():e.performSearch(e.$fromInput,"fromValue",r)}}));var k=this.createPositionButton(".c4g-router-input-to","toValue","router");if((a=document.createElement("label")).setAttribute("for","routingTo"),a.innerHTML=C.ROUTER_TO_LABEL,(u=document.createElement("button")).className=l.routingConstants.ROUTER_INPUT_CLEAR,u.title=C.ROUTER_CLEAR_TITLE,u.innerHTML=C.ROUTER_CLEAR_HTML,this.$routerToClear=jQuery(u),this.toInputWrapper.appendChild(a),this.toInputWrapper.appendChild(this.toInput),this.toInputWrapper.appendChild(k),this.toInputWrapper.appendChild(u),e.$routerToClear.click((function(t){t.preventDefault(),e.toValue=null,e.clearInput(e.$toInput)})),r.appendChild(this.toInputWrapper),g.routeStartButton){var R=document.createElement("button");R.className=l.routingConstants.ROUTE_START_BUTTON,R.innerText=C.START_ROUTE,jQuery(R).on("click",(function(t){e.fromValue&&e.toValue?e.performViaRoute(e.fromValue,e.toValue):(e.spinner.show(),window.setTimeout((function(){e.fromValue&&e.toValue&&e.performViaRoute(e.fromValue,e.toValue),e.spinner.hide()}),1e3))})),r.appendChild(R)}e.fromInputLoaded=!1,e.toInputLoaded=!1;return this.addView({name:"router-view",triggerConfig:{tipLabel:C.ROUTER_VIEW_ADDRESS_INPUT,className:l.routingConstants.ROUTER_SEARCH,withHeadline:!0},sectionElements:[{section:this.contentContainer,element:t},{section:this.topToolbar,element:this.viewTriggerBar}],activateFunction:function(){if(e.removeMapInputInteraction(),e.addMapInputInteraction(),e.updateLinkFragments("mode","route"),e.fromInputLoaded){new h.CachedInputfield("#routingFrom",!0,"c4g-router-address","pink");e.fromInputLoaded=!0}if(e.toInputLoaded){new h.CachedInputfield("#routingTo",!0,"c4g-router-address","pink");e.toInputLoaded=!0}},deactivateFunction:function(){e.removeMapInputInteraction()}})}},{key:"addAreaInterface",value:function(){var e,t,r=void 0,n=void 0,i=void 0,a=void 0;e=this;var s=this.mapData;n=document.createElement("div"),r=document.createElement("div"),t=document.createElement("div"),n.appendChild(r),n.appendChild(t),e.areaViewContentWrapper=t,this.areaFromInputWrapper=document.createElement("div"),this.areaFromInputWrapper.className=l.routingConstants.ROUTER_INPUT_WRAPPER,this.areaFromInput=document.createElement("input"),this.areaFromInput.type="text",this.areaFromInput.className=l.routingConstants.ROUTER_INPUT_FROM,this.areaFromInput.id=this.areaFromInput.name="areaFrom",this.$areaFromInput=jQuery(this.areaFromInput),this.$areaFromInput.on("change",(function(){e.performSearch(e.$areaFromInput,"areaValue",(function(){e.areaValue&&(e.setAreaPoint(e.areaValue.getCoordinates()),e.performArea(e.areaValue))}))}));var u=this.createPositionButton(".c4g-router-input-from","areaValue","area");(i=document.createElement("label")).setAttribute("for","areaFrom"),i.innerHTML=C.ROUTER_FROM_LABEL,(a=document.createElement("button")).className=l.routingConstants.ROUTER_INPUT_CLEAR,a.title=C.ROUTER_CLEAR_TITLE,a.innerHTML=C.ROUTER_CLEAR_HTML,this.$areaFromClear=jQuery(a),this.areaFromInputWrapper.appendChild(i),this.areaFromInputWrapper.appendChild(u),this.areaFromInputWrapper.appendChild(this.areaFromInput),this.areaFromInputWrapper.appendChild(a),this.$areaFromClear.on("click",(function(t){t.preventDefault(),e.clearInput(jQuery(e.areaFromInput))})),this.routeProfile&&this.routeProfile.children&&r.appendChild(this.routeProfile);var c=function(){for(var t in e.areaLayersInput=document.createElement("div"),e.areaLayersSelect=document.createElement("select"),e.areaLayersInput.appendChild(e.areaLayersSelect),s.routerLayers){var n=document.createElement("option");n.value=t;var i=e.options.mapController.proxy.layerController.arrLayers[t];i?(n.textContent=i.name,e.areaLayersSelect.add(n)):console.warn("The layer with the ID "+t+" is not included in the map. Please include it to use it for area search.")}e.areaLayersValueSelect=document.createElement("div"),e.areaLayersValueSelect.className=l.routingConstants.ROUTE_LAYER_VALUES,jQuery(e.areaLayersSelect).on("change",(function(){jQuery(e.areaLayersValueSelect).empty();var t=jQuery(this).val(),r=function(){e.activeLayerValueArea=this.innerHTML,jQuery(this).addClass(o.cssConstants.ACTIVE).removeClass(o.cssConstants.INACTIVE),jQuery(this).siblings().addClass(o.cssConstants.INACTIVE).removeClass(o.cssConstants.ACTIVE),e.reloadFeatureValues("area"),e.response&&e.showFeatures(e.response[0],e.response[1],"area");var t=jQuery(e.areaLayersSelect).val();e.updateLinkFragments("searchType",e.options.mapController.data.routerLayers[t][e.activeLayerValueArea].mapLabel)},n=!1;for(var i in s.routerLayers[t])if(s.routerLayers[t].hasOwnProperty(i)){var a=document.createElement("button");a.innerHTML=i,a.value=s.routerLayers[t][i].keys,jQuery(a).on("click",r),e.areaLayersValueSelect.appendChild(a),e.desiredButtonRouting&&e.desiredButtonRouting===i&&(jQuery(a).trigger("click"),n=!0)}n||jQuery(e.areaLayersValueSelect.firstChild).trigger("click"),1===e.areaLayersValueSelect.childElementCount&&jQuery(e.areaLayersValueSelect.firstChild).css("display","none"),e.areaValue&&e.performArea(e.areaValue)})),jQuery(e.areaLayersSelect).trigger("change"),Object.keys(s.routerLayers).length<=1&&jQuery(e.areaLayersSelect).css("display","none"),jQuery(e.areaLayersSelect).addClass(l.routingConstants.ROUTE_LAYERS_SELECT),jQuery(e.areaLayersInput).insertBefore(jQuery(r)),jQuery(e.areaLayersValueSelect).insertBefore(jQuery(r))};s.routerLayers&&e.options.mapController.proxy.layers_loaded?c():(window.c4gMapsHooks=window.c4gMapsHooks||{},window.c4gMapsHooks.proxy_layer_loaded=window.c4gMapsHooks.proxy_layer_loaded||[],window.c4gMapsHooks.proxy_layer_loaded.push(c));var p=this.createDetourSlider("area",s.detourArea.min,s.detourArea.max,s.detourArea.initial);r.appendChild(p),this.areaInputLoaded=!1;var d=function(){e.options.mapController.map.un("click",e.fnMapAreaInteraction)};if(r.appendChild(this.areaFromInputWrapper),s.routeStartButton){var f=document.createElement("button");f.className="c4g-area-search-start",f.innerText="Suche starten";jQuery(f).on("click",(function(t){e.areaValue?e.performArea(e.areaValue):(e.spinner.show(),window.setTimeout((function(){e.areaValue?e.performArea(e.areaValue):console.warn("Address search cancelled after waiting for address too long..."),e.spinner.hide()}),1e3))})),r.appendChild(f)}return this.addView({name:"area-view",triggerConfig:{tipLabel:C.AREA_NAME,className:"c4g-area-search",withHeadline:!0},sectionElements:[{section:this.contentContainer,element:n},{section:this.topToolbar,element:this.viewTriggerBar}],activateFunction:function(){if(d(),e.addAreaInputInteraction(),e.updateLinkFragments("mode","area"),!e.areaInputLoaded){new h.CachedInputfield("#areaFrom",!0,"c4g-router-address");e.areaInputLoaded=!0}},deactivateFunction:d})}},{key:"clearInput",value:function(e){e.val(""),e.trigger("change"),this.routingWaySource.clear(),this.routingAltWaySource.clear(),this.routingHintSource.clear(),jQuery(this.routerInstructionsWrapper).empty(),e[0]!==this.$areaFromInput[0]&&this.recalculateRoute(),this.update()}},{key:"clearOver",value:function(e,t){if(this.overValue){for(var r=-1,n=0;n<this.overValue.length;n++)this.overValue[n].ol_uid===t&&(r=n);r>-1&&this.overValue.splice(r,1),this.overValue.splice(t,1)}this.$buttonOver.prop("disabled",!1),jQuery(this.routerInstructionsWrapper).empty(),this.recalculateRoute(),this.update()}},{key:"showRouterError",value:function(e){var t=document.createElement("div");jQuery(t).addClass(l.routingConstants.ROUTE_ERROR),jQuery(t).addClass("contentHeadline");var r=document.createElement("label");r.innerHTML=e,t.appendChild(r);var n=document.createElement("button");return jQuery(n).addClass(o.cssConstants.POPUP_CLOSE),jQuery(n).addClass(o.cssConstants.ICON),jQuery(n).on("click",(function(){jQuery(this).parent().remove()})),t.appendChild(n),t}}]),t}(i.Sideboard);window.c4gMapsHooks=window.c4gMapsHooks||{},window.c4gMapsHooks.mapController_addControls=window.c4gMapsHooks.mapController_addControls||[],window.c4gMapsHooks.mapController_addControls.push((function(e){var t=e.mapController;if(t.data.router_enable){t.map.removeControl(t.controls.router),void 0!==t.data&&(C="de"===t.data.lang?c.routingConstantsGerman:(t.data.lang,u.routingConstantsEnglish));var r={target:document.querySelector("#"+t.data.mapDiv+" .c4g-control-container-top-left"),mapController:t,direction:"top",withPosition:!1,detourRoute:t.data.detourRoute,detourArea:t.data.detourArea,containerAddresses:x,className:"c4g-router-panel",langConstants:C};t.routerContainer=document.createElement("div"),t.components=t.components||{},t.components.router=w.default.render(O.default.createElement(E.RouterView,r),t.routerContainer),jQuery(".ol-overlaycontainer-stopevent").append(t.routerContainer)}}))},,,,,,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sideboard=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(201),a=r(168),s=r(284),l=r(285),u=r(269);t.Sideboard=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));switch(r.options=jQuery.extend({create:!0,extDiv:!1,defaultOpen:!1,mapController:void 0,name:"sideboard",direction:"right"},e),r.langConstants=(0,l.getLanguage)(r.options.mapController.data),r.options.direction){case"left":r.identifier="Portside",r.cssname="portside";break;case"right":r.identifier="Starboard",r.cssname="starboard"}return r.initialized=!1,r.options.tipLabel=r.options.tipLabel||r.options.headline||r.langConstants.CTRL_SIDEBOARD,r.container=document.createElement("div"),r.element=document.createElement("div"),r.button=void 0,r.spinner=void 0,r.wrapper=void 0,r.titleBar=void 0,r.headline=void 0,r.topToolbar=void 0,r.contentContainer=void 0,r.bottomToolbar=void 0,r.statusBar=void 0,r.sections=[],r.viewTriggerBar=void 0,r.views=[],r.activeView=void 0,r.pausedView=void 0,r.options.create&&r.options.mapController&&r.create(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package    con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version    6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author     con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright  Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link       https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */(t,e),i(t,[{key:"create",value:function(){var e,t,r,n,i,l;return this.options.caching,i=o.utils.capitalizeFirstLetter(this.options.name),e=this,this.options.extDiv?t=" "+a.cssConstants.OPEN:(t=" "+a.cssConstants.CLOSE,this.options.mapController["active"+this.identifier]=this.options.mapController["active"+this.identifier]||!1,this.button=document.createElement("button"),jQuery(this.button).on("click",(function(t){t.stopPropagation();try{this.blur()}catch(e){console.warn(e.name+": "+e.message)}"Router"===i||"Measure"===i||"Editor"===i?e.toggle(!0):e.toggle()})),this.button.title=this.options.tipLabel,this.element.appendChild(this.button)),this.options.extDiv?jQuery(this.container).addClass("c4g-"+this.options.name+" c4g-"+this.cssname+"-container-ext-div "+a.cssConstants.OL_UNSELECTABLE+t):jQuery(this.container).addClass("c4g-"+this.options.name+" c4g-"+this.cssname+"-container "+a.cssConstants.OL_UNSELECTABLE+t),jQuery(this.element).addClass("c4g-"+this.options.name+" c4g-"+this.cssname+"-control "+a.cssConstants.OL_UNSELECTABLE+" "+a.cssConstants.OL_CONTROL+t),this.options.direction,this.container.style[this.options.direction]="-100%",this.options.extDiv?document.getElementById(this.options.extDiv).appendChild(this.container):"left"===this.options.direction?jQuery("#"+this.options.mapController.map.getTarget()+" > div > div."+a.cssConstants.OL_OVERLAYCONTAINER_SE).append(this.container):this.options.mapController.$overlaycontainer_stopevent.append(this.container),this.wrapper=document.createElement("div"),this.wrapper.className="c4g-"+this.cssname+"-wrapper",this.container.appendChild(this.wrapper),this.titleBar=document.createElement("div"),this.titleBar.className="c4g-"+this.cssname+"-titlebar",this.wrapper.appendChild(this.titleBar),this.viewTriggerBar=document.createElement("div"),this.viewTriggerBar.className="c4g-"+this.cssname+"-viewtriggerbar",this.topToolbar=this.addSection({className:"c4g-"+this.cssname+"-top-toolbar",target:this.wrapper}),this.contentContainer=this.addSection({className:"c4g-"+this.cssname+"-content-container",target:this.wrapper}),this.contentHeadline=document.createElement("div"),this.contentHeadline.className="contentHeadline",this.contentHeadline.innerHTML="",this.contentContainer.appendChild(this.contentHeadline),this.bottomToolbar=this.addSection({className:"c4g-"+this.cssname+"-bottom-toolbar c4g-close",target:this.wrapper}),this.statusBar=document.createElement("div"),this.statusBar.className="c4g-"+this.cssname+"-statusbar c4g-close",this.wrapper.appendChild(this.statusBar),this.spinner=new s.Spinner({target:this.contentContainer,className:a.cssConstants.LARGE}),this.headline=document.createElement("span"),this.headline.className="c4g-"+this.cssname+"-headline",this.headline.innerHTML=this.options.headline,this.titleBar.appendChild(this.headline),(r=document.createElement("div")).className=a.cssConstants.CONTROL+" c4g-"+this.cssname+"-buttonbar",this.titleBar.appendChild(r),"left"===this.options.direction&&((l=document.createElement("button")).className=a.cssConstants.PORTSIDE_HIDE,l.title=this.langConstants.HIDE,jQuery(l).click((function(t){return t.preventDefault(),e.close(!0),!1})),r.appendChild(l)),this.options.extDiv?r.style.minHeight="50px":((n=document.createElement("button")).className="c4g-"+this.cssname+"-close",n.title=this.langConstants.CLOSE,jQuery(n).click((function(t){return t.preventDefault(),e.close(),!1})),r.appendChild(n)),this.spinner=new s.Spinner({target:this.contentContainer,className:a.cssConstants.LARGE}),jQuery(this.container).on("touchstart touchmove touchend",(function(e){e.stopPropagation()})),this.options.mapController.map.on("change:size",this.update,this),this.options.extDiv&&this.init(),!0}},{key:"update",value:function(e){var t,r,n;t=this,r=this.options&&this.options.extDiv?jQuery(this.wrapper).parent().parent().height()-(jQuery(this.titleBar).outerHeight(!0)+jQuery(this.statusBar).outerHeight(!0)):jQuery(this.wrapper).height()-(jQuery(this.titleBar).outerHeight(!0)+jQuery(this.statusBar).outerHeight(!0)),this.options&&this.options.direction&&"undefined"!==this.options.direction&&"left"===this.options.direction&&this!==this.options.mapController["active"+this.identifier]&&(n=0),this.topToolbar&&(this.topToolbar.innerHTML?(this.topToolbar.style.display="",r-=jQuery(this.topToolbar).outerHeight(!0)):this.topToolbar.style.display="none"),this.bottomToolbar&&(this.bottomToolbar.innerHTML?(this.bottomToolbar.style.display="",r-=jQuery(this.bottomToolbar).outerHeight(!0)):this.bottomToolbar.style.display="none"),jQuery(this.contentContainer).outerHeight(r),this.options&&this.options.mapController["active"+this.identifier]===this&&(n=this.container.offsetWidth,this.options.mapController[this.options.direction+"SlideElements"].forEach((function(e){jQuery(e).css(t.options.direction,n)})),"right"!==this.options.direction||this.options.extDiv||jQuery(this.element).css(this.options.direction,n))}},{key:"open",value:function(e){var t,r;if(r=this,this.initialized||("function"==typeof this.init?this.initialized=this.init(e):this.initialized=!0),"function"==typeof this.preOpenFunction&&this.preOpenFunction(),t=this.container.offsetWidth,!this.options.extDiv){if(this.options.mapController["active"+this.identifier]){if(this.options.mapController["active"+this.identifier]===this)return!1;this.options.mapController["active"+this.identifier].close(!0,!0)}else this.options.mapController[this.options.direction+"SlideElements"].forEach((function(e){jQuery(e).css(r.options.direction,t)}));return jQuery(this.container).removeClass(a.cssConstants.CLOSE).addClass(a.cssConstants.OPEN).css(this.options.direction,0),"left"===this.options.direction?jQuery(this.element).removeClass(a.cssConstants.CLOSE).addClass(a.cssConstants.OPEN):jQuery(this.element).removeClass(a.cssConstants.CLOSE).addClass(a.cssConstants.OPEN).css(this.options.direction,t),this.options.mapController["active"+this.identifier]=this,this.activeView&&this.activeView.activate(),jQuery(this.statusBar).hasClass(a.cssConstants.CLOSE)&&jQuery(this.statusBar).removeClass(a.cssConstants.CLOSE).addClass(a.cssConstants.OPEN),jQuery(this.bottomToolbar).hasClass(a.cssConstants.CLOSE)&&jQuery(this.bottomToolbar).removeClass(a.cssConstants.CLOSE).addClass(a.cssConstants.OPEN),jQuery(this.container).css("visibility","visible"),this.update(),this.options.caching&&o.utils.storeValue(this.options.name,"1"),"function"==typeof this.postOpenFunction&&this.postOpenFunction(),!0}return(console.warn("You cannot use this function on external embedded sideboard."),!1)}},{key:"isOpen",value:function(){return this.options.mapController["active"+this.identifier]&&this.options.mapController["active"+this.identifier]===this}},{key:"close",value:function(e,t){var r,n;return n=this.options.direction,e&&!t?"function"==typeof this.preHideFunction&&this.preHideFunction():"function"==typeof this.preCloseFunction&&this.preCloseFunction(),r=this.container.offsetWidth,this.options.extDiv?(console.warn("You cannot use this function on external embedded sideboard."),!1):this.options.mapController["active"+this.identifier]!==this?(console.warn("This "+this.options.name+"-element ("+this.options.name+") is already closed."),!1):(jQuery(this.container).removeClass(a.cssConstants.OPEN).addClass(a.cssConstants.CLOSE).css(n,-r),jQuery(this.element).removeClass(a.cssConstants.OPEN).addClass(a.cssConstants.CLOSE).css(n,0),t||this.options.mapController[n+"SlideElements"].forEach((function(e){jQuery(e).css(n,0)})),jQuery(this.container).css("visibility","hidden"),this.activeView&&this.activeView.deactivate(e&&!t),this.options.mapController["active"+this.identifier]=!1,this.options.caching&&o.utils.storeValue(this.options.name,"0"),!0)}},{key:"toggle",value:function(e){return this.options.mapController["active"+this.identifier]===this?this.close(e):this.open()}},{key:"makeButton",value:function(e){var t,r;return(t=jQuery.extend({label:void 0,tipLabel:void 0,className:"",target:void 0,clickAction:void 0},e)).className&&(t.className=" "+t.className),(r=document.createElement("button")).className="c4g-"+this.options.name+"-button"+t.className,t.id&&(r.id=t.id),"string"==typeof t.tipLabel&&(r.title=t.tipLabel),"string"==typeof t.label?r.innerHTML=t.label:"object"===n(t.label)&&r.appendChild(t.label),"function"==typeof t.clickAction&&jQuery(r).click((function(){try{this.blur()}catch(e){console.warn(e.message)}t.clickAction()})),t.target&&jQuery(t.target).append(r),r}},{key:"addSection",value:function(e){var t,r,i;t=jQuery.extend({type:"div",className:"",target:void 0},e);try{r=document.createElement(t.type)}catch(e){return console.warn('Cannot create section. "'+t.type+" is not a valid HTML-node."),!1}if(r.className=t.className,t.target)try{t.target.appendChild(r)}catch(e){console.warn(e.message)}return r.getElement=function(){return i||!1},r.setElement=function(e){e&&"object"===(void 0===e?"undefined":n(e))&&(i&&i===e||(i&&this.removeChild(i),this.appendChild(e),i=e))},this.sections.push(r),r}},{key:"addView",value:function(e,t){var r,i,o,s,l;return r=this,i=t||this,"string"!=typeof(e=jQuery.extend({triggerConfig:void 0,sectionElements:[],initFunction:void 0,activateFunction:void 0,deactivateFunction:void 0},e)).name?(console.warn('Cannot add a view without a name (of type "string").'),!1):((l={}).initialized=!1,l.paused=!1,l.activate=function(t){var o;if(e.triggerConfig.withHeadline&&(r.contentHeadline.innerHTML=e.triggerConfig.tipLabel),t&&!r.isOpen()&&r.open(),"object"===n(i.activeView)&&i.activeView!==l&&i.activeView.deactivate(),i.activeView=l,l.activeView&&l.activeView.activate(),l.initialized||("function"==typeof e.initFunction?l.initialized=e.initFunction():l.initialized=!0),e.sectionElements&&e.sectionElements.length>0)for(o=0;o<e.sectionElements.length;o+=1)e.sectionElements[o].section.setElement(e.sectionElements[o].element);return s&&jQuery(s).addClass("c4g-active"),!("function"==typeof e.activateFunction&&!e.activateFunction(l.paused))&&(l.paused=!1,r.update(),!0)},l.deactivate=function(t){return l.paused=t||!1,"object"!==n(i.activeView)||i.activeView!==l||(s&&!l.paused&&jQuery(s).removeClass("c4g-active"),l.activeView&&l.activeView.deactivate(l.paused),"function"!=typeof e.deactivateFunction)||e.deactivateFunction(l.paused)},"object"===n(e.triggerConfig)&&(e.triggerConfig=jQuery.extend({target:this.viewTriggerBar,tipLabel:e.name},e.triggerConfig),e.triggerConfig.clickAction=l.activate,o=e.triggerConfig.className?" "+e.triggerConfig.className:"",e.triggerConfig.className=a.cssConstants.ICON+o,s=this.makeButton(e.triggerConfig)),this.views.push(l),l)}}]),t}(u.Control)},function(e,t,r){var n=r(283).newImageData;function i(e){var t=!0;try{new ImageData(10,10)}catch(e){t=!1}function r(e,r,n){return t?new ImageData(e,r,n):{data:e,width:r,height:n}}return function(t){var n,i,o=t.buffers,a=t.meta,s=t.imageOps,l=t.width,u=t.height,c=o.length,h=o[0].byteLength;if(s){var p=new Array(c);for(i=0;i<c;++i)p[i]=r(new Uint8ClampedArray(o[i]),l,u);n=e(p,a).data}else{n=new Uint8ClampedArray(h);var d=new Array(c),f=new Array(c);for(i=0;i<c;++i)d[i]=new Uint8ClampedArray(o[i]),f[i]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var m=0;m<c;++m){var y=d[m];f[m][0]=y[g],f[m][1]=y[g+1],f[m][2]=y[g+2],f[m][3]=y[g+3]}var _=e(f,a);n[g]=_[0],n[g+1]=_[1],n[g+2]=_[2],n[g+3]=_[3]}}return n.buffer}}function o(e,t){var r=Object.keys(e.lib||{}).map((function(t){return"var "+t+" = "+e.lib[t].toString()+";"})).concat(["var __minion__ = ("+i.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(n),a=new Worker(o);return a.addEventListener("message",t),a}function a(e){var t;this._imageOps=!!e.imageOps;var r=[];if(t=0===e.threads?0:this._imageOps?1:e.threads||1)for(var n=0;n<t;++n)r[n]=o(e,this._onWorkerMessage.bind(this,n));else r[0]=function(e,t){var r=i(e.operation);return{postMessage:function(e){setTimeout((function(){t({data:{buffer:r(e),meta:e.meta}})}),0)}}}(e,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=e.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(e,t,r){this._enqueue({inputs:e,meta:t,callback:r}),this._dispatch()},a.prototype.destroy=function(){for(var e in this)this[e]=null;this._destroyed=!0},a.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._job=this._queue.shift(),t=e.inputs[0].width,r=e.inputs[0].height,n=e.inputs.map((function(e){return e.data.buffer})),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:n,meta:e.meta,imageOps:this._imageOps,width:t,height:r},n);else for(var o=e.inputs[0].data.length,a=4*Math.ceil(o/4/i),s=0;s<i;++s){for(var l=s*a,u=[],c=0,h=n.length;c<h;++c)u.push(n[s].slice(l,l+a));this._workers[s].postMessage({buffers:u,meta:e.meta,imageOps:this._imageOps,width:t,height:r},u)}}},a.prototype._onWorkerMessage=function(e,t){this._destroyed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var e,t,r=this._job,i=this._workers.length;if(1===i)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var o=r.inputs[0].data.length;e=new Uint8ClampedArray(o),t=new Array(o);for(var a=4*Math.ceil(o/4/i),s=0;s<i;++s){var l=this._dataLookup[s].buffer,u=s*a;e.set(new Uint8ClampedArray(l),u),t[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,n(e,r.inputs[0].width,r.inputs[0].height),t),this._dispatch()},e.exports=a},function(e,t){var r=!0;try{new ImageData(10,10)}catch(e){r=!1}var n=document.createElement("canvas").getContext("2d");t.newImageData=function(e,t,i){if(r)return new ImageData(e,t,i);var o=n.createImageData(t,i);return o.data.set(e),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(168);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @package    con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @version    6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author     con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @license    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @copyright  Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @link       https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */t.Spinner=function(){function e(t){var r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=t||{},(r=jQuery.extend({className:"",target:"."+i.cssConstants.OL_VIEWPORT},r)).className&&(r.className=" "+r.className),this.element=document.createElement("div"),this.element.className=i.cssConstants.SPINNER+r.className+" "+i.cssConstants.HIDE,jQuery(r.target).append(this.element),(n=document.createElement("span")).className=i.cssConstants.ICON+" "+i.cssConstants.ANIMATION_SPIN,this.element.appendChild(n),this.additionalActivationCounter=0}return n(e,[{key:"show",value:function(){jQuery(this.element).hasClass(i.cssConstants.HIDE)?jQuery(this.element).removeClass(i.cssConstants.HIDE):this.additionalActivationCounter+=1}},{key:"hide",value:function(){jQuery(this.element).hasClass(i.cssConstants.HIDE)||(0===this.additionalActivationCounter?jQuery(this.element).addClass(i.cssConstants.HIDE):this.additionalActivationCounter-=1)}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguage=
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */
function(e){return"de"===e.lang?n.langConstantsGerman:(e.lang,i.langConstantsEnglish)};var n=r(286),i=r(287)},function(e,t,r){"use strict";
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */Object.defineProperty(t,"__esModule",{value:!0});t.langConstantsGerman={LANG:"de",NAME:"Name",HIDE:"Zuklappen",CLOSE:"Schließen",POINT:"POI",FREEHAND:"Freihand",LINE:"Linie",POLYGON:"Fläche",CIRCLE:"Radius",PERIMETER:"Umfang",LENGTH:"Länge",SURFACEAREA:"Flächeninhalt",RADIUS:"Radius",REFRESH:"Aktualisieren",COPY_TO_CLIPBOARD:"In Zwischenablage kopieren",CTRL_ZOOM_IN:"Vergrößern",CTRL_ZOOM_OUT:"Verkleinern",CTRL_ZOOM_EXT:"Maximal verkleinern",CTRL_ZOOM_HOME:"Zur ursprünglichen Position",CTRL_ZOOM_POS:"Zum aktuellen Standort",CTRL_ZOOM_SLIDER:"Zoom Slider",CTRL_RESET_ROTATION:"Rotation (touch, ctrl+shift+mouse) zurücksetzen",CTRL_PORTSIDE:"Portside ein-/ausblenden",CTRL_ROUTER:"Router ein-/ausblenden",CTRL_MEASURETOOLS:"Messwerkzeuge ein-/ausblenden",CTRL_INFOPAGE:"Infoseite ein-/ausblenden",CTRL_ADDITIONALPANEL:"Panel ein-/ausblenden",CTRL_ACCOUNT:"Account ein-/ausblenden",CTRL_ZOOMLEVEL:"Zoom",CTRL_MOUSECOORDS:"Lon/Lat",CTRL_GEOSEARCH:"Suche ein-/ausblenden",CTRL_START_SEARCH:"Suche starten",CTRL_OVERVIEWMAP:"Übersichtskarte ein-/ausblenden",CTRL_GEOBOOKMARKS:"Favoriten verwalten",CTRL_SIDEBOARD:"Sideboard ein-/ausblenden",CTRL_STARBOARD:"Starboard ein-/ausblenden",CTRL_ATTRIBUTION:"Attribution anzeigen",CTRL_GRID:"Gitter ein-/ausblenden",CTRL_PERMALINK:"Permalink generieren",CTRL_FULLSCREEN:"Vollbildmodus ein-/ausschalten",CTRL_PRINT:"Karte exportieren",STARBOARD:"Starboard",STARBOARD_BASELAYER:"Basiskarten",STARBOARD_LAYER:"Ebenen",STARBOARD_VIEW_TRIGGER_BASELAYERSWITCHER:"Basiskarten",STARBOARD_VIEW_TRIGGER_LAYERSWITCHER:"Kartenelemente",SIDEBOARD:"Sideboard",MEASURETOOLS:"Messwerkzeuge",MEASURETOOLS_INFO:"Wählen Sie weiter unten einen Messtyp aus und starten Sie die Messung durch das Klicken auf der Karte.",MEASURETOOLS_INFO_ADDITIONAL:"(Einzelne Messungen können mit einem Doppelklick beendet werden.)",MEASURETOOLS_VIEW_TRIGGER_SELECT:"Auswahl Modus",MEASURETOOLS_VIEW_TRIGGER_DRAW_LINESTRING:"Strecken messen",MEASURETOOLS_VIEW_TRIGGER_DRAW_POLYGON:"Flächen messen",MEASURETOOLS_VIEW_TRIGGER_DRAW_CIRCLE:"Radius messen",MEASURETOOLS_VIEW_TRIGGER_DRAW_FREEHAND:"Freihand messen",GEOBOOKMARKS_PLACEHOLDER:"Neue Bezeichnung",INFOPAGE:"Informationen",ADDITIONALPANEL:"Panel",ADDITIONALPANEL_VIEW_TRIGGER:"Panel anzeigen",ACCOUNT:"Account",ACCOUNT_VIEW_TRIGGER:"Account anzeigen",SEARCH_NOT_FOUND:"Die Lokation konnte nicht gefunden werden. Bitte versuchen Sie eine andere Eingabe.",NONE:""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package    con4gis
 * @version    6
 * @author     con4gis contributors (see "authors.txt")
 * @license    LGPL-3.0-or-later
 * @copyright  Küstenschmiede GmbH Software & Design
 * @link       https://www.con4gis.org
 */
t.langConstantsEnglish={LANG:"en",NAME:"Name",HIDE:"Hide",CLOSE:"Close",POINT:"POI",FREEHAND:"freehand",LINE:"Line",POLYGON:"Area",CIRCLE:"Radius",PERIMETER:"Perimeter",LENGTH:"Length",SURFACEAREA:"Surface area",RADIUS:"Radius",REFRESH:"Refresh",COPY_TO_CLIPBOARD:"Copy to clipboard",CTRL_ZOOM_IN:"Zoom in",CTRL_ZOOM_OUT:"Zoom out",CTRL_ZOOM_EXT:"Fit to extent",CTRL_ZOOM_HOME:"jump to initial position",CTRL_ZOOM_POS:"jump to browser/device position",CTRL_ZOOM_SLIDER:"Zoom slider",CTRL_RESET_ROTATION:"Reset rotation (touch, ctrl+shift+mouse)",CTRL_PORTSIDE:"Toggle portside",CTRL_EDITOR:"Toggle editor",CTRL_MEASURETOOLS:"Toggle measuretools",CTRL_INFOPAGE:"Toggle infopage",CTRL_ADDITIONALPANEL:"Toggle panel",CTRL_ACCOUNT:"Toggle account",CTRL_ZOOMLEVEL:"Zoom",CTRL_MOUSECOORDS:"Lon/Lat",CTRL_GEOSEARCH:"Toggle geosearch",CTRL_START_SEARCH:"start search",CTRL_OVERVIEWMAP:"Toggle overviewmap",CTRL_GEOBOOKMARKS:"Manage favorites",CTRL_SIDEBOARD:"Toggle sideboard",CTRL_STARBOARD:"Toggle starboard",CTRL_ATTRIBUTION:"Show attribution",CTRL_GRID:"Toggle grid",CTRL_PERMALINK:"Generate Permalink",CTRL_FULLSCREEN:"Toggle fullscreen-mode",CTRL_PRINT:"Export map",EDITOR:"Editor",EDITOR_ENABLE_INSTANT_MEASURE:"Measure while drawing",EDITOR_ENABLE_FREEHAND_DRAW:"Freehand draw",EDITOR_FEATURE_APPLY:"End modification",EDITOR_FEATURE_DELETE:"Delete feature",EDITOR_FEATURE_MODIFY:"Modify feature",EDITOR_SELECT_INFO:"Click an element on the map to select it.",EDITOR_SELECT_INFO_ADDITIONAL:"[ctrl] + [click] for multiselect <br>[shift] for boxselect",EDITOR_VIEW_TRIGGER_SELECT:"Select-mode",EDITOR_VIEW_TRIGGER_DRAW_POINT:"Add POIs",EDITOR_VIEW_TRIGGER_DRAW_FREEHAND:"Draw freehand",EDITOR_VIEW_TRIGGER_DRAW_LINESTRING:"Add tracks",EDITOR_VIEW_TRIGGER_DRAW_POLYGON:"Add areas",EDITOR_VIEW_TRIGGER_DRAW_CIRCLE:"Add circles",STARBOARD:"Starboard",STARBOARD_BASELAYER:"Baselayer",STARBOARD_LAYER:"Layer",STARBOARD_VIEW_TRIGGER_BASELAYERSWITCHER:"Baselayerswitcher",STARBOARD_VIEW_TRIGGER_LAYERSWITCHER:"Layerswitcher",MEASURETOOLS:"Measuretools",MEASURETOOLS_INFO:"Select a measuretype below and start measuring by clicking on the map.",MEASURETOOLS_INFO_ADDITIONAL:"(To stop a measurement, double-click on the map.)",MEASURETOOLS_VIEW_TRIGGER_SELECT:"Select-mode",MEASURETOOLS_VIEW_TRIGGER_DRAW_LINESTRING:"Measure tracks",MEASURETOOLS_VIEW_TRIGGER_DRAW_POLYGON:"Measure areas",MEASURETOOLS_VIEW_TRIGGER_DRAW_CIRCLE:"Measure radius",MEASURETOOLS_VIEW_TRIGGER_DRAW_FREEHAND:"Measure freehand",GEOBOOKMARKS_PLACEHOLDER:"Enter new caption",INFOPAGE:"Infopage",INFOPAGE_VIEW_TRIGGER:"Show informations",ADDITIONALPANEL:"Panel",ADDITIONALPANEL_VIEW_TRIGGER:"Show panel",ACCOUNT:"Account",ACCOUNT_VIEW_TRIGGER:"Show account",SEARCH_NOT_FOUND:"Location not found. Sorry... :(",NONE:""}},function(e,t,r){"use strict";r.r(t),r.d(t,"CachedInputfield",(function(){return n}));class n{constructor(e,t,r){if(this.cacheKey=r,this.inputField=jQuery(e),!this.inputField)return void console.warn("The given CSS selector matches no DOM element...");this.suggestions=this.loadValues(),this.inputField.autocomplete({source:this.suggestions,delay:0});const n=this;t&&jQuery(this.inputField).on("change",(function(){n.storeValue(jQuery(this).val())})),jQuery(this.inputField).on("input",(function(){let e=n.loadValues();jQuery(this).autocomplete("option","source",e)}))}getCacheKey(){return this.cacheKey}storeValue(e){e&&!this.suggestions.includes(e)&&(this.suggestions.push(e),this.inputField.autocomplete("option","source",this.suggestions),this.serializeValues())}serializeValues(){window.localStorage.setItem(this.getCacheKey(),JSON.stringify(this.suggestions))}loadValues(){let e=window.localStorage.getItem(this.getCacheKey());return e?(this.suggestions=JSON.parse(e),this.suggestions||(this.suggestions=[])):this.suggestions=[],this.suggestions}}},function(e,t,r){
/*!
 * PEP v0.5.3 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
e.exports=function(){"use strict";var e=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],t=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function r(r,n){n=n||Object.create(null);var i=document.createEvent("Event");i.initEvent(r,n.bubbles||!1,n.cancelable||!1);for(var o,a=2;a<e.length;a++)i[o=e[a]]=n[o]||t[a];i.buttons=n.buttons||0;var s=0;return s=void 0!==n.pressure&&i.buttons?n.pressure:i.buttons?.5:0,i.x=i.clientX,i.y=i.clientY,i.pointerId=n.pointerId||0,i.width=n.width||1,i.height=n.height||1,i.pressure=s,i.tiltX=n.tiltX||0,i.tiltY=n.tiltY||0,i.twist=n.twist||0,i.tangentialPressure=n.tangentialPressure||0,i.pointerType=n.pointerType||"",i.hwTimestamp=n.hwTimestamp||0,i.isPrimary=n.isPrimary||!1,i.detail=0,i}var n=window.Map&&window.Map.prototype.forEach?Map:i;function i(){this.array=[],this.size=0}i.prototype={set:function(e,t){if(void 0===t)return this.delete(e);this.has(e)||this.size++,this.array[e]=t},has:function(e){return void 0!==this.array[e]},delete:function(e){this.has(e)&&(delete this.array[e],this.size--)},get:function(e){return this.array[e]},clear:function(){this.array.length=0,this.size=0},forEach:function(e,t){return this.array.forEach((function(r,n){e.call(t,r,n,this)}),this)}};var o=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],a=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],s={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},l="undefined"!=typeof SVGElementInstance,u={pointermap:new n,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(e,t){var r=t,n=r.events;n&&(n.forEach((function(e){r[e]&&(this.eventMap[e]=r[e].bind(r))}),this),this.eventSources[e]=r,this.eventSourceList.push(r))},register:function(e){for(var t,r=this.eventSourceList.length,n=0;n<r&&(t=this.eventSourceList[n]);n++)t.register.call(t,e)},unregister:function(e){for(var t,r=this.eventSourceList.length,n=0;n<r&&(t=this.eventSourceList[n]);n++)t.unregister.call(t,e)},contains:function(e,t){try{return e.contains(t)}catch(e){return!1}},down:function(e){e.bubbles=!0,this.fireEvent("pointerdown",e)},move:function(e){e.bubbles=!0,this.fireEvent("pointermove",e)},up:function(e){e.bubbles=!0,this.fireEvent("pointerup",e)},enter:function(e){e.bubbles=!1,this.fireEvent("pointerenter",e)},leave:function(e){e.bubbles=!1,this.fireEvent("pointerleave",e)},over:function(e){e.bubbles=!0,this.fireEvent("pointerover",e)},out:function(e){e.bubbles=!0,this.fireEvent("pointerout",e)},cancel:function(e){e.bubbles=!0,this.fireEvent("pointercancel",e)},leaveOut:function(e){this.out(e),this.propagate(e,this.leave,!1)},enterOver:function(e){this.over(e),this.propagate(e,this.enter,!0)},eventHandler:function(e){if(!e._handledByPE){var t=e.type,r=this.eventMap&&this.eventMap[t];r&&r(e),e._handledByPE=!0}},listen:function(e,t){t.forEach((function(t){this.addEvent(e,t)}),this)},unlisten:function(e,t){t.forEach((function(t){this.removeEvent(e,t)}),this)},addEvent:function(e,t){e.addEventListener(t,this.boundHandler)},removeEvent:function(e,t){e.removeEventListener(t,this.boundHandler)},makeEvent:function(e,t){this.captureInfo[t.pointerId]&&(t.relatedTarget=null);var n=new r(e,t);return t.preventDefault&&(n.preventDefault=t.preventDefault),n._target=n._target||t.target,n},fireEvent:function(e,t){var r=this.makeEvent(e,t);return this.dispatchEvent(r)},cloneEvent:function(e){for(var t,r=Object.create(null),n=0;n<o.length;n++)r[t=o[n]]=e[t]||a[n],!l||"target"!==t&&"relatedTarget"!==t||r[t]instanceof SVGElementInstance&&(r[t]=r[t].correspondingUseElement);return e.preventDefault&&(r.preventDefault=function(){e.preventDefault()}),r},getTarget:function(e){var t=this.captureInfo[e.pointerId];return t?e._target!==t&&e.type in s?void 0:t:e._target},propagate:function(e,t,r){for(var n=e.target,i=[];null!=n&&n!==document&&!n.contains(e.relatedTarget);)if(i.push(n),!(n=n.parentNode))return;r&&i.reverse(),i.forEach((function(r){e.target=r,t.call(this,e)}),this)},setCapture:function(e,t,n){this.captureInfo[e]&&this.releaseCapture(e,n),this.captureInfo[e]=t,this.implicitRelease=this.releaseCapture.bind(this,e,n),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var i=new r("gotpointercapture",{bubbles:!0});i.pointerId=e,i._target=t,n||this.asyncDispatchEvent(i)},releaseCapture:function(e,t){var n=this.captureInfo[e];if(n){this.captureInfo[e]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var i=new r("lostpointercapture",{bubbles:!0});i.pointerId=e,i._target=n,t||this.asyncDispatchEvent(i)}},dispatchEvent:function(e){var t=this.getTarget(e);if(t)return t.dispatchEvent(e)},asyncDispatchEvent:function(e){requestAnimationFrame(this.dispatchEvent.bind(this,e))}};u.boundHandler=u.eventHandler.bind(u);var c={shadow:function(e){if(e)return e.shadowRoot||e.webkitShadowRoot},canTarget:function(e){return e&&Boolean(e.elementFromPoint)},targetingShadow:function(e){var t=this.shadow(e);if(this.canTarget(t))return t},olderShadow:function(e){var t=e.olderShadowRoot;if(!t){var r=e.querySelector("shadow");r&&(t=r.olderShadowRoot)}return t},allShadows:function(e){for(var t=[],r=this.shadow(e);r;)t.push(r),r=this.olderShadow(r);return t},searchRoot:function(e,t,r){if(e){var n,i,o=e.elementFromPoint(t,r);for(i=this.targetingShadow(o);i;){if(n=i.elementFromPoint(t,r)){var a=this.targetingShadow(n);return this.searchRoot(a,t,r)||n}i=this.olderShadow(i)}return o}},owner:function(e){for(var t=e;t.parentNode;)t=t.parentNode;return t.nodeType!==Node.DOCUMENT_NODE&&t.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(t=document),t},findTarget:function(e){var t=e.clientX,r=e.clientY,n=this.owner(e.target);return n.elementFromPoint(t,r)||(n=document),this.searchRoot(n,t,r)}},h=Array.prototype.forEach.call.bind(Array.prototype.forEach),p=Array.prototype.map.call.bind(Array.prototype.map),d=Array.prototype.slice.call.bind(Array.prototype.slice),f=Array.prototype.filter.call.bind(Array.prototype.filter),g=window.MutationObserver||window.WebKitMutationObserver,m={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function y(e,t,r,n){this.addCallback=e.bind(n),this.removeCallback=t.bind(n),this.changedCallback=r.bind(n),g&&(this.observer=new g(this.mutationWatcher.bind(this)))}function _(e){return"{ -ms-touch-action: "+e+"; touch-action: "+e+"; }"}y.prototype={watchSubtree:function(e){this.observer&&c.canTarget(e)&&this.observer.observe(e,m)},enableOnSubtree:function(e){this.watchSubtree(e),e===document&&"complete"!==document.readyState?this.installOnLoad():this.installNewSubtree(e)},installNewSubtree:function(e){h(this.findElements(e),this.addElement,this)},findElements:function(e){return e.querySelectorAll?e.querySelectorAll("[touch-action]"):[]},removeElement:function(e){this.removeCallback(e)},addElement:function(e){this.addCallback(e)},elementChanged:function(e,t){this.changedCallback(e,t)},concatLists:function(e,t){return e.concat(d(t))},installOnLoad:function(){document.addEventListener("readystatechange",function(){"complete"===document.readyState&&this.installNewSubtree(document)}.bind(this))},isElement:function(e){return e.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(e){var t=p(e,this.findElements,this);return t.push(f(e,this.isElement)),t.reduce(this.concatLists,[])},mutationWatcher:function(e){e.forEach(this.mutationHandler,this)},mutationHandler:function(e){"childList"===e.type?(this.flattenMutationTree(e.addedNodes).forEach(this.addElement,this),this.flattenMutationTree(e.removedNodes).forEach(this.removeElement,this)):"attributes"===e.type&&this.elementChanged(e.target,e.oldValue)}};var b=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],v="",w=window.PointerEvent||window.MSPointerEvent,O=!window.ShadowDOMPolyfill&&document.head.createShadowRoot,E=u.pointermap,T=[1,4,2,8,16],S=!1;try{S=1===new MouseEvent("test",{buttons:1}).buttons}catch(e){}var C,x={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(e){for(var t,r=this.lastTouches,n=e.clientX,i=e.clientY,o=0,a=r.length;o<a&&(t=r[o]);o++){var s=Math.abs(n-t.x),l=Math.abs(i-t.y);if(s<=25&&l<=25)return!0}},prepareEvent:function(e){var t=u.cloneEvent(e),r=t.preventDefault;return t.preventDefault=function(){e.preventDefault(),r()},t.pointerId=this.POINTER_ID,t.isPrimary=!0,t.pointerType=this.POINTER_TYPE,"webkitForce"in e&&(t.pressure=e.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),t},prepareButtonsForMove:function(e,t){var r=E.get(this.POINTER_ID);0!==t.which&&r?e.buttons=r.buttons:e.buttons=0,t.buttons=e.buttons},mousedown:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),r=this.prepareEvent(e);S||(r.buttons=T[r.button],t&&(r.buttons|=t.buttons),e.buttons=r.buttons),E.set(this.POINTER_ID,e),t&&0!==t.buttons?u.move(r):u.down(r)}},webkitmouseforcechanged:function(e){this.mousemove(e)},mousemove:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.move(t)}},mouseup:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=E.get(this.POINTER_ID),r=this.prepareEvent(e);if(!S){var n=T[r.button];r.buttons=t?t.buttons&~n:0,e.buttons=r.buttons}E.set(this.POINTER_ID,e),r.buttons&=~T[r.button],0===r.buttons?u.up(r):u.move(r)}},mouseover:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,E.set(this.POINTER_ID,e),u.enterOver(t)}},mouseout:function(e){if(!this.isEventSimulatedFromTouch(e)){var t=this.prepareEvent(e);S||this.prepareButtonsForMove(t,e),t.button=-1,u.leaveOut(t)}},cancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.deactivateMouse()},deactivateMouse:function(){E.delete(this.POINTER_ID)}},k=u.captureInfo,R=c.findTarget.bind(c),P=c.allShadows.bind(c),I=u.pointermap,j={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(e){C.enableOnSubtree(e)},unregister:function(){},elementAdded:function(e){var t=e.getAttribute("touch-action"),r=this.touchActionToScrollType(t);"number"==typeof r&&(e._scrollType=r,u.listen(e,this.events),P(e).forEach((function(e){e._scrollType=r,u.listen(e,this.events)}),this))},elementRemoved:function(e){if(I.size>0){var t=this.events;e.addEventListener("touchend",(function(){e._scrollType=void 0,u.unlisten(e,t)}))}else e._scrollType=void 0,u.unlisten(e,this.events);P(e).forEach((function(e){e._scrollType=void 0,u.unlisten(e,this.events)}),this)},elementChanged:function(e,t){var r=e.getAttribute("touch-action"),n=this.touchActionToScrollType(r),i=this.touchActionToScrollType(t);"number"==typeof n&&"number"==typeof i?(e._scrollType=n,P(e).forEach((function(e){e._scrollType=n}),this)):"number"==typeof i?this.elementRemoved(e):"number"==typeof n&&this.elementAdded(e)},scrollTypes:{UP:function(e){return e.includes("pan-y")||e.includes("pan-up")?1:0},DOWN:function(e){return e.includes("pan-y")||e.includes("pan-down")?2:0},LEFT:function(e){return e.includes("pan-x")||e.includes("pan-left")?4:0},RIGHT:function(e){return e.includes("pan-x")||e.includes("pan-right")?8:0}},touchActionToScrollType:function(e){if(e){if("auto"===e)return 15;if("none"===e)return 0;var t=e.split(" "),r=this.scrollTypes;return r.UP(t)|r.DOWN(t)|r.LEFT(t)|r.RIGHT(t)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(e){return this.firstTouch===e.identifier},setPrimaryTouch:function(e){(0===I.size||1===I.size&&I.has(1))&&(this.firstTouch=e.identifier,this.firstXY={X:e.clientX,Y:e.clientY},this.scrolling=!1)},removePrimaryPointer:function(e){e.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(e){var t=0;return"touchstart"!==e&&"touchmove"!==e&&"touchforcechange"!==e||(t=1),t},touchToPointer:function(e){var t=this.currentTouchEvent,r=u.cloneEvent(e),n=r.pointerId=e.identifier+2;if(r.target=k[n]||R(r),r.bubbles=!0,r.cancelable=!0,r.button=0,r.buttons=this.typeToButtons(t.type),r.width=2*(e.radiusX||e.webkitRadiusX||0),r.height=2*(e.radiusY||e.webkitRadiusY||0),r.pressure=void 0!==e.force?e.force:void 0!==e.webkitForce?e.webkitForce:void 0,r.isPrimary=this.isPrimaryTouch(e),e.altitudeAngle){var i=Math.tan(e.altitudeAngle),o=180/Math.PI;r.tiltX=Math.atan(Math.cos(e.azimuthAngle)/i)*o,r.tiltY=Math.atan(Math.sin(e.azimuthAngle)/i)*o}else r.tiltX=0,r.tiltY=0;"stylus"===e.touchType?r.pointerType="pen":r.pointerType=this.POINTER_TYPE,r.altKey=t.altKey,r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.shiftKey=t.shiftKey;var a=this;return r.preventDefault=function(){a.scrolling=!1,a.firstXY=null,t.preventDefault()},r},processTouches:function(e,t){var r=e.changedTouches;this.currentTouchEvent=e;for(var n,i=0;i<r.length;i++)n=r[i],t.call(this,this.touchToPointer(n))},shouldScroll:function(e){if(this.firstXY){var t,r=e.currentTarget._scrollType;if(0===r)t=!1;else if(15===r)t=!0;else{var n=e.changedTouches[0],i=n.clientY-this.firstXY.Y,o=Math.abs(i),a=n.clientX-this.firstXY.X,s=Math.abs(a),l=1&r,u=2&r,c=4&r,h=8&r;c&&h?t=s>o:c?t=s>o&&a>0:h&&(t=s>o&&a<0),t||(l&&u?t=s<o:l?t=s<o&&i>0:u&&(t=s<o&&i<0))}return this.firstXY=null,t}},findTouch:function(e,t){for(var r,n=0,i=e.length;n<i&&(r=e[n]);n++)if(r.identifier===t)return!0},vacuumTouches:function(e){var t=e.touches;if(I.size>=t.length){var r=[];I.forEach((function(e,n){if(1!==n&&!this.findTouch(t,n-2)){var i=e.out;r.push(i)}}),this),r.forEach(this.cancelOut,this)}},touchstart:function(e){this.vacuumTouches(e),this.setPrimaryTouch(e.changedTouches[0]),this.dedupSynthMouse(e),this.scrolling||this.processTouches(e,this.overDown)},overDown:function(e){I.set(e.pointerId,{target:e.target,out:e,outTarget:e.target}),u.enterOver(e),u.down(e)},touchforcechange:function(e){this.touchmove(e)},touchmove:function(e){this.scrolling||(this.shouldScroll(e)?(this.scrolling=!0,this.touchcancel(e)):("touchforcechange"!==e.type&&e.preventDefault(),this.processTouches(e,this.moveOverOut)))},moveOverOut:function(e){var t=e,r=I.get(t.pointerId);if(r){var n=r.out,i=r.outTarget;u.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(u.leaveOut(n),u.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),r.out=t,r.outTarget=t.target}},touchend:function(e){this.dedupSynthMouse(e),this.processTouches(e,this.upOut)},upOut:function(e){this.scrolling||(u.up(e),u.leaveOut(e)),this.cleanUpPointer(e)},touchcancel:function(e){this.processTouches(e,this.cancelOut)},cancelOut:function(e){u.cancel(e),u.leaveOut(e),this.cleanUpPointer(e)},cleanUpPointer:function(e){I.delete(e.pointerId),this.removePrimaryPointer(e)},dedupSynthMouse:function(e){var t=x.lastTouches,r=e.changedTouches[0];if(this.isPrimaryTouch(r)){var n={x:r.clientX,y:r.clientY};t.push(n);var i=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}.bind(null,t,n);setTimeout(i,2500)}}};C=new y(j.elementAdded,j.elementRemoved,j.elementChanged,j);var L,A,F,M=u.pointermap,N=window.MSPointerEvent&&"number"==typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE,D={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(e){u.listen(e,this.events)},unregister:function(e){u.unlisten(e,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(e){var t=e;return N&&((t=u.cloneEvent(e)).pointerType=this.POINTER_TYPES[e.pointerType]),t},cleanup:function(e){M.delete(e)},MSPointerDown:function(e){M.set(e.pointerId,e);var t=this.prepareEvent(e);u.down(t)},MSPointerMove:function(e){var t=this.prepareEvent(e);u.move(t)},MSPointerUp:function(e){var t=this.prepareEvent(e);u.up(t),this.cleanup(e.pointerId)},MSPointerOut:function(e){var t=this.prepareEvent(e);u.leaveOut(t)},MSPointerOver:function(e){var t=this.prepareEvent(e);u.enterOver(t)},MSPointerCancel:function(e){var t=this.prepareEvent(e);u.cancel(t),this.cleanup(e.pointerId)},MSLostPointerCapture:function(e){var t=u.makeEvent("lostpointercapture",e);u.dispatchEvent(t)},MSGotPointerCapture:function(e){var t=u.makeEvent("gotpointercapture",e);u.dispatchEvent(t)}};function G(e){if(!u.pointermap.has(e)){var t=new Error("NotFoundError");throw t.name="NotFoundError",t}}function U(e){for(var t=e.parentNode;t&&t!==e.ownerDocument;)t=t.parentNode;if(!t){var r=new Error("InvalidStateError");throw r.name="InvalidStateError",r}}function z(e){return 0!==u.pointermap.get(e).buttons}return window.navigator.msPointerEnabled?(L=function(e){G(e),U(this),z(e)&&(u.setCapture(e,this,!0),this.msSetPointerCapture(e))},A=function(e){G(e),u.releaseCapture(e,!0),this.msReleasePointerCapture(e)}):(L=function(e){G(e),U(this),z(e)&&u.setCapture(e,this)},A=function(e){G(e),u.releaseCapture(e)}),F=function(e){return!!u.captureInfo[e]},function(){if(w){b.forEach((function(e){v+=e.selector+_(e.value)+"\n",O&&(v+=function(e){return"body /shadow-deep/ "+e}(e.selector)+_(e.value)+"\n")}));var e=document.createElement("style");e.textContent=v,document.head.appendChild(e)}}(),function(){if(!window.PointerEvent){if(window.PointerEvent=r,window.navigator.msPointerEnabled){var e=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:e,enumerable:!0}),u.registerSource("ms",D)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),u.registerSource("mouse",x),void 0!==window.ontouchstart&&u.registerSource("touch",j);u.register(document)}}(),window.Element&&!Element.prototype.setPointerCapture&&Object.defineProperties(Element.prototype,{setPointerCapture:{value:L},releasePointerCapture:{value:A},hasPointerCapture:{value:F}}),{dispatcher:u,Installer:y,PointerEvent:r,PointerMap:n,targetFinding:c}}()},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,p=r?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+d]=255&a,d+=f,a/=256,u-=8);e[r+d-f]|=128*g}},function(e,t,r){var n=r(292).newImageData;function i(e){var t=!0;try{new ImageData(10,10)}catch(e){t=!1}function r(e,r,n){return t?new ImageData(e,r,n):{data:e,width:r,height:n}}return function(t){var n,i,o=t.buffers,a=t.meta,s=t.imageOps,l=t.width,u=t.height,c=o.length,h=o[0].byteLength;if(s){var p=new Array(c);for(i=0;i<c;++i)p[i]=r(new Uint8ClampedArray(o[i]),l,u);n=e(p,a).data}else{n=new Uint8ClampedArray(h);var d=new Array(c),f=new Array(c);for(i=0;i<c;++i)d[i]=new Uint8ClampedArray(o[i]),f[i]=[0,0,0,0];for(var g=0;g<h;g+=4){for(var m=0;m<c;++m){var y=d[m];f[m][0]=y[g],f[m][1]=y[g+1],f[m][2]=y[g+2],f[m][3]=y[g+3]}var _=e(f,a);n[g]=_[0],n[g+1]=_[1],n[g+2]=_[2],n[g+3]=_[3]}}return n.buffer}}function o(e,t){var r=Object.keys(e.lib||{}).map((function(t){return"var "+t+" = "+e.lib[t].toString()+";"})).concat(["var __minion__ = ("+i.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=new Blob(r,{type:"text/javascript"}),o=URL.createObjectURL(n),a=new Worker(o);return a.addEventListener("message",t),a}function a(e){var t;this._imageOps=!!e.imageOps;var r=[];if(t=0===e.threads?0:this._imageOps?1:e.threads||1)for(var n=0;n<t;++n)r[n]=o(e,this._onWorkerMessage.bind(this,n));else r[0]=function(e,t){var r=i(e.operation);return{postMessage:function(e){setTimeout((function(){t({data:{buffer:r(e),meta:e.meta}})}),0)}}}(e,this._onWorkerMessage.bind(this,0));this._workers=r,this._queue=[],this._maxQueueLength=e.queue||1/0,this._running=0,this._dataLookup={},this._job=null}a.prototype.process=function(e,t,r){this._enqueue({inputs:e,meta:t,callback:r}),this._dispatch()},a.prototype.destroy=function(){for(var e in this)this[e]=null;this._destroyed=!0},a.prototype._enqueue=function(e){for(this._queue.push(e);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)},a.prototype._dispatch=function(){if(0===this._running&&this._queue.length>0){var e=this._job=this._queue.shift(),t=e.inputs[0].width,r=e.inputs[0].height,n=e.inputs.map((function(e){return e.data.buffer})),i=this._workers.length;if(this._running=i,1===i)this._workers[0].postMessage({buffers:n,meta:e.meta,imageOps:this._imageOps,width:t,height:r},n);else for(var o=e.inputs[0].data.length,a=4*Math.ceil(o/4/i),s=0;s<i;++s){for(var l=s*a,u=[],c=0,h=n.length;c<h;++c)u.push(n[s].slice(l,l+a));this._workers[s].postMessage({buffers:u,meta:e.meta,imageOps:this._imageOps,width:t,height:r},u)}}},a.prototype._onWorkerMessage=function(e,t){this._destroyed||(this._dataLookup[e]=t.data,--this._running,0===this._running&&this._resolveJob())},a.prototype._resolveJob=function(){var e,t,r=this._job,i=this._workers.length;if(1===i)e=new Uint8ClampedArray(this._dataLookup[0].buffer),t=this._dataLookup[0].meta;else{var o=r.inputs[0].data.length;e=new Uint8ClampedArray(o),t=new Array(o);for(var a=4*Math.ceil(o/4/i),s=0;s<i;++s){var l=this._dataLookup[s].buffer,u=s*a;e.set(new Uint8ClampedArray(l),u),t[s]=this._dataLookup[s].meta}}this._job=null,this._dataLookup={},r.callback(null,n(e,r.inputs[0].width,r.inputs[0].height),t),this._dispatch()},e.exports=a},function(e,t){var r=!0;try{new ImageData(10,10)}catch(e){r=!1}var n=document.createElement("canvas").getContext("2d");t.newImageData=function(e,t,i){if(r)return new ImageData(e,t,i);var o=n.createImageData(t,i);return o.data.set(e),o}},function(e,t,r){"use strict";r.r(t),r.d(t,"AutocompleteHandler",(function(){return n}));
/**
 * con4gis - the gis-kit
 *
 * @package   con4gis
 * @author    con4gis contributors (see "authors.txt")
 * @license   GNU/LGPL http://opensource.org/licenses/lgpl-3.0.html
 * @copyright Küstenschmiede GmbH Software & Design 2011 - 2018
 * @link      https://www.kuestenschmiede.de
 */
class n{constructor(e,t={},r,n={},i={}){this.inputField=e,this.objFunctions=t,this.cssId=r,this.objSettings=n,this.containerAddresses=i}setCenter(e){this.objSettings.center=e}handleInput(){const e=this;this.inputField.autocomplete({source:this.containerAddresses.arrNames});let t=function(t,r){if(r=r||e,13===t.keyCode)r.objFunctions.submitFunction(t.currentTarget,t.currentTarget.classList[0]);else if(8===t.keyCode||t.keyCode>=37&&t.keyCode<=40||9===t.keyCode);else if(0!=$(t.currentTarget).val().length||t.keyCode){let e=Math.floor(Date.now());r.counter=e,setTimeout((function(){r.counter&&r.counter+400<Math.floor(Date.now())&&(delete r.counter,r.autocompleteAddress($(t.currentTarget).val(),"."+t.currentTarget.classList[0]))}),500)}else{r.objFunctions.deleteFunction(t.currentTarget,t.currentTarget.classList[0]);let e=t.currentTarget.classList[0];-1!=e.indexOf("from")?(r.containerAddresses.arrFromPositions=[],r.containerAddresses.arrFromPositions=[]):-1!=e.indexOf("to")?(r.containerAddresses.arrToNames=[],r.containerAddresses.arrToPositions=[]):console.log("This is weird")}};this.inputField.on("keydown",r=>t(r,e)),this.inputField.on("search",t),this.inputField.on("autocompleteselect",this.objFunctions.selectListener),this.inputField.on("change",this.objFunctions.changeListener)}autocompleteAddress(e,t){const r=this;let n,i;if(r.objSettings.center)if("function"==typeof r.objSettings.center){let e=r.objSettings.center();n=e[0]+","+e[1]}else n=r.objSettings.center[0]+","+r.objSettings.center[1];else r.objSettings.bBox&&(n=(parseFloat(r.objSettings.bBox[0])+parseFloat(r.objSettings.bBox[2]))/2+","+(parseFloat(r.objSettings.bBox[1])+parseFloat(r.objSettings.bBox[3]))/2);if(i=n?r.objSettings.proxyUrl+"autocomplete.php?format=json&key="+r.objSettings.keyAutocomplete+"&q="+e+"&center="+n:r.objSettings.proxyUrl+"autocomplete.php?format=json&key="+r.objSettings.keyAutocomplete+"&q="+e,this.objSettings.autoLength&&(i+="&limit="+this.objSettings.autoLength),this.objSettings.geosearchParams)for(let e in this.objSettings.geosearchParams)this.objSettings.geosearchParams.hasOwnProperty(e)&&(i+="&"+e+"="+this.objSettings.geosearchParams[e]);$.ajax({url:i}).done((function(e){let n;if(r.objSettings.center?n=r.objSettings.center:r.objSettings.bBox&&(n=[(parseFloat(r.objSettings.bBox[0])+parseFloat(r.objSettings.bBox[2]))/2,(parseFloat(r.objSettings.bBox[1])+parseFloat(r.objSettings.bBox[3]))/2]),e.length>0){if(e[0]&&e[0].display_name&&n){let i=[];for(let t in e)if(e.hasOwnProperty(t)&&r.objSettings.bBox&&r.objSettings.bBox[0]&&r.isInBoundingBox(e[t].lon,e[t].lat,r.objSettings.bBox)){let r={dist:Math.sqrt((n[0]-e[t].lon)*(n[0]-e[t].lon)+(n[1]-e[t].lat)*(n[1]-e[t].lat)),pos:[e[t].lat,e[t].lon],name:e[t].display_name};i.push(r)}i.sort((e,t)=>e.dist-t.dist);for(let e in i)i.hasOwnProperty(e)&&(-1!=t.indexOf("from")?r.containerAddresses.arrFromNames.includes(i[e].name)||(r.containerAddresses.arrFromNames.push(i[e].name),r.containerAddresses.arrFromPositions.push(i[e].pos)):-1!=t.indexOf("to")?r.containerAddresses.arrToNames.includes(i[e].name)||(r.containerAddresses.arrToNames.push(i[e].name),r.containerAddresses.arrToPositions.push(i[e].pos)):console.log("This is weird"));let o=jQuery.Event("keydown",{keyCode:8});$(t).trigger(o)}for(let n in e)e.hasOwnProperty(n)&&(-1!=t.indexOf("from")?r.containerAddresses.arrFromNames.includes(e[n].display_name)||(r.containerAddresses.arrFromNames.push(e[n].display_name),r.containerAddresses.arrFromPositions.push([e[n].lat,e[n].lon])):-1!=t.indexOf("to")?r.containerAddresses.arrToNames.includes(e[n].display_name)||(r.containerAddresses.arrToNames.push(e[n].display_name),r.containerAddresses.arrToPositions.push([e[n].lat,e[n].lon])):console.log("This is weird"));let i=jQuery.Event("keydown",{keyCode:8});$(t).trigger(i)}}))}isInBoundingBox(e,t,r){return"string"==typeof e&&(e=parseFloat(e)),"string"==typeof t&&(t=parseFloat(t)),r[0]<e&&e<r[2]&&r[1]<t&&t<r[3]}}},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(295)},function(e,t,r){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(92),i=r(262),o=r(297);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=null,l={};function u(){if(s)for(var e in l){var t=l[e],r=s.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!h[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in h[r]=t,r=t.eventTypes){var i=void 0,o=r[n],u=t,d=n;if(p.hasOwnProperty(d))throw Error(a(99,d));p[d]=o;var f=o.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&c(f[i],u,d);i=!0}else o.registrationName?(c(o.registrationName,u,d),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function c(e,t,r){if(d[e])throw Error(a(100,e));d[e]=t,f[e]=t.eventTypes[r].dependencies}var h=[],p={},d={},f={};function g(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var m=!1,y=null,_=!1,b=null,v={onError:function(e){m=!0,y=e}};function w(e,t,r,n,i,o,a,s,l){m=!1,y=null,g.apply(v,arguments)}var O=null,E=null,T=null;function S(e,t,r){var n=e.type||"unknown-event";e.currentTarget=T(r),function(e,t,r,n,i,o,s,l,u){if(w.apply(this,arguments),m){if(!m)throw Error(a(198));var c=y;m=!1,y=null,_||(_=!0,b=c)}}(n,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var k=null;function R(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)S(e,t[n],r[n]);else t&&S(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e){if(x(e,R),k)throw Error(a(95));if(_)throw e=b,_=!1,b=null,e}}var I={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!l.hasOwnProperty(t)||l[t]!==n){if(l[t])throw Error(a(102,t));l[t]=n,r=!0}}r&&u()}};function j(e,t){var r=e.stateNode;if(!r)return null;var n=O(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;L.hasOwnProperty("ReactCurrentDispatcher")||(L.ReactCurrentDispatcher={current:null}),L.hasOwnProperty("ReactCurrentBatchConfig")||(L.ReactCurrentBatchConfig={suspense:null});var A=/^(.*)[\\\/]/,F="function"==typeof Symbol&&Symbol.for,M=F?Symbol.for("react.element"):60103,N=F?Symbol.for("react.portal"):60106,D=F?Symbol.for("react.fragment"):60107,G=F?Symbol.for("react.strict_mode"):60108,U=F?Symbol.for("react.profiler"):60114,z=F?Symbol.for("react.provider"):60109,B=F?Symbol.for("react.context"):60110,V=F?Symbol.for("react.concurrent_mode"):60111,W=F?Symbol.for("react.forward_ref"):60112,K=F?Symbol.for("react.suspense"):60113,H=F?Symbol.for("react.suspense_list"):60120,Y=F?Symbol.for("react.memo"):60115,X=F?Symbol.for("react.lazy"):60116;F&&Symbol.for("react.fundamental"),F&&Symbol.for("react.responder"),F&&Symbol.for("react.scope");var Z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case N:return"Portal";case U:return"Profiler";case G:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return"Context.Consumer";case z:return"Context.Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Y:return Q(e.type);case X:if(e=1===e._status?e._result:null)return Q(e)}return null}function $(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=Q(e.type);r=null,n&&(r=Q(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(A,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,re=null;function ne(e){if(e=E(e)){if("function"!=typeof ee)throw Error(a(280));var t=O(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?re?re.push(e):re=[e]:te=e}function oe(){if(te){var e=te,t=re;if(re=te=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ae(e,t){return e(t)}function se(e,t,r,n){return e(t,r,n)}function le(){}var ue=ae,ce=!1,he=!1;function pe(){null===te&&null===re||(le(),oe())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,ge={},me={};function ye(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_e[e]=new ye(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_e[t]=new ye(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_e[e]=new ye(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_e[e]=new ye(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_e[e]=new ye(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_e[e]=new ye(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){_e[e]=new ye(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){_e[e]=new ye(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){_e[e]=new ye(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e,t,r,n){var i=_e.hasOwnProperty(t)?_e[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!fe.call(me,e)||!fe.call(ge,e)&&(de.test(e)?me[e]=!0:(ge[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Te(e){e._valueTracker||(e._valueTracker=function(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ee(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ce(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function xe(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=we(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Oe(e,"checked",t,!1)}function Re(e,t){ke(e,t);var r=we(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ie(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function je(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Le(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+we(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var r=t.value;if(null==r){if(r=t.defaultValue,null!=(t=t.children)){if(null!=r)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}r=t}null==r&&(r="")}e._wrapperState={initialValue:we(r)}}function Me(e,t){var r=we(t.value),n=we(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){_e[e]=new ye(e,1,!1,e.toLowerCase(),null,!1)})),_e.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){_e[e]=new ye(e,1,!1,e.toLowerCase(),null,!0)}));var De="http://www.w3.org/1999/xhtml",Ge="http://www.w3.org/2000/svg";function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Ge||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function We(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ke(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var He={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},Ye={},Xe={};function Ze(e){if(Ye[e])return Ye[e];if(!He[e])return e;var t,r=He[e];for(t in r)if(r.hasOwnProperty(t)&&t in Xe)return Ye[e]=r[t];return e}J&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var qe=Ze("animationend"),Qe=Ze("animationiteration"),$e=Ze("animationstart"),Je=Ze("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function rt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return nt(i),e;if(o===n)return nt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ot,at,st,lt=!1,ut=[],ct=null,ht=null,pt=null,dt=new Map,ft=new Map,gt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),yt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _t(e,t,r,n){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:n}}function bt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":pt=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,r,n,i){return null===e||e.nativeEvent!==i?(e=_t(t,r,n,i),null!==t&&(null!==(t=un(t))&&at(t)),e):(e.eventSystemFlags|=n,e)}function wt(e){var t=ln(e.target);if(null!==t){var r=tt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=rt(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){st(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Pr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var r=un(t);return null!==r&&at(r),e.blockedOn=t,!1}return!0}function Et(e,t,r){Ot(e)&&r.delete(t)}function Tt(){for(lt=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=un(e.blockedOn))&&ot(e);break}var t=Pr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&Ot(ct)&&(ct=null),null!==ht&&Ot(ht)&&(ht=null),null!==pt&&Ot(pt)&&(pt=null),dt.forEach(Et),ft.forEach(Et)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,lt||(lt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Tt)))}function Ct(e){function t(t){return St(t,e)}if(0<ut.length){St(ut[0],e);for(var r=1;r<ut.length;r++){var n=ut[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==ct&&St(ct,e),null!==ht&&St(ht,e),null!==pt&&St(pt,e),dt.forEach(t),ft.forEach(t),r=0;r<gt.length;r++)(n=gt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<gt.length&&null===(r=gt[0]).blockedOn;)wt(r),null===r.blockedOn&&gt.shift()}function xt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function kt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rt(e,t,r){(t=j(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=kt(t);for(t=r.length;0<t--;)Rt(r[t],"captured",e);for(t=0;t<r.length;t++)Rt(r[t],"bubbled",e)}}function It(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=j(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function jt(e){e&&e.dispatchConfig.registrationName&&It(e._targetInst,null,e)}function Lt(e){x(e,Pt)}function At(){return!0}function Ft(){return!1}function Mt(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?At:Ft,this.isPropagationStopped=Ft,this}function Nt(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Dt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gt(e){e.eventPool=[],e.getPooled=Nt,e.release=Dt}i(Mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Ft,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ft,this._dispatchInstances=this._dispatchListeners=null}}),Mt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Mt.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Gt(r),r},Gt(Mt);var Ut=Mt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),zt=Mt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bt=Mt.extend({view:null,detail:null}),Vt=Bt.extend({relatedTarget:null});function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function Zt(){return Xt}for(var qt=Bt.extend({key:function(e){if(e.key){var t=Kt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zt,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,$t=0,Jt=!1,er=!1,tr=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,er?"mousemove"===e.type?e.screenY-t:0:(er=!0,0)}}),rr=tr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nr=tr.extend({dataTransfer:null}),ir=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zt}),or=Mt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ar=tr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sr=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[qe,"animationEnd",2],[Qe,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],lr={},ur={},cr=0;cr<sr.length;cr++){var hr=sr[cr],pr=hr[0],dr=hr[1],fr=hr[2],gr="on"+(dr[0].toUpperCase()+dr.slice(1)),mr={phasedRegistrationNames:{bubbled:gr,captured:gr+"Capture"},dependencies:[pr],eventPriority:fr};lr[dr]=mr,ur[pr]=mr}var yr={eventTypes:lr,getEventPriority:function(e){return void 0!==(e=ur[e])?e.eventPriority:2},extractEvents:function(e,t,r,n){var i=ur[e];if(!i)return null;switch(e){case"keypress":if(0===Wt(r))return null;case"keydown":case"keyup":e=qt;break;case"blur":case"focus":e=Vt;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ir;break;case qe:case Qe:case $e:e=Ut;break;case Je:e=or;break;case"scroll":e=Bt;break;case"wheel":e=ar;break;case"copy":case"cut":case"paste":e=zt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=rr;break;default:e=Mt}return Lt(t=e.getPooled(i,t,r,n)),t}},_r=o.unstable_UserBlockingPriority,br=o.unstable_runWithPriority,vr=yr.getEventPriority,wr=[];function Or(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=ln(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=xt(e.nativeEvent);n=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(n,t,o,i,a))&&(s=C(s,u))}P(s)}}var Er=!0;function Tr(e,t){Sr(t,e,!1)}function Sr(e,t,r){switch(vr(t)){case 0:var n=Cr.bind(null,t,1);break;case 1:n=xr.bind(null,t,1);break;default:n=Rr.bind(null,t,1)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Cr(e,t,r){ce||le();var n=Rr,i=ce;ce=!0;try{se(n,e,t,r)}finally{(ce=i)||pe()}}function xr(e,t,r){br(_r,Rr.bind(null,e,t,r))}function kr(e,t,r,n){if(wr.length){var i=wr.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=r,i.targetInst=n,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:r,targetInst:n,ancestors:[]};try{if(t=Or,r=e,he)t(r,void 0);else{he=!0;try{ue(t,r,void 0)}finally{he=!1,pe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,wr.length<10&&wr.push(e)}}function Rr(e,t,r){if(Er)if(0<ut.length&&-1<mt.indexOf(e))e=_t(null,e,t,r),ut.push(e);else{var n=Pr(e,t,r);null===n?bt(e,r):-1<mt.indexOf(e)?(e=_t(n,e,t,r),ut.push(e)):function(e,t,r,n){switch(t){case"focus":return ct=vt(ct,e,t,r,n),!0;case"dragenter":return ht=vt(ht,e,t,r,n),!0;case"mouseover":return pt=vt(pt,e,t,r,n),!0;case"pointerover":var i=n.pointerId;return dt.set(i,vt(dt.get(i)||null,e,t,r,n)),!0;case"gotpointercapture":return i=n.pointerId,ft.set(i,vt(ft.get(i)||null,e,t,r,n)),!0}return!1}(n,e,t,r)||(bt(e,r),kr(e,t,r,null))}}function Pr(e,t,r){var n=xt(r);if(null!==(n=ln(n))){var i=tt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=rt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return kr(e,t,r,n),null}function Ir(e){if(!J)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var jr=new("function"==typeof WeakMap?WeakMap:Map);function Lr(e){var t=jr.get(e);return void 0===t&&(t=new Set,jr.set(e,t)),t}function Ar(e,t,r){if(!r.has(e)){switch(e){case"scroll":Sr(t,"scroll",!0);break;case"focus":case"blur":Sr(t,"focus",!0),Sr(t,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Ir(e)&&Sr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&Tr(e,t)}r.add(e)}}var Fr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];function Nr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Fr.hasOwnProperty(e)&&Fr[e]?(""+t).trim():t+"px"}function Dr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Nr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Fr).forEach((function(e){Mr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fr[t]=Fr[e]}))}));var Gr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(e,t){if(t){if(Gr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function zr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Br(e,t){var r=Lr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var n=0;n<t.length;n++)Ar(t[n],e,r)}function Vr(){}function Wr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hr(e,t){var r,n=Kr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kr(n)}}function Yr(){for(var e=window,t=Wr();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Wr((e=t.contentWindow).document)}return t}function Xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Zr=null,qr=null;function Qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"==typeof setTimeout?setTimeout:void 0,en="function"==typeof clearTimeout?clearTimeout:void 0;function tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),on="__reactInternalInstance$"+nn,an="__reactEventHandlers$"+nn,sn="__reactContainere$"+nn;function ln(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sn]||r[on]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=rn(e);null!==e;){if(r=e[on])return r;e=rn(e)}return t}r=(e=r).parentNode}return null}function un(e){return!(e=e[on]||e[sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function cn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function hn(e){return e[an]||null}var pn=null,dn=null,fn=null;function gn(){if(fn)return fn;var e,t,r=dn,n=r.length,i="value"in pn?pn.value:pn.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return fn=i.slice(e,1<t?1-t:void 0)}var mn=Mt.extend({data:null}),yn=Mt.extend({data:null}),_n=[9,13,27,32],bn=J&&"CompositionEvent"in window,vn=null;J&&"documentMode"in document&&(vn=document.documentMode);var wn=J&&"TextEvent"in window&&!vn,On=J&&(!bn||vn&&8<vn&&11>=vn),En=String.fromCharCode(32),Tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Sn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var kn=!1;var Rn={eventTypes:Tn,extractEvents:function(e,t,r,n){var i;if(bn)e:{switch(e){case"compositionstart":var o=Tn.compositionStart;break e;case"compositionend":o=Tn.compositionEnd;break e;case"compositionupdate":o=Tn.compositionUpdate;break e}o=void 0}else kn?Cn(e,r)&&(o=Tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=Tn.compositionStart);return o?(On&&"ko"!==r.locale&&(kn||o!==Tn.compositionStart?o===Tn.compositionEnd&&kn&&(i=gn()):(dn="value"in(pn=n)?pn.value:pn.textContent,kn=!0)),o=mn.getPooled(o,t,r,n),i?o.data=i:null!==(i=xn(r))&&(o.data=i),Lt(o),i=o):i=null,(e=wn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Sn=!0,En);case"textInput":return(e=t.data)===En&&Sn?null:e;default:return null}}(e,r):function(e,t){if(kn)return"compositionend"===e||!bn&&Cn(e,t)?(e=gn(),fn=dn=pn=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=yn.getPooled(Tn.beforeInput,t,r,n)).data=e,Lt(t)):t=null,null===i?t:null===t?i:[i,t]}},Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}var jn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ln(e,t,r){return(e=Mt.getPooled(jn.change,e,t,r)).type="change",ie(r),Lt(e),e}var An=null,Fn=null;function Mn(e){P(e)}function Nn(e){if(Se(cn(e)))return e}function Dn(e,t){if("change"===e)return t}var Gn=!1;function Un(){An&&(An.detachEvent("onpropertychange",zn),Fn=An=null)}function zn(e){if("value"===e.propertyName&&Nn(Fn))if(e=Ln(Fn,e,xt(e)),ce)P(e);else{ce=!0;try{ae(Mn,e)}finally{ce=!1,pe()}}}function Bn(e,t,r){"focus"===e?(Un(),Fn=r,(An=t).attachEvent("onpropertychange",zn)):"blur"===e&&Un()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nn(Fn)}function Wn(e,t){if("click"===e)return Nn(t)}function Kn(e,t){if("input"===e||"change"===e)return Nn(t)}J&&(Gn=Ir("input")&&(!document.documentMode||9<document.documentMode));var Hn,Yn={eventTypes:jn,_isInputEventSupported:Gn,extractEvents:function(e,t,r,n){var i=t?cn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Dn;else if(In(i))if(Gn)a=Kn;else{a=Vn;var s=Bn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Wn);if(a&&(a=a(e,t)))return Ln(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Xn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zn={eventTypes:Xn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?ln(t):null)&&(t!==(o=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=tr,l=Xn.mouseLeave,u=Xn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=rr,l=Xn.pointerLeave,u=Xn.pointerEnter,c="pointer");if(e=null==a?i:cn(a),i=null==t?i:cn(t),(l=s.getPooled(l,a,r,n)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,r,n)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(s=a)&&c)e:{for(e=c,a=0,t=u=s;t;t=kt(t))a++;for(t=0,i=e;i;i=kt(i))t++;for(;0<a-t;)u=kt(u),a--;for(;0<t-a;)e=kt(e),t--;for(;a--;){if(u===e||u===e.alternate)break e;u=kt(u),e=kt(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)u.push(s),s=kt(s);for(s=[];c&&c!==e&&(null===(a=c.alternate)||a!==e);)s.push(c),c=kt(c);for(c=0;c<u.length;c++)It(u[c],"bubbled",l);for(c=s.length;0<c--;)It(s[c],"captured",n);return r===Hn?(Hn=null,[l]):(Hn=r,[l,n])}};var qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Qn=Object.prototype.hasOwnProperty;function $n(e,t){if(qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Qn.call(t,r[n])||!qn(e[r[n]],t[r[n]]))return!1;return!0}var Jn=J&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ti=null,ri=null,ni=null,ii=!1;function oi(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ii||null==ti||ti!==Wr(r)?null:("selectionStart"in(r=ti)&&Xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ni&&$n(ni,r)?null:(ni=r,(e=Mt.getPooled(ei.select,ri,e,t)).type="select",e.target=ti,Lt(e),e))}var ai={eventTypes:ei,extractEvents:function(e,t,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){e:{o=Lr(o),i=f.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?cn(t):window,e){case"focus":(In(o)||"true"===o.contentEditable)&&(ti=o,ri=t,ni=null);break;case"blur":ni=ri=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":return ii=!1,oi(r,n);case"selectionchange":if(Jn)break;case"keydown":case"keyup":return oi(r,n)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O=hn,E=un,T=cn,I.injectEventPluginsByName({SimpleEventPlugin:yr,EnterLeaveEventPlugin:Zn,ChangeEventPlugin:Yn,SelectEventPlugin:ai,BeforeInputEventPlugin:Rn}),new Set;var si=[],li=-1;function ui(e){0>li||(e.current=si[li],si[li]=null,li--)}function ci(e,t){li++,si[li]=e.current,e.current=t}var hi={},pi={current:hi},di={current:!1},fi=hi;function gi(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function yi(e){ui(di),ui(pi)}function _i(e){ui(di),ui(pi)}function bi(e,t,r){if(pi.current!==hi)throw Error(a(168));ci(pi,t),ci(di,r)}function vi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},r,{},n)}function wi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||hi,fi=pi.current,ci(pi,t),ci(di,di.current),!0}function Oi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(t=vi(e,t,fi),n.__reactInternalMemoizedMergedChildContext=t,ui(di),ui(pi),ci(pi,t)):ui(di),ci(di,r)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,xi=o.unstable_requestPaint,ki=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Fi={},Mi=void 0!==xi?xi:function(){},Ni=null,Di=null,Gi=!1,Ui=ki(),zi=1e4>Ui?ki:function(){return ki()-Ui};function Bi(){switch(Ri()){case Pi:return 99;case Ii:return 98;case ji:return 97;case Li:return 96;case Ai:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Pi;case 98:return Ii;case 97:return ji;case 96:return Li;case 95:return Ai;default:throw Error(a(332))}}function Wi(e,t){return e=Vi(e),Ei(e,t)}function Ki(e,t,r){return e=Vi(e),Ti(e,t,r)}function Hi(e){return null===Ni?(Ni=[e],Di=Ti(Pi,Xi)):Ni.push(e),Fi}function Yi(){if(null!==Di){var e=Di;Di=null,Si(e)}Xi()}function Xi(){if(!Gi&&null!==Ni){Gi=!0;var e=0;try{var t=Ni;Wi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ni=null}catch(t){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ti(Pi,Yi),t}finally{Gi=!1}}}var Zi=3;function qi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Qi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var $i={current:null},Ji=null,eo=null,to=null;function ro(){to=eo=Ji=null}function no(e,t){var r=e.type._context;ci($i,r._currentValue),r._currentValue=t}function io(e){var t=$i.current;ui($i),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ao(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(za=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={expirationTime:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var lo=!1;function uo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function co(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ho(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function po(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function fo(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=uo(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=uo(e.memoizedState),i=r.updateQueue=uo(r.memoizedState)):n=e.updateQueue=co(i):null===i&&(i=r.updateQueue=co(n));null===i||n===i?po(n,t):null===n.lastUpdate||null===i.lastUpdate?(po(n,t),po(i,t)):(po(n,t),i.lastUpdate=t)}function go(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=uo(e.memoizedState):mo(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function mo(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=co(t)),t}function yo(e,t,r,n,o,a){switch(r.tag){case 1:return"function"==typeof(e=r.payload)?e.call(a,n,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=r.payload)?e.call(a,n,o):e))break;return i({},n,o);case 2:lo=!0}return n}function _o(e,t,r,n,i){lo=!1;for(var o=(t=mo(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(hl(c,l.suspenseConfig),u=yo(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===a&&(o=u)),s<h&&(s=h)):(u=yo(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,pl(s),e.expirationTime=s,e.memoizedState=u}function bo(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),vo(t.firstEffect,r),t.firstEffect=t.lastEffect=null,vo(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function vo(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;if("function"!=typeof r)throw Error(a(191,r));r.call(n)}e=e.nextEffect}}var wo=L.ReactCurrentBatchConfig,Oo=(new n.Component).refs;function Eo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var To={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=wo.suspense;(i=ho(n=Js(n,e,i),i)).payload=t,null!=r&&(i.callback=r),fo(e,i),el(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=wo.suspense;(i=ho(n=Js(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),fo(e,i),el(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=$s(),n=wo.suspense;(n=ho(r=Js(r,e,n),n)).tag=2,null!=t&&(n.callback=t),fo(e,n),el(e,r)}};function So(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(r,n)||!$n(i,o))}function Co(e,t,r){var n=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=mi(t)?fi:pi.current,o=(n=null!=(n=t.contextTypes))?gi(e,i):hi),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=To,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function ko(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Oo;var o=t.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=mi(t)?fi:pi.current,i.context=gi(e,o)),null!==(o=e.updateQueue)&&(_o(e,o,r,i,n),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Eo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&To.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(_o(e,o,r,i,n),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ro=Array.isArray;function Po(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===Oo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Io(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function jo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Po(e,t,r),n.return=e,n):((n=Ll(r.type,r.key,r.props,null,e.mode,n)).ref=Po(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ml(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=Al(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function p(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Fl(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(r=Ll(t.type,t.key,t.props,null,e.mode,r)).ref=Po(e,null,t),r.return=e,r;case N:return(t=Ml(t,e.mode,r)).return=e,t}if(Ro(t)||q(t))return(t=Al(t,e.mode,r,null)).return=e,t;Io(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return r.key===i?r.type===D?h(e,t,r.props.children,n,i):u(e,t,r,n):null;case N:return r.key===i?c(e,t,r,n):null}if(Ro(r)||q(r))return null!==i?null:h(e,t,r,n,null);Io(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return e=e.get(null===n.key?r:n.key)||null,n.type===D?h(t,e,n.props.children,i,n.key):u(t,e,n,i);case N:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Ro(n)||q(n))return h(t,e=e.get(r)||null,n,i,null);Io(t,n)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return r(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=p(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(i,h);g<s.length;g++)null!==(m=f(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=q(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(i,g,_.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(_.done)return r(i,g),c;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=p(i,_.value,u))&&(s=o(_,s,m),null===h?c=_:h.sibling=_,h=_);return c}for(g=n(i,g);!_.done;m++,_=l.next())null!==(_=f(g,i,m,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===h?c=_:h.sibling=_,h=_);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,n,o,l){var u="object"==typeof o&&null!==o&&o.type===D&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case M:e:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag?o.type===D:u.elementType===o.type){r(e,u.sibling),(n=i(u,o.type===D?o.props.children:o.props)).ref=Po(e,u,o),n.return=e,e=n;break e}r(e,u);break}t(e,u),u=u.sibling}o.type===D?((n=Al(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Ll(o.type,o.key,o.props,null,e.mode,l)).ref=Po(e,n,o),l.return=e,e=l)}return s(e);case N:e:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Ml(o,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Fl(o,e.mode,l)).return=e,e=n),s(e);if(Ro(o))return g(e,n,o,l);if(q(o))return m(e,n,o,l);if(c&&Io(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Lo=jo(!0),Ao=jo(!1),Fo={},Mo={current:Fo},No={current:Fo},Do={current:Fo};function Go(e){if(e===Fo)throw Error(a(174));return e}function Uo(e,t){ci(Do,t),ci(No,e),ci(Mo,Fo);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ze(null,"");break;default:t=ze(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}ui(Mo),ci(Mo,t)}function zo(e){ui(Mo),ui(No),ui(Do)}function Bo(e){Go(Do.current);var t=Go(Mo.current),r=ze(t,e.type);t!==r&&(ci(No,e),ci(Mo,r))}function Vo(e){No.current===e&&(ui(Mo),ui(No))}var Wo={current:0};function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var Yo=L.ReactCurrentDispatcher,Xo=L.ReactCurrentBatchConfig,Zo=0,qo=null,Qo=null,$o=null,Jo=null,ea=null,ta=null,ra=0,na=null,ia=0,oa=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ua(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qn(e[r],t[r]))return!1;return!0}function ca(e,t,r,n,i,o){if(Zo=o,qo=t,$o=null!==e?e.memoizedState:null,Yo.current=null===$o?Ra:Pa,t=r(n,i),oa){do{oa=!1,sa+=1,$o=null!==e?e.memoizedState:null,ta=Jo,na=ea=Qo=null,Yo.current=Pa,t=r(n,i)}while(oa);aa=null,sa=0}if(Yo.current=ka,(e=qo).memoizedState=Jo,e.expirationTime=ra,e.updateQueue=na,e.effectTag|=ia,e=null!==Qo&&null!==Qo.next,Zo=0,ta=ea=Jo=$o=Qo=qo=null,ra=0,na=null,ia=0,e)throw Error(a(300));return t}function ha(){Yo.current=ka,Zo=0,ta=ea=Jo=$o=Qo=qo=null,ra=0,na=null,ia=0,oa=!1,aa=null,sa=0}function pa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Jo=ea=e:ea=ea.next=e,ea}function da(){if(null!==ta)ta=(ea=ta).next,$o=null!==(Qo=$o)?Qo.next:null;else{if(null===$o)throw Error(a(310));var e={memoizedState:(Qo=$o).memoizedState,baseState:Qo.baseState,queue:Qo.queue,baseUpdate:Qo.baseUpdate,next:null};ea=null===ea?Jo=e:ea.next=e,$o=Qo.next}return ea}function fa(e,t){return"function"==typeof t?t(e):t}function ga(e){var t=da(),r=t.queue;if(null===r)throw Error(a(311));if(r.lastRenderedReducer=e,0<sa){var n=r.dispatch;if(null!==aa){var i=aa.get(r);if(void 0!==i){aa.delete(r);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return qn(o,t.memoizedState)||(za=!0),t.memoizedState=o,t.baseUpdate===r.last&&(t.baseState=o),r.lastRenderedState=o,[o,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var l=i=null,u=n,c=!1;do{var h=u.expirationTime;h<Zo?(c||(c=!0,l=s,i=o),h>ra&&pl(ra=h)):(hl(h,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==n);c||(l=s,i=o),qn(o,t.memoizedState)||(za=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,r.lastRenderedState=o}return[t.memoizedState,r.dispatch]}function ma(e){var t=pa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=xa.bind(null,qo,e),[t.memoizedState,e]}function ya(e){return ga(fa)}function _a(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===na?(na={lastEffect:null}).lastEffect=e.next=e:null===(t=na.lastEffect)?na.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,na.lastEffect=e),e}function ba(e,t,r,n){var i=pa();ia|=e,i.memoizedState=_a(t,r,void 0,void 0===n?null:n)}function va(e,t,r,n){var i=da();n=void 0===n?null:n;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==n&&ua(n,a.deps))return void _a(0,r,o,n)}ia|=e,i.memoizedState=_a(t,r,o,n)}function wa(e,t){return ba(516,192,e,t)}function Oa(e,t){return va(516,192,e,t)}function Ea(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(){}function Sa(e,t){return pa().memoizedState=[e,void 0===t?null:t],e}function Ca(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ua(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xa(e,t,r){if(!(25>sa))throw Error(a(301));var n=e.alternate;if(e===qo||null!==n&&n===qo)if(oa=!0,e={expirationTime:Zo,suspenseConfig:null,action:r,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(r=aa.get(t)))aa.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{var i=$s(),o=wo.suspense;o={expirationTime:i=Js(i,e,o),suspenseConfig:o,action:r,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=n(u,r);if(o.eagerReducer=n,o.eagerState=c,qn(c,u))return}catch(e){}el(e,i)}}var ka={readContext:so,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ra={readContext:so,useCallback:Sa,useContext:so,useEffect:wa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ba(4,36,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ba(4,36,e,t)},useMemo:function(e,t){var r=pa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,qo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},pa().memoizedState=e},useState:ma,useDebugValue:Ta,useResponder:Ho,useDeferredValue:function(e,t){var r=ma(e),n=r[0],i=r[1];return wa((function(){o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===t?null:t;try{i(e)}finally{Xo.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=ma(!1),r=t[0],n=t[1];return[Sa((function(t){n(!0),o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Xo.suspense=r}}))}),[e,r]),r]}},Pa={readContext:so,useCallback:Ca,useContext:so,useEffect:Oa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,va(4,36,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4,36,e,t)},useMemo:function(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ua(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:ga,useRef:function(){return da().memoizedState},useState:ya,useDebugValue:Ta,useResponder:Ho,useDeferredValue:function(e,t){var r=ya(),n=r[0],i=r[1];return Oa((function(){o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===t?null:t;try{i(e)}finally{Xo.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=ya(),r=t[0],n=t[1];return[Ca((function(t){n(!0),o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Xo.suspense=r}}))}),[e,r]),r]}},Ia=null,ja=null,La=!1;function Aa(e,t){var r=Pl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Fa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ma(e){if(La){var t=ja;if(t){var r=t;if(!Fa(e,t)){if(!(t=tn(r.nextSibling))||!Fa(e,t))return e.effectTag=-1025&e.effectTag|2,La=!1,void(Ia=e);Aa(Ia,r)}Ia=e,ja=tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,La=!1,Ia=e}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Da(e){if(e!==Ia)return!1;if(!La)return Na(e),La=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=ja;t;)Aa(e,t),t=tn(t.nextSibling);if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ja=tn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ja=null}}else ja=Ia?tn(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Ia=null,La=!1}var Ua=L.ReactCurrentOwner,za=!1;function Ba(e,t,r,n){t.child=null===e?Ao(t,null,r,n):Lo(t,e.child,r,n)}function Va(e,t,r,n,i){r=r.render;var o=t.ref;return ao(t,i),n=ca(e,t,r,n,o,i),null===e||za?(t.effectTag|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Wa(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Il(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ll(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ka(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:$n)(i,n)&&e.ref===t.ref)?os(e,t,o):(t.effectTag|=1,(e=jl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ka(e,t,r,n,i,o){return null!==e&&$n(e.memoizedProps,n)&&e.ref===t.ref&&(za=!1,i<o)?os(e,t,o):Ya(e,t,r,n,o)}function Ha(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ya(e,t,r,n,i){var o=mi(r)?fi:pi.current;return o=gi(t,o),ao(t,i),r=ca(e,t,r,n,o,i),null===e||za?(t.effectTag|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Xa(e,t,r,n,i){if(mi(r)){var o=!0;wi(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Co(t,r,n),ko(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"==typeof u&&null!==u?u=so(u):u=gi(t,u=mi(r)?fi:pi.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&xo(t,a,n,u),lo=!1;var p=t.memoizedState;l=a.state=p;var d=t.updateQueue;null!==d&&(_o(t,d,n,a,i),l=t.memoizedState),s!==n||p!==l||di.current||lo?("function"==typeof c&&(Eo(t,r,c,n),l=t.memoizedState),(s=lo||So(t,r,s,n,p,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Qi(t.type,s),l=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=so(u):u=gi(t,u=mi(r)?fi:pi.current),(h="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&xo(t,a,n,u),lo=!1,l=t.memoizedState,p=a.state=l,null!==(d=t.updateQueue)&&(_o(t,d,n,a,i),p=t.memoizedState),s!==n||l!==p||di.current||lo?("function"==typeof c&&(Eo(t,r,c,n),p=t.memoizedState),(c=lo||So(t,r,s,n,l,p,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=u,n=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Za(e,t,r,n,o,i)}function Za(e,t,r,n,i,o){Ha(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&Oi(t,r,!1),os(e,t,o);n=t.stateNode,Ua.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Lo(t,e.child,null,o),t.child=Lo(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=n.state,i&&Oi(t,r,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Uo(e,t.containerInfo)}var Qa,$a,Ja,es={dehydrated:null,retryTime:0};function ts(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Wo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Wo,1&a),null===e){if(void 0!==o.fallback&&Ma(t),s){if(s=o.fallback,(o=Al(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Al(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=es,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Ao(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=jl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=jl(i,o,i.expirationTime)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=es,t.child=r,i}return r=Lo(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=Al(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Al(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=es,t.child=o,r}return t.memoizedState=null,t.child=Lo(t,e,o.children,r)}function rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),oo(e.return,t)}function ns(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function is(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ba(e,t,n.children,r),0!=(2&(n=Wo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,r);else if(19===e.tag)rs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ci(Wo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Ko(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ns(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ko(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ns(t,!0,r,null,o,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&pl(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=jl(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=jl(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function as(e){e.effectTag|=4}function ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ls(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zo(),_i(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Vo(e),null;case 13:return ui(Wo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Wo),null;case 4:return zo(),null;case 10:return io(e),null;default:return null}}function us(e,t){return{value:e,source:t,stack:$(t)}}Qa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$a=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,u=t.stateNode;switch(Go(Mo.current),e=null,r){case"input":a=Ce(u,a),n=Ce(u,n),e=[];break;case"option":a=je(u,a),n=je(u,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),n=Ae(u,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(u.onclick=Vr)}for(s in Ur(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(e||(e=[]),e.push(s,r)),r=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,""+c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=c&&Br(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&as(t)}},Ja=function(e,t,r,n){r!==n&&as(t)};var cs="function"==typeof WeakSet?WeakSet:Set;function hs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=$(r)),null!==r&&Q(r.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Tl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:fs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Qi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function fs(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if(0!=(n.tag&e)){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}0!=(n.tag&t)&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function gs(e,t,r){switch("function"==typeof kl&&kl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Wi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){Tl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:ps(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Tl(e,t)}}(t,r);break;case 5:ps(t);break;case 4:bs(e,t,r)}}function ms(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&ms(t)}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ys(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(We(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(r)if(n){var l=s;s=r,8===(o=t).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else t.insertBefore(s,r);else n?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=Vr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function bs(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=r,h=u;;)if(gs(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=n,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(gs(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fs(4,8,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[an]=n,"input"===e&&"radio"===n.type&&null!=n.name&&ke(r,n),zr(e,i),t=zr(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Dr(r,l):"dangerouslySetInnerHTML"===s?Ve(r,l):"children"===s?We(r,l):Oe(r,s,l,t)}switch(e){case"input":Re(r,n);break;case"textarea":Me(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Le(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Le(r,!!n.multiple,n.defaultValue,!0):Le(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ct(t.containerInfo));break;case 12:break;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Us=zi()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Nr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break e;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ws(t);break;case 19:ws(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new cs),t.forEach((function(t){var n=Cl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var Os="function"==typeof WeakMap?WeakMap:Map;function Es(e,t,r){(r=ho(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bs||(Bs=!0,Vs=n),hs(e,t)},r}function Ts(e,t,r){(r=ho(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return hs(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Ws?Ws=new Set([this]):Ws.add(this),hs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Ss,Cs=Math.ceil,xs=L.ReactCurrentDispatcher,ks=L.ReactCurrentOwner,Rs=0,Ps=null,Is=null,js=0,Ls=0,As=null,Fs=1073741823,Ms=1073741823,Ns=null,Ds=0,Gs=!1,Us=0,zs=null,Bs=!1,Vs=null,Ws=null,Ks=!1,Hs=null,Ys=90,Xs=null,Zs=0,qs=null,Qs=0;function $s(){return 0!=(48&Rs)?1073741821-(zi()/10|0):0!==Qs?Qs:Qs=1073741821-(zi()/10|0)}function Js(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Bi();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Rs))return js;if(null!==r)e=qi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ps&&e===js&&--e,e}function el(e,t){if(50<Zs)throw Zs=0,qs=null,Error(a(185));if(null!==(e=tl(e,t))){var r=Bi();1073741823===t?0!=(8&Rs)&&0==(48&Rs)?ol(e):(nl(e),0===Rs&&Yi()):nl(e),0==(4&Rs)||98!==r&&99!==r||(null===Xs?Xs=new Map([[e,t]]):(void 0===(r=Xs.get(e))||r>t)&&Xs.set(e,t))}}function tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ps===i&&(pl(t),4===Ls&&Gl(i,js)),Ul(i,t)),i}function rl(e){var t=e.lastExpiredTime;return 0!==t?t:Dl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function nl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(ol.bind(null,e));else{var t=rl(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=$s();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Fi&&Si(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Hi(ol.bind(null,e)):Ki(n,il.bind(null,e),{timeout:10*(1073741821-t)-zi()}),e.callbackNode=t}}}function il(e,t){if(Qs=0,t)return zl(e,t=$s()),nl(e),null;var r=rl(e);if(0!==r){if(t=e.callbackNode,0!=(48&Rs))throw Error(a(327));if(wl(),e===Ps&&r===js||ll(e,r),null!==Is){var n=Rs;Rs|=16;for(var i=cl();;)try{fl();break}catch(t){ul(e,t)}if(ro(),Rs=n,xs.current=i,1===Ls)throw t=As,ll(e,r),Gl(e,r),nl(e),t;if(null===Is)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ls,Ps=null,n){case 0:case 1:throw Error(a(345));case 2:zl(e,2<r?2:r);break;case 3:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(i)),1073741823===Fs&&10<(i=Us+500-zi())){if(Gs){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,ll(e,r);break}}if(0!==(o=rl(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Jr(_l.bind(null,e),i);break}_l(e);break;case 4:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(i)),Gs&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,ll(e,r);break}if(0!==(i=rl(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Ms?n=10*(1073741821-Ms)-zi():1073741823===Fs?n=0:(n=10*(1073741821-Fs)-5e3,0>(n=(i=zi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=Jr(_l.bind(null,e),n);break}_l(e);break;case 5:if(1073741823!==Fs&&null!==Ns){o=Fs;var s=Ns;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=zi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Gl(e,r),e.timeoutHandle=Jr(_l.bind(null,e),n);break}}_l(e);break;default:throw Error(a(329))}if(nl(e),e.callbackNode===t)return il.bind(null,e)}}return null}function ol(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)_l(e);else{if(0!=(48&Rs))throw Error(a(327));if(wl(),e===Ps&&t===js||ll(e,t),null!==Is){var r=Rs;Rs|=16;for(var n=cl();;)try{dl();break}catch(t){ul(e,t)}if(ro(),Rs=r,xs.current=n,1===Ls)throw r=As,ll(e,t),Gl(e,t),nl(e),r;if(null!==Is)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,_l(e),nl(e)}}return null}function al(e,t){var r=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=r)&&Yi()}}function sl(e,t){var r=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=r)&&Yi()}}function ll(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,en(r)),null!==Is)for(r=Is.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!=i&&yi();break;case 3:zo(),_i();break;case 5:Vo(n);break;case 4:zo();break;case 13:case 19:ui(Wo);break;case 10:io(n)}r=r.return}Ps=e,Is=jl(e.current,null),js=t,Ls=0,As=null,Ms=Fs=1073741823,Ns=null,Ds=0,Gs=!1}function ul(e,t){for(;;){try{if(ro(),ha(),null===Is||null===Is.return)return Ls=1,As=t,null;e:{var r=e,n=Is.return,i=Is,o=t;if(t=js,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Wo.current),l=n;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(u){var p=l.updateQueue;if(null===p){var d=new Set;d.add(a),l.updateQueue=d}else p.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=ho(1073741823,null);f.tag=2,fo(i,f)}i.expirationTime=1073741823;break e}o=void 0,i=t;var g=r.pingCache;if(null===g?(g=r.pingCache=new Os,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var m=Sl.bind(null,r,a,i);a.then(m,m)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);o=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(i))}5!==Ls&&(Ls=2),o=us(o,i),l=n;do{switch(l.tag){case 3:a=o,l.effectTag|=4096,l.expirationTime=t,go(l,Es(l,a,t));break e;case 1:a=o;var y=l.type,_=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ws||!Ws.has(_)))){l.effectTag|=4096,l.expirationTime=t,go(l,Ts(l,a,t));break e}}l=l.return}while(null!==l)}Is=ml(Is)}catch(e){t=e;continue}break}}function cl(){var e=xs.current;return xs.current=ka,null===e?ka:e}function hl(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ns=t)}function pl(e){e>Ds&&(Ds=e)}function dl(){for(;null!==Is;)Is=gl(Is)}function fl(){for(;null!==Is&&!Ci();)Is=gl(Is)}function gl(e){var t=Ss(e.alternate,e,js);return e.memoizedProps=e.pendingProps,null===t&&(t=ml(e)),ks.current=null,t}function ml(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0==(2048&Is.effectTag)){e:{var r=t,n=js,o=(t=Is).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(t.type)&&yi();break;case 3:zo(),_i(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===r||null===r.child)&&Da(t)&&as(t);break;case 5:Vo(t),n=Go(Do.current);var s=t.type;if(null!==r&&null!=t.stateNode)$a(r,t,s,o,n),r.ref!==t.ref&&(t.effectTag|=128);else if(o){var l=Go(Mo.current);if(Da(t)){var u=(o=t).stateNode;r=o.type;var c=o.memoizedProps,h=n;switch(u[on]=o,u[an]=c,s=void 0,n=u,r){case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(u=0;u<et.length;u++)Tr(et[u],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"form":Tr("reset",n),Tr("submit",n);break;case"details":Tr("toggle",n);break;case"input":xe(n,c),Tr("invalid",n),Br(h,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},Tr("invalid",n),Br(h,"onChange");break;case"textarea":Fe(n,c),Tr("invalid",n),Br(h,"onChange")}for(s in Ur(r,c),u=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"==typeof l?n.textContent!==l&&(u=["children",l]):"number"==typeof l&&n.textContent!==""+l&&(u=["children",""+l]):d.hasOwnProperty(s)&&null!=l&&Br(h,s));switch(r){case"input":Te(n),Pe(n,c,!0);break;case"textarea":Te(n),Ne(n);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(n.onclick=Vr)}s=u,o.updateQueue=s,(o=null!==s)&&as(t)}else{r=t,h=s,c=o,u=9===n.nodeType?n:n.ownerDocument,l===De&&(l=Ue(h)),l===De?"script"===h?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(h,{is:c.is}):(u=u.createElement(h),"select"===h&&(h=u,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):u=u.createElementNS(l,h),(c=u)[on]=r,c[an]=o,Qa(c,t),t.stateNode=c;var p=n,f=zr(h=s,r=o);switch(h){case"iframe":case"object":case"embed":Tr("load",c),n=r;break;case"video":case"audio":for(n=0;n<et.length;n++)Tr(et[n],c);n=r;break;case"source":Tr("error",c),n=r;break;case"img":case"image":case"link":Tr("error",c),Tr("load",c),n=r;break;case"form":Tr("reset",c),Tr("submit",c),n=r;break;case"details":Tr("toggle",c),n=r;break;case"input":xe(c,r),n=Ce(c,r),Tr("invalid",c),Br(p,"onChange");break;case"option":n=je(c,r);break;case"select":c._wrapperState={wasMultiple:!!r.multiple},n=i({},r,{value:void 0}),Tr("invalid",c),Br(p,"onChange");break;case"textarea":Fe(c,r),n=Ae(c,r),Tr("invalid",c),Br(p,"onChange");break;default:n=r}Ur(h,n),u=void 0,l=h;var g=c,m=n;for(u in m)if(m.hasOwnProperty(u)){var y=m[u];"style"===u?Dr(g,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&Ve(g,y):"children"===u?"string"==typeof y?("textarea"!==l||""!==y)&&We(g,y):"number"==typeof y&&We(g,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=y&&Br(p,u):null!=y&&Oe(g,u,y,f))}switch(h){case"input":Te(c),Pe(c,r,!1);break;case"textarea":Te(c),Ne(c);break;case"option":null!=r.value&&c.setAttribute("value",""+we(r.value));break;case"select":(n=c).multiple=!!r.multiple,null!=(c=r.value)?Le(n,!!r.multiple,c,!1):null!=r.defaultValue&&Le(n,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(c.onclick=Vr)}(o=Qr(s,o))&&as(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(r&&null!=t.stateNode)Ja(0,t,r.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));n=Go(Do.current),Go(Mo.current),Da(t)?(s=(o=t).stateNode,n=o.memoizedProps,s[on]=o,(o=s.nodeValue!==n)&&as(t)):(s=t,(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[on]=s,t.stateNode=o)}break;case 11:break;case 13:if(ui(Wo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=n;break e}o=null!==o,s=!1,null===r?void 0!==t.memoizedProps.fallback&&Da(t):(s=null!==(n=r.memoizedState),o||null===n||null!==(n=r.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=n,n.nextEffect=c):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===r&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Wo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),0!==Ds&&null!==Ps&&(Gl(Ps,js),Ul(Ps,Ds)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:zo();break;case 10:io(t);break;case 9:case 14:break;case 17:mi(t.type)&&yi();break;case 19:if(ui(Wo),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(c=o.rendering)){if(s)ss(o,!1);else if(0!==Ls||null!==r&&0!=(64&r.effectTag))for(r=t.child;null!==r;){if(null!==(c=Ko(r))){for(t.effectTag|=64,ss(o,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=n,s=t.child;null!==s;)r=o,(n=s).effectTag&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(c=n.alternate)?(n.childExpirationTime=0,n.expirationTime=r,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null):(n.childExpirationTime=c.childExpirationTime,n.expirationTime=c.expirationTime,n.child=c.child,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,r=c.dependencies,n.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders}),s=s.sibling;ci(Wo,1&Wo.current|2),t=t.child;break e}r=r.sibling}}else{if(!s)if(null!==(r=Ko(c))){if(t.effectTag|=64,s=!0,null!==(n=r.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ss(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else zi()>o.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,ss(o,!1),t.expirationTime=t.childExpirationTime=n-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=zi()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,n.sibling=null,o=Wo.current,ci(Wo,o=s?1&o|2:1&o),t=n;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Is,1===js||1!==o.childExpirationTime){for(s=0,n=o.child;null!==n;)(r=n.expirationTime)>s&&(s=r),(c=n.childExpirationTime)>s&&(s=c),n=n.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=ls(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return 0===Ls&&(Ls=5),null}function yl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function _l(e){var t=Bi();return Wi(99,bl.bind(null,e,t)),null}function bl(e,t){do{wl()}while(null!==Hs);if(0!=(48&Rs))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=yl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(Is=Ps=null,js=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Rs;Rs|=32,ks.current=null,Zr=Er;var s=Yr();if(Xr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var p=0,d=-1,f=-1,g=0,m=0,y=s,_=null;t:for(;;){for(var b;y!==l||0!==c&&3!==y.nodeType||(d=p+c),y!==h||0!==u&&3!==y.nodeType||(f=p+u),3===y.nodeType&&(p+=y.nodeValue.length),null!==(b=y.firstChild);)_=y,y=b;for(;;){if(y===s)break t;if(_===l&&++g===c&&(d=p),_===h&&++m===u&&(f=p),null!==(b=y.nextSibling))break;_=(y=_).parentNode}y=b}l=-1===d||-1===f?null:{start:d,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;qr={focusedElem:s,selectionRange:l},Er=!1,zs=i;do{try{vl()}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=i;do{try{for(s=e,l=t;null!==zs;){var v=zs.effectTag;if(16&v&&We(zs.stateNode,""),128&v){var w=zs.alternate;if(null!==w){var O=w.ref;null!==O&&("function"==typeof O?O(null):O.current=null)}}switch(1038&v){case 2:_s(zs),zs.effectTag&=-3;break;case 6:_s(zs),zs.effectTag&=-3,vs(zs.alternate,zs);break;case 1024:zs.effectTag&=-1025;break;case 1028:zs.effectTag&=-1025,vs(zs.alternate,zs);break;case 4:vs(zs.alternate,zs);break;case 8:bs(s,c=zs,l),ms(c)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);if(O=qr,w=Yr(),v=O.focusedElem,l=O.selectionRange,w!==v&&v&&v.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(v.ownerDocument.documentElement,v)){null!==l&&Xr(v)&&(w=l.start,void 0===(O=l.end)&&(O=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(O,v.value.length)):(O=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(O=O.getSelection(),c=v.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!O.extend&&s>l&&(c=l,l=s,s=c),c=Hr(v,s),h=Hr(v,l),c&&h&&(1!==O.rangeCount||O.anchorNode!==c.node||O.anchorOffset!==c.offset||O.focusNode!==h.node||O.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),O.removeAllRanges(),s>l?(O.addRange(w),O.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),O.addRange(w))))),w=[];for(O=v;O=O.parentNode;)1===O.nodeType&&w.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(O=w[v]).element.scrollLeft=O.left,O.element.scrollTop=O.top}qr=null,Er=!!Zr,Zr=null,e.current=r,zs=i;do{try{for(v=n;null!==zs;){var E=zs.effectTag;if(36&E){var T=zs.alternate;switch(O=v,(w=zs).tag){case 0:case 11:case 15:fs(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===T)S.componentDidMount();else{var C=w.elementType===w.type?T.memoizedProps:Qi(w.type,T.memoizedProps);S.componentDidUpdate(C,T.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var x=w.updateQueue;null!==x&&bo(0,x,S);break;case 3:var k=w.updateQueue;if(null!==k){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}bo(0,k,s)}break;case 5:var R=w.stateNode;null===T&&4&w.effectTag&&Qr(w.type,w.memoizedProps)&&R.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var P=w.alternate;if(null!==P){var I=P.memoizedState;if(null!==I){var j=I.dehydrated;null!==j&&Ct(j)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&E){w=void 0;var L=zs.ref;if(null!==L){var A=zs.stateNode;switch(zs.tag){case 5:w=A;break;default:w=A}"function"==typeof L?L(w):L.current=w}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Mi(),Rs=o}else e.current=r;if(Ks)Ks=!1,Hs=e,Ys=t;else for(zs=i;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,zs=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===qs?Zs++:(Zs=0,qs=e):Zs=0,"function"==typeof xl&&xl(r.stateNode,n),nl(e),Bs)throw Bs=!1,e=Vs,Vs=null,e;return 0!=(8&Rs)?null:(Yi(),null)}function vl(){for(;null!==zs;){var e=zs.effectTag;0!=(256&e)&&ds(zs.alternate,zs),0==(512&e)||Ks||(Ks=!0,Ki(97,(function(){return wl(),null}))),zs=zs.nextEffect}}function wl(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Wi(e,Ol)}}function Ol(){if(null===Hs)return!1;var e=Hs;if(Hs=null,0!=(48&Rs))throw Error(a(331));var t=Rs;for(Rs|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:fs(128,0,r),fs(0,64,r)}}catch(t){if(null===e)throw Error(a(330));Tl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Rs=t,Yi(),!0}function El(e,t,r){fo(e,t=Es(e,t=us(r,t),1073741823)),null!==(e=tl(e,1073741823))&&nl(e)}function Tl(e,t){if(3===e.tag)El(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){El(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ws||!Ws.has(n))){fo(r,e=Ts(r,e=us(t,e),1073741823)),null!==(r=tl(r,1073741823))&&nl(r);break}}r=r.return}}function Sl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ps===e&&js===r?4===Ls||3===Ls&&1073741823===Fs&&zi()-Us<500?ll(e,js):Gs=!0:Dl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,e.finishedExpirationTime===r&&(e.finishedExpirationTime=0,e.finishedWork=null),nl(e)))}function Cl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Js(t=$s(),e,null)),null!==(e=tl(e,t))&&nl(e)}Ss=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)za=!0;else{if(n<r){switch(za=!1,t.tag){case 3:qa(t),Ga();break;case 5:if(Bo(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&wi(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:no(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?ts(e,t,r):(ci(Wo,1&Wo.current),null!==(t=os(e,t,r))?t.sibling:null);ci(Wo,1&Wo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return is(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Wo,Wo.current),!n)return null}return os(e,t,r)}za=!1}}else za=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,pi.current),ao(t,r),i=ca(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ha(),mi(n)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=n.getDerivedStateFromProps;"function"==typeof s&&Eo(t,n,s,e),i.updater=To,t.stateNode=i,i._reactInternalFiber=t,ko(t,n,e,r),t=Za(null,t,n,!0,o,r)}else t.tag=0,Ba(null,t,i,r),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Il(e)?1:0;if(null!=e){if((e=e.$$typeof)===W)return 11;if(e===Y)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Ya(null,t,i,e,r);break;case 1:t=Xa(null,t,i,e,r);break;case 11:t=Va(null,t,i,e,r);break;case 14:t=Wa(null,t,i,Qi(i.type,e),n,r);break;default:throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ya(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Xa(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 3:if(qa(t),null===(n=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,_o(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===i)Ga(),t=os(e,t,r);else{if((i=t.stateNode.hydrate)&&(ja=tn(t.stateNode.containerInfo.firstChild),Ia=t,i=La=!0),i)for(r=Ao(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Ba(e,t,n,r),Ga();t=t.child}return t;case 5:return Bo(t),null===e&&Ma(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,$r(n,i)?s=null:null!==o&&$r(n,o)&&(t.effectTag|=16),Ha(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ba(e,t,s,r),t=t.child),t;case 6:return null===e&&Ma(t),null;case 13:return ts(e,t,r);case 4:return Uo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Lo(t,null,n,r):Ba(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Va(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 7:return Ba(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,no(t,o=i.value),null!==s){var l=s.value;if(0===(o=qn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!=(c.observedBits&o)){1===l.tag&&((c=ho(r,null)).tag=2,fo(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),oo(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ba(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ao(t,r),n=n(i=so(i,o.unstable_observedBits)),t.effectTag|=1,Ba(e,t,n,r),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Wa(e,t,i,o=Qi(i.type,o),n,r);case 15:return Ka(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(n)?(e=!0,wi(t)):e=!1,ao(t,r),Co(t,n,i),ko(t,n,i,r),Za(null,t,n,!0,e,r);case 19:return is(e,t,r)}throw Error(a(156,t.tag))};var xl=null,kl=null;function Rl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pl(e,t,r,n){return new Rl(e,t,r,n)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var r=e.alternate;return null===r?((r=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ll(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Il(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case D:return Al(r.children,i,o,t);case V:s=8,i|=7;break;case G:s=8,i|=1;break;case U:return(e=Pl(12,r,t,8|i)).elementType=U,e.type=U,e.expirationTime=o,e;case K:return(e=Pl(13,r,t,i)).type=K,e.elementType=K,e.expirationTime=o,e;case H:return(e=Pl(19,r,t,i)).elementType=H,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:s=10;break e;case B:s=9;break e;case W:s=11;break e;case Y:s=14;break e;case X:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function Al(e,t,r,n){return(e=Pl(7,e,n,t)).expirationTime=r,e}function Fl(e,t,r){return(e=Pl(6,e,null,t)).expirationTime=r,e}function Ml(e,t,r){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Dl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Gl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ul(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function zl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Bl(e,t,r,n){var i=t.current,o=$s(),s=wo.suspense;o=Js(o,i,s);e:if(r){t:{if(tt(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var u=r.type;if(mi(u)){r=vi(r,u,l);break e}}r=l}else r=hi;return null===t.context?t.context=r:t.pendingContext=r,(t=ho(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(i,t),el(i,o),o}function Vl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}function Hl(e,t,r){var n=new Nl(e,t,r=null!=r&&!0===r.hydrate),i=Pl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,e[sn]=n.current,r&&0!==t&&function(e){var t=Lr(e);mt.forEach((function(r){Ar(r,e,t)})),yt.forEach((function(r){Ar(r,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Vl(a);s.call(e)}}Bl(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Hl(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Vl(a);l.call(e)}}sl((function(){Bl(t,a,e,i)}))}return Vl(a)}function Zl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ql(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Zl(e,t,null,r)}Hl.prototype.render=function(e,t){Bl(e,this._internalRoot,null,void 0===t?null:t)},Hl.prototype.unmount=function(e){var t=this._internalRoot,r=void 0===e?null:e,n=t.containerInfo;Bl(null,t,null,(function(){n[sn]=null,null!==r&&r()}))},ot=function(e){if(13===e.tag){var t=qi($s(),150,100);el(e,t),Kl(e,t)}},at=function(e){if(13===e.tag){$s();var t=Zi++;el(e,t),Kl(e,t)}},st=function(e){if(13===e.tag){var t=$s();el(e,t=Js(t,e,null)),Kl(e,t)}},ee=function(e,t,r){switch(t){case"input":if(Re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=hn(n);if(!i)throw Error(a(90));Se(n),Re(n,i)}}}break;case"textarea":Me(e,r);break;case"select":null!=(t=r.value)&&Le(e,!!r.multiple,t,!1)}},ae=al,se=function(e,t,r,n){var i=Rs;Rs|=4;try{return Wi(98,e.bind(null,t,r,n))}finally{0===(Rs=i)&&Yi()}},le=function(){0==(49&Rs)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){zl(t,e),nl(t)})),Yi()}}(),wl())},ue=function(e,t){var r=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=r)&&Yi()}};var Ql,$l,Jl={createPortal:ql,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=it(t))?null:e.stateNode},hydrate:function(e,t,r){if(!Yl(t))throw Error(a(200));return Xl(null,e,t,!0,r)},render:function(e,t,r){if(!Yl(t))throw Error(a(200));return Xl(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){if(!Yl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Xl(e,t,r,!1,n)},unmountComponentAtNode:function(e){if(!Yl(e))throw Error(a(40));return!!e._reactRootContainer&&(sl((function(){Xl(null,null,e,!1,(function(){e._reactRootContainer=null,e[sn]=null}))})),!0)},unstable_createPortal:function(){return ql.apply(void 0,arguments)},unstable_batchedUpdates:al,flushSync:function(e,t){if(0!=(48&Rs))throw Error(a(187));var r=Rs;Rs|=1;try{return Wi(99,e.bind(null,t))}finally{Rs=r,Yi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[un,cn,hn,I.injectEventPluginsByName,p,Lt,function(e){x(e,jt)},ie,oe,Rr,P,wl,{current:!1}]}};$l=(Ql={findFiberByHostInstance:ln,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},kl=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}}(i({},Ql,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return $l?$l(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var eu={default:Jl},tu=eu&&Jl||eu;e.exports=tu.default||tu},function(e,t,r){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(262),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||_}function w(){}function O(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||_}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var E=O.prototype=new w;E.constructor=O,n(E,v.prototype),E.isPureReactComponent=!0;var T={current:null},S={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,n)&&!x.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:S.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,I=[];function j(e,t,r,n){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function A(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return n(i,t,""===r?"."+F(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+F(s=t[u],u);l+=e(s,c,n,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=r+F(s,u++),n,i);else if("object"===s)throw n=""+t,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,n,r,(function(e){return e})):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+r)),n.push(e))}function D(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(P,"$&/")+"/"),A(e,N,t=j(t,o,n,i)),L(t)}function G(){var e=T.current;if(null===e)throw Error(y(321));return e}var U={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return D(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;A(e,M,t=j(null,null,t,r)),L(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return D(e,t,null,(function(e){return e})),t},only:function(e){if(!R(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:v,PureComponent:O,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return G().useCallback(e,t)},useContext:function(e,t){return G().useContext(e,t)},useEffect:function(e,t){return G().useEffect(e,t)},useImperativeHandle:function(e,t,r){return G().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return G().useLayoutEffect(e,t)},useMemo:function(e,t){return G().useMemo(e,t)},useReducer:function(e,t,r){return G().useReducer(e,t,r)},useRef:function(e){return G().useRef(e)},useState:function(e){return G().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:d,createElement:k,cloneElement:function(e,t,r){if(null==e)throw Error(y(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:R,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n}},z={default:U},B=z&&U||z;e.exports=B.default||B},function(e,t,r){"use strict";e.exports=r(298)},function(e,t,r){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var _=!1,b=null,v=-1,w=5,O=0;a=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();O=e+w;try{b(!0,e)?T.postMessage(null):(_=!1,b=null)}catch(e){throw T.postMessage(null),e}}else _=!1},n=function(e){b=e,_||(_=!0,T.postMessage(null))},i=function(e,r){v=f((function(){e(t.unstable_now())}),r)},o=function(){g(v),v=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=Math.floor((r-1)/2),i=e[n];if(!(void 0!==i&&0<k(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,r))void 0!==l&&0>k(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>k(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function k(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var R=[],P=[],I=1,j=null,L=3,A=!1,F=!1,M=!1;function N(e){for(var t=C(P);null!==t;){if(null===t.callback)x(P);else{if(!(t.startTime<=e))break;x(P),t.sortIndex=t.expirationTime,S(R,t)}t=C(P)}}function D(e){if(M=!1,N(e),!F)if(null!==C(R))F=!0,n(G);else{var t=C(P);null!==t&&i(D,t.startTime-e)}}function G(e,r){F=!1,M&&(M=!1,o()),A=!0;var n=L;try{for(N(r),j=C(R);null!==j&&(!(j.expirationTime>r)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,L=j.priorityLevel;var l=s(j.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?j.callback=l:j===C(R)&&x(R),N(r)}else x(R);j=C(R)}if(null!==j)var u=!0;else{var c=C(P);null!==c&&i(D,c.startTime-r),u=!1}return u}finally{j=null,L=n,A=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:I++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(P,e),null===C(R)&&e===C(P)&&(M?o():M=!0,i(D,l-s))):(e.sortIndex=a,S(R,e),F||A||(F=!0,n(G))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=C(R);return r!==j&&null!==j&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<j.expirationTime||a()},t.unstable_requestPaint=z,t.unstable_continueExecution=function(){F||A||(F=!0,n(G))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(R)},t.unstable_Profiling=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterView=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(300),l=r(311),u=r(253),c=r(256),h=r(190),p=r(267),d=r(3),f=r(202),g=r(270),m=r(268),y=r(210),_=r(261),b=r(260),v=r(316),w=r(168);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
var O=r(317);t.RouterView=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.setActiveId=r.setActiveId.bind(r),r.setOpen=r.setOpen.bind(r),r.openControls=r.openControls.bind(r),r.resetFromPoint=r.resetFromPoint.bind(r),r.resetToPoint=r.resetToPoint.bind(r),r.resetAreaPoint=r.resetAreaPoint.bind(r),r.toggleResultDetails=r.toggleResultDetails.bind(r);var n=r.props.mapController,i=[];for(var o in r.languageConstants=(0,v.getLanguage)(n.data),n.data.router_profiles)n.data.router_profiles.hasOwnProperty(o)&&i.push({id:o,text:n.data.router_profiles[o]});var a=null,s=null,l=null,u=null;if(n.data.showFeatures){var c=n.data.routerLayers;for(var h in c)c.hasOwnProperty(h)&&(a=a||h,l=Object.keys(c[a])[0]||l,s=s||h,u=Object.keys(c[s])[0]||u)}return r.state={router:e.router,objSettings:{proxyUrl:n.data.proxyUrl,keyAutocomplete:n.data.autocomplete,center:function(){var e=n.map.getView().getCenter();return e=(0,d.transform)(e,"EPSG:3857","EPSG:4326"),e},geosearchParams:n.data.geosearch.params},activeId:null,openResults:!1,resultDetailOpen:!1,containerAddresses:{arrFromPositions:[],arrFromNames:[],arrToPositions:[],arrToNames:[],arrAreaPositions:[],arrAreaNames:[],arrOverPositions:{},arrOverNames:{}},fromAddress:"",toAddress:"",areaAddress:"",layerRoute:a,layerArea:s,layerValueRoute:l,layerValueArea:u,detourRoute:e.detourRoute.initial,detourArea:e.detourArea.initial,featureList:{features:[],type:""},mode:n.data.initialMode,overPtCtr:0,overAddresses:[],featureSource:void 0,routerWaySource:void 0,routerHintSource:void 0,areaPoint:null,fromPoint:null,toPoint:null,overPoints:[],profiles:i,currentProfile:0,open:"1"===r.props.mapController.data.router_open||!1},r.popupRouteButtonWrapper="",r.swapPoints=r.swapPoints.bind(r),n.data.usePermalink&&(r.permalink=new b.RoutingPermalink(r)),r.init(),r}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props.mapController.data,t={waySource:this.state.routerWaySource,hintSource:this.state.routerHintSource,featureSource:this.state.featureSource},r={};"route"===this.state.mode?r={min:e.detourRoute.min,max:e.detourRoute.max,value:this.state.detourRoute,router:this}:"area"===this.state.mode&&(r={min:e.detourArea.min,max:e.detourArea.max,value:this.state.detourArea,router:this});var n={from:this.resetFromPoint,to:this.resetToPoint,area:this.resetAreaPoint},i=this.getProfileById(this.state.currentProfile);return i&&(i=i.text),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.RouterControls,{router:this,open:this.state.open,setOpen:this.openControls,className:this.props.className,profiles:this.state.profiles,objSettings:this.state.objSettings,objFunctions:this.objFunctions,overSettings:this.createOverSettings(),switchTargets:this.props.mapController.data.enableTargetSwitch,sources:t,layers:this.props.mapController.data.routerLayers,containerAddresses:this.state.containerAddresses,resetFunctions:n,mapController:this.props.mapController,currentProfile:this.state.currentProfile,fromAddress:this.state.fromAddress,enableOverPoints:this.props.mapController.data.enableOverPoints,toAddress:this.state.toAddress,areaAddress:this.state.areaAddress,mode:this.state.mode,sliderOptions:r,target:this.props.target}),a.default.createElement(l.RouterResultContainer,{visible:this.state.open,open:this.state.openResults,setOpen:this.setOpen,direction:"bottom",className:"c4g-router-result-container c4g-beach",mapController:this.props.mapController,mode:this.state.mode,routerInstructions:this.state.routerInstructions,featureList:this.state.featureList,routerWaySource:this.state.routerWaySource,detour:this.state.detourArea,layerRoute:this.state.layerRoute,layerValueRoute:this.state.layerValueRoute,layerArea:this.state.layerArea,layerValueArea:this.state.layerValueArea,routerHintSource:this.state.routerHintSource,featureSource:this.state.featureSource,profile:i,activeId:this.state.activeId,setActiveId:this.setActiveId,detailOpen:this.state.resultDetailOpen,toggleDetailOpen:this.toggleResultDetails,headline:"Router Ergebnisse",lang:this.languageConstants}))}},{key:"getProfileById",value:function(e){for(var t=0;t<this.state.profiles.length;t++)if(parseInt(this.state.profiles[t].id,10)===parseInt(e,10))return this.state.profiles[t];return null}},{key:"toggleResultDetails",value:function(){this.state.resultDetailOpen?this.setState({resultDetailOpen:!1}):this.setState({resultDetailOpen:!0})}},{key:"openControls",value:function(e){e?(this.props.mapController.hideOtherComponents(this),this.setState({open:!0})):this.setState({open:!1})}},{key:"componentDidMount",value:function(){this.props.mapController.data.usePermalink&&this.permalink.handleInitialParams(),this.props.mapController.data.router_open&&jQuery(".c4g-router-panel-button-top.ol-control").css({top:"102px"})}},{key:"componentDidUpdate",value:function(e,t,r){if(this.props.mapController.data.usePermalink){var n=this.permalink.linkFragments;this.state.fromPoint&&n.fromAddress!==this.state.fromPoint.getCoordinates()&&this.permalink.updateLinkFragments("fromAddress",this.state.fromPoint.getCoordinates()),this.state.toPoint&&n.toAddress!==this.state.toPoint.getCoordinates()&&this.permalink.updateLinkFragments("toAddress",this.state.toPoint.getCoordinates()),n.mode!==this.state.mode&&this.permalink.updateLinkFragments("mode",this.state.mode),n.detourArea!==this.state.detourArea&&this.permalink.updateLinkFragments("detourArea",this.state.detourArea),n.detourRoute!==this.state.detourRoute&&this.permalink.updateLinkFragments("detourRoute",this.state.detourRoute)}!0===t.open&&!1===this.state.open&&this.setState({openResults:!1})}},{key:"setProfile",value:function(e){this.setState({currentProfile:e},this.updateRouteLayersAndPoints)}},{key:"setLayer",value:function(e){var t=this.props.mapController.data.routerLayers[e],r=Object.keys(t)[0];"route"===this.state.mode?this.setState({layerRoute:e,layerValueRoute:r},this.recalculateRoute):this.setState({layerArea:e,layerValueArea:r},this.performArea)}},{key:"setLayerValue",value:function(e){var t=this;"route"===this.state.mode?this.setState({layerValueRoute:e},(function(){t.showFeatures(t.state.featureList.features,t.state.featureList.type,"router",!1)})):"area"===this.state.mode&&this.setState({layerValueArea:e},(function(){t.showFeatures(t.state.featureList.features,t.state.featureList.type,"area",!1)}))}},{key:"setActiveId",value:function(e){this.setState({activeId:e})}},{key:"setOpen",value:function(e){this.setState({openResults:e})}},{key:"setAreaPoint",value:function(e,t){var r=this;this.performReverseSearch("areaAddress",[e,t]);var n=new h.Point([e,t]);this.setState({areaPoint:n},(function(){return r.updateRouteLayersAndPoints()}))}},{key:"setRouteFrom",value:function(e,t){var r=this;this.performReverseSearch("fromAddress",[e,t]);var n=new h.Point([e,t]);this.setState({fromPoint:n},(function(){r.updateRouteLayersAndPoints()}))}},{key:"setRouteTo",value:function(e,t){var r=this;this.performReverseSearch("toAddress",[e,t]);var n=new h.Point([e,t]);this.setState({toPoint:n},(function(){return r.updateRouteLayersAndPoints()}))}},{key:"addOverPoint",value:function(e,t,r){var n=this;this.performReverseSearch("overAddress",[e,t],r);var i=new h.Point([e,t]),o=this.state.overPoints;o.splice(r,1,i),this.setState({overPoints:o},(function(){return n.updateRouteLayersAndPoints()}))}},{key:"setMode",value:function(e){var t=this;if(this.state.mode!==e){var r={waySource:this.state.routerWaySource,hintSource:this.state.routerHintSource,featureSource:this.state.featureSource,locationSource:this.locationsSource};this.setState({mode:e},(function(){for(var e in r)r.hasOwnProperty(e)&&r[e]&&r[e].clear();t.updateRouteLayersAndPoints()}))}}},{key:"swapPoints",value:function(){var e=this.state.toPoint,t=this.state.toAddress,r=this.state.fromPoint,n=this.state.fromAddress,i=this.state.containerAddresses,o=i.arrFromNames,a=i.arrFromPositions;i.arrFromNames=i.arrToNames,i.arrFromPositions=i.arrToPositions,i.arrToNames=o,i.arrToPositions=a,this.setState({fromPoint:e,fromAddress:t,toPoint:r,toAddress:n,containerAddresses:i},this.updateRouteLayersAndPoints)}},{key:"createOverSettings",value:function(){var e=this,t={};t.overAddresses=this.state.overAddresses,t.overPoints=this.state.overPoints,t.overPtCtr=this.state.overPtCtr,t.overFunction=function(){var t=e.state.containerAddresses;t.arrOverNames[e.state.overPtCtr]=[],t.arrOverPositions[e.state.overPtCtr]=[],e.setState({overPtCtr:e.state.overPtCtr+1,containerAddresses:t})},t.swapFunction=this.swapPoints,t.objFunctions={};for(var r=0;r<this.state.overPtCtr;r++)t.objFunctions[r]=this.createAutocompleteFunctionsForOverField(r),t.overAddresses[r]||(t.overAddresses[r]=""),t.overPoints[r]||(t.overPoints[r]=null);return t}},{key:"createAutocompleteFunctionsForOverField",value:function(e){var t=this;return{selectListener:function(r,n){var i,o=void 0,a=void 0,s=n.item.value,l=t.state.containerAddresses.arrOverNames[e].findIndex((function(e){return e===s})),u=t.state.containerAddresses.arrOverPositions[e][l];(o=t.state.overAddresses)[e]=t.state.containerAddresses.arrOverNames[e][l],i=new h.Point([u[1],u[0]]),(a=t.state.overPoints)[e]=i,t.setState({overPoints:a,overAddresses:o},(function(){t.updateRouteLayersAndPoints()}))},deleteFunction:function(r){var n=t.state.containerAddresses;n.arrOverPositions[e]=[],n.arrOverNames[e]=[];var i=t.state.overPoints;i.splice(e,1);var o=t.state.overAddresses;o.splice(e,1),t.setState({overPoints:i,containerAddresses:n,overAddresses:o,overPtCtr:t.state.overPtCtr-1},(function(){t.updateRouteLayersAndPoints()}))},changeListener:function(){}}}},{key:"updateRouteLayersAndPoints",value:function(){var e=this;if(this.locationsSource.clear(),this.areaSource.clear(),"route"===this.state.mode){if(this.state.fromPoint){var t=new c.Feature({geometry:this.state.fromPoint.clone().transform("EPSG:4326","EPSG:3857")});this.props.mapController.data.router_from_locstyle&&this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle]&&t.setStyle(this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle].style),this.locationsSource.addFeature(t)}if(this.state.toPoint){var r=new c.Feature({geometry:this.state.toPoint.clone().transform("EPSG:4326","EPSG:3857")});this.props.mapController.data.router_from_locstyle&&this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle]&&r.setStyle(this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle].style),this.locationsSource.addFeature(r)}if(this.state.fromPoint&&this.state.toPoint||this.routerWaySource.clear(),this.state.overPoints&&Object.keys(this.state.overPoints).length>0)for(var n in this.state.overPoints)if(this.state.overPoints.hasOwnProperty(n)&&null!==this.state.overPoints[n]){var i=new c.Feature({geometry:this.state.overPoints[n].clone().transform("EPSG:4326","EPSG:3857")});this.props.mapController.data.router_from_locstyle&&this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle]&&i.setStyle(this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_from_locstyle].style),this.locationsSource.addFeature(i)}this.recalculateRoute()}else if("area"===this.state.mode){if(this.state.areaPoint){var o=new c.Feature({geometry:this.state.areaPoint.clone().transform("EPSG:4326","EPSG:3857")});this.props.mapController.data.router_point_locstyle&&this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_point_locstyle]?o.setStyle(this.props.mapController.proxy.locationStyleController.arrLocStyles[this.props.mapController.data.router_point_locstyle].style):this.props.mapController.proxy.locationStyleController.loadLocationStyles([this.props.mapController.data.router_point_locstyle],{done:function(){o.setStyle(this.props.mapController.proxy.locationStyleController.arrLocStyles[e.props.mapController.data.router_point_locstyle].style)}}),this.areaSource.addFeature(o)}this.performArea()}}},{key:"resetFromPoint",value:function(){var e=this,t=e.state.containerAddresses;t.arrFromPositions=[],t.arrFromNames=[],this.setState({fromPoint:null,containerAddresses:t,fromAddress:""},(function(){e.updateRouteLayersAndPoints()}))}},{key:"resetToPoint",value:function(){var e=this,t=e.state.containerAddresses;t.arrToPositions=[],t.arrToNames=[],this.setState({toPoint:null,containerAddresses:t,toAddress:""},(function(){e.updateRouteLayersAndPoints()}))}},{key:"resetAreaPoint",value:function(){var e=this,t=e.state.containerAddresses;t.arrAreaPositions=[],t.arrAreaNames=[],this.setState({areaPoint:null,containerAddresses:t,areaAddress:""},(function(){e.updateRouteLayersAndPoints()}))}},{key:"createAutocompleteFunctions",value:function(){var e={},t=this;e.fromFunctions={selectListener:function(e,r){var n=r.item.value,i=t.state.containerAddresses.arrFromNames.findIndex((function(e){return e===n})),o=t.state.containerAddresses.arrFromPositions[i],a=new h.Point([o[1],o[0]]);t.setState({fromPoint:a,fromAddress:t.state.containerAddresses.arrFromNames[i]},(function(){t.updateRouteLayersAndPoints(),t.recalculateRoute()}))},deleteFunction:function(e){t.resetFromPoint()},changeListener:function(){}};e.toFunctions={selectListener:function(e,r){var n=r.item.value,i=t.state.containerAddresses.arrToNames.findIndex((function(e){return e===n})),o=t.state.containerAddresses.arrToPositions[i],a=new h.Point([o[1],o[0]]);t.setState({toPoint:a,toAddress:t.state.containerAddresses.arrToNames[i]},(function(){t.updateRouteLayersAndPoints(),t.recalculateRoute()}))},deleteFunction:function(e){t.resetToPoint()},changeListener:function(){}};return e.areaFunctions={selectListener:function(e,r){var n=r.item.value,i=t.state.containerAddresses.arrAreaNames.findIndex((function(e){return e===n})),o=t.state.containerAddresses.arrAreaPositions[i],a=new h.Point([o[1],o[0]]);t.setState({areaPoint:a,areaAddress:t.state.containerAddresses.arrAreaNames[i]},(function(){t.updateRouteLayersAndPoints(),t.performArea()}))},deleteFunction:function(e){var r=t.state.containerAddresses;r.arrAreaPositions=[],r.arrAreaNames=[],t.setState({areaPoint:null,containerAddresses:r,areaAddress:""},(function(){}))},changeListener:function(){}},e}},{key:"addPopupHook",value:function(){var e=this,t=function(t){var r=t.feature,n=e,i=function(e){if(n.openControls(!0),n.setMode("route"),jQuery(e.currentTarget).hasClass(w.cssConstants.POPUP_ROUTE_FROM)){var t=(0,d.toLonLat)(r.getGeometry().getCoordinates(),"EPSG:3857");n.setRouteFrom(t[0],t[1])}else{var i=(0,d.toLonLat)(r.getGeometry().getCoordinates(),"EPSG:3857");n.setRouteTo(i[0],i[1])}},o=document.createElement("div");o.className=w.cssConstants.POPUP_ROUTE_WRAPPER;var a=document.createElement("button");a.className=w.cssConstants.ICON+" "+w.cssConstants.POPUP_ROUTE_FROM,jQuery(a).click(i),o.appendChild(a);var s=document.createElement("span");a.appendChild(s);var l=document.createElement("button");l.className=w.cssConstants.ICON+" "+w.cssConstants.POPUP_ROUTE_TO,jQuery(l).click(i),o.appendChild(l);var u=document.createElement("span");return l.appendChild(u),o};window.c4gMapsHooks.proxy_appendPopup=window.c4gMapsHooks.proxy_appendPopup||[],window.c4gMapsHooks.proxy_appendPopup.push((function(e){var r=e.mapController,n=e.popup;if(r.components.router&&n.popup.routing_link)if(3!==parseInt(r.data.popupHandling,10)){var i=t(n);window.c4gMapsPopup.$content.append(i)}else e.comp.setRouteButtons(t(n))}))}},{key:"init",value:function(){var e=this,t=[this.props.mapController.data.router_from_locstyle,this.props.mapController.data.router_to_locstyle,this.props.mapController.data.router_point_locstyle,this.props.mapController.data.areaCenterLocstyle,this.props.mapController.data.clickLocstyle];this.props.mapController.data.priorityFeatures&&this.props.mapController.data.priorityLocstyle&&t.push(this.props.mapController.data.priorityLocstyle),this.props.mapController.proxy.locationStyleController.loadLocationStyles(t);this.props.mapController.data;this.routingAltWaySource=new m.Vector,this.routerWaySource=new m.Vector,this.routerWayLayer=new g.Vector({source:this.routerWaySource,zIndex:1,style:[new f.Style({stroke:new f.Stroke({color:"rgba(255, 255, 255, 0.6)",width:8})}),new f.Style({stroke:new f.Stroke({color:"rgba(0, 51, 119, 0.9)",width:4})})]}),this.routerAltWayLayer=new g.Vector({source:this.routingAltWaySource,zIndex:0,style:[new f.Style({stroke:new f.Stroke({color:"rgba(255, 255, 255, 0.6)",width:8})}),new f.Style({stroke:new f.Stroke({color:"rgba(0, 51, 119, 0.4)",width:4})})]});var r=new y.Select({style:[new f.Style({stroke:new f.Stroke({color:"rgba(255, 255, 255, 0.0)",width:8})}),new f.Style({stroke:new f.Stroke({color:"rgba(255, 51, 119, 0.0)",width:4})})]});r.on("select",(function(t){var r=t.selected[0];if(r){var n=r.getGeometry();n&&"LineString"===n.getType()?e.showAltRoute(e.response,r.getId()):r&&e.clickFeatureEntryForFeature(r)}})),this.mapSelectInteraction=r,this.modWayInteraction=new y.Modify({source:this.routerWaySource,style:[new f.Style({stroke:new f.Stroke({color:"rgba(255, 255, 255, 0.0)",width:8})}),new f.Style({stroke:new f.Stroke({color:"rgba(255, 51, 119, 0.0)",width:4})})]}),this.modWayInteraction.on("modifystart",(function(t){e.modifyStartPoint=new h.Point(t.mapBrowserEvent.coordinate).transform("EPSG:3857","EPSG:4326")})),this.modWayInteraction.on("modifyend",(function(t){var r=new h.Point(t.mapBrowserEvent.coordinate).transform("EPSG:3857","EPSG:4326"),n=1/0,i=void 0,o=Object.keys(e.state.overPoints);if(o.length>0){for(var a in e.state.overPoints)if(e.state.overPoints.hasOwnProperty(a)){var s=e.calcDistance(e.modifyStartPoint.getCoordinates(),e.state.overPoints[a].getCoordinates());s<n&&(n=s,i=a)}var l=e.calcDistance(e.state.fromPoint.getCoordinates(),e.modifyStartPoint.getCoordinates()),u=e.calcDistance(e.state.toPoint.getCoordinates(),e.modifyStartPoint.getCoordinates()),c=e.calcDistance(e.state.fromPoint.getCoordinates(),e.state.overPoints[0].getCoordinates()),p=o[o.length-1],d=e.calcDistance(e.state.toPoint.getCoordinates(),e.state.overPoints[p].getCoordinates());l<c?i=0:u<d&&i++}else i=0;e.performReverseSearch("overAddress",r.getCoordinates(),i),e.addOverPoint(r.getCoordinates()[0],r.getCoordinates()[1],i)})),e.props.mapController.map.addInteraction(r),this.props.mapController.data.enableOverPoints&&e.props.mapController.map.addInteraction(this.modWayInteraction),r.setActive(!1),this.routerHintSource=new m.Vector,this.routerHintLayer=new g.Vector({source:this.routerHintSource,style:function(t,r){return!e.props.mapController.proxy||e.props.mapController.proxy.locationStyleController.arrLocStyles[e.props.mapController.data.router_point_locstyle].style(t,r)}}),this.mapData=this.props.mapController.data,this.locationsSource=new m.Vector,this.locationsLayer=new g.Vector({source:this.locationsSource,zIndex:2}),this.areaSource=new m.Vector,this.areaLayer=new g.Vector({source:this.areaSource,zIndex:2}),this.routerFeaturesSource=new m.Vector,this.routerFeaturesLayer=new g.Vector({source:this.routerFeaturesSource,zIndex:20}),this.routerLayerGroup=new g.Group({layers:new c.Collection([this.routerWayLayer,this.routerAltWayLayer,this.locationsLayer,this.routerHintLayer,this.routerFeaturesLayer,this.locationsLayer,this.areaLayer]),visible:!0}),this.props.mapController.map.addLayer(this.routerLayerGroup),"route"===this.props.mapController.data.initialMode||this.viewArea,this.routeInstructions={};var n=this.props.mapController.data.profile;this.geoSearchApi=this.props.mapController.data.api.geosearch+"/"+n,this.geoReverseSearchApi=this.props.mapController.data.api.geosearch_reverse+"/"+n,this.routingApi=this.props.mapController.data.api.routing+"/"+n,this.usePermalink&&this.permalinkHandler.handleInitialParams(),this.objFunctions=this.createAutocompleteFunctions(),this.addPopupHook(),this.addMapInputInteraction()}},{key:"calcDistance",value:function(e,t){var r,n;return r=Math.pow(e[0]-t[0],2),n=Math.pow(e[1]-t[1],2),Math.sqrt(r+n)}},{key:"showRouteInstructions",value:function(e,t,r,n){t=t||0;var i,o,a,s="",l="",c="",h="";this.props.mapController.data.showInstructions&&((o=document.createElement("div")).className=u.routingConstants.ROUTER_INSTRUCTIONS_HEADER,e&&(e.features&&e.features.length>0&&this.props.mapController.data.showFeatures||jQuery(".c4g-router-instructions-wrapper").css("display","block"),"1"==this.props.mapController.data.router_api_selection||"1"==e.routeType?(e.routes[t].legs[0].summary&&(s=e.routes[t].legs[0].summary.split(",")[0],l=e.routes[t].legs[0].summary.split(",")[1],e.routes[t].legs[1]&&(l=e.routes[t].legs[1].summary.split(",")[1])),c=e.routes[t].distance,h=e.routes[t].duration):"0"==this.props.mapController.data.router_api_selection||"0"==e.routeType?(e.route_name&&(s=e.route_name[0],l=e.route_name[1]),e.route_summary&&(c=e.route_summary.total_distance,h=e.route_summary.total_time)):"2"==this.props.mapController.data.router_api_selection||"2"==e.routeType?(h=e.routes[t].summary.duration,c=e.routes[t].summary.distance):"3"==this.props.mapController.data.router_api_selection||"3"==e.routeType?(c=e.paths[0].distance,h=e.paths[0].time/1e3):"4"!=this.props.mapController.data.router_api_selection&&"4"!=e.routeType||(c=1e3*e.trip.summary.length,h=e.trip.summary.time,this.routeInstructions[t]={time:h,distance:c,instructions:e.trip.legs[t].maneuvers},this.setState({routerInstructions:this.routeInstructions[t],routerWaySource:r,routerHintSource:n})),s&&l?o.innerHTML="<label>"+this.props.langConstants.ROUTER_VIEW_LABEL_ROUTE+"</label> <em>"+s+" &#8594; "+l+"</em><br><label>"+this.props.langConstants.ROUTER_VIEW_LABEL_DISTANCE+"</label> <em>"+c+"</em><br><label>"+this.props.langConstants.ROUTER_VIEW_LABEL_TIME+"</label> <em>"+h+"</em><br>":this.routeProfile&&this.routeProfile.active&&(o.innerHTML="<label>"+this.props.langConstants.ROUTER_VIEW_LABEL_PROFILE+"</label> <em>"+this.props.mapController.data.router_profiles[this.routeProfile.active]+"</em><br><label>"+this.props.langConstants.ROUTER_VIEW_LABEL_DISTANCE+"</label> <em>"+c+"</em><br><label>"+this.props.langConstants.ROUTER_VIEW_LABEL_TIME+"</label> <em>"+h+"</em><br>"),i=document.createElement("div"),a='<table class="'+u.routingConstants.ROUTER_INSTRUCTIONS_TABLE+'" cellpadding="0" cellspacing="0">',"1"===this.props.mapController.data.router_api_selection||"1"==e.routeType||"0"===this.props.mapController.data.router_api_selection||"0"==e.routeType||"2"===this.props.mapController.data.router_api_selection||"2"==e.routeType||"3"===this.props.mapController.data.router_api_selection||"3"==e.routeType||"4"===this.props.mapController.data.router_api_selection||e.routeType,a+="</table>",i.innerHTML=a,this.adjustInstructionMapInteraction()))}},{key:"performGeoSearch",value:(r=regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(r=this).geoSearchApi+"?format=json&limit=1&q="+encodeURI(t),this.mapData&&this.mapData.geosearch&&this.mapData.geosearch.searchKey&&this.mapData.geosearch.url&&(n=this.mapData.geosearch.url+"search.php?key="+this.mapData.geosearch.searchKey+"&format=json&limit=1&q="+encodeURI(t)),e.next=5,fetch(n).then((function(e){if(e)return e.json().then((function(e){return[parseFloat(e[0].lon),parseFloat(e[0].lat)]}));(new _.AlertHandler).showInfoDialog(r.props.langConstants.ROUTER_VIEW_ALERT_ERROR,r.props.langConstants.ROUTER_VIEW_ALERT_ADDRESS)})).catch((function(){(new _.AlertHandler).showInfoDialog(r.props.langConstants.ROUTER_VIEW_ALERT_ERROR,r.props.langConstants.ROUTER_VIEW_ALERT_ADDRESS)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})),n=function(){var e=r.apply(this,arguments);return new Promise((function(t,r){return function n(i,o){try{var a=e[i](o),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));t(s)}("next")}))},function(e){return n.apply(this,arguments)})},{key:"performSearch",value:function(e,t,r){var n,i,o,a,s;if(a=this,""===e.val())return delete a[t],"";if(i=(n=a.props.mapController.map).getView().calculateExtent(n.getSize()),o="&viewbox="+(i=(0,d.transformExtent)(i,n.getView().getProjection(),"EPSG:4326"))[0]+","+i[1]+","+i[2]+","+i[3],s=a.geoSearchApi+"?format=json&limit=1&q="+encodeURI(e.val())+o,this.mapData&&this.mapData.geosearch&&this.mapData.geosearch.searchKey&&this.mapData.geosearch.url&&(s=this.mapData.geosearch.url+"search.php?key="+this.mapData.geosearch.searchKey+"&format=json&limit=1&q="+encodeURI(e.val())+o),this.mapData.geosearch.params)for(var l in this.mapData.geosearch.params)this.mapData.geosearch.params.hasOwnProperty(l)&&(s+="&"+l+"="+this.mapData.geosearch.params[l]);return jQuery.ajax({url:s}).done((function(n){if(n.length>0)if("overValue"===t){a.overValue||(a.overValue=[]);for(var i=new h.Point([parseFloat(n[0].lon),parseFloat(n[0].lat)]),o=e.next()[0];!jQuery(o).hasClass("c4g-router-input-clear");)o=jQuery(o).next()[0];o.id=i.ol_uid,a.overValue.push(i),a.$buttonOver.prop("disabled",!1)}else{var s=[parseFloat(n[0].lon),parseFloat(n[0].lat)],l=new h.Point(s);"fromPoint"===t?a.setState({fromValue:l}):"toPoint"===t&&a.setState({toValue:l})}else(new _.AlertHandler).showInfoDialog(a.props.langConstants.ROUTER_VIEW_ALERT_ERROR,a.props.langConstants.ROUTER_VIEW_ALERT_ADDRESS);r&&"function"==typeof r&&r(),a.recalculateRoute()})).fail((function(){(new _.AlertHandler).showInfoDialog(a.props.langConstants.ROUTER_VIEW_ALERT_ERROR,a.props.langConstants.ROUTER_VIEW_ALERT_ADDRESS)})),""}},{key:"performReverseSearch",value:function(e,t,r){var n,i=this;n=this.geoReverseSearchApi+"?format=json&lat="+t[1]+"&lon="+t[0],this.mapData&&this.mapData.geosearch&&this.mapData.geosearch.reverseKey&&this.mapData.geosearch.url&&(n=this.mapData.geosearch.url+"reverse.php?key="+this.mapData.geosearch.reverseKey+"&format=json&lat="+t[1]+"&lon="+t[0]),jQuery.ajax({url:n}).done((function(t){if(t){var n="";switch(t.address&&(t.address.city&&(n=t.address.city,t.address.road&&(n=", "+n)),t.address.town&&(n=t.address.town,t.address.road&&(n=", "+n)),t.address.road&&(t.address.house_number&&(n=" "+t.address.house_number+n),n=t.address.road+n)),""===n&&(n=t.display_name),e){case"areaAddress":i.setState({areaAddress:n},(function(){""===jQuery("#areaFrom").val()&&jQuery("#areaFrom").val(n)}));break;case"fromAddress":i.setState({fromAddress:n},(function(){""===jQuery("#routingFrom").val()&&jQuery("#routingFrom").val(n)}));break;case"toAddress":i.setState({toAddress:n},(function(){""===jQuery("#routingTo").val()&&jQuery("#routingTo").val(n)}));break;case"overAddress":var o=i.state.overAddresses;o.splice(r,1,n),i.setState({overAddresses:o})}}}))}},{key:"performArea",value:function(){var e=this,t=this.state.areaPoint;if(t){var r=[t.getCoordinates()[1],t.getCoordinates()[0]],n="con4gis/areaService/"+this.props.mapController.data.profile+"/"+this.state.layerArea+"/"+this.state.detourArea+"/"+r;n+="?profile="+this.state.currentProfile,e.areaAjax&&e.areaAjax.abort(),e.areaAjax=jQuery.ajax({url:n}).done((function(t){if(e.response=t,t){var r=e.showFeatures(t[0],t[1],"area");e.setState({featureList:{features:r,type:t[1]},featureSource:e.routerFeaturesSource,openResults:!0})}}))}}},{key:"performViaRoute",value:function(e,t,r){var n,i,o,a,s;if(i=this,this.state.featureSource&&this.state.featureSource.clear(),this.mapSelectInteraction.getFeatures().clear(),e||(e=this.fromPoint)){if(!t){if(!t)return;t=this.toPoint}if(r||this.overPoints&&(r=this.overPoints),o=[e.getCoordinates()[1],e.getCoordinates()[0]],a=[t.getCoordinates()[1],t.getCoordinates()[0]],r&&Object.keys(r).length>0)for(var l in s=[],r)r.hasOwnProperty(l)&&r[l]&&s.push([r[l].getCoordinates()[1],r[l].getCoordinates()[0]]);if(this.props.mapController.data.router_api_selection>="1"){var u=this.props.mapController.data.profile;if(n="con4gis/routeService/"+this.props.mapController.data.lang+"/"+u+"/"+this.state.layerRoute+"/"+this.state.detourRoute+"/"+o,r)for(var c=0;c<s.length;c++)n+=";"+s[c];return n+=";"+a,n+="?profile="+this.state.currentProfile,i.routeAjax&&i.routeAjax.abort(),i.routeAjax=jQuery.ajax({url:n}).done((function(e){if(i.response=e,e)if(e.error){var t=i.showRouterError(this.props.langConstants[e.error]);jQuery(i.fromInput).parent()[0].appendChild(t)}else if(i.showRouteLayer(e),i.showRouteInstructions(e,0,i.routerWaySource,i.routerHintSource),e.features&&e.features.elements){var r=i.showFeatures(e.features,e.type,"router");i.setState({featureList:{features:r,type:e.type},featureSource:i.routerFeaturesSource,openResults:!0})}})).always((function(){i.routeAjax=void 0,i.props.mapController.data.closeAfterSearch})),""}try{return n="con4gis/routeService/"+profileId+"?output=json&instructions=true&alt=false&loc_from="+o+"&loc_to="+a,jQuery.ajax({url:n}).done((function(e){e&&i.showRoute(e)})),""}catch(e){console.log("Please use a more modern API-Version for the Routeservice")}}}},{key:"recalculateRoute",value:function(){this.state.fromPoint&&this.state.toPoint&&(this.state.overPoints&&Object.keys(this.state.overPoints).length>0?this.performViaRoute(this.state.fromPoint,this.state.toPoint,this.state.overPoints):this.performViaRoute(this.state.fromPoint,this.state.toPoint))}},{key:"showFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"router",n=arguments[3],i=this;if(n||this.routerFeaturesSource.clear(),!e||0===e.length)return[];var o=this.mapData,a="route"===this.state.mode?this.state.layerRoute:this.state.layerArea,s=this.props.mapController.proxy.layerController.arrLayers[a],l="route"===this.state.mode?this.state.layerValueRoute:this.state.layerValueArea,u=[],f=[],g=[],m=e.length?e.slice():e.elements.slice(),y=[];if(this.bestFeatureIds=[],o.priorityFeatures&&o.priorityLocstyle&&e.length>0){m.sort((function(e,t){return parseFloat(e[o.routerLayers[a][l].mapLabel])-parseFloat(t[o.routerLayers[a][l].mapLabel])}));for(var _=parseInt(o.priorityFeatures,10),b=_>m.length?m.length:_,v=0;v<b;v++)y[v]=m[v],this.bestFeatureIds.push(m[v].id)}if("petrols"===t&&"area"!==r&&(e=e.elements),"overpass"!==t){for(var w=0;e&&w<e.length;w++)if(e[w].id){var E="",T=e[w],S=void 0,C=void 0;S=(0,d.transform)([parseFloat(T.geox),parseFloat(T.geoy)],"EPSG:4326","EPSG:3857");var x=new h.Point(S);(C=new c.Feature(x)).setId(T.id),C.set("loc_linkurl",s.loc_linkurl),C.set("hover_location",s.hover_location),C.set("hover_style",s.hover_style),C.set("zoom_onclick",s.zoom_onclick),C.set("tid",T.id),o.routerLayers[a]&&o.routerLayers[a][l]&&o.routerLayers[a][l].mapLabel&&T[o.routerLayers[a][l].mapLabel]?E=T[o.routerLayers[a][l].mapLabel]:o.routerLayers[a]&&o.routerLayers[a][l]&&o.routerLayers[a][l].mapLabel&&T.tags&&T.tags[o.routerLayers[a][l].mapLabel]&&(E=T.tags[o.routerLayers[a][l].mapLabel]);var k=T.locstyle||s.locstyle;for(var R in o.priorityFeatures&&o.priorityLocstyle&&y.includes(T)&&(k=o.priorityLocstyle),C.set("locationStyle",k),C.set("zIndex",w),C.set("label",E),k&&i.props.mapController.proxy.locationStyleController.arrLocStyles[k]&&i.props.mapController.proxy.locationStyleController.arrLocStyles[k].style?(C.setStyle(i.props.mapController.proxy.locationStyleController.arrLocStyles[k].style),i.props.mapController.data.hideFeaturesWithoutLabel?E&&""!==E&&f.push(C):f.push(C)):(C.set("styleId",k),i.props.mapController.data.hideFeaturesWithoutLabel?E&&""!==E&&(u.push(C),g[k]=k):(u.push(C),g[k]=k)),T.tags)T.tags.hasOwnProperty(R)&&C.set(R,T.tags[R])}}else{var P=void 0;e.elements?(P=O(e),this.geoJsonFeatures=P):P=this.geoJsonFeatures;var I=i.props.mapController.map.getView().getProjection();f=(new p.GeoJSON).readFeatures(P,{dataProjection:"EPSG:4326",featureProjection:I});var j=o.routerLayers[a][l].mapLabel;for(var L in f)f.hasOwnProperty(L)&&(f[L].set("loc_linkurl",s.loc_linkurl),f[L].set("hover_location",s.hover_location),f[L].set("hover_style",s.hover_style),f[L].set("zoom_onclick",s.zoom_onclick),f[L].set("tid",parseInt(f[L].get("id").split("/")[1])),f[L].set("label",f[L].get(j)),f[L].setStyle(i.props.mapController.proxy.locationStyleController.arrLocStyles[s.locstyle].style))}return g&&g.length>0&&i.props.mapController.proxy.locationStyleController.loadLocationStyles(g,{done:function(){for(var e=0;e<u.length;e++){var t=u[e].get("styleId");u[e].setStyle(i.props.mapController.proxy.locationStyleController.arrLocStyles[t].style),i.routerFeaturesSource.addFeature(u[e])}g=void 0}}),f&&f.length>0&&this.routerFeaturesSource.addFeatures(f),m}},{key:"showRoute",value:function(e){this.showRouteLayer(e,0),this.showRouteInstructions(e,0)}},{key:"showAltRoute",value:function(e,t){this.showRouteLayer(e,t),this.showRouteInstructions(e,t)}},{key:"showRouteLayer",value:function(e,t){var r,n,i,o,a,s;t=t||0;e&&(this.routerWaySource.clear(),this.routingAltWaySource.clear(),r=this.props.mapController.map.getView(),"1"==this.props.mapController.data.router_api_selection||"2"==this.props.mapController.data.router_api_selection||"1"==e.routeType||"2"==e.routeType?(n=new p.Polyline,e.routes&&(e.routes[1]&&(1===t?(o=n.readFeatures(e.routes[0].geometry,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(0):(o=n.readFeatures(e.routes[1].geometry,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(1)),(i=n.readFeatures(e.routes[t].geometry,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(t))):"0"==this.props.mapController.data.router_api_selection||"0"==e.routeType?i=(n=new p.Polyline({factor:this.props.mapController.data.router_viaroute_precision||1e6})).readFeatures(e.route_geometry,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}):"3"==this.props.mapController.data.router_api_selection?(n=new p.Polyline,e.paths&&e.paths[1]&&(1==t?(o=n.readFeatures(e.paths[0].points,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(0):(o=n.readFeatures(e.paths[1].points,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(1)),(i=n.readFeatures(e.paths[t].points,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(t)):"4"!=this.props.mapController.data.router_api_selection&&"4"!=e.routeType||(n=new p.Polyline({factor:1e6}),e.trip&&e.trip.legs&&e.trip.legs[1]&&(1==t?(o=n.readFeatures(e.trip.legs[1].shape,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(0):(o=n.readFeatures(e.trip.legs[1].shape,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(1)),(i=n.readFeatures(e.trip.legs[t].shape,{dataProjection:"EPSG:4326",featureProjection:r.getProjection()}))[0].setId(t)),"1"==this.props.mapController.data.router_alternative&&(e.routes&&e.routes.length>1&&e.routes[1]||e.paths&&e.paths.length>1&&e.paths[1])&&this.routingAltWaySource.addFeatures(o),i&&(this.routerWaySource.addFeatures(i),this.props.mapController.map.renderSync(),r.animate({start:+new Date,duration:2e3,resolution:r.getResolution(),center:[0,0]}),s=0,this.props.mapController.activePortside&&this.props.mapController.activePortside.container&&(s=jQuery(this.props.mapController.activePortside.container).outerWidth()),a=0,this.props.mapController.activeStarboard&&this.props.mapController.activeStarboard.container&&(a=jQuery(this.props.mapController.activeStarboard.container).outerWidth()),r.fit(i[0].getGeometry(),{size:this.props.mapController.map.getSize(),padding:[0,a,0,s]})))}},{key:"adjustInstructionMapInteraction",value:function(e){var t,r,n,i=this;t=function(e){i.routerHintSource.clear(),feature=i.routerWaySource.getFeatures()[0];var t=feature.getGeometry().getCoordinates(),r=e.data("pos");if(r){var n=r.split(",");n[0]=parseFloat(n[0]),n[1]=parseFloat(n[1]);var o=(0,d.fromLonLat)(n),a=new c.Feature({geometry:new h.Point(o)});i.routerHintSource.addFeature(a),i.options.mapController.map.getView().setCenter(o)}if(t){var s=e.data("start"),l=e.data("end");if(l){var u=new h.LineString(t.slice(s,l));(a=new c.Feature({geometry:u})).setStyle(new f.Style({stroke:new f.Stroke({color:"rgba(255, 0, 0, 1)",width:20})}));var p=i.options.mapController.map.getView().getZoom();i.routerHintSource.addFeature(a),i.options.mapController.map.getView().fit(u);var g=i.options.mapController.map.getView().getZoom(),m=Math.round((p+g)/2);m=m>g?g:m,i.options.mapController.map.getView().setZoom(m)}}},r=function(e){var t;if(i.routerWaySource&&i.routerWaySource.getFeatures()&&"0"==i.options.mapController.data.router_api_selection&&(t=i.routerWaySource.getFeatures()[0])){i.routerHintSource.clear();var r=new c.Feature({geometry:new h.Point(t.getGeometry().getCoordinates()[e.data("pos")])});i.routerHintSource.addFeature(r)}if(i.routerWaySource&&i.routerWaySource.getFeatures()&&i.options.mapController.data.router_api_selection>="1"&&(t=i.routerWaySource.getFeatures()[0])){i.routerHintSource.clear();var n=e.data("pos");if(n){var o=n.split(",");o[0]=parseFloat(o[0]),o[1]=parseFloat(o[1]);var a=(0,d.fromLonLat)(o);r=new c.Feature({geometry:new h.Point(a)});i.routerHintSource.addFeature(r)}var s=(t=i.routerWaySource.getFeatures()[0]).getGeometry().getCoordinates();if(s){var l=e.data("start"),u=e.data("end");if(u)(r=new c.Feature({geometry:new h.LineString(s.slice(l,u))})).setStyle(new f.Style({stroke:new f.Stroke({color:"rgba(255, 0, 0, 1)",width:15})})),i.routerHintSource.addFeature(r)}}},n=function(){i.routerHintSource.clear()},jQuery("[data-start]",e).each((function(e,i){var o=jQuery(i);o.click((function(){t(o)})),o.on("mouseenter",(function(){r(o)})),o.on("mouseleave",(function(){n()}))})),jQuery("[data-pos]",e).each((function(e,i){var o=jQuery(i);o.click((function(){t(o)})),o.on("mouseenter",(function(){r(o)})),o.on("mouseleave",(function(){n()}))}))}},{key:"addMapInputInteraction",value:function(){var e,t=this;t.fnMapRouterInteraction=function(r){if(!0===t.state.open){var n=t.props.mapController.map.forEachFeatureAtPixel(r.pixel,(function(e,t){return e}));if(n&&n.getId()){var i=n.getId().search&&n.getId().search("/")?parseFloat(n.getId().substring(n.getId().search("/")+1)):n.getId();t.setState({activeId:i,openResults:!0},(function(){if(document.querySelector(".c4g-route-feature-wrapper")){var e=document.querySelector(".c4g-route-feature-wrapper"),t=document.querySelector("li.route-features-list-element.c4g-active");e&&t&&e.scrollTo(0,t.offsetTop)}}))}else if(e=(0,d.toLonLat)(r.coordinate),t.areaSource.clear(),"route"===t.state.mode){if(""===t.state.fromAddress)t.setRouteFrom(e[0],e[1]),t.recalculateRoute();else if(""===t.state.toAddress)t.setRouteTo(e[0],e[1]),t.recalculateRoute();else if(t.state.overPtCtr>0)for(var o=0;o<t.state.overPtCtr;o++)if(!t.state.overPoints[o]){t.addOverPoint(e[0],e[1],o);break}}else"area"===t.state.mode&&""===t.state.areaAddress&&t.setAreaPoint(e[0],e[1])}},this.props.mapController.map.on("click",t.fnMapRouterInteraction)}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterControls=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(301),l=r(306),u=(r(265),r(266));
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterControls=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state.router=r.props.router,r.state.detailsEnabled=!1,r.setRouteMode=r.setRouteMode.bind(r),r.setAreaMode=r.setAreaMode.bind(r),r.toggleDetails=r.toggleDetails.bind(r),r.close=r.close.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setRouteMode",value:function(e){e.stopPropagation(),this.props.router.setMode("route")}},{key:"setAreaMode",value:function(e){e.stopPropagation(),this.props.router.setMode("area")}},{key:"componentDidUpdate",value:function(e,t,r){this.slideOutCollidingElements()}},{key:"render",value:function(){var e=this.props.className+(this.props.open?" c4g-open ":" c4g-close ")+this.props.mode,t=this.props.open,r="";this.props.router.props.mapController.data.areaSearch&&!this.props.router.props.mapController.data.areaSearchOnly&&(r=a.default.createElement("div",{className:"c4g-router-mode-switch"},a.default.createElement("button",{id:"c4g-router-button-route",onMouseUp:this.setRouteMode},"Route"),a.default.createElement("button",{id:"c4g-router-button-area",onMouseUp:this.setAreaMode},"Area")));var n="";return"route"===this.props.mode?n=this.props.router.props.mapController.data.routerHeadline:"area"===this.props.mode&&(n=this.props.router.props.mapController.data.areaHeadline),a.default.createElement("div",{className:e},a.default.createElement(u.Titlebar,{wrapperClass:"c4g-router-header",header:n,headerClass:"c4g-router-headline",detailBtnClass:"c4g-router-extended-options",detailBtnCb:this.toggleDetails,closeBtnClass:"c4g-router-close",closeBtnCb:this.close}),r,a.default.createElement(l.RouterAddressInput,{className:"c4g-router-input-wrapper",router:this.props.router,withPosition:!0,switchTargets:this.props.switchTargets,objFunctions:this.props.objFunctions,objSettings:this.props.objSettings,currentProfile:this.props.currentProfile,enableOverPoints:this.props.enableOverPoints,containerAddresses:this.props.containerAddresses,mode:this.props.mode,open:t,layers:this.props.layers,resetFunctions:this.props.resetFunctions,fromAddress:this.props.fromAddress,toAddress:this.props.toAddress,areaAddress:this.props.areaAddress,sliderOptions:this.props.sliderOptions,profiles:this.props.profiles,overSettings:this.props.overSettings,toggleDetails:this.toggleDetails,detailsEnabled:this.state.detailsEnabled}))}},{key:"toggleDetails",value:function(){this.setState({detailsEnabled:!this.state.detailsEnabled},this.slideOutCollidingElements)}},{key:"slideInCollidingElements",value:function(){}},{key:"slideOutCollidingElements",value:function(){var e=this.props.className+(this.props.open?" c4g-open":" c4g-close"),t=document.getElementsByClassName(e)[0];t&&t.offsetHeight}},{key:"open",value:function(){this.props.setOpen(!0),this.slideOutCollidingElements()}},{key:"close",value:function(){this.props.setOpen(!1),this.slideOutCollidingElements()}},{key:"clickControl",value:function(){this.props.open?this.close():this.open()}}]),t}(s.HorizontalPanel)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalPanel=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(254),o=l(i),a=(l(r(264)),r(269)),s=r(168);function l(e){return e&&e.__esModule?e:{default:e}}
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.HorizontalPanel=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=document.createElement("div"),i=document.createElement("button");n.className=(e.className||"c4g-horizontal-panel")+"-button-"+(e.direction||"top")+" ol-control ol-unselectable",n.appendChild(i),r.clickControl=r.clickControl.bind(r),jQuery(i).on("click",r.clickControl);var o=e.mapController,s=new a.Control({element:n,target:e.target});return o.controls.horizontalPanel=s,o.map.addControl(s),r.state={direction:e.direction||"top",open:e.open||!1,className:e.className||"c4g-horizontal-panel",childs:e.childs||[],control:s},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"render",value:function(){var e=this.state.className+"-"+this.state.direction;e+=" "+(this.state.open?"c4g-open":"c4g-close");return o.default.createElement("div",{className:e})}},{key:"clickControl",value:function(){this.state.open?this.close():this.open()}},{key:"open",value:function(){this.setState({open:!0}),this.slideOutCollidingElements()}},{key:"close",value:function(){this.setState({open:!1}),this.slideInCollidingElements()}},{key:"slideOutCollidingElements",value:function(){if("top"===this.state.direction){var e=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_TL+" ."+s.cssConstants.OL_UNSELECTABLE);e.forEach((function(e){e.style.top="100px"})),(e=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_TR+" ."+s.cssConstants.OL_UNSELECTABLE)).forEach((function(e){e.style.top="100px"}))}else{var t=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_BL+" ."+s.cssConstants.OL_UNSELECTABLE);t.forEach((function(e){e.style.bottom="100px"})),(t=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_BR+" ."+s.cssConstants.OL_UNSELECTABLE)).forEach((function(e){e.style.bottom="100px"}))}}},{key:"slideInCollidingElements",value:function(){if("top"===this.state.direction){var e=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_TL+" ."+s.cssConstants.OL_UNSELECTABLE);e.forEach((function(e){e.style.top="0px"})),(e=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_TR+" ."+s.cssConstants.OL_UNSELECTABLE)).forEach((function(e){e.style.top="0px"}))}else{var t=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_BL+" ."+s.cssConstants.OL_UNSELECTABLE);t.forEach((function(e){e.style.bottom="0px"})),(t=document.querySelectorAll("."+s.cssConstants.CONTROL_CONTAINER_BR+" ."+s.cssConstants.OL_UNSELECTABLE)).forEach((function(e){e.style.bottom="0px"}))}}},{key:"addContent",value:function(e){this.state.childs.push(e)}}]),t}(i.Component)},function(e,t,r){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(263),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113;i&&Symbol.for("react.suspense_list");var f=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;i&&Symbol.for("react.fundamental"),i&&Symbol.for("react.responder"),i&&Symbol.for("react.scope");var m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function v(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||_}function w(){}function O(e,t,r){this.props=e,this.context=t,this.refs=b,this.updater=r||_}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=v.prototype;var E=O.prototype=new w;E.constructor=O,n(E,v.prototype),E.isPureReactComponent=!0;var T={current:null},S={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,n)&&!x.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:S.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var P=/\/+/g,I=[];function j(e,t,r,n){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function L(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function A(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return n(i,t,""===r?"."+F(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=r+F(s=t[u],u);l+=e(s,c,n,i)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=r+F(s,u++),n,i);else if("object"===s)throw n=""+t,Error(y(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,n,r,(function(e){return e})):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+r)),n.push(e))}function D(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(P,"$&/")+"/"),A(e,N,t=j(t,o,n,i)),L(t)}function G(){var e=T.current;if(null===e)throw Error(y(321));return e}var U={Children:{map:function(e,t,r){if(null==e)return e;var n=[];return D(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;A(e,M,t=j(null,null,t,r)),L(t)},count:function(e){return A(e,(function(){return null}),null)},toArray:function(e){var t=[];return D(e,t,null,(function(e){return e})),t},only:function(e){if(!R(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:v,PureComponent:O,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return G().useCallback(e,t)},useContext:function(e,t){return G().useContext(e,t)},useEffect:function(e,t){return G().useEffect(e,t)},useImperativeHandle:function(e,t,r){return G().useImperativeHandle(e,t,r)},useDebugValue:function(){},useLayoutEffect:function(e,t){return G().useLayoutEffect(e,t)},useMemo:function(e,t){return G().useMemo(e,t)},useReducer:function(e,t,r){return G().useReducer(e,t,r)},useRef:function(e){return G().useRef(e)},useState:function(e){return G().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:d,createElement:k,cloneElement:function(e,t,r){if(null==e)throw Error(y(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)C.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:R,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:T,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:n}},z={default:U},B=z&&U||z;e.exports=B.default||B},function(e,t,r){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(254),i=r(263),o=r(304);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=null,l={};function u(){if(s)for(var e in l){var t=l[e],r=s.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!h[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in h[r]=t,r=t.eventTypes){var i=void 0,o=r[n],u=t,d=n;if(p.hasOwnProperty(d))throw Error(a(99,d));p[d]=o;var f=o.phasedRegistrationNames;if(f){for(i in f)f.hasOwnProperty(i)&&c(f[i],u,d);i=!0}else o.registrationName?(c(o.registrationName,u,d),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function c(e,t,r){if(d[e])throw Error(a(100,e));d[e]=t,f[e]=t.eventTypes[r].dependencies}var h=[],p={},d={},f={};function g(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var m=!1,y=null,_=!1,b=null,v={onError:function(e){m=!0,y=e}};function w(e,t,r,n,i,o,a,s,l){m=!1,y=null,g.apply(v,arguments)}var O=null,E=null,T=null;function S(e,t,r){var n=e.type||"unknown-event";e.currentTarget=T(r),function(e,t,r,n,i,o,s,l,u){if(w.apply(this,arguments),m){if(!m)throw Error(a(198));var c=y;m=!1,y=null,_||(_=!0,b=c)}}(n,t,void 0,e),e.currentTarget=null}function C(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function x(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var k=null;function R(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)S(e,t[n],r[n]);else t&&S(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e){if(x(e,R),k)throw Error(a(95));if(_)throw e=b,_=!1,b=null,e}}var I={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!l.hasOwnProperty(t)||l[t]!==n){if(l[t])throw Error(a(102,t));l[t]=n,r=!0}}r&&u()}};function j(e,t){var r=e.stateNode;if(!r)return null;var n=O(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;L.hasOwnProperty("ReactCurrentDispatcher")||(L.ReactCurrentDispatcher={current:null}),L.hasOwnProperty("ReactCurrentBatchConfig")||(L.ReactCurrentBatchConfig={suspense:null});var A=/^(.*)[\\\/]/,F="function"==typeof Symbol&&Symbol.for,M=F?Symbol.for("react.element"):60103,N=F?Symbol.for("react.portal"):60106,D=F?Symbol.for("react.fragment"):60107,G=F?Symbol.for("react.strict_mode"):60108,U=F?Symbol.for("react.profiler"):60114,z=F?Symbol.for("react.provider"):60109,B=F?Symbol.for("react.context"):60110,V=F?Symbol.for("react.concurrent_mode"):60111,W=F?Symbol.for("react.forward_ref"):60112,K=F?Symbol.for("react.suspense"):60113,H=F?Symbol.for("react.suspense_list"):60120,Y=F?Symbol.for("react.memo"):60115,X=F?Symbol.for("react.lazy"):60116;F&&Symbol.for("react.fundamental"),F&&Symbol.for("react.responder"),F&&Symbol.for("react.scope");var Z="function"==typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Z&&e[Z]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case D:return"Fragment";case N:return"Portal";case U:return"Profiler";case G:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return"Context.Consumer";case z:return"Context.Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Y:return Q(e.type);case X:if(e=1===e._status?e._result:null)return Q(e)}return null}function $(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=Q(e.type);r=null,n&&(r=Q(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(A,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,re=null;function ne(e){if(e=E(e)){if("function"!=typeof ee)throw Error(a(280));var t=O(e.stateNode);ee(e.stateNode,e.type,t)}}function ie(e){te?re?re.push(e):re=[e]:te=e}function oe(){if(te){var e=te,t=re;if(re=te=null,ne(e),t)for(e=0;e<t.length;e++)ne(t[e])}}function ae(e,t){return e(t)}function se(e,t,r,n){return e(t,r,n)}function le(){}var ue=ae,ce=!1,he=!1;function pe(){null===te&&null===re||(le(),oe())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,ge={},me={};function ye(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_e[e]=new ye(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_e[t]=new ye(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_e[e]=new ye(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_e[e]=new ye(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_e[e]=new ye(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_e[e]=new ye(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){_e[e]=new ye(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){_e[e]=new ye(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){_e[e]=new ye(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function ve(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Oe(e,t,r,n){var i=_e.hasOwnProperty(t)?_e[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!fe.call(me,e)||!fe.call(ge,e)&&(de.test(e)?me[e]=!0:(ge[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}function Ee(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Te(e){e._valueTracker||(e._valueTracker=function(e){var t=Ee(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Se(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ee(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Ce(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function xe(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=we(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ke(e,t){null!=(t=t.checked)&&Oe(e,"checked",t,!1)}function Re(e,t){ke(e,t);var r=we(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Ie(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function je(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Le(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+we(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var r=t.value;if(null==r){if(r=t.defaultValue,null!=(t=t.children)){if(null!=r)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}r=t}null==r&&(r="")}e._wrapperState={initialValue:we(r)}}function Me(e,t){var r=we(t.value),n=we(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,ve);_e[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){_e[e]=new ye(e,1,!1,e.toLowerCase(),null,!1)})),_e.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){_e[e]=new ye(e,1,!1,e.toLowerCase(),null,!0)}));var De="http://www.w3.org/1999/xhtml",Ge="http://www.w3.org/2000/svg";function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Ve=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Ge||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function We(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ke(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var He={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},Ye={},Xe={};function Ze(e){if(Ye[e])return Ye[e];if(!He[e])return e;var t,r=He[e];for(t in r)if(r.hasOwnProperty(t)&&t in Xe)return Ye[e]=r[t];return e}J&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete He.animationend.animation,delete He.animationiteration.animation,delete He.animationstart.animation),"TransitionEvent"in window||delete He.transitionend.transition);var qe=Ze("animationend"),Qe=Ze("animationiteration"),$e=Ze("animationstart"),Je=Ze("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function rt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(tt(e)!==e)throw Error(a(188))}function it(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return nt(i),e;if(o===n)return nt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var ot,at,st,lt=!1,ut=[],ct=null,ht=null,pt=null,dt=new Map,ft=new Map,gt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),yt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function _t(e,t,r,n){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:n}}function bt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":pt=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,r,n,i){return null===e||e.nativeEvent!==i?(e=_t(t,r,n,i),null!==t&&(null!==(t=un(t))&&at(t)),e):(e.eventSystemFlags|=n,e)}function wt(e){var t=ln(e.target);if(null!==t){var r=tt(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=rt(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){st(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Pr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var r=un(t);return null!==r&&at(r),e.blockedOn=t,!1}return!0}function Et(e,t,r){Ot(e)&&r.delete(t)}function Tt(){for(lt=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=un(e.blockedOn))&&ot(e);break}var t=Pr(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&Ot(ct)&&(ct=null),null!==ht&&Ot(ht)&&(ht=null),null!==pt&&Ot(pt)&&(pt=null),dt.forEach(Et),ft.forEach(Et)}function St(e,t){e.blockedOn===t&&(e.blockedOn=null,lt||(lt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Tt)))}function Ct(e){function t(t){return St(t,e)}if(0<ut.length){St(ut[0],e);for(var r=1;r<ut.length;r++){var n=ut[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==ct&&St(ct,e),null!==ht&&St(ht,e),null!==pt&&St(pt,e),dt.forEach(t),ft.forEach(t),r=0;r<gt.length;r++)(n=gt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<gt.length&&null===(r=gt[0]).blockedOn;)wt(r),null===r.blockedOn&&gt.shift()}function xt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function kt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rt(e,t,r){(t=j(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=kt(t);for(t=r.length;0<t--;)Rt(r[t],"captured",e);for(t=0;t<r.length;t++)Rt(r[t],"bubbled",e)}}function It(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=j(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=C(r._dispatchListeners,t),r._dispatchInstances=C(r._dispatchInstances,e))}function jt(e){e&&e.dispatchConfig.registrationName&&It(e._targetInst,null,e)}function Lt(e){x(e,Pt)}function At(){return!0}function Ft(){return!1}function Mt(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?At:Ft,this.isPropagationStopped=Ft,this}function Nt(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Dt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gt(e){e.eventPool=[],e.getPooled=Nt,e.release=Dt}i(Mt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=At)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=At)},persist:function(){this.isPersistent=At},isPersistent:Ft,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ft,this._dispatchInstances=this._dispatchListeners=null}}),Mt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Mt.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,Gt(r),r},Gt(Mt);var Ut=Mt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),zt=Mt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bt=Mt.extend({view:null,detail:null}),Vt=Bt.extend({relatedTarget:null});function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Yt[e])&&!!t[e]}function Zt(){return Xt}for(var qt=Bt.extend({key:function(e){if(e.key){var t=Kt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ht[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zt,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,$t=0,Jt=!1,er=!1,tr=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=$t;return $t=e.screenY,er?"mousemove"===e.type?e.screenY-t:0:(er=!0,0)}}),rr=tr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),nr=tr.extend({dataTransfer:null}),ir=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zt}),or=Mt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ar=tr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),sr=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[qe,"animationEnd",2],[Qe,"animationIteration",2],[$e,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],lr={},ur={},cr=0;cr<sr.length;cr++){var hr=sr[cr],pr=hr[0],dr=hr[1],fr=hr[2],gr="on"+(dr[0].toUpperCase()+dr.slice(1)),mr={phasedRegistrationNames:{bubbled:gr,captured:gr+"Capture"},dependencies:[pr],eventPriority:fr};lr[dr]=mr,ur[pr]=mr}var yr={eventTypes:lr,getEventPriority:function(e){return void 0!==(e=ur[e])?e.eventPriority:2},extractEvents:function(e,t,r,n){var i=ur[e];if(!i)return null;switch(e){case"keypress":if(0===Wt(r))return null;case"keydown":case"keyup":e=qt;break;case"blur":case"focus":e=Vt;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ir;break;case qe:case Qe:case $e:e=Ut;break;case Je:e=or;break;case"scroll":e=Bt;break;case"wheel":e=ar;break;case"copy":case"cut":case"paste":e=zt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=rr;break;default:e=Mt}return Lt(t=e.getPooled(i,t,r,n)),t}},_r=o.unstable_UserBlockingPriority,br=o.unstable_runWithPriority,vr=yr.getEventPriority,wr=[];function Or(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=ln(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=xt(e.nativeEvent);n=e.topLevelType;for(var o=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(n,t,o,i,a))&&(s=C(s,u))}P(s)}}var Er=!0;function Tr(e,t){Sr(t,e,!1)}function Sr(e,t,r){switch(vr(t)){case 0:var n=Cr.bind(null,t,1);break;case 1:n=xr.bind(null,t,1);break;default:n=Rr.bind(null,t,1)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Cr(e,t,r){ce||le();var n=Rr,i=ce;ce=!0;try{se(n,e,t,r)}finally{(ce=i)||pe()}}function xr(e,t,r){br(_r,Rr.bind(null,e,t,r))}function kr(e,t,r,n){if(wr.length){var i=wr.pop();i.topLevelType=e,i.eventSystemFlags=t,i.nativeEvent=r,i.targetInst=n,e=i}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:r,targetInst:n,ancestors:[]};try{if(t=Or,r=e,he)t(r,void 0);else{he=!0;try{ue(t,r,void 0)}finally{he=!1,pe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,wr.length<10&&wr.push(e)}}function Rr(e,t,r){if(Er)if(0<ut.length&&-1<mt.indexOf(e))e=_t(null,e,t,r),ut.push(e);else{var n=Pr(e,t,r);null===n?bt(e,r):-1<mt.indexOf(e)?(e=_t(n,e,t,r),ut.push(e)):function(e,t,r,n){switch(t){case"focus":return ct=vt(ct,e,t,r,n),!0;case"dragenter":return ht=vt(ht,e,t,r,n),!0;case"mouseover":return pt=vt(pt,e,t,r,n),!0;case"pointerover":var i=n.pointerId;return dt.set(i,vt(dt.get(i)||null,e,t,r,n)),!0;case"gotpointercapture":return i=n.pointerId,ft.set(i,vt(ft.get(i)||null,e,t,r,n)),!0}return!1}(n,e,t,r)||(bt(e,r),kr(e,t,r,null))}}function Pr(e,t,r){var n=xt(r);if(null!==(n=ln(n))){var i=tt(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=rt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return kr(e,t,r,n),null}function Ir(e){if(!J)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var jr=new("function"==typeof WeakMap?WeakMap:Map);function Lr(e){var t=jr.get(e);return void 0===t&&(t=new Set,jr.set(e,t)),t}function Ar(e,t,r){if(!r.has(e)){switch(e){case"scroll":Sr(t,"scroll",!0);break;case"focus":case"blur":Sr(t,"focus",!0),Sr(t,"blur",!0),r.add("blur"),r.add("focus");break;case"cancel":case"close":Ir(e)&&Sr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&Tr(e,t)}r.add(e)}}var Fr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mr=["Webkit","ms","Moz","O"];function Nr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Fr.hasOwnProperty(e)&&Fr[e]?(""+t).trim():t+"px"}function Dr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=Nr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Fr).forEach((function(e){Mr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fr[t]=Fr[e]}))}));var Gr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(e,t){if(t){if(Gr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function zr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Br(e,t){var r=Lr(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var n=0;n<t.length;n++)Ar(t[n],e,r)}function Vr(){}function Wr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Kr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hr(e,t){var r,n=Kr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kr(n)}}function Yr(){for(var e=window,t=Wr();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Wr((e=t.contentWindow).document)}return t}function Xr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Zr=null,qr=null;function Qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function $r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jr="function"==typeof setTimeout?setTimeout:void 0,en="function"==typeof clearTimeout?clearTimeout:void 0;function tn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),on="__reactInternalInstance$"+nn,an="__reactEventHandlers$"+nn,sn="__reactContainere$"+nn;function ln(e){var t=e[on];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sn]||r[on]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=rn(e);null!==e;){if(r=e[on])return r;e=rn(e)}return t}r=(e=r).parentNode}return null}function un(e){return!(e=e[on]||e[sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function cn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function hn(e){return e[an]||null}var pn=null,dn=null,fn=null;function gn(){if(fn)return fn;var e,t,r=dn,n=r.length,i="value"in pn?pn.value:pn.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return fn=i.slice(e,1<t?1-t:void 0)}var mn=Mt.extend({data:null}),yn=Mt.extend({data:null}),_n=[9,13,27,32],bn=J&&"CompositionEvent"in window,vn=null;J&&"documentMode"in document&&(vn=document.documentMode);var wn=J&&"TextEvent"in window&&!vn,On=J&&(!bn||vn&&8<vn&&11>=vn),En=String.fromCharCode(32),Tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Sn=!1;function Cn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var kn=!1;var Rn={eventTypes:Tn,extractEvents:function(e,t,r,n){var i;if(bn)e:{switch(e){case"compositionstart":var o=Tn.compositionStart;break e;case"compositionend":o=Tn.compositionEnd;break e;case"compositionupdate":o=Tn.compositionUpdate;break e}o=void 0}else kn?Cn(e,r)&&(o=Tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=Tn.compositionStart);return o?(On&&"ko"!==r.locale&&(kn||o!==Tn.compositionStart?o===Tn.compositionEnd&&kn&&(i=gn()):(dn="value"in(pn=n)?pn.value:pn.textContent,kn=!0)),o=mn.getPooled(o,t,r,n),i?o.data=i:null!==(i=xn(r))&&(o.data=i),Lt(o),i=o):i=null,(e=wn?function(e,t){switch(e){case"compositionend":return xn(t);case"keypress":return 32!==t.which?null:(Sn=!0,En);case"textInput":return(e=t.data)===En&&Sn?null:e;default:return null}}(e,r):function(e,t){if(kn)return"compositionend"===e||!bn&&Cn(e,t)?(e=gn(),fn=dn=pn=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=yn.getPooled(Tn.beforeInput,t,r,n)).data=e,Lt(t)):t=null,null===i?t:null===t?i:[i,t]}},Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function In(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}var jn={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ln(e,t,r){return(e=Mt.getPooled(jn.change,e,t,r)).type="change",ie(r),Lt(e),e}var An=null,Fn=null;function Mn(e){P(e)}function Nn(e){if(Se(cn(e)))return e}function Dn(e,t){if("change"===e)return t}var Gn=!1;function Un(){An&&(An.detachEvent("onpropertychange",zn),Fn=An=null)}function zn(e){if("value"===e.propertyName&&Nn(Fn))if(e=Ln(Fn,e,xt(e)),ce)P(e);else{ce=!0;try{ae(Mn,e)}finally{ce=!1,pe()}}}function Bn(e,t,r){"focus"===e?(Un(),Fn=r,(An=t).attachEvent("onpropertychange",zn)):"blur"===e&&Un()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nn(Fn)}function Wn(e,t){if("click"===e)return Nn(t)}function Kn(e,t){if("input"===e||"change"===e)return Nn(t)}J&&(Gn=Ir("input")&&(!document.documentMode||9<document.documentMode));var Hn,Yn={eventTypes:jn,_isInputEventSupported:Gn,extractEvents:function(e,t,r,n){var i=t?cn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Dn;else if(In(i))if(Gn)a=Kn;else{a=Vn;var s=Bn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Wn);if(a&&(a=a(e,t)))return Ln(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ie(i,"number",i.value)}},Xn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zn={eventTypes:Xn,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;if(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?ln(t):null)&&(t!==(o=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=tr,l=Xn.mouseLeave,u=Xn.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=rr,l=Xn.pointerLeave,u=Xn.pointerEnter,c="pointer");if(e=null==a?i:cn(a),i=null==t?i:cn(t),(l=s.getPooled(l,a,r,n)).type=c+"leave",l.target=e,l.relatedTarget=i,(n=s.getPooled(u,t,r,n)).type=c+"enter",n.target=i,n.relatedTarget=e,c=t,(s=a)&&c)e:{for(e=c,a=0,t=u=s;t;t=kt(t))a++;for(t=0,i=e;i;i=kt(i))t++;for(;0<a-t;)u=kt(u),a--;for(;0<t-a;)e=kt(e),t--;for(;a--;){if(u===e||u===e.alternate)break e;u=kt(u),e=kt(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)u.push(s),s=kt(s);for(s=[];c&&c!==e&&(null===(a=c.alternate)||a!==e);)s.push(c),c=kt(c);for(c=0;c<u.length;c++)It(u[c],"bubbled",l);for(c=s.length;0<c--;)It(s[c],"captured",n);return r===Hn?(Hn=null,[l]):(Hn=r,[l,n])}};var qn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Qn=Object.prototype.hasOwnProperty;function $n(e,t){if(qn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Qn.call(t,r[n])||!qn(e[r[n]],t[r[n]]))return!1;return!0}var Jn=J&&"documentMode"in document&&11>=document.documentMode,ei={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ti=null,ri=null,ni=null,ii=!1;function oi(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return ii||null==ti||ti!==Wr(r)?null:("selectionStart"in(r=ti)&&Xr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ni&&$n(ni,r)?null:(ni=r,(e=Mt.getPooled(ei.select,ri,e,t)).type="select",e.target=ti,Lt(e),e))}var ai={eventTypes:ei,extractEvents:function(e,t,r,n){var i,o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;if(!(i=!o)){e:{o=Lr(o),i=f.onSelect;for(var a=0;a<i.length;a++)if(!o.has(i[a])){o=!1;break e}o=!0}i=!o}if(i)return null;switch(o=t?cn(t):window,e){case"focus":(In(o)||"true"===o.contentEditable)&&(ti=o,ri=t,ni=null);break;case"blur":ni=ri=ti=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":return ii=!1,oi(r,n);case"selectionchange":if(Jn)break;case"keydown":case"keyup":return oi(r,n)}return null}};I.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),O=hn,E=un,T=cn,I.injectEventPluginsByName({SimpleEventPlugin:yr,EnterLeaveEventPlugin:Zn,ChangeEventPlugin:Yn,SelectEventPlugin:ai,BeforeInputEventPlugin:Rn}),new Set;var si=[],li=-1;function ui(e){0>li||(e.current=si[li],si[li]=null,li--)}function ci(e,t){li++,si[li]=e.current,e.current=t}var hi={},pi={current:hi},di={current:!1},fi=hi;function gi(e,t){var r=e.type.contextTypes;if(!r)return hi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function yi(e){ui(di),ui(pi)}function _i(e){ui(di),ui(pi)}function bi(e,t,r){if(pi.current!==hi)throw Error(a(168));ci(pi,t),ci(di,r)}function vi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,Q(t)||"Unknown",o));return i({},r,{},n)}function wi(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||hi,fi=pi.current,ci(pi,t),ci(di,di.current),!0}function Oi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(t=vi(e,t,fi),n.__reactInternalMemoizedMergedChildContext=t,ui(di),ui(pi),ci(pi,t)):ui(di),ci(di,r)}var Ei=o.unstable_runWithPriority,Ti=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,xi=o.unstable_requestPaint,ki=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Pi=o.unstable_ImmediatePriority,Ii=o.unstable_UserBlockingPriority,ji=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Ai=o.unstable_IdlePriority,Fi={},Mi=void 0!==xi?xi:function(){},Ni=null,Di=null,Gi=!1,Ui=ki(),zi=1e4>Ui?ki:function(){return ki()-Ui};function Bi(){switch(Ri()){case Pi:return 99;case Ii:return 98;case ji:return 97;case Li:return 96;case Ai:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Pi;case 98:return Ii;case 97:return ji;case 96:return Li;case 95:return Ai;default:throw Error(a(332))}}function Wi(e,t){return e=Vi(e),Ei(e,t)}function Ki(e,t,r){return e=Vi(e),Ti(e,t,r)}function Hi(e){return null===Ni?(Ni=[e],Di=Ti(Pi,Xi)):Ni.push(e),Fi}function Yi(){if(null!==Di){var e=Di;Di=null,Si(e)}Xi()}function Xi(){if(!Gi&&null!==Ni){Gi=!0;var e=0;try{var t=Ni;Wi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Ni=null}catch(t){throw null!==Ni&&(Ni=Ni.slice(e+1)),Ti(Pi,Yi),t}finally{Gi=!1}}}var Zi=3;function qi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Qi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var $i={current:null},Ji=null,eo=null,to=null;function ro(){to=eo=Ji=null}function no(e,t){var r=e.type._context;ci($i,r._currentValue),r._currentValue=t}function io(e){var t=$i.current;ui($i),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ao(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(za=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={expirationTime:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var lo=!1;function uo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function co(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ho(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function po(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function fo(e,t){var r=e.alternate;if(null===r){var n=e.updateQueue,i=null;null===n&&(n=e.updateQueue=uo(e.memoizedState))}else n=e.updateQueue,i=r.updateQueue,null===n?null===i?(n=e.updateQueue=uo(e.memoizedState),i=r.updateQueue=uo(r.memoizedState)):n=e.updateQueue=co(i):null===i&&(i=r.updateQueue=co(n));null===i||n===i?po(n,t):null===n.lastUpdate||null===i.lastUpdate?(po(n,t),po(i,t)):(po(n,t),i.lastUpdate=t)}function go(e,t){var r=e.updateQueue;null===(r=null===r?e.updateQueue=uo(e.memoizedState):mo(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t)}function mo(e,t){var r=e.alternate;return null!==r&&t===r.updateQueue&&(t=e.updateQueue=co(t)),t}function yo(e,t,r,n,o,a){switch(r.tag){case 1:return"function"==typeof(e=r.payload)?e.call(a,n,o):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(o="function"==typeof(e=r.payload)?e.call(a,n,o):e))break;return i({},n,o);case 2:lo=!0}return n}function _o(e,t,r,n,i){lo=!1;for(var o=(t=mo(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c<i?(null===a&&(a=l,o=u),s<c&&(s=c)):(hl(c,l.suspenseConfig),u=yo(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<i?(null===c&&(c=l,null===a&&(o=u)),s<h&&(s=h)):(u=yo(e,0,l,u,r,n),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,pl(s),e.expirationTime=s,e.memoizedState=u}function bo(e,t,r){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),vo(t.firstEffect,r),t.firstEffect=t.lastEffect=null,vo(t.firstCapturedEffect,r),t.firstCapturedEffect=t.lastCapturedEffect=null}function vo(e,t){for(;null!==e;){var r=e.callback;if(null!==r){e.callback=null;var n=t;if("function"!=typeof r)throw Error(a(191,r));r.call(n)}e=e.nextEffect}}var wo=L.ReactCurrentBatchConfig,Oo=(new n.Component).refs;function Eo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,null!==(n=e.updateQueue)&&0===e.expirationTime&&(n.baseState=r)}var To={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=wo.suspense;(i=ho(n=Js(n,e,i),i)).payload=t,null!=r&&(i.callback=r),fo(e,i),el(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=wo.suspense;(i=ho(n=Js(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),fo(e,i),el(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=$s(),n=wo.suspense;(n=ho(r=Js(r,e,n),n)).tag=2,null!=t&&(n.callback=t),fo(e,n),el(e,r)}};function So(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!$n(r,n)||!$n(i,o))}function Co(e,t,r){var n=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=so(o):(i=mi(t)?fi:pi.current,o=(n=null!=(n=t.contextTypes))?gi(e,i):hi),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=To,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function ko(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Oo;var o=t.contextType;"object"==typeof o&&null!==o?i.context=so(o):(o=mi(t)?fi:pi.current,i.context=gi(e,o)),null!==(o=e.updateQueue)&&(_o(e,o,r,i,n),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Eo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&To.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(_o(e,o,r,i,n),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ro=Array.isArray;function Po(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===Oo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Io(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function jo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,r){return(e=jl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fl(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=Po(e,t,r),n.return=e,n):((n=Ll(r.type,r.key,r.props,null,e.mode,n)).ref=Po(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ml(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=Al(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function p(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Fl(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case M:return(r=Ll(t.type,t.key,t.props,null,e.mode,r)).ref=Po(e,null,t),r.return=e,r;case N:return(t=Ml(t,e.mode,r)).return=e,t}if(Ro(t)||q(t))return(t=Al(t,e.mode,r,null)).return=e,t;Io(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case M:return r.key===i?r.type===D?h(e,t,r.props.children,n,i):u(e,t,r,n):null;case N:return r.key===i?c(e,t,r,n):null}if(Ro(r)||q(r))return null!==i?null:h(e,t,r,n,null);Io(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case M:return e=e.get(null===n.key?r:n.key)||null,n.type===D?h(t,e,n.props.children,i,n.key):u(t,e,n,i);case N:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(Ro(n)||q(n))return h(t,e=e.get(r)||null,n,i,null);Io(t,n)}return null}function g(i,a,s,l){for(var u=null,c=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,s[g],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===c?u=y:c.sibling=y,c=y,h=m}if(g===s.length)return r(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=p(i,s[g],l))&&(a=o(h,a,g),null===c?u=h:c.sibling=h,c=h);return u}for(h=n(i,h);g<s.length;g++)null!==(m=f(h,i,g,s[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),u}function m(i,s,l,u){var c=q(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,g=s,m=s=0,y=null,_=l.next();null!==g&&!_.done;m++,_=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=d(i,g,_.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,m),null===h?c=b:h.sibling=b,h=b,g=y}if(_.done)return r(i,g),c;if(null===g){for(;!_.done;m++,_=l.next())null!==(_=p(i,_.value,u))&&(s=o(_,s,m),null===h?c=_:h.sibling=_,h=_);return c}for(g=n(i,g);!_.done;m++,_=l.next())null!==(_=f(g,i,m,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===h?c=_:h.sibling=_,h=_);return e&&g.forEach((function(e){return t(i,e)})),c}return function(e,n,o,l){var u="object"==typeof o&&null!==o&&o.type===D&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case M:e:{for(c=o.key,u=n;null!==u;){if(u.key===c){if(7===u.tag?o.type===D:u.elementType===o.type){r(e,u.sibling),(n=i(u,o.type===D?o.props.children:o.props)).ref=Po(e,u,o),n.return=e,e=n;break e}r(e,u);break}t(e,u),u=u.sibling}o.type===D?((n=Al(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Ll(o.type,o.key,o.props,null,e.mode,l)).ref=Po(e,n,o),l.return=e,e=l)}return s(e);case N:e:{for(u=o.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Ml(o,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Fl(o,e.mode,l)).return=e,e=n),s(e);if(Ro(o))return g(e,n,o,l);if(q(o))return m(e,n,o,l);if(c&&Io(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var Lo=jo(!0),Ao=jo(!1),Fo={},Mo={current:Fo},No={current:Fo},Do={current:Fo};function Go(e){if(e===Fo)throw Error(a(174));return e}function Uo(e,t){ci(Do,t),ci(No,e),ci(Mo,Fo);var r=t.nodeType;switch(r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ze(null,"");break;default:t=ze(t=(r=8===r?t.parentNode:t).namespaceURI||null,r=r.tagName)}ui(Mo),ci(Mo,t)}function zo(e){ui(Mo),ui(No),ui(Do)}function Bo(e){Go(Do.current);var t=Go(Mo.current),r=ze(t,e.type);t!==r&&(ci(No,e),ci(Mo,r))}function Vo(e){No.current===e&&(ui(Mo),ui(No))}var Wo={current:0};function Ko(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var Yo=L.ReactCurrentDispatcher,Xo=L.ReactCurrentBatchConfig,Zo=0,qo=null,Qo=null,$o=null,Jo=null,ea=null,ta=null,ra=0,na=null,ia=0,oa=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ua(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qn(e[r],t[r]))return!1;return!0}function ca(e,t,r,n,i,o){if(Zo=o,qo=t,$o=null!==e?e.memoizedState:null,Yo.current=null===$o?Ra:Pa,t=r(n,i),oa){do{oa=!1,sa+=1,$o=null!==e?e.memoizedState:null,ta=Jo,na=ea=Qo=null,Yo.current=Pa,t=r(n,i)}while(oa);aa=null,sa=0}if(Yo.current=ka,(e=qo).memoizedState=Jo,e.expirationTime=ra,e.updateQueue=na,e.effectTag|=ia,e=null!==Qo&&null!==Qo.next,Zo=0,ta=ea=Jo=$o=Qo=qo=null,ra=0,na=null,ia=0,e)throw Error(a(300));return t}function ha(){Yo.current=ka,Zo=0,ta=ea=Jo=$o=Qo=qo=null,ra=0,na=null,ia=0,oa=!1,aa=null,sa=0}function pa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Jo=ea=e:ea=ea.next=e,ea}function da(){if(null!==ta)ta=(ea=ta).next,$o=null!==(Qo=$o)?Qo.next:null;else{if(null===$o)throw Error(a(310));var e={memoizedState:(Qo=$o).memoizedState,baseState:Qo.baseState,queue:Qo.queue,baseUpdate:Qo.baseUpdate,next:null};ea=null===ea?Jo=e:ea.next=e,$o=Qo.next}return ea}function fa(e,t){return"function"==typeof t?t(e):t}function ga(e){var t=da(),r=t.queue;if(null===r)throw Error(a(311));if(r.lastRenderedReducer=e,0<sa){var n=r.dispatch;if(null!==aa){var i=aa.get(r);if(void 0!==i){aa.delete(r);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return qn(o,t.memoizedState)||(za=!0),t.memoizedState=o,t.baseUpdate===r.last&&(t.baseState=o),r.lastRenderedState=o,[o,n]}}return[t.memoizedState,n]}n=r.last;var s=t.baseUpdate;if(o=t.baseState,null!==s?(null!==n&&(n.next=null),n=s.next):n=null!==n?n.next:null,null!==n){var l=i=null,u=n,c=!1;do{var h=u.expirationTime;h<Zo?(c||(c=!0,l=s,i=o),h>ra&&pl(ra=h)):(hl(h,u.suspenseConfig),o=u.eagerReducer===e?u.eagerState:e(o,u.action)),s=u,u=u.next}while(null!==u&&u!==n);c||(l=s,i=o),qn(o,t.memoizedState)||(za=!0),t.memoizedState=o,t.baseUpdate=l,t.baseState=i,r.lastRenderedState=o}return[t.memoizedState,r.dispatch]}function ma(e){var t=pa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=xa.bind(null,qo,e),[t.memoizedState,e]}function ya(e){return ga(fa)}function _a(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===na?(na={lastEffect:null}).lastEffect=e.next=e:null===(t=na.lastEffect)?na.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,na.lastEffect=e),e}function ba(e,t,r,n){var i=pa();ia|=e,i.memoizedState=_a(t,r,void 0,void 0===n?null:n)}function va(e,t,r,n){var i=da();n=void 0===n?null:n;var o=void 0;if(null!==Qo){var a=Qo.memoizedState;if(o=a.destroy,null!==n&&ua(n,a.deps))return void _a(0,r,o,n)}ia|=e,i.memoizedState=_a(t,r,o,n)}function wa(e,t){return ba(516,192,e,t)}function Oa(e,t){return va(516,192,e,t)}function Ea(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(){}function Sa(e,t){return pa().memoizedState=[e,void 0===t?null:t],e}function Ca(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ua(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xa(e,t,r){if(!(25>sa))throw Error(a(301));var n=e.alternate;if(e===qo||null!==n&&n===qo)if(oa=!0,e={expirationTime:Zo,suspenseConfig:null,action:r,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(r=aa.get(t)))aa.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}else{var i=$s(),o=wo.suspense;o={expirationTime:i=Js(i,e,o),suspenseConfig:o,action:r,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)o.next=o;else{var l=s.next;null!==l&&(o.next=l),s.next=o}if(t.last=o,0===e.expirationTime&&(null===n||0===n.expirationTime)&&null!==(n=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=n(u,r);if(o.eagerReducer=n,o.eagerState=c,qn(c,u))return}catch(e){}el(e,i)}}var ka={readContext:so,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ra={readContext:so,useCallback:Sa,useContext:so,useEffect:wa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,ba(4,36,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ba(4,36,e,t)},useMemo:function(e,t){var r=pa();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pa();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,qo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},pa().memoizedState=e},useState:ma,useDebugValue:Ta,useResponder:Ho,useDeferredValue:function(e,t){var r=ma(e),n=r[0],i=r[1];return wa((function(){o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===t?null:t;try{i(e)}finally{Xo.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=ma(!1),r=t[0],n=t[1];return[Sa((function(t){n(!0),o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Xo.suspense=r}}))}),[e,r]),r]}},Pa={readContext:so,useCallback:Ca,useContext:so,useEffect:Oa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,va(4,36,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return va(4,36,e,t)},useMemo:function(e,t){var r=da();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ua(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)},useReducer:ga,useRef:function(){return da().memoizedState},useState:ya,useDebugValue:Ta,useResponder:Ho,useDeferredValue:function(e,t){var r=ya(),n=r[0],i=r[1];return Oa((function(){o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===t?null:t;try{i(e)}finally{Xo.suspense=r}}))}),[e,t]),n},useTransition:function(e){var t=ya(),r=t[0],n=t[1];return[Ca((function(t){n(!0),o.unstable_next((function(){var r=Xo.suspense;Xo.suspense=void 0===e?null:e;try{n(!1),t()}finally{Xo.suspense=r}}))}),[e,r]),r]}},Ia=null,ja=null,La=!1;function Aa(e,t){var r=Pl(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Fa(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ma(e){if(La){var t=ja;if(t){var r=t;if(!Fa(e,t)){if(!(t=tn(r.nextSibling))||!Fa(e,t))return e.effectTag=-1025&e.effectTag|2,La=!1,void(Ia=e);Aa(Ia,r)}Ia=e,ja=tn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,La=!1,Ia=e}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ia=e}function Da(e){if(e!==Ia)return!1;if(!La)return Na(e),La=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!$r(t,e.memoizedProps))for(t=ja;t;)Aa(e,t),t=tn(t.nextSibling);if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ja=tn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ja=null}}else ja=Ia?tn(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Ia=null,La=!1}var Ua=L.ReactCurrentOwner,za=!1;function Ba(e,t,r,n){t.child=null===e?Ao(t,null,r,n):Lo(t,e.child,r,n)}function Va(e,t,r,n,i){r=r.render;var o=t.ref;return ao(t,i),n=ca(e,t,r,n,o,i),null===e||za?(t.effectTag|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Wa(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Il(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ll(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ka(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:$n)(i,n)&&e.ref===t.ref)?os(e,t,o):(t.effectTag|=1,(e=jl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ka(e,t,r,n,i,o){return null!==e&&$n(e.memoizedProps,n)&&e.ref===t.ref&&(za=!1,i<o)?os(e,t,o):Ya(e,t,r,n,o)}function Ha(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Ya(e,t,r,n,i){var o=mi(r)?fi:pi.current;return o=gi(t,o),ao(t,i),r=ca(e,t,r,n,o,i),null===e||za?(t.effectTag|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),os(e,t,i))}function Xa(e,t,r,n,i){if(mi(r)){var o=!0;wi(t)}else o=!1;if(ao(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Co(t,r,n),ko(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"==typeof u&&null!==u?u=so(u):u=gi(t,u=mi(r)?fi:pi.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&xo(t,a,n,u),lo=!1;var p=t.memoizedState;l=a.state=p;var d=t.updateQueue;null!==d&&(_o(t,d,n,a,i),l=t.memoizedState),s!==n||p!==l||di.current||lo?("function"==typeof c&&(Eo(t,r,c,n),l=t.memoizedState),(s=lo||So(t,r,s,n,p,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Qi(t.type,s),l=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=so(u):u=gi(t,u=mi(r)?fi:pi.current),(h="function"==typeof(c=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==u)&&xo(t,a,n,u),lo=!1,l=t.memoizedState,p=a.state=l,null!==(d=t.updateQueue)&&(_o(t,d,n,a,i),p=t.memoizedState),s!==n||l!==p||di.current||lo?("function"==typeof c&&(Eo(t,r,c,n),p=t.memoizedState),(c=lo||So(t,r,s,n,l,p,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=u,n=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Za(e,t,r,n,o,i)}function Za(e,t,r,n,i,o){Ha(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&Oi(t,r,!1),os(e,t,o);n=t.stateNode,Ua.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=Lo(t,e.child,null,o),t.child=Lo(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=n.state,i&&Oi(t,r,!0),t.child}function qa(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Uo(e,t.containerInfo)}var Qa,$a,Ja,es={dehydrated:null,retryTime:0};function ts(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Wo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Wo,1&a),null===e){if(void 0!==o.fallback&&Ma(t),s){if(s=o.fallback,(o=Al(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Al(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=es,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Ao(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=jl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=jl(i,o,i.expirationTime)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=es,t.child=r,i}return r=Lo(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=Al(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=Al(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=es,t.child=o,r}return t.memoizedState=null,t.child=Lo(t,e,o.children,r)}function rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),oo(e.return,t)}function ns(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function is(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ba(e,t,n.children,r),0!=(2&(n=Wo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,r);else if(19===e.tag)rs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ci(Wo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Ko(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ns(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ko(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ns(t,!0,r,null,o,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&pl(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=jl(e=t.child,e.pendingProps,e.expirationTime),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=jl(e,e.pendingProps,e.expirationTime)).return=t;r.sibling=null}return t.child}function as(e){e.effectTag|=4}function ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ls(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zo(),_i(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Vo(e),null;case 13:return ui(Wo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Wo),null;case 4:return zo(),null;case 10:return io(e),null;default:return null}}function us(e,t){return{value:e,source:t,stack:$(t)}}Qa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$a=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,u=t.stateNode;switch(Go(Mo.current),e=null,r){case"input":a=Ce(u,a),n=Ce(u,n),e=[];break;case"option":a=je(u,a),n=je(u,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Ae(u,a),n=Ae(u,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(u.onclick=Vr)}for(s in Ur(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var c=n[s];if(u=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(e||(e=[]),e.push(s,r)),r=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,""+c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=c&&Br(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&as(t)}},Ja=function(e,t,r,n){r!==n&&as(t)};var cs="function"==typeof WeakSet?WeakSet:Set;function hs(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=$(r)),null!==r&&Q(r.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ps(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Tl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:fs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Qi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function fs(e,t,r){if(null!==(r=null!==(r=r.updateQueue)?r.lastEffect:null)){var n=r=r.next;do{if(0!=(n.tag&e)){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}0!=(n.tag&t)&&(i=n.create,n.destroy=i()),n=n.next}while(n!==r)}}function gs(e,t,r){switch("function"==typeof kl&&kl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Wi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){Tl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:ps(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Tl(e,t)}}(t,r);break;case 5:ps(t);break;case 4:bs(e,t,r)}}function ms(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&ms(t)}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ys(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(We(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ys(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}for(var i=e;;){var o=5===i.tag||6===i.tag;if(o){var s=o?i.stateNode:i.stateNode.instance;if(r)if(n){var l=s;s=r,8===(o=t).nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else t.insertBefore(s,r);else n?(8===(l=t).nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=Vr)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function bs(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=r,h=u;;)if(gs(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=n,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(gs(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function vs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fs(4,8,t);break;case 1:break;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[an]=n,"input"===e&&"radio"===n.type&&null!=n.name&&ke(r,n),zr(e,i),t=zr(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Dr(r,l):"dangerouslySetInnerHTML"===s?Ve(r,l):"children"===s?We(r,l):Oe(r,s,l,t)}switch(e){case"input":Re(r,n);break;case"textarea":Me(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Le(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Le(r,!!n.multiple,n.defaultValue,!0):Le(r,!!n.multiple,n.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,Ct(t.containerInfo));break;case 12:break;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Us=zi()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=Nr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break e;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ws(t);break;case 19:ws(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new cs),t.forEach((function(t){var n=Cl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var Os="function"==typeof WeakMap?WeakMap:Map;function Es(e,t,r){(r=ho(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bs||(Bs=!0,Vs=n),hs(e,t)},r}function Ts(e,t,r){(r=ho(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return hs(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Ws?Ws=new Set([this]):Ws.add(this),hs(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var Ss,Cs=Math.ceil,xs=L.ReactCurrentDispatcher,ks=L.ReactCurrentOwner,Rs=0,Ps=null,Is=null,js=0,Ls=0,As=null,Fs=1073741823,Ms=1073741823,Ns=null,Ds=0,Gs=!1,Us=0,zs=null,Bs=!1,Vs=null,Ws=null,Ks=!1,Hs=null,Ys=90,Xs=null,Zs=0,qs=null,Qs=0;function $s(){return 0!=(48&Rs)?1073741821-(zi()/10|0):0!==Qs?Qs:Qs=1073741821-(zi()/10|0)}function Js(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Bi();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Rs))return js;if(null!==r)e=qi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ps&&e===js&&--e,e}function el(e,t){if(50<Zs)throw Zs=0,qs=null,Error(a(185));if(null!==(e=tl(e,t))){var r=Bi();1073741823===t?0!=(8&Rs)&&0==(48&Rs)?ol(e):(nl(e),0===Rs&&Yi()):nl(e),0==(4&Rs)||98!==r&&99!==r||(null===Xs?Xs=new Map([[e,t]]):(void 0===(r=Xs.get(e))||r>t)&&Xs.set(e,t))}}function tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Ps===i&&(pl(t),4===Ls&&Gl(i,js)),Ul(i,t)),i}function rl(e){var t=e.lastExpiredTime;return 0!==t?t:Dl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function nl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hi(ol.bind(null,e));else{var t=rl(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=$s();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==Fi&&Si(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?Hi(ol.bind(null,e)):Ki(n,il.bind(null,e),{timeout:10*(1073741821-t)-zi()}),e.callbackNode=t}}}function il(e,t){if(Qs=0,t)return zl(e,t=$s()),nl(e),null;var r=rl(e);if(0!==r){if(t=e.callbackNode,0!=(48&Rs))throw Error(a(327));if(wl(),e===Ps&&r===js||ll(e,r),null!==Is){var n=Rs;Rs|=16;for(var i=cl();;)try{fl();break}catch(t){ul(e,t)}if(ro(),Rs=n,xs.current=i,1===Ls)throw t=As,ll(e,r),Gl(e,r),nl(e),t;if(null===Is)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ls,Ps=null,n){case 0:case 1:throw Error(a(345));case 2:zl(e,2<r?2:r);break;case 3:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(i)),1073741823===Fs&&10<(i=Us+500-zi())){if(Gs){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,ll(e,r);break}}if(0!==(o=rl(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Jr(_l.bind(null,e),i);break}_l(e);break;case 4:if(Gl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(i)),Gs&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,ll(e,r);break}if(0!==(i=rl(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Ms?n=10*(1073741821-Ms)-zi():1073741823===Fs?n=0:(n=10*(1073741821-Fs)-5e3,0>(n=(i=zi())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=Jr(_l.bind(null,e),n);break}_l(e);break;case 5:if(1073741823!==Fs&&null!==Ns){o=Fs;var s=Ns;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=zi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Gl(e,r),e.timeoutHandle=Jr(_l.bind(null,e),n);break}}_l(e);break;default:throw Error(a(329))}if(nl(e),e.callbackNode===t)return il.bind(null,e)}}return null}function ol(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)_l(e);else{if(0!=(48&Rs))throw Error(a(327));if(wl(),e===Ps&&t===js||ll(e,t),null!==Is){var r=Rs;Rs|=16;for(var n=cl();;)try{dl();break}catch(t){ul(e,t)}if(ro(),Rs=r,xs.current=n,1===Ls)throw r=As,ll(e,t),Gl(e,t),nl(e),r;if(null!==Is)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,_l(e),nl(e)}}return null}function al(e,t){var r=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=r)&&Yi()}}function sl(e,t){var r=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=r)&&Yi()}}function ll(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,en(r)),null!==Is)for(r=Is.return;null!==r;){var n=r;switch(n.tag){case 1:var i=n.type.childContextTypes;null!=i&&yi();break;case 3:zo(),_i();break;case 5:Vo(n);break;case 4:zo();break;case 13:case 19:ui(Wo);break;case 10:io(n)}r=r.return}Ps=e,Is=jl(e.current,null),js=t,Ls=0,As=null,Ms=Fs=1073741823,Ns=null,Ds=0,Gs=!1}function ul(e,t){for(;;){try{if(ro(),ha(),null===Is||null===Is.return)return Ls=1,As=t,null;e:{var r=e,n=Is.return,i=Is,o=t;if(t=js,i.effectTag|=2048,i.firstEffect=i.lastEffect=null,null!==o&&"object"==typeof o&&"function"==typeof o.then){var a=o,s=0!=(1&Wo.current),l=n;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(u){var p=l.updateQueue;if(null===p){var d=new Set;d.add(a),l.updateQueue=d}else p.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,i.effectTag&=-2981,1===i.tag)if(null===i.alternate)i.tag=17;else{var f=ho(1073741823,null);f.tag=2,fo(i,f)}i.expirationTime=1073741823;break e}o=void 0,i=t;var g=r.pingCache;if(null===g?(g=r.pingCache=new Os,o=new Set,g.set(a,o)):void 0===(o=g.get(a))&&(o=new Set,g.set(a,o)),!o.has(i)){o.add(i);var m=Sl.bind(null,r,a,i);a.then(m,m)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);o=Error((Q(i.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+$(i))}5!==Ls&&(Ls=2),o=us(o,i),l=n;do{switch(l.tag){case 3:a=o,l.effectTag|=4096,l.expirationTime=t,go(l,Es(l,a,t));break e;case 1:a=o;var y=l.type,_=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Ws||!Ws.has(_)))){l.effectTag|=4096,l.expirationTime=t,go(l,Ts(l,a,t));break e}}l=l.return}while(null!==l)}Is=ml(Is)}catch(e){t=e;continue}break}}function cl(){var e=xs.current;return xs.current=ka,null===e?ka:e}function hl(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Ms&&2<e&&(Ms=e,Ns=t)}function pl(e){e>Ds&&(Ds=e)}function dl(){for(;null!==Is;)Is=gl(Is)}function fl(){for(;null!==Is&&!Ci();)Is=gl(Is)}function gl(e){var t=Ss(e.alternate,e,js);return e.memoizedProps=e.pendingProps,null===t&&(t=ml(e)),ks.current=null,t}function ml(e){Is=e;do{var t=Is.alternate;if(e=Is.return,0==(2048&Is.effectTag)){e:{var r=t,n=js,o=(t=Is).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:mi(t.type)&&yi();break;case 3:zo(),_i(),(o=t.stateNode).pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===r||null===r.child)&&Da(t)&&as(t);break;case 5:Vo(t),n=Go(Do.current);var s=t.type;if(null!==r&&null!=t.stateNode)$a(r,t,s,o,n),r.ref!==t.ref&&(t.effectTag|=128);else if(o){var l=Go(Mo.current);if(Da(t)){var u=(o=t).stateNode;r=o.type;var c=o.memoizedProps,h=n;switch(u[on]=o,u[an]=c,s=void 0,n=u,r){case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(u=0;u<et.length;u++)Tr(et[u],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"form":Tr("reset",n),Tr("submit",n);break;case"details":Tr("toggle",n);break;case"input":xe(n,c),Tr("invalid",n),Br(h,"onChange");break;case"select":n._wrapperState={wasMultiple:!!c.multiple},Tr("invalid",n),Br(h,"onChange");break;case"textarea":Fe(n,c),Tr("invalid",n),Br(h,"onChange")}for(s in Ur(r,c),u=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"==typeof l?n.textContent!==l&&(u=["children",l]):"number"==typeof l&&n.textContent!==""+l&&(u=["children",""+l]):d.hasOwnProperty(s)&&null!=l&&Br(h,s));switch(r){case"input":Te(n),Pe(n,c,!0);break;case"textarea":Te(n),Ne(n);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(n.onclick=Vr)}s=u,o.updateQueue=s,(o=null!==s)&&as(t)}else{r=t,h=s,c=o,u=9===n.nodeType?n:n.ownerDocument,l===De&&(l=Ue(h)),l===De?"script"===h?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(h,{is:c.is}):(u=u.createElement(h),"select"===h&&(h=u,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):u=u.createElementNS(l,h),(c=u)[on]=r,c[an]=o,Qa(c,t),t.stateNode=c;var p=n,f=zr(h=s,r=o);switch(h){case"iframe":case"object":case"embed":Tr("load",c),n=r;break;case"video":case"audio":for(n=0;n<et.length;n++)Tr(et[n],c);n=r;break;case"source":Tr("error",c),n=r;break;case"img":case"image":case"link":Tr("error",c),Tr("load",c),n=r;break;case"form":Tr("reset",c),Tr("submit",c),n=r;break;case"details":Tr("toggle",c),n=r;break;case"input":xe(c,r),n=Ce(c,r),Tr("invalid",c),Br(p,"onChange");break;case"option":n=je(c,r);break;case"select":c._wrapperState={wasMultiple:!!r.multiple},n=i({},r,{value:void 0}),Tr("invalid",c),Br(p,"onChange");break;case"textarea":Fe(c,r),n=Ae(c,r),Tr("invalid",c),Br(p,"onChange");break;default:n=r}Ur(h,n),u=void 0,l=h;var g=c,m=n;for(u in m)if(m.hasOwnProperty(u)){var y=m[u];"style"===u?Dr(g,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&Ve(g,y):"children"===u?"string"==typeof y?("textarea"!==l||""!==y)&&We(g,y):"number"==typeof y&&We(g,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=y&&Br(p,u):null!=y&&Oe(g,u,y,f))}switch(h){case"input":Te(c),Pe(c,r,!1);break;case"textarea":Te(c),Ne(c);break;case"option":null!=r.value&&c.setAttribute("value",""+we(r.value));break;case"select":(n=c).multiple=!!r.multiple,null!=(c=r.value)?Le(n,!!r.multiple,c,!1):null!=r.defaultValue&&Le(n,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(c.onclick=Vr)}(o=Qr(s,o))&&as(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(r&&null!=t.stateNode)Ja(0,t,r.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(a(166));n=Go(Do.current),Go(Mo.current),Da(t)?(s=(o=t).stateNode,n=o.memoizedProps,s[on]=o,(o=s.nodeValue!==n)&&as(t)):(s=t,(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[on]=s,t.stateNode=o)}break;case 11:break;case 13:if(ui(Wo),o=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=n;break e}o=null!==o,s=!1,null===r?void 0!==t.memoizedProps.fallback&&Da(t):(s=null!==(n=r.memoizedState),o||null===n||null!==(n=r.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=n,n.nextEffect=c):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),o&&!s&&0!=(2&t.mode)&&(null===r&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Wo.current)?0===Ls&&(Ls=3):(0!==Ls&&3!==Ls||(Ls=4),0!==Ds&&null!==Ps&&(Gl(Ps,js),Ul(Ps,Ds)))),(o||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:zo();break;case 10:io(t);break;case 9:case 14:break;case 17:mi(t.type)&&yi();break;case 19:if(ui(Wo),null===(o=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(c=o.rendering)){if(s)ss(o,!1);else if(0!==Ls||null!==r&&0!=(64&r.effectTag))for(r=t.child;null!==r;){if(null!==(c=Ko(r))){for(t.effectTag|=64,ss(o,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=n,s=t.child;null!==s;)r=o,(n=s).effectTag&=2,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,null===(c=n.alternate)?(n.childExpirationTime=0,n.expirationTime=r,n.child=null,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null):(n.childExpirationTime=c.childExpirationTime,n.expirationTime=c.expirationTime,n.child=c.child,n.memoizedProps=c.memoizedProps,n.memoizedState=c.memoizedState,n.updateQueue=c.updateQueue,r=c.dependencies,n.dependencies=null===r?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders}),s=s.sibling;ci(Wo,1&Wo.current|2),t=t.child;break e}r=r.sibling}}else{if(!s)if(null!==(r=Ko(c))){if(t.effectTag|=64,s=!0,null!==(n=r.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ss(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate){null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null);break}}else zi()>o.tailExpiration&&1<n&&(t.effectTag|=64,s=!0,ss(o,!1),t.expirationTime=t.childExpirationTime=n-1);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}if(null!==o.tail){0===o.tailExpiration&&(o.tailExpiration=zi()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,n.sibling=null,o=Wo.current,ci(Wo,o=s?1&o|2:1&o),t=n;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(o=Is,1===js||1!==o.childExpirationTime){for(s=0,n=o.child;null!==n;)(r=n.expirationTime)>s&&(s=r),(c=n.childExpirationTime)>s&&(s=c),n=n.sibling;o.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Is.firstEffect),null!==Is.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Is.firstEffect),e.lastEffect=Is.lastEffect),1<Is.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Is:e.firstEffect=Is,e.lastEffect=Is))}else{if(null!==(t=ls(Is)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Is.sibling))return t;Is=e}while(null!==Is);return 0===Ls&&(Ls=5),null}function yl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function _l(e){var t=Bi();return Wi(99,bl.bind(null,e,t)),null}function bl(e,t){do{wl()}while(null!==Hs);if(0!=(48&Rs))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=yl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(Is=Ps=null,js=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Rs;Rs|=32,ks.current=null,Zr=Er;var s=Yr();if(Xr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var p=0,d=-1,f=-1,g=0,m=0,y=s,_=null;t:for(;;){for(var b;y!==l||0!==c&&3!==y.nodeType||(d=p+c),y!==h||0!==u&&3!==y.nodeType||(f=p+u),3===y.nodeType&&(p+=y.nodeValue.length),null!==(b=y.firstChild);)_=y,y=b;for(;;){if(y===s)break t;if(_===l&&++g===c&&(d=p),_===h&&++m===u&&(f=p),null!==(b=y.nextSibling))break;_=(y=_).parentNode}y=b}l=-1===d||-1===f?null:{start:d,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;qr={focusedElem:s,selectionRange:l},Er=!1,zs=i;do{try{vl()}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=i;do{try{for(s=e,l=t;null!==zs;){var v=zs.effectTag;if(16&v&&We(zs.stateNode,""),128&v){var w=zs.alternate;if(null!==w){var O=w.ref;null!==O&&("function"==typeof O?O(null):O.current=null)}}switch(1038&v){case 2:_s(zs),zs.effectTag&=-3;break;case 6:_s(zs),zs.effectTag&=-3,vs(zs.alternate,zs);break;case 1024:zs.effectTag&=-1025;break;case 1028:zs.effectTag&=-1025,vs(zs.alternate,zs);break;case 4:vs(zs.alternate,zs);break;case 8:bs(s,c=zs,l),ms(c)}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);if(O=qr,w=Yr(),v=O.focusedElem,l=O.selectionRange,w!==v&&v&&v.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(v.ownerDocument.documentElement,v)){null!==l&&Xr(v)&&(w=l.start,void 0===(O=l.end)&&(O=w),"selectionStart"in v?(v.selectionStart=w,v.selectionEnd=Math.min(O,v.value.length)):(O=(w=v.ownerDocument||document)&&w.defaultView||window).getSelection&&(O=O.getSelection(),c=v.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!O.extend&&s>l&&(c=l,l=s,s=c),c=Hr(v,s),h=Hr(v,l),c&&h&&(1!==O.rangeCount||O.anchorNode!==c.node||O.anchorOffset!==c.offset||O.focusNode!==h.node||O.focusOffset!==h.offset)&&((w=w.createRange()).setStart(c.node,c.offset),O.removeAllRanges(),s>l?(O.addRange(w),O.extend(h.node,h.offset)):(w.setEnd(h.node,h.offset),O.addRange(w))))),w=[];for(O=v;O=O.parentNode;)1===O.nodeType&&w.push({element:O,left:O.scrollLeft,top:O.scrollTop});for("function"==typeof v.focus&&v.focus(),v=0;v<w.length;v++)(O=w[v]).element.scrollLeft=O.left,O.element.scrollTop=O.top}qr=null,Er=!!Zr,Zr=null,e.current=r,zs=i;do{try{for(v=n;null!==zs;){var E=zs.effectTag;if(36&E){var T=zs.alternate;switch(O=v,(w=zs).tag){case 0:case 11:case 15:fs(16,32,w);break;case 1:var S=w.stateNode;if(4&w.effectTag)if(null===T)S.componentDidMount();else{var C=w.elementType===w.type?T.memoizedProps:Qi(w.type,T.memoizedProps);S.componentDidUpdate(C,T.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var x=w.updateQueue;null!==x&&bo(0,x,S);break;case 3:var k=w.updateQueue;if(null!==k){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}bo(0,k,s)}break;case 5:var R=w.stateNode;null===T&&4&w.effectTag&&Qr(w.type,w.memoizedProps)&&R.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var P=w.alternate;if(null!==P){var I=P.memoizedState;if(null!==I){var j=I.dehydrated;null!==j&&Ct(j)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&E){w=void 0;var L=zs.ref;if(null!==L){var A=zs.stateNode;switch(zs.tag){case 5:w=A;break;default:w=A}"function"==typeof L?L(w):L.current=w}}zs=zs.nextEffect}}catch(e){if(null===zs)throw Error(a(330));Tl(zs,e),zs=zs.nextEffect}}while(null!==zs);zs=null,Mi(),Rs=o}else e.current=r;if(Ks)Ks=!1,Hs=e,Ys=t;else for(zs=i;null!==zs;)t=zs.nextEffect,zs.nextEffect=null,zs=t;if(0===(t=e.firstPendingTime)&&(Ws=null),1073741823===t?e===qs?Zs++:(Zs=0,qs=e):Zs=0,"function"==typeof xl&&xl(r.stateNode,n),nl(e),Bs)throw Bs=!1,e=Vs,Vs=null,e;return 0!=(8&Rs)?null:(Yi(),null)}function vl(){for(;null!==zs;){var e=zs.effectTag;0!=(256&e)&&ds(zs.alternate,zs),0==(512&e)||Ks||(Ks=!0,Ki(97,(function(){return wl(),null}))),zs=zs.nextEffect}}function wl(){if(90!==Ys){var e=97<Ys?97:Ys;return Ys=90,Wi(e,Ol)}}function Ol(){if(null===Hs)return!1;var e=Hs;if(Hs=null,0!=(48&Rs))throw Error(a(331));var t=Rs;for(Rs|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:fs(128,0,r),fs(0,64,r)}}catch(t){if(null===e)throw Error(a(330));Tl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Rs=t,Yi(),!0}function El(e,t,r){fo(e,t=Es(e,t=us(r,t),1073741823)),null!==(e=tl(e,1073741823))&&nl(e)}function Tl(e,t){if(3===e.tag)El(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){El(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Ws||!Ws.has(n))){fo(r,e=Ts(r,e=us(t,e),1073741823)),null!==(r=tl(r,1073741823))&&nl(r);break}}r=r.return}}function Sl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Ps===e&&js===r?4===Ls||3===Ls&&1073741823===Fs&&zi()-Us<500?ll(e,js):Gs=!0:Dl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,e.finishedExpirationTime===r&&(e.finishedExpirationTime=0,e.finishedWork=null),nl(e)))}function Cl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Js(t=$s(),e,null)),null!==(e=tl(e,t))&&nl(e)}Ss=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)za=!0;else{if(n<r){switch(za=!1,t.tag){case 3:qa(t),Ga();break;case 5:if(Bo(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&wi(t);break;case 4:Uo(t,t.stateNode.containerInfo);break;case 10:no(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?ts(e,t,r):(ci(Wo,1&Wo.current),null!==(t=os(e,t,r))?t.sibling:null);ci(Wo,1&Wo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return is(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Wo,Wo.current),!n)return null}return os(e,t,r)}za=!1}}else za=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=gi(t,pi.current),ao(t,r),i=ca(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ha(),mi(n)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=n.getDerivedStateFromProps;"function"==typeof s&&Eo(t,n,s,e),i.updater=To,t.stateNode=i,i._reactInternalFiber=t,ko(t,n,e,r),t=Za(null,t,n,!0,o,r)}else t.tag=0,Ba(null,t,i,r),t=t.child;return t;case 16:if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Il(e)?1:0;if(null!=e){if((e=e.$$typeof)===W)return 11;if(e===Y)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Ya(null,t,i,e,r);break;case 1:t=Xa(null,t,i,e,r);break;case 11:t=Va(null,t,i,e,r);break;case 14:t=Wa(null,t,i,Qi(i.type,e),n,r);break;default:throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ya(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Xa(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 3:if(qa(t),null===(n=t.updateQueue))throw Error(a(282));if(i=null!==(i=t.memoizedState)?i.element:null,_o(t,n,t.pendingProps,null,r),(n=t.memoizedState.element)===i)Ga(),t=os(e,t,r);else{if((i=t.stateNode.hydrate)&&(ja=tn(t.stateNode.containerInfo.firstChild),Ia=t,i=La=!0),i)for(r=Ao(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Ba(e,t,n,r),Ga();t=t.child}return t;case 5:return Bo(t),null===e&&Ma(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,$r(n,i)?s=null:null!==o&&$r(n,o)&&(t.effectTag|=16),Ha(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ba(e,t,s,r),t=t.child),t;case 6:return null===e&&Ma(t),null;case 13:return ts(e,t,r);case 4:return Uo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Lo(t,null,n,r):Ba(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Va(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 7:return Ba(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,no(t,o=i.value),null!==s){var l=s.value;if(0===(o=qn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=os(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!=(c.observedBits&o)){1===l.tag&&((c=ho(r,null)).tag=2,fo(l,c)),l.expirationTime<r&&(l.expirationTime=r),null!==(c=l.alternate)&&c.expirationTime<r&&(c.expirationTime=r),oo(l.return,r),u.expirationTime<r&&(u.expirationTime=r);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ba(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ao(t,r),n=n(i=so(i,o.unstable_observedBits)),t.effectTag|=1,Ba(e,t,n,r),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Wa(e,t,i,o=Qi(i.type,o),n,r);case 15:return Ka(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(n)?(e=!0,wi(t)):e=!1,ao(t,r),Co(t,n,i),ko(t,n,i,r),Za(null,t,n,!0,e,r);case 19:return is(e,t,r)}throw Error(a(156,t.tag))};var xl=null,kl=null;function Rl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pl(e,t,r,n){return new Rl(e,t,r,n)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jl(e,t){var r=e.alternate;return null===r?((r=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ll(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Il(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case D:return Al(r.children,i,o,t);case V:s=8,i|=7;break;case G:s=8,i|=1;break;case U:return(e=Pl(12,r,t,8|i)).elementType=U,e.type=U,e.expirationTime=o,e;case K:return(e=Pl(13,r,t,i)).type=K,e.elementType=K,e.expirationTime=o,e;case H:return(e=Pl(19,r,t,i)).elementType=H,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case z:s=10;break e;case B:s=9;break e;case W:s=11;break e;case Y:s=14;break e;case X:s=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function Al(e,t,r,n){return(e=Pl(7,e,n,t)).expirationTime=r,e}function Fl(e,t,r){return(e=Pl(6,e,null,t)).expirationTime=r,e}function Ml(e,t,r){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Dl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Gl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ul(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function zl(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Bl(e,t,r,n){var i=t.current,o=$s(),s=wo.suspense;o=Js(o,i,s);e:if(r){t:{if(tt(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var u=r.type;if(mi(u)){r=vi(r,u,l);break e}}r=l}else r=hi;return null===t.context?t.context=r:t.pendingContext=r,(t=ho(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(i,t),el(i,o),o}function Vl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Wl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Kl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}function Hl(e,t,r){var n=new Nl(e,t,r=null!=r&&!0===r.hydrate),i=Pl(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,e[sn]=n.current,r&&0!==t&&function(e){var t=Lr(e);mt.forEach((function(r){Ar(r,e,t)})),yt.forEach((function(r){Ar(r,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Vl(a);s.call(e)}}Bl(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Hl(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Vl(a);l.call(e)}}sl((function(){Bl(t,a,e,i)}))}return Vl(a)}function Zl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ql(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(a(200));return Zl(e,t,null,r)}Hl.prototype.render=function(e,t){Bl(e,this._internalRoot,null,void 0===t?null:t)},Hl.prototype.unmount=function(e){var t=this._internalRoot,r=void 0===e?null:e,n=t.containerInfo;Bl(null,t,null,(function(){n[sn]=null,null!==r&&r()}))},ot=function(e){if(13===e.tag){var t=qi($s(),150,100);el(e,t),Kl(e,t)}},at=function(e){if(13===e.tag){$s();var t=Zi++;el(e,t),Kl(e,t)}},st=function(e){if(13===e.tag){var t=$s();el(e,t=Js(t,e,null)),Kl(e,t)}},ee=function(e,t,r){switch(t){case"input":if(Re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=hn(n);if(!i)throw Error(a(90));Se(n),Re(n,i)}}}break;case"textarea":Me(e,r);break;case"select":null!=(t=r.value)&&Le(e,!!r.multiple,t,!1)}},ae=al,se=function(e,t,r,n){var i=Rs;Rs|=4;try{return Wi(98,e.bind(null,t,r,n))}finally{0===(Rs=i)&&Yi()}},le=function(){0==(49&Rs)&&(function(){if(null!==Xs){var e=Xs;Xs=null,e.forEach((function(e,t){zl(t,e),nl(t)})),Yi()}}(),wl())},ue=function(e,t){var r=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=r)&&Yi()}};var Ql,$l,Jl={createPortal:ql,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=it(t))?null:e.stateNode},hydrate:function(e,t,r){if(!Yl(t))throw Error(a(200));return Xl(null,e,t,!0,r)},render:function(e,t,r){if(!Yl(t))throw Error(a(200));return Xl(null,e,t,!1,r)},unstable_renderSubtreeIntoContainer:function(e,t,r,n){if(!Yl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Xl(e,t,r,!1,n)},unmountComponentAtNode:function(e){if(!Yl(e))throw Error(a(40));return!!e._reactRootContainer&&(sl((function(){Xl(null,null,e,!1,(function(){e._reactRootContainer=null,e[sn]=null}))})),!0)},unstable_createPortal:function(){return ql.apply(void 0,arguments)},unstable_batchedUpdates:al,flushSync:function(e,t){if(0!=(48&Rs))throw Error(a(187));var r=Rs;Rs|=1;try{return Wi(99,e.bind(null,t))}finally{Rs=r,Yi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[un,cn,hn,I.injectEventPluginsByName,p,Lt,function(e){x(e,jt)},ie,oe,Rr,P,wl,{current:!1}]}};$l=(Ql={findFiberByHostInstance:ln,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},kl=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}}(i({},Ql,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=it(e))?null:e.stateNode},findFiberByHostInstance:function(e){return $l?$l(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var eu={default:Jl},tu=eu&&Jl||eu;e.exports=tu.default||tu},function(e,t,r){"use strict";e.exports=r(305)},function(e,t,r){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n,i,o,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(c,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,d=window.Date,f=window.setTimeout,g=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof p&&"function"==typeof p.now)t.unstable_now=function(){return p.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var _=!1,b=null,v=-1,w=5,O=0;a=function(){return t.unstable_now()>=O},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,T=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();O=e+w;try{b(!0,e)?T.postMessage(null):(_=!1,b=null)}catch(e){throw T.postMessage(null),e}}else _=!1},n=function(e){b=e,_||(_=!0,T.postMessage(null))},i=function(e,r){v=f((function(){e(t.unstable_now())}),r)},o=function(){g(v),v=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=Math.floor((r-1)/2),i=e[n];if(!(void 0!==i&&0<k(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,r))void 0!==l&&0>k(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>k(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function k(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var R=[],P=[],I=1,j=null,L=3,A=!1,F=!1,M=!1;function N(e){for(var t=C(P);null!==t;){if(null===t.callback)x(P);else{if(!(t.startTime<=e))break;x(P),t.sortIndex=t.expirationTime,S(R,t)}t=C(P)}}function D(e){if(M=!1,N(e),!F)if(null!==C(R))F=!0,n(G);else{var t=C(P);null!==t&&i(D,t.startTime-e)}}function G(e,r){F=!1,M&&(M=!1,o()),A=!0;var n=L;try{for(N(r),j=C(R);null!==j&&(!(j.expirationTime>r)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,L=j.priorityLevel;var l=s(j.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?j.callback=l:j===C(R)&&x(R),N(r)}else x(R);j=C(R)}if(null!==j)var u=!0;else{var c=C(P);null!==c&&i(D,c.startTime-r),u=!1}return u}finally{j=null,L=n,A=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=L;L=e;try{return t()}finally{L=r}},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var r=L;L=t;try{return e()}finally{L=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:I++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(P,e),null===C(R)&&e===C(P)&&(M?o():M=!0,i(D,l-s))):(e.sortIndex=a,S(R,e),F||A||(F=!0,n(G))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=L;return function(){var r=L;L=t;try{return e.apply(this,arguments)}finally{L=r}}},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_shouldYield=function(){var e=t.unstable_now();N(e);var r=C(R);return r!==j&&null!==j&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<j.expirationTime||a()},t.unstable_requestPaint=z,t.unstable_continueExecution=function(){F||A||(F=!0,n(G))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return C(R)},t.unstable_Profiling=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterAddressInput=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(307),l=r(265),u=r(309),c=r(310);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterAddressInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.router||console.warn("The routing component needs a router, it won't work correctly since none was passed..."),r.state={router:e.router},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e,t=this,r=this,n="";this.props.detailsEnabled&&"route"===this.props.mode&&(n=Object.keys(this.props.overSettings.overPoints).map((function(e){return a.default.createElement(s.RouterAddressField,{className:"c4g-router-input-over-"+e,name:"overPoint-"+e,label:"Zwischenziel",cssId:"routingOver-"+e,objFunctions:t.props.overSettings.objFunctions,objSettings:t.props.objSettings,containerAddresses:t.props.containerAddresses,value:t.props.overSettings.overAddresses[e],router:t.props.router,key:e,index:e,clearInput:function(){t.props.overSettings.objFunctions[e].deleteFunction()}})})));var i="",o="",h="";"route"===this.props.mode?h=" invisible":(i=" invisible",o=" invisible"),e=a.default.createElement(a.default.Fragment,null,a.default.createElement(s.RouterAddressField,{className:"c4g-router-input-from"+i,name:"routingFrom",label:"Start",cssId:"routingFrom",objFunctions:this.props.objFunctions.fromFunctions,objSettings:this.props.objSettings,clearInput:this.props.resetFunctions.from,containerAddresses:this.props.containerAddresses,withPosition:this.props.withPosition,value:this.props.fromAddress,router:this.props.router}),n,a.default.createElement(s.RouterAddressField,{className:"c4g-router-input-to"+o,name:"routingTo",label:"Ziel",cssId:"routingTo",objFunctions:this.props.objFunctions.toFunctions,objSettings:this.props.objSettings,clearInput:this.props.resetFunctions.to,containerAddresses:this.props.containerAddresses,withPosition:this.props.withPosition,value:this.props.toAddress,router:this.props.router}),a.default.createElement(s.RouterAddressField,{className:"c4g-router-input-area"+h,name:"areaFrom",label:"Zentrum",cssId:"areaInput",objFunctions:this.props.objFunctions.areaFunctions,objSettings:this.props.objSettings,clearInput:this.props.resetFunctions.area,containerAddresses:this.props.containerAddresses,withPosition:this.props.withPosition,value:this.props.areaAddress,router:this.props.router}));var p="",d="";this.props.switchTargets&&(d=a.default.createElement("button",{className:"c4g-router-switch",onMouseUp:function(){r.props.overSettings.swapFunction();var e=jQuery("#routingFrom").val();jQuery("#routingFrom").val(jQuery("#routingTo").val()),jQuery("#routingTo").val(e)}}));var f="";this.props.enableOverPoints&&(f=a.default.createElement("button",{className:"c4g-router-over",onMouseUp:this.props.overSettings.overFunction}));var g="";return this.props.router.props.mapController.data.showFeatures&&(g=a.default.createElement(a.default.Fragment,null,a.default.createElement(l.RouterProfileSelection,{profiles:this.props.profiles,router:this.props.router,currentProfile:this.props.currentProfile}),a.default.createElement(u.RouterLayerSelection,{layers:this.props.layers,router:this.props.router,activeLayerValue:"route"===this.props.router.state.mode?this.props.router.state.layerValueRoute:this.props.router.state.layerValueArea}),a.default.createElement(c.RouterDetourSlider,{min:this.props.sliderOptions.min,max:this.props.sliderOptions.max,value:this.props.sliderOptions.value,router:this.props.sliderOptions.router}))),this.props.detailsEnabled&&"route"===this.props.mode?p=a.default.createElement("div",{className:"buttonbar"},f,d,g):this.props.detailsEnabled&&"area"===this.props.mode&&(p=a.default.createElement("div",{className:"buttonbar"},g)),a.default.createElement("div",{className:this.props.className},e,p)}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterAddressField=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(308);r(190);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterAddressField=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.getPosition=r.getPosition.bind(r),r.removeContent=r.removeContent.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=null;return this.props.withPosition&&(e=a.default.createElement("button",{className:"c4g-router-position",onMouseUp:this.getPosition})),a.default.createElement("div",{className:this.props.className},a.default.createElement("label",{htmlFor:this.props.name},this.props.label),a.default.createElement(s.AutocompleteInput,{type:"search",className:this.props.class,name:this.props.name,cssId:this.props.cssId,objFunctions:this.props.objFunctions,objSettings:this.props.objSettings,popup:this.props.popup,containerAddresses:this.props.containerAddresses,autoComplete:"off",router:this.props.router,value:this.props.value,index:this.props.index}),e,a.default.createElement("button",{className:"c4g-router-input-clear",onMouseUp:this.removeContent}))}},{key:"removeContent",value:function(e){jQuery("#"+this.props.cssId).val(""),this.props.clearInput(e)}},{key:"getPosition",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.handlePosition(t)})):console.warn("The geolocation API is not available in your browser. Consider updating it or switching to a newer browser.")}},{key:"handlePosition",value:function(e){var t=e.coords;"routingFrom"===this.props.name?this.props.router.setRouteFrom(t.longitude,t.latitude):"overValue"===this.props.name||"routingTo"===this.props.name&&this.props.router.setRouteTo(t.longitude,t.latitude),"areaFrom"===this.props.name&&this.props.router.setAreaPoint(t.longitude,t.latitude),this.props.router.recalculateRoute()}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteInput=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n};
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.AutocompleteInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.listenerRegistered=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this;return a.default.createElement("input",{id:this.props.cssId,type:"search",defaultValue:this.props.value,onKeyDown:function(t,r){13===t.keyCode?function(){var t=$("#"+e.props.cssId);t.trigger("change");var r=void 0;r=-1!==e.props.cssId.indexOf("area")?function(){e.props.router.performArea()}:function(){e.props.router.performViaRoute()};var n=-1!==e.props.cssId.indexOf("From")?"fromValue":"toValue";e.props.router.performSearch(t,n,r)}():0!==$(t.currentTarget).val().length||t.keyCode?(e.counter=Math.floor(Date.now()),setTimeout((function(){e.counter&&e.counter+400<Math.floor(Date.now())&&(delete e.counter,e.autocompleteAddress($("#"+e.props.cssId).val(),"#"+e.props.cssId))}),500)):"function"==typeof e.props.objFunctions.deleteFunction?e.props.objFunctions.deleteFunction(t.currentTarget,t.currentTarget.id):e.props.objFunctions[e.props.index].deleteFunction(t.currentTarget,t.currentTarget.id)},autoComplete:"off"})}},{key:"componentDidUpdate",value:function(){var e=this,t=void 0;-1!==this.props.cssId.indexOf("From")?t=this.props.containerAddresses.arrFromNames:-1!==this.props.cssId.indexOf("To")?t=this.props.containerAddresses.arrToNames:-1!==this.props.cssId.indexOf("Over")?t=this.props.containerAddresses.arrOverNames[this.props.index]:-1!==this.props.cssId.indexOf("area")&&(t=this.props.containerAddresses.arrAreaNames);var r=jQuery("#"+this.props.cssId);r.autocomplete({source:t}),this.listenerRegistered||(r.on("autocompleteselect",(function(t,r){e.props.index?e.props.objFunctions[e.props.index].selectListener(t,r):e.props.objFunctions.selectListener(t,r)})),this.listenerRegistered=!0)}},{key:"setCenter",value:function(e){this.objSettings.center=e}},{key:"autocompleteAddress",value:function(e,t){var r=this,n=r.props.objSettings,i=void 0;if(n.center)if("function"==typeof n.center){var o=n.center();i=o[0]+","+o[1]}else i=n.center[0]+","+n.center[1];else n.bBox&&(i=(parseFloat(n.bBox[0])+parseFloat(n.bBox[2]))/2+","+(parseFloat(n.bBox[1])+parseFloat(n.bBox[3]))/2);var a=void 0;if(a=i?n.proxyUrl+"autocomplete.php?format=json&key="+n.keyAutocomplete+"&q="+e+"&center="+i:n.proxyUrl+"autocomplete.php?format=json&key="+n.keyAutocomplete+"&q="+e,n.geosearchParams)for(var s in n.geosearchParams)n.geosearchParams.hasOwnProperty(s)&&(a+="&"+s+"="+n.geosearchParams[s]);$.ajax({url:a}).done((function(e){var i=void 0;if(n.center?i=n.center:n.bBox&&(i=[(parseFloat(n.bBox[0])+parseFloat(n.bBox[2]))/2,(parseFloat(n.bBox[1])+parseFloat(n.bBox[3]))/2]),e.length>0){if(e[0]&&e[0].display_name&&i){var o=[];for(var a in e)if(e.hasOwnProperty(a)&&n.bBox&&n.bBox[0]&&r.isInBoundingBox(e[a].lon,e[a].lat,n.bBox)){var s={dist:Math.sqrt((i[0]-e[a].lon)*(i[0]-e[a].lon)+(i[1]-e[a].lat)*(i[1]-e[a].lat)),pos:[e[a].lat,e[a].lon],name:e[a].display_name};o.push(s)}for(var l in o.sort((function(e,t){return e.dist-t.dist})),o)o.hasOwnProperty(l)&&(-1!==t.indexOf("from")?r.props.containerAddresses.arrFromNames.includes(o[l].name)||(r.props.containerAddresses.arrFromNames.push(o[l].name),r.props.containerAddresses.arrFromPositions.push(o[l].pos)):-1!==t.indexOf("to")?r.props.containerAddresses.arrToNames.includes(o[l].name)||(r.props.containerAddresses.arrToNames.push(o[l].name),r.props.containerAddresses.arrToPositions.push(o[l].pos)):-1!==t.indexOf("over")?r.props.containerAddresses.arrOverNames[r.props.index].includes(o[l].name)||(r.props.containerAddresses.arrOverNames[r.props.index].push(o[l].name),r.props.containerAddresses.arrOverPositions[r.props.index].push(o[l].pos)):-1!==t.indexOf("area")?r.props.containerAddresses.arrAreaNames.includes(o[l].name)||(r.props.containerAddresses.arrAreaNames.push(o[l].name),r.props.containerAddresses.arrAreaPositions.push(o[l].pos)):console.log("This is weird ¯\\_(ツ)_/¯"));var u=jQuery.Event("keydown",{keyCode:8});$(t).trigger(u)}for(var c in e)e.hasOwnProperty(c)&&(-1!==t.indexOf("From")?r.props.containerAddresses.arrFromNames.includes(e[c].display_name)||(r.props.containerAddresses.arrFromNames.push(e[c].display_name),r.props.containerAddresses.arrFromPositions.push([e[c].lat,e[c].lon])):-1!==t.indexOf("To")?r.props.containerAddresses.arrToNames.includes(e[c].display_name)||(r.props.containerAddresses.arrToNames.push(e[c].display_name),r.props.containerAddresses.arrToPositions.push([e[c].lat,e[c].lon])):-1!==t.indexOf("Over")?r.props.containerAddresses.arrOverNames[r.props.index].includes(e[c].display_name)||(r.props.containerAddresses.arrOverNames[r.props.index].push(e[c].display_name),r.props.containerAddresses.arrOverPositions[r.props.index].push([e[c].lat,e[c].lon])):-1!==t.indexOf("area")?r.props.containerAddresses.arrAreaNames.includes(e[c].display_name)||(r.props.containerAddresses.arrAreaNames.push(e[c].display_name),r.props.containerAddresses.arrAreaPositions.push([e[c].lat,e[c].lon])):console.log("This is weird ¯\\_(ツ)_/¯"));r.props.router.setState({containerAddresses:r.props.containerAddresses});var h=jQuery.Event("keydown",{keyCode:8});$(t).trigger(h)}}))}},{key:"isInBoundingBox",value:function(e,t,r){return"string"==typeof e&&(e=parseFloat(e)),"string"==typeof t&&(t=parseFloat(t)),r[0]<e&&e<r[2]&&r[1]<t&&t<r[3]}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterLayerSelection=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n};
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterLayerSelection=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setLayer=r.setLayer.bind(r),r.setLayerValue=r.setLayerValue.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setLayer",value:function(e){var t=e.target.value;this.props.router.setLayer(parseInt(t,10))}},{key:"setLayerValue",value:function(e){var t=e.target.value;this.props.router.setLayerValue(t)}},{key:"render",value:function(){var e=this,t=0;"route"===this.props.router.state.mode?t=this.props.router.state.layerRoute:"area"===this.props.router.state.mode&&(t=this.props.router.state.layerArea);var r=this.props.router.props.mapController.proxy.layerController.arrLayers,n="";return Object.keys(this.props.layers[t]).length>1&&(n=a.default.createElement("div",{className:"c4g-router-layer-value-selection"},Object.keys(this.props.layers[t]).map((function(r){return a.default.createElement("button",{className:e.props.activeLayerValue===r?"c4g-active":"c4g-inactive",onMouseUp:e.setLayerValue,key:e.props.layers[t][r].mapLabel,value:r},r)})))),Object.keys(this.props.layers).length>1?a.default.createElement(a.default.Fragment,null,a.default.createElement("select",{className:"c4g-router-layer-selection",onChange:this.setLayer,defaultValue:t},Object.keys(this.props.layers).map((function(e){var t=r[e];return a.default.createElement("option",{key:e,value:e},t.name)}))),n):a.default.createElement(a.default.Fragment,null,n)}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterDetourSlider=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(253);r(201);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterDetourSlider=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=jQuery("."+s.routingConstants.ROUTE_TOGGLE);t.on("input",(function(){var t=jQuery(this),r=t.attr("max")-t.attr("min"),n=(t.val()-t.attr("min"))/r*100,i=Math.round(50*n/100)-25;t.next("output").css("left","calc("+n+"% - "+i+"px)").text(t.val()+" km"),e.props.router.props.mapController.data.usePermalink&&e.props.router.permalink.updateLinkFragments("detour",t.val())})),t.on("change",(function(){"route"===e.props.router.state.mode?e.props.router.setState({detourRoute:t.val()},e.props.router.recalculateRoute):e.props.router.setState({detourArea:t.val()},(function(){e.props.router.performArea(e.props.router.state.areaValue)}))})),t.trigger("input")}},{key:"render",value:function(){return a.default.createElement("div",null,a.default.createElement("p",null,"Umweg"),a.default.createElement("input",{type:"range",className:s.routingConstants.ROUTE_TOGGLE,min:this.props.min,max:this.props.max,defaultValue:this.props.value,step:.5}),a.default.createElement("output",{className:s.routingConstants.OUTPUT_DETOUR},this.props.value+" km"))}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterResultContainer=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(312),l=r(314),u=r(255),c=r(266);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterResultContainer=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setResultInstr=r.setResultInstr.bind(r),r.setResultFeat=r.setResultFeat.bind(r),r.clickControl=r.clickControl.bind(r),r.state={mode:"instr"},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setResultInstr",value:function(e){e.stopPropagation(),this.setState({mode:"instr"})}},{key:"setResultFeat",value:function(e){e.stopPropagation(),this.setState({mode:"feat"})}},{key:"render",value:function(){var e=this,t="";this.props.detailOpen&&("instr"===this.state.mode&&this.props.routerInstructions&&"route"===this.props.mode?t=a.default.createElement(s.RouterInstructionsContainer,{className:"c4g-route-instructions-wrapper",mapController:this.props.mapController,routerInstructions:this.props.routerInstructions,routerWaySource:this.props.routerWaySource,routerHintSource:this.props.routerHintSource,open:this.props.open}):("feat"===this.state.mode||"area"===this.props.mode||!this.props.routerInstructions&&this.props.featureList)&&(t=a.default.createElement(l.RouterFeatureList,{className:"c4g-route-feature-wrapper",activeId:this.props.activeId,setActiveId:this.props.setActiveId,routeMode:this.props.mode,layerRoute:this.props.layerRoute,layerArea:this.props.layerArea,featureList:this.props.featureList,mapController:this.props.mapController,featureSource:this.props.featureSource,layerValueRoute:this.props.layerValueRoute,layerValueArea:this.props.layerValueArea})));var r=[],n="",i="",o="",h="",p="";this.props.routerInstructions&&this.props.routerInstructions.instructions&&"route"===this.props.mode?(r=this.props.routerInstructions.instructions,n=(0,u.toHumanTime)(this.props.routerInstructions.time),i=(0,u.toHumanDistance)(this.props.routerInstructions.distance),o=this.props.routerInstructions.instructions[0].travel_type):this.props.featureList&&"area"===this.props.mode&&(o=this.props.profile,h=this.props.detour,p=this.props.featureList.features.length);var d="",f="";if(n&&i&&o&&"route"===this.props.mode?f=a.default.createElement("div",{className:"c4g-router-instructions-header"},a.default.createElement("div",{className:"c4g-router-route-profile"},a.default.createElement("label",null,this.props.lang.ROUTER_VIEW_LABEL_PROFILE),a.default.createElement("em",null,o)),a.default.createElement("div",{className:"c4g-router-route-time"},a.default.createElement("label",null,this.props.lang.ROUTER_VIEW_LABEL_TIME),a.default.createElement("em",null,n)),a.default.createElement("div",{className:"c4g-router-route-distance"},a.default.createElement("label",null,this.props.lang.ROUTER_VIEW_LABEL_DISTANCE),a.default.createElement("em",null,i))):h&&p&&o&&"area"===this.props.mode&&(f=a.default.createElement("div",{className:"c4g-router-instructions-header"},a.default.createElement("div",{className:"c4g-router-area-profile"},a.default.createElement("label",null,this.props.lang.AREA_PROFILE,":"),a.default.createElement("em",null,o)),a.default.createElement("div",{className:"c4g-router-area-detour"},a.default.createElement("label",null,this.props.lang.AREA_DETOUR,":"),a.default.createElement("em",null,h," km")),a.default.createElement("div",{className:"c4g-router-area-featurecount"},a.default.createElement("label",null,this.props.lang.AREA_FEATURECOUNT,":"),a.default.createElement("em",null,p)))),f){var g=this.props.toggleDetailOpen;d=a.default.createElement(c.Titlebar,{wrapperClass:"c4g-router-results-header c4g-beach-header",header:this.props.headline,headerClass:"c4g-router-results-headline c4g-beach-header-headline",detailBtnClass:"c4g-beach-options",detailBtnCb:g,closeBtnClass:"c4g-titlebar-close",closeBtnCb:function(){return e.props.setOpen(!1)}},f)}var m="";return(r.length>0||this.props.featureList.features.length>0)&&this.props.detailOpen&&"route"===this.props.mode&&(m=a.default.createElement("div",{className:"c4g-router-mode-switch"},a.default.createElement("button",{id:"c4g-router-button-route",onMouseUp:this.setResultInstr},"Instructions"),a.default.createElement("button",{id:"c4g-router-button-area",onMouseUp:this.setResultFeat},"Features"))),a.default.createElement("div",{className:this.props.className+(this.props.open?" c4g-open":" c4g-close")+(this.props.detailOpen&&this.props.open?" c4g-details-open":"")},d,m,t)}},{key:"componentDidUpdate",value:function(){var e=this.props.className+(this.props.open?" c4g-open":" c4g-close"),t=document.getElementsByClassName(e)[0],r=document.querySelector(".c4g-router-panel.c4g-open");r&&(r=r[0]);var n=document.querySelector(".c4g_map")[0];t&&r&&t.offsetHeight+r.offsetHeight+84>n.offsetHeight&&(t.style.height=n.offsetHeight-r.offsetHeight),"area"===this.props.mode&&"feat"!==this.state.mode&&this.setState({mode:"feat"})}},{key:"open",value:function(){this.props.setOpen(!0)}},{key:"close",value:function(){this.props.setOpen(!1)}},{key:"clickControl",value:function(){this.props.open?this.close():this.open()}},{key:"slideInCollidingElements",value:function(){}},{key:"slideOutCollidingElements",value:function(){}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterInstructionsContainer=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(313);r(255);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterInstructionsContainer=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=[];return this.props.routerInstructions&&this.props.routerInstructions.instructions&&(t=this.props.routerInstructions.instructions),0===t.length?"":a.default.createElement("div",{className:this.props.className},t.map((function(t,r){return a.default.createElement(s.RouterInstruction,{imgPath:t.type,instrText:t.instruction,instrDist:t.length,key:r,id:r,mapController:e.props.mapController,dataStart:t.begin_shape_index,dataEnd:t.end_shape_index,routerWaySource:e.props.routerWaySource,routerHintSource:e.props.routerHintSource})})))}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterInstruction=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(255),l=r(256),u=r(190),c=r(3),h=r(202);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link              https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterInstruction=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.fnItemClick=function(){if(this.props.routerWaySource&&this.props.routerWaySource.getFeatures()){this.props.routerHintSource.clear();var e=this.props.routerWaySource.getFeatures()[0].getGeometry().getCoordinates(),t=this.props.dataPos;if(t){var r=t.split(",");r[0]=parseFloat(r[0]),r[1]=parseFloat(r[1]);var n=(0,c.fromLonLat)(r),i=new l.Feature({geometry:new u.Point(n)});this.props.routerHintSource.addFeature(i),this.props.options.mapController.map.getView().setCenter(n)}else if(e&&this.props.dataStart&&this.props.dataEnd){var o=new u.LineString(e.slice(this.props.dataStart,this.props.dataEnd)),a=new l.Feature({geometry:o});a.setStyle(new h.Style({stroke:new h.Stroke({color:"rgba(255, 0, 0, 1)",width:20})}));var s=this.props.mapController.map.getView().getZoom();this.props.routerHintSource.addFeature(a),this.props.mapController.map.getView().fit(o);var p=this.props.mapController.map.getView().getZoom(),d=Math.round((s+p)/2);d=d>p?p:d,this.props.mapController.map.getView().setZoom(d)}}},r.fnItemOver=function(){if(this.props.routerWaySource&&this.props.routerWaySource.getFeatures()){var e=this.props.routerWaySource.getFeatures()[0];if(e){this.props.routerHintSource.clear();var t=this.props.dataPos;if(t){var r=t.split(",");r[0]=parseFloat(r[0]),r[1]=parseFloat(r[1]);var n=(0,c.fromLonLat)(r),i=new l.Feature({geometry:new u.Point(n)});this.props.routerHintSource.addFeature(i)}else if(this.props.dataStart&&this.props.dataEnd){var o=e.getGeometry().getCoordinates();if(o){var a=new l.Feature({geometry:new u.LineString(o.slice(this.props.dataStart,this.props.dataEnd))});a.setStyle(new h.Style({stroke:new h.Stroke({color:"rgba(255, 0, 0, 1)",width:15})})),this.props.routerHintSource.addFeature(a)}}}}},r.fnItemOut=function(){this.props.routerHintSource.clear()},r.fnItemOver=r.fnItemOver.bind(r),r.fnItemClick=r.fnItemClick.bind(r),r.fnItemOut=r.fnItemOut.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return a.default.createElement("div",{className:"c4g-router-instruction",onMouseUp:this.fnItemClick,onMouseLeave:this.fnItemOut,onMouseEnter:this.fnItemOver,key:this.props.id},a.default.createElement("div",null,a.default.createElement("img",{src:this.getInstructionIconValhalla(this.props.imgPath),alt:""})),a.default.createElement("div",null,this.props.instrText),a.default.createElement("div",{className:"c4g-router-instruction-distance"},(0,s.toHumanDistance)(1e3*this.props.instrDist)))}},{key:"getInstructionIconValhalla",value:function(e){var t=void 0;switch(e){case 0:t="default.png";break;case 1:case 2:case 3:t="head.png";break;case 4:case 5:case 6:t="target.png";break;case 7:case 8:t="continue.png";break;case 9:t="slight-right.png";break;case 10:t="turn-right.png";break;case 11:t="sharp-right.png";break;case 12:case 13:t="u-turn.png";break;case 14:t="sharp-left.png";break;case 15:t="turn-left.png";break;case 16:t="slight-left.png";break;case 17:t="continue.png";break;case 18:t="slight-right.png";break;case 19:t="slight-left.png";break;case 20:t="slight-right.png";break;case 21:t="slight-left.png";break;case 22:t="continue.png";break;case 23:t="slight-right.png";break;case 24:t="slight-left.png";break;case 25:t="continue.png";break;case 26:case 27:t="round-about.png";break;default:t="default.png"}return"bundles/con4gismaps/vendor/osrm/images/"+t}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterFeatureList=void 0;var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(92),a=(n=o)&&n.__esModule?n:{default:n},s=r(315);
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    con4gis contributors (see "authors.txt")
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	    Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link            https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterFeatureList=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.setActiveId=r.setActiveId.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"setActiveId",value:function(e){this.setState({activeId:e})}},{key:"render",value:function(){var e=this,t=this.sortFeatures();return a.default.createElement("div",{className:this.props.className},a.default.createElement("ul",null,t.map((function(t,r){return a.default.createElement(s.RouterFeatureListItem,{feature:t,type:e.props.featureList.type,active:e.props.activeId==t.id,setActiveId:e.props.setActiveId,routeMode:e.props.routeMode,mapController:e.props.mapController,layerRoute:e.props.layerRoute,layerArea:e.props.layerArea,featureSource:e.props.featureSource,key:r,layerValueRoute:e.props.layerValueRoute,layerValueArea:e.props.layerValueArea})}))))}},{key:"sortFeatures",value:function(){var e=this.props.mapController.data.routerLayers,t="area"===this.props.routeMode?this.props.layerArea:this.props.layerRoute,r="area"===this.props.routeMode?this.props.layerValueArea:this.props.layerValueRoute,n=e[t][r].mapLabel;return[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this.props.featureList.features)).sort((function(e,t){var r=e,i=t;return e.tags&&t.tags&&(r=e.tags,i=t.tags),isNaN(r[n])?r[n]<i[n]?-1:1:r[n]-i[n]}))}}]),t}(o.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterFeatureListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(92),o=h(i),a=(h(r(190)),r(168)),s=(r(3),c(r(251))),l=c(r(257)),u=r(201);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}
/*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of con4gis,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the gis-kit for Contao CMS.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @package   	con4gis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @version        6
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author  	    ¯\_(ツ)_/¯
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @license 	    LGPL-3.0-or-later
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @copyright 	    Küstenschmiede GmbH Software & Design
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @link            https://www.con4gis.org
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
t.RouterFeatureListItem=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.popupFunctions="de"===e.mapController.data.lang?s:l,r.clickFeature=r.clickFeature.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"clickFeature",value:function(e){var t=this;t.props.setActiveId(t.props.feature.id),t.props.featureSource.forEachFeature((function(e){var r=void 0;if("area"===t.props.routeMode?r=t.props.mapController.proxy.layerController.arrLayers[t.props.layerArea]:"route"===t.props.routeMode&&(r=t.props.mapController.proxy.layerController.arrLayers[t.props.layerRoute]),e.get("tid")===t.props.feature.id){var n=t.props.mapController.data.clickLocstyle;if(n)if(t.props.mapController.proxy.locationStyleController.arrLocStyles[n]){var i=t.props.mapController.proxy.locationStyleController.arrLocStyles[n].style;e.setStyle(i),"Polygon"==e.getGeometry().getType()?t.props.mapController.map.getView().fit(e.getGeometry().getExtent()):t.props.mapController.map.getView().setCenter(e.getGeometry().getCoordinates())}else t.props.mapController.proxy.locationStyleController.loadLocationStyles([n],{done:function(){var r=t.props.mapController.proxy.locationStyleController.arrLocStyles[n].style;t.mapSelectInteraction.getFeatures().forEach((function(t,n,i){t===e&&e.setStyle(r)}))}})}else{e.setStyle(t.props.mapController.proxy.locationStyleController.arrLocStyles[r.locstyle].style)}})),jQuery(this).parent().children("li").each((function(e,t){jQuery(t).addClass(a.cssConstants.INACTIVE).removeClass(a.cssConstants.ACTIVE)})),jQuery(this).addClass(a.cssConstants.ACTIVE).removeClass(a.cssConstants.INACTIVE)}},{key:"render",value:function(){var e=this,t=null;this.props.featureSource.forEachFeature((function(r){r.get("tid")===e.props.feature.id&&(t=r)}));var r="",n=null;if(t){if("overpass"===this.props.type)r=this.popupFunctions.fnStandardInfoPopup(t,t.getStyle());else if("notOverpass"===this.props.type);else{var i="route"===this.props.routeMode?this.props.layerValueRoute:this.props.layerValueArea;n={entry:"",feature:this.props.feature,labels:["name"],activeLayerValue:i},u.utils.callHookFunctions(window.c4gMapsHooks.routePluginEntry,n),r=n.entry}var a={__html:r+"<br>"};return o.default.createElement("li",{dangerouslySetInnerHTML:a,className:this.props.active?"route-features-list-element c4g-active":"route-features-list-element c4g-inactive",onMouseUp:this.clickFeature})}return null}}]),t}(i.Component)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLanguage=
/*
 * This file is part of con4gis,
 * the gis-kit for Contao CMS.
 *
 * @package   	con4gis
 * @version        6
 * @author  	    con4gis contributors (see "authors.txt")
 * @license 	    LGPL-3.0-or-later
 * @copyright 	Küstenschmiede GmbH Software & Design
 * @link              https://www.con4gis.org
 *
 */
function(e){if(void 0!==e)switch(e.lang){case"de":return n.routingConstantsGerman;case"en":default:return i.routingConstantsEnglish}};var n=r(259),i=r(258)},function(e,t,r){var n=r(318),i=r(321),o={};function a(e,t){return(e.version||t.version)&&e.version!==t.version?(+e.version||0)>(+t.version||0)?e:t:n.merge(e,t)}r(324).forEach((function(e){if("all"===e.polygon)o[e.key]=!0;else{var t="whitelist"===e.polygon?"included_values":"excluded_values",r={};e.values.forEach((function(e){r[e]=!0})),o[e.key]={},o[e.key][t]=r}}));var s;function l(e){for(var t,r,n,i,o,a,s=function(e){return e[0]},l=function(e){return e[e.length-1]},u=function(e,t){return void 0!==e&&void 0!==t&&e.id===t.id},c=[];e.length;)for(t=e.pop().nodes.slice(),c.push(t);e.length&&!u(s(t),l(t));){for(r=s(t),n=l(t),i=0;i<e.length;i++){if(u(n,s(a=e[i].nodes))){o=t.push,a=a.slice(1);break}if(u(n,l(a))){o=t.push,a=a.slice(0,-1).reverse();break}if(u(r,l(a))){o=t.unshift,a=a.slice(0,-1);break}if(u(r,s(a))){o=t.unshift,a=a.slice(1).reverse();break}a=o=null}if(!a)break;e.splice(i,1),o.apply(t,a)}return c}(s=function(e,t,r){return t=n.merge({verbose:!1,flatProperties:!0,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:o,deduplicator:a},t),"undefined"!=typeof XMLDocument&&e instanceof XMLDocument||"undefined"==typeof XMLDocument&&e.childNodes?function(e){var t,r,i=new Array,o=new Array,a=new Array;function l(e,t,r){e.hasAttribute(r)&&(t[r]=e.getAttribute(r))}function u(e,t){var r=n.clone(e);l(t,r,"lat"),l(t,r,"lon"),r.__is_center_placeholder=!0,i.push(r)}function c(e,t){var r=n.clone(e);function a(e,t,n){var o={type:"node",id:"_"+r.type+"/"+r.id+"bounds"+n,lat:e,lon:t};r.nodes.push(o.id),i.push(o)}r.nodes=[],a(t.getAttribute("minlat"),t.getAttribute("minlon"),1),a(t.getAttribute("maxlat"),t.getAttribute("minlon"),2),a(t.getAttribute("maxlat"),t.getAttribute("maxlon"),3),a(t.getAttribute("minlat"),t.getAttribute("maxlon"),4),r.nodes.push(r.nodes[0]),r.__is_bounds_placeholder=!0,o.push(r)}return n.each(e.getElementsByTagName("node"),(function(e,t){var r={};n.each(e.getElementsByTagName("tag"),(function(e){r[e.getAttribute("k")]=e.getAttribute("v")}));var o={type:"node"};l(e,o,"id"),l(e,o,"lat"),l(e,o,"lon"),l(e,o,"version"),l(e,o,"timestamp"),l(e,o,"changeset"),l(e,o,"uid"),l(e,o,"user"),n.isEmpty(r)||(o.tags=r),i.push(o)})),n.each(e.getElementsByTagName("way"),(function(e,a){var s={},h=[];n.each(e.getElementsByTagName("tag"),(function(e){s[e.getAttribute("k")]=e.getAttribute("v")}));var p=!1;n.each(e.getElementsByTagName("nd"),(function(e,t){var r;(r=e.getAttribute("ref"))&&(h[t]=r),!p&&e.getAttribute("lat")&&(p=!0)}));var d={type:"way"};l(e,d,"id"),l(e,d,"version"),l(e,d,"timestamp"),l(e,d,"changeset"),l(e,d,"uid"),l(e,d,"user"),h.length>0&&(d.nodes=h),n.isEmpty(s)||(d.tags=s),(t=e.getElementsByTagName("center")[0])&&u(d,t),p?function(e,t){n.isArray(e.nodes)||(e.nodes=[],n.each(t,(function(t,r){e.nodes.push("_anonymous@"+t.getAttribute("lat")+"/"+t.getAttribute("lon"))})));n.each(t,(function(t,r){var n,o,a,s;t.getAttribute("lat")&&(n=t.getAttribute("lat"),o=t.getAttribute("lon"),a=e.nodes[r],s={type:"node",id:a,lat:n,lon:o},i.push(s))}))}(d,e.getElementsByTagName("nd")):(r=e.getElementsByTagName("bounds")[0])&&c(d,r),o.push(d)})),n.each(e.getElementsByTagName("relation"),(function(e,s){var h={},p=[];n.each(e.getElementsByTagName("tag"),(function(e){h[e.getAttribute("k")]=e.getAttribute("v")}));var d=!1;n.each(e.getElementsByTagName("member"),(function(e,t){p[t]={},l(e,p[t],"ref"),l(e,p[t],"role"),l(e,p[t],"type"),(!d&&"node"==p[t].type&&e.getAttribute("lat")||"way"==p[t].type&&e.getElementsByTagName("nd").length>0)&&(d=!0)}));var f={type:"relation"};l(e,f,"id"),l(e,f,"version"),l(e,f,"timestamp"),l(e,f,"changeset"),l(e,f,"uid"),l(e,f,"user"),p.length>0&&(f.members=p),n.isEmpty(h)||(f.tags=h),(t=e.getElementsByTagName("center")[0])&&u(f,t),d?function(e,t){function r(e,t){if(!o.some((function(e){return"way"==e.type&&e.id==t}))){var r={type:"way",id:t,nodes:[]};n.each(e,(function(e){var t,n,o;e.getAttribute("lat")?(t=e.getAttribute("lat"),n=e.getAttribute("lon"),o={type:"node",id:"_anonymous@"+t+"/"+n,lat:t,lon:n},r.nodes.push(o.id),i.push(o)):r.nodes.push(void 0)})),o.push(r)}}n.each(t,(function(t,n){var o,a,s,l;"node"==e.members[n].type?t.getAttribute("lat")&&(o=t.getAttribute("lat"),a=t.getAttribute("lon"),s=e.members[n].ref,l={type:"node",id:s,lat:o,lon:a},i.push(l)):"way"==e.members[n].type&&t.getElementsByTagName("nd").length>0&&(e.members[n].ref="_fullGeom"+e.members[n].ref,r(t.getElementsByTagName("nd"),e.members[n].ref))}))}(f,e.getElementsByTagName("member")):(r=e.getElementsByTagName("bounds")[0])&&c(f,r),a.push(f)})),s(i,o,a)}(e):function(e){var t=new Array,r=new Array,i=new Array;function o(e){var r=n.clone(e);r.lat=e.center.lat,r.lon=e.center.lon,r.__is_center_placeholder=!0,t.push(r)}function a(e){var i=n.clone(e);function o(e,r,n){var o={type:"node",id:"_"+i.type+"/"+i.id+"bounds"+n,lat:e,lon:r};i.nodes.push(o.id),t.push(o)}i.nodes=[],o(i.bounds.minlat,i.bounds.minlon,1),o(i.bounds.maxlat,i.bounds.minlon,2),o(i.bounds.maxlat,i.bounds.maxlon,3),o(i.bounds.minlat,i.bounds.maxlon,4),i.nodes.push(i.nodes[0]),i.__is_bounds_placeholder=!0,r.push(i)}function l(e){n.isArray(e.nodes)||(e.nodes=e.geometry.map((function(e){return null!==e?"_anonymous@"+e.lat+"/"+e.lon:"_anonymous@unknown_location"}))),e.geometry.forEach((function(r,n){var i,o,a,s;r&&(i=r.lat,o=r.lon,a=e.nodes[n],s={type:"node",id:a,lat:i,lon:o},t.push(s))}))}function u(e){function n(e,n){if(!r.some((function(e){return"way"==e.type&&e.id==n}))){var i={type:"way",id:n,nodes:[]};e.forEach((function(e){var r,n,o;e?(r=e.lat,n=e.lon,o={type:"node",id:"_anonymous@"+r+"/"+n,lat:r,lon:n},i.nodes.push(o.id),t.push(o)):i.nodes.push(void 0)})),r.push(i)}}e.members.forEach((function(e,r){var i,o,a,s;"node"==e.type?e.lat&&(i=e.lat,o=e.lon,a=e.ref,s={type:"node",id:a,lat:i,lon:o},t.push(s)):"way"==e.type&&e.geometry&&(e.ref="_fullGeom"+e.ref,n(e.geometry,e.ref))}))}for(var c=0;c<e.elements.length;c++)switch(e.elements[c].type){case"node":var h=e.elements[c];t.push(h);break;case"way":var p=n.clone(e.elements[c]);p.nodes=n.clone(p.nodes),r.push(p),p.center&&o(p),p.geometry?l(p):p.bounds&&a(p);break;case"relation":var d=n.clone(e.elements[c]);d.members=n.clone(d.members),i.push(d);var f=d.members&&d.members.some((function(e){return"node"==e.type&&e.lat||"way"==e.type&&e.geometry&&e.geometry.length>0}));d.center&&o(d),f?u(d):d.bounds&&a(d)}return s(t,r,i)}(e);function s(e,o,a){function s(e,r){if("object"!=typeof r&&(r={}),"function"==typeof t.uninterestingTags)return!t.uninterestingTags(e,r);for(var n in e)if(!0!==t.uninterestingTags[n]&&!0!==r[n]&&r[n]!==e[n])return!0;return!1}function c(e){var t={timestamp:e.timestamp,version:e.version,changeset:e.changeset,user:e.user,uid:e.uid};for(var r in t)void 0===t[r]&&delete t[r];return t}for(var h=new Object,p=new Object,d=0;d<e.length;d++){void 0!==h[(v=e[d]).id]&&(v=t.deduplicator(v,h[v.id])),h[v.id]=v,void 0!==v.tags&&s(v.tags)&&(p[v.id]=!0)}for(d=0;d<a.length;d++)if(n.isArray(a[d].members))for(var f=0;f<a[d].members.length;f++)"node"==a[d].members[f].type&&(p[a[d].members[f].ref]=!0);var g=new Object,m=new Object;for(d=0;d<o.length;d++){var y=o[d];if(g[y.id]&&(y=t.deduplicator(y,g[y.id])),g[y.id]=y,n.isArray(y.nodes))for(f=0;f<y.nodes.length;f++)"object"!=typeof y.nodes[f]&&(m[y.nodes[f]]=!0,y.nodes[f]=h[y.nodes[f]])}var _=new Array;for(var b in h){var v=h[b];m[b]&&!p[b]||_.push(v)}var w=new Array;for(d=0;d<a.length;d++){w[(T=a[d]).id]&&(T=t.deduplicator(T,w[T.id])),w[T.id]=T}var O,E={node:{},way:{},relation:{}};for(var b in w){var T=w[b];if(n.isArray(T.members))for(f=0;f<T.members.length;f++){var S=T.members[f].type,C=T.members[f].ref;"number"!=typeof C&&(C=C.replace("_fullGeom","")),E[S]?(void 0===E[S][C]&&(E[S][C]=[]),E[S][C].push({role:T.members[f].role,rel:T.id,reltags:T.tags})):t.verbose&&console.warn("Relation",T.type+"/"+T.id,"member",S+"/"+C,"ignored because it has an invalid type")}else t.verbose&&console.warn("Relation",T.type+"/"+T.id,"ignored because it has no members")}var x=[];for(d=0;d<_.length;d++)if(void 0!==_[d].lon&&void 0!==_[d].lat){var k={type:"Feature",id:_[d].type+"/"+_[d].id,properties:{type:_[d].type,id:_[d].id,tags:_[d].tags||{},relations:E.node[_[d].id]||[],meta:c(_[d])},geometry:{type:"Point",coordinates:[+_[d].lon,+_[d].lat]}};_[d].__is_center_placeholder&&(k.properties.geometry="center"),r?r(k):x.push(k)}else t.verbose&&console.warn("POI",_[d].type+"/"+_[d].id,"ignored because it lacks coordinates");var R=[],P=[];for(d=0;d<a.length;d++)if(w[a[d].id]===a[d]){if(void 0!==a[d].tags&&("route"==a[d].tags.type||"waterway"==a[d].tags.type)){if(!n.isArray(a[d].members)){t.verbose&&console.warn("Route",a[d].type+"/"+a[d].id,"ignored because it has no members");continue}if(a[d].members.forEach((function(e){g[e.ref]&&!s(g[e.ref].tags)&&(g[e.ref].is_skippablerelationmember=!0)})),!1===(k=I(a[d]))){t.verbose&&console.warn("Route relation",a[d].type+"/"+a[d].id,"ignored because it has invalid geometry");continue}function I(e){var r,i,o=!1;r=(r=e.members.filter((function(e){return"way"===e.type}))).map((function(r){var n=g[r.ref];return void 0===n||void 0===n.nodes?(t.verbose&&console.warn("Route "+e.type+"/"+e.id,"tainted by a missing or incomplete  way",r.type+"/"+r.ref),void(o=!0)):{id:r.ref,role:r.role,way:n,nodes:n.nodes.filter((function(n){return void 0!==n||(o=!0,t.verbose&&console.warn("Route",e.type+"/"+e.id,"tainted by a way",r.type+"/"+r.ref,"with a missing node"),!1)}))}})),i=l(r=n.compact(r));var a;if(0==(a=n.compact(i.map((function(e){return n.compact(e.map((function(e){return[+e.lon,+e.lat]})))})))).length)return t.verbose&&console.warn("Route",e.type+"/"+e.id,"contains no coordinates"),!1;var s={type:"Feature",id:e.type+"/"+e.id,properties:{type:e.type,id:e.id,tags:e.tags||{},relations:E[e.type][e.id]||[],meta:c(e)},geometry:{type:1===a.length?"LineString":"MultiLineString",coordinates:1===a.length?a[0]:a}};return o&&(t.verbose&&console.warn("Route",e.type+"/"+e.id,"is tainted"),s.properties.tainted=!0),s}r?r(i(k)):P.push(k)}if(void 0!==a[d].tags&&("multipolygon"==a[d].tags.type||"boundary"==a[d].tags.type)){if(!n.isArray(a[d].members)){t.verbose&&console.warn("Multipolygon",a[d].type+"/"+a[d].id,"ignored because it has no members");continue}var j=0;for(f=0;f<a[d].members.length;f++)"outer"==a[d].members[f].role?j++:t.verbose&&"inner"!=a[d].members[f].role&&console.warn("Multipolygon",a[d].type+"/"+a[d].id,"member",a[d].members[f].type+"/"+a[d].members[f].ref,'ignored because it has an invalid role: "'+a[d].members[f].role+'"');if(a[d].members.forEach((function(e){g[e.ref]&&("outer"!==e.role||s(g[e.ref].tags,a[d].tags)||(g[e.ref].is_skippablerelationmember=!0),"inner"!==e.role||s(g[e.ref].tags)||(g[e.ref].is_skippablerelationmember=!0))})),0==j){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because it has no outer ways");continue}var L=!1;1!=j||s(a[d].tags,{type:!0})||(L=!0);k=null;if(L){var A=a[d].members.filter((function(e){return"outer"===e.role}))[0];if(void 0===(A=g[A.ref])){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because outer way",A.type+"/"+A.ref,"is missing");continue}A.is_skippablerelationmember=!0,k=F(A,a[d])}else k=F(a[d],a[d]);if(!1===k){t.verbose&&console.warn("Multipolygon relation",a[d].type+"/"+a[d].id,"ignored because it has invalid geometry");continue}function F(e,r){var i,o,a,s,u=!1,h=L?"way":"relation",p="number"==typeof e.id?e.id:+e.id.replace("_fullGeom","");function d(e){var t,r=function(e,t){for(var r=0;r<t.length;r++)if(i(t[r],e))return!0;return!1},n=function(e){return e.map((function(e){return[+e.lat,+e.lon]}))},i=function(e,t){for(var r=e[0],n=e[1],i=!1,o=0,a=t.length-1;o<t.length;a=o++){var s=t[o][0],l=t[o][1],u=t[a][0],c=t[a][1];l>n!=c>n&&r<(u-s)*(n-l)/(c-l)+s&&(i=!i)}return i};for(e=n(e),t=0;t<o.length;t++)if(r(n(o[t]),e))return t}i=(i=r.members.filter((function(e){return"way"===e.type}))).map((function(e){var r=g[e.ref];return void 0===r||void 0===r.nodes?(t.verbose&&console.warn("Multipolygon",h+"/"+p,"tainted by a missing or incomplete way",e.type+"/"+e.ref),void(u=!0)):{id:e.ref,role:e.role||"outer",way:r,nodes:r.nodes.filter((function(r){return void 0!==r||(u=!0,t.verbose&&console.warn("Multipolygon",h+"/"+p,"tainted by a way",e.type+"/"+e.ref,"with a missing node"),!1)}))}})),i=n.compact(i),o=l(i.filter((function(e){return"outer"===e.role}))),a=l(i.filter((function(e){return"inner"===e.role}))),s=o.map((function(e){return[e]}));for(var f=0;f<a.length;f++){var m=d(a[f]);void 0!==m?s[m].push(a[f]):t.verbose&&console.warn("Multipolygon",h+"/"+p,"contains an inner ring with no containing outer")}var y=[];if(0==(y=n.compact(s.map((function(e){var r=n.compact(e.map((function(e){if(!(e.length<4))return n.compact(e.map((function(e){return[+e.lon,+e.lat]})));t.verbose&&console.warn("Multipolygon",h+"/"+p,"contains a ring with less than four nodes")})));if(0!=r.length)return r;t.verbose&&console.warn("Multipolygon",h+"/"+p,"contains an empty ring cluster")})))).length)return t.verbose&&console.warn("Multipolygon",h+"/"+p,"contains no coordinates"),!1;var _="MultiPolygon";1===y.length&&(_="Polygon",y=y[0]);var b={type:"Feature",id:e.type+"/"+p,properties:{type:e.type,id:p,tags:e.tags||{},relations:E[e.type][e.id]||[],meta:c(e)},geometry:{type:_,coordinates:y}};return u&&(t.verbose&&console.warn("Multipolygon",h+"/"+p,"is tainted"),b.properties.tainted=!0),b}r?r(i(k)):P.push(k)}}for(d=0;d<o.length;d++)if(g[o[d].id]===o[d])if(n.isArray(o[d].nodes)){if(!o[d].is_skippablerelationmember){"number"!=typeof o[d].id&&(o[d].id=+o[d].id.replace("_fullGeom","")),o[d].tainted=!1,o[d].hidden=!1;var M=new Array;for(f=0;f<o[d].nodes.length;f++)"object"==typeof o[d].nodes[f]?M.push([+o[d].nodes[f].lon,+o[d].nodes[f].lat]):(t.verbose&&console.warn("Way",o[d].type+"/"+o[d].id,"is tainted by an invalid node"),o[d].tainted=!0);if(M.length<=1)t.verbose&&console.warn("Way",o[d].type+"/"+o[d].id,"ignored because it contains too few nodes");else{var N="LineString";void 0!==o[d].nodes[0]&&void 0!==o[d].nodes[o[d].nodes.length-1]&&o[d].nodes[0].id===o[d].nodes[o[d].nodes.length-1].id&&(void 0!==o[d].tags&&u(o[d].tags)||o[d].__is_bounds_placeholder)&&(N="Polygon",M=[M]);k={type:"Feature",id:o[d].type+"/"+o[d].id,properties:{type:o[d].type,id:o[d].id,tags:o[d].tags||{},relations:E.way[o[d].id]||[],meta:c(o[d])},geometry:{type:N,coordinates:M}};o[d].tainted&&(t.verbose&&console.warn("Way",o[d].type+"/"+o[d].id,"is tainted"),k.properties.tainted=!0),o[d].__is_bounds_placeholder&&(k.properties.geometry="bounds"),r?r(i(k)):"LineString"==N?R.push(k):P.push(k)}}}else t.verbose&&console.warn("Way",o[d].type+"/"+o[d].id,"ignored because it has no nodes");return!!r||((O={type:"FeatureCollection",features:[]}).features=O.features.concat(P),O.features=O.features.concat(R),O.features=O.features.concat(x),t.flatProperties&&O.features.forEach((function(e){e.properties=n.merge(e.properties.meta,e.properties.tags,{id:e.properties.type+"/"+e.properties.id})})),O=i(O))}function u(e){var r=t.polygonFeatures;if("function"==typeof r)return r(e);if("no"===e.area)return!1;for(var n in e){var i=e[n],o=r[n];if(void 0!==o&&"no"!==i){if(!0===o)return!0;if(o.included_values&&!0===o.included_values[i])return!0;if(o.excluded_values&&!0!==o.excluded_values[i])return!0}}return!1}}).toGeojson=s,e.exports=s},function(e,t,r){(function(e,r){(function(){var n="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Function]",l="[object GeneratorFunction]",u="[object Map]",c="[object Number]",h="[object Object]",p="[object RegExp]",d="[object Set]",f="[object String]",g="[object Symbol]",m="[object WeakMap]",y="[object DataView]",_="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",E="[object Uint8Array]",T="[object Uint16Array]",S="[object Uint32Array]",C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,k=/^\./,R=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,I=/\w*$/,j=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,A={};A[_]=A[b]=A[v]=A[w]=A[O]=A[E]=A["[object Uint8ClampedArray]"]=A[T]=A[S]=!0,A[n]=A[i]=A["[object ArrayBuffer]"]=A[o]=A[y]=A[a]=A["[object Error]"]=A[s]=A[u]=A[c]=A[h]=A[p]=A[d]=A[f]=A[m]=!1;var F={};F[n]=F[i]=F["[object ArrayBuffer]"]=F[y]=F[o]=F[a]=F[_]=F[b]=F[v]=F[w]=F[O]=F[u]=F[c]=F[h]=F[p]=F[d]=F[f]=F[g]=F[E]=F["[object Uint8ClampedArray]"]=F[T]=F[S]=!0,F["[object Error]"]=F[s]=F[m]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,N="object"==typeof self&&self&&self.Object===Object&&self,D=M||N||Function("return this")(),G=t&&!t.nodeType&&t,U=G&&"object"==typeof r&&r&&!r.nodeType&&r,z=U&&U.exports===G,B=z&&M.process,V=function(){try{return B&&B.binding("util")}catch(e){}}(),W=V&&V.isTypedArray;function K(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function Y(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function X(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););return e}function Z(e,t,r,n){var i=-1,o=e?e.length:0;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function q(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function Q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function $(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function J(e,t){return function(r){return e(t(r))}}function ee(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var te,re=Array.prototype,ne=Function.prototype,ie=Object.prototype,oe=D["__core-js_shared__"],ae=(te=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||""))?"Symbol(src)_1."+te:"",se=ne.toString,le=ie.hasOwnProperty,ue=se.call(Object),ce=ie.toString,he=RegExp("^"+se.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pe=z?D.Buffer:void 0,de=D.Symbol,fe=D.Uint8Array,ge=J(Object.getPrototypeOf,Object),me=Object.create,ye=ie.propertyIsEnumerable,_e=re.splice,be=Object.getOwnPropertySymbols,ve=pe?pe.isBuffer:void 0,we=J(Object.keys,Object),Oe=Math.max,Ee=dt(D,"DataView"),Te=dt(D,"Map"),Se=dt(D,"Promise"),Ce=dt(D,"Set"),xe=dt(D,"WeakMap"),ke=dt(Object,"create"),Re=!ye.call({valueOf:1},"valueOf"),Pe=Et(Ee),Ie=Et(Te),je=Et(Se),Le=Et(Ce),Ae=Et(xe),Fe=de?de.prototype:void 0,Me=Fe?Fe.valueOf:void 0,Ne=Fe?Fe.toString:void 0;function De(){}function Ge(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ue(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ze(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Be(e){var t=-1,r=e?e.length:0;for(this.__data__=new ze;++t<r;)this.add(e[t])}function Ve(e){this.__data__=new Ue(e)}function We(e,t){var r=kt(e)||xt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!le.call(e,o)||i&&("length"==o||mt(o,n))||r.push(o);return r}function Ke(e,t,r){(void 0===r||Ct(e[t],r))&&("number"!=typeof t||void 0!==r||t in e)||(e[t]=r)}function He(e,t,r){var n=e[t];le.call(e,t)&&Ct(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ye(e,t){for(var r=e.length;r--;)if(Ct(e[r][0],t))return r;return-1}function Xe(e,t,r,i,m,C,x){var k;if(i&&(k=C?i(e,m,C,x):i(e)),void 0!==k)return k;if(!At(e))return e;var R=kt(e);if(R){if(k=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&le.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return lt(e,k)}else{var P=gt(e),j=P==s||P==l;if(It(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(P==h||P==n||j&&!C){if(Q(e))return C?e:{};if(k=function(e){return"function"!=typeof e.constructor||_t(e)?{}:(t=ge(e),At(t)?me(t):{});var t}(j?{}:e),!t)return function(e,t){return ut(e,ft(e),t)}(e,function(e,t){return e&&ut(t,Wt(t),e)}(k,e))}else{if(!F[P])return C?e:{};k=function(e,t,r,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return st(e);case o:case a:return new i(+e);case y:return function(e,t){var r=t?st(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case _:case b:case v:case w:case O:case E:case"[object Uint8ClampedArray]":case T:case S:return function(e,t){var r=t?st(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case u:return function(e,t,r){return Z(t?r($(e),!0):$(e),K,new e.constructor)}(e,n,r);case c:case f:return new i(e);case p:return function(e){var t=new e.constructor(e.source,I.exec(e));return t.lastIndex=e.lastIndex,t}(e);case d:return function(e,t,r){return Z(t?r(ee(e),!0):ee(e),H,new e.constructor)}(e,n,r);case g:return s=e,Me?Object(Me.call(s)):{}}var s}(e,P,Xe,t)}}x||(x=new Ve);var L=x.get(e);if(L)return L;if(x.set(e,k),!R)var A=r?function(e){return function(e,t,r){var n=t(e);return kt(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,Wt,ft)}(e):Wt(e);return X(A||e,(function(n,o){A&&(n=e[o=n]),He(k,o,Xe(n,t,r,i,o,e,x))})),k}Ge.prototype.clear=function(){this.__data__=ke?ke(null):{}},Ge.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ge.prototype.get=function(e){var t=this.__data__;if(ke){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return le.call(t,e)?t[e]:void 0},Ge.prototype.has=function(e){var t=this.__data__;return ke?void 0!==t[e]:le.call(t,e)},Ge.prototype.set=function(e,t){return this.__data__[e]=ke&&void 0===t?"__lodash_hash_undefined__":t,this},Ue.prototype.clear=function(){this.__data__=[]},Ue.prototype.delete=function(e){var t=this.__data__,r=Ye(t,e);return!(r<0)&&(r==t.length-1?t.pop():_e.call(t,r,1),!0)},Ue.prototype.get=function(e){var t=this.__data__,r=Ye(t,e);return r<0?void 0:t[r][1]},Ue.prototype.has=function(e){return Ye(this.__data__,e)>-1},Ue.prototype.set=function(e,t){var r=this.__data__,n=Ye(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ze.prototype.clear=function(){this.__data__={hash:new Ge,map:new(Te||Ue),string:new Ge}},ze.prototype.delete=function(e){return pt(this,e).delete(e)},ze.prototype.get=function(e){return pt(this,e).get(e)},ze.prototype.has=function(e){return pt(this,e).has(e)},ze.prototype.set=function(e,t){return pt(this,e).set(e,t),this},Be.prototype.add=Be.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Be.prototype.has=function(e){return this.__data__.has(e)},Ve.prototype.clear=function(){this.__data__=new Ue},Ve.prototype.delete=function(e){return this.__data__.delete(e)},Ve.prototype.get=function(e){return this.__data__.get(e)},Ve.prototype.has=function(e){return this.__data__.has(e)},Ve.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ue){var n=r.__data__;if(!Te||n.length<199)return n.push([e,t]),this;r=this.__data__=new ze(n)}return r.set(e,t),this};var Ze,qe,Qe=(Ze=function(e,t){return e&&$e(e,t,Wt)},function(e,t){if(null==e)return e;if(!Rt(e))return Ze(e,t);for(var r=e.length,n=qe?r:-1,i=Object(e);(qe?n--:++n<r)&&!1!==t(i[n],n,i););return e}),$e=function(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===r(o[l],l,o))break}return t}}();function Je(e,t){for(var r=0,n=(t=yt(t,e)?[t]:at(t)).length;null!=e&&r<n;)e=e[Ot(t[r++])];return r&&r==n?e:void 0}function et(e,t){return null!=e&&t in Object(e)}function tt(e,t,r,s,l){return e===t||(null==e||null==t||!At(e)&&!Ft(t)?e!=e&&t!=t:function(e,t,r,s,l,m){var _=kt(e),b=kt(t),v=i,w=i;_||(v=(v=gt(e))==n?h:v);b||(w=(w=gt(t))==n?h:w);var O=v==h&&!Q(e),E=w==h&&!Q(t),T=v==w;if(T&&!O)return m||(m=new Ve),_||Gt(e)?ct(e,t,r,s,l,m):function(e,t,r,n,i,s,l){switch(r){case y:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!n(new fe(e),new fe(t)));case o:case a:case c:return Ct(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case p:case f:return e==t+"";case u:var h=$;case d:var m=2&s;if(h||(h=ee),e.size!=t.size&&!m)return!1;var _=l.get(e);if(_)return _==t;s|=1,l.set(e,t);var b=ct(h(e),h(t),n,i,s,l);return l.delete(e),b;case g:if(Me)return Me.call(e)==Me.call(t)}return!1}(e,t,v,r,s,l,m);if(!(2&l)){var S=O&&le.call(e,"__wrapped__"),C=E&&le.call(t,"__wrapped__");if(S||C){var x=S?e.value():e,k=C?t.value():t;return m||(m=new Ve),r(x,k,s,l,m)}}if(!T)return!1;return m||(m=new Ve),function(e,t,r,n,i,o){var a=2&i,s=Wt(e),l=s.length,u=Wt(t).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var h=s[c];if(!(a?h in t:le.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);var f=a;for(;++c<l;){h=s[c];var g=e[h],m=t[h];if(n)var y=a?n(m,g,h,t,e,o):n(g,m,h,e,t,o);if(!(void 0===y?g===m||r(g,m,n,i,o):y)){d=!1;break}f||(f="constructor"==h)}if(d&&!f){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return o.delete(e),o.delete(t),d}(e,t,r,s,l,m)}(e,t,tt,r,s,l))}function rt(e){return!(!At(e)||(t=e,ae&&ae in t))&&(jt(e)||Q(e)?he:j).test(Et(e));var t}function nt(e){return"function"==typeof e?e:null==e?Yt:"object"==typeof e?kt(e)?function(e,t){if(yt(e)&&bt(t))return vt(Ot(e),t);return function(r){var n=Bt(r,e);return void 0===n&&n===t?Vt(r,e):tt(t,n,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=Wt(e),r=t.length;for(;r--;){var n=t[r],i=e[n];t[r]=[n,i,bt(i)]}return t}(e);if(1==t.length&&t[0][2])return vt(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,a=!n;if(null==e)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var l=(s=r[i])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Ve;if(n)var p=n(u,c,l,e,t,h);if(!(void 0===p?tt(c,u,n,3,h):p))return!1}}return!0}(r,e,t)}}(e):Zt(e)}function it(e){if(!At(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=_t(e),r=[];for(var n in e)("constructor"!=n||!t&&le.call(e,n))&&r.push(n);return r}function ot(e,t,r,n,i){if(e!==t){if(!kt(t)&&!Gt(t))var o=it(t);X(o||t,(function(a,s){if(o&&(a=t[s=a]),At(a))i||(i=new Ve),function(e,t,r,n,i,o,a){var s=e[r],l=t[r],u=a.get(l);if(u)return void Ke(e,r,u);var c=o?o(s,l,r+"",e,t,a):void 0,h=void 0===c;h&&(c=l,kt(l)||Gt(l)?kt(s)?c=s:Pt(s)?c=lt(s):(h=!1,c=Xe(l,!0)):Mt(l)||xt(l)?xt(s)?c=Ut(s):!At(s)||n&&jt(s)?(h=!1,c=Xe(l,!0)):c=s:h=!1);h&&(a.set(l,c),i(c,l,n,o,a),a.delete(l));Ke(e,r,c)}(e,t,s,r,ot,n,i);else{var l=n?n(e[s],a,s+"",e,t,i):void 0;void 0===l&&(l=a),Ke(e,s,l)}}))}}function at(e){return kt(e)?e:wt(e)}function st(e){var t=new e.constructor(e.byteLength);return new fe(t).set(new fe(e)),t}function lt(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function ut(e,t,r,n){r||(r={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=n?n(r[a],e[a],a,r,e):void 0;He(r,a,void 0===s?e[a]:s)}return r}function ct(e,t,r,n,i,o){var a=2&i,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,h=!0,p=1&i?new Be:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var d=e[c],f=t[c];if(n)var g=a?n(f,d,c,t,e,o):n(d,f,c,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!q(t,(function(e,t){if(!p.has(t)&&(d===e||r(d,e,n,i,o)))return p.add(t)}))){h=!1;break}}else if(d!==f&&!r(d,f,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ht(){var e=De.iteratee||Xt;return e=e===Xt?nt:e,arguments.length?e(arguments[0],arguments[1]):e}function pt(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function dt(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return rt(r)?r:void 0}var ft=be?J(be,Object):qt,gt=function(e){return ce.call(e)};function mt(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function yt(e,t){if(kt(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Nt(e))||(x.test(e)||!C.test(e)||null!=t&&e in Object(t))}function _t(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ie)}function bt(e){return e==e&&!At(e)}function vt(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(Ee&&gt(new Ee(new ArrayBuffer(1)))!=y||Te&&gt(new Te)!=u||Se&&"[object Promise]"!=gt(Se.resolve())||Ce&&gt(new Ce)!=d||xe&&gt(new xe)!=m)&&(gt=function(e){var t=ce.call(e),r=t==h?e.constructor:void 0,n=r?Et(r):void 0;if(n)switch(n){case Pe:return y;case Ie:return u;case je:return"[object Promise]";case Le:return d;case Ae:return m}return t});var wt=St((function(e){e=zt(e);var t=[];return k.test(e)&&t.push(""),e.replace(R,(function(e,r,n,i){t.push(n?i.replace(P,"$1"):r||e)})),t}));function Ot(e){if("string"==typeof e||Nt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Et(e){if(null!=e){try{return se.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Tt(e,t){return(kt(e)?X:Qe)(e,ht(t,3))}function St(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(St.Cache||ze),r}function Ct(e,t){return e===t||e!=e&&t!=t}function xt(e){return Pt(e)&&le.call(e,"callee")&&(!ye.call(e,"callee")||ce.call(e)==n)}St.Cache=ze;var kt=Array.isArray;function Rt(e){return null!=e&&Lt(e.length)&&!jt(e)}function Pt(e){return Ft(e)&&Rt(e)}var It=ve||Qt;function jt(e){var t=At(e)?ce.call(e):"";return t==s||t==l}function Lt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function At(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ft(e){return!!e&&"object"==typeof e}function Mt(e){if(!Ft(e)||ce.call(e)!=h||Q(e))return!1;var t=ge(e);if(null===t)return!0;var r=le.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&se.call(r)==ue}function Nt(e){return"symbol"==typeof e||Ft(e)&&ce.call(e)==g}var Dt,Gt=W?(Dt=W,function(e){return Dt(e)}):function(e){return Ft(e)&&Lt(e.length)&&!!A[ce.call(e)]};function Ut(e){return ut(e,Kt(e))}function zt(e){return null==e?"":function(e){if("string"==typeof e)return e;if(Nt(e))return Ne?Ne.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}function Bt(e,t,r){var n=null==e?void 0:Je(e,t);return void 0===n?r:n}function Vt(e,t){return null!=e&&function(e,t,r){for(var n,i=-1,o=(t=yt(t,e)?[t]:at(t)).length;++i<o;){var a=Ot(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}return n||!!(o=e?e.length:0)&&Lt(o)&&mt(a,o)&&(kt(e)||xt(e))}(e,t,et)}function Wt(e){return Rt(e)?We(e):function(e){if(!_t(e))return we(e);var t=[];for(var r in Object(e))le.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}function Kt(e){return Rt(e)?We(e,!0):it(e)}var Ht=function(e){return t=function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&function(e,t,r){if(!At(r))return!1;var n=typeof t;return!!("number"==n?Rt(r)&&mt(t,r.length):"string"==n&&t in r)&&Ct(r[t],e)}(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t},r=Oe(void 0===r?t.length-1:r,0),function(){for(var e=arguments,n=-1,i=Oe(e.length-r,0),o=Array(i);++n<i;)o[n]=e[r+n];n=-1;for(var a=Array(r+1);++n<r;)a[n]=e[n];return a[r]=o,Y(t,this,a)};var t,r}((function(e,t,r){ot(e,t,r)}));function Yt(e){return e}function Xt(e){return nt("function"==typeof e?e:Xe(e,!0))}function Zt(e){return yt(e)?(t=Ot(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Je(t,e)}}(e);var t}function qt(){return[]}function Qt(){return!1}De.compact=function(e){for(var t=-1,r=e?e.length:0,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},De.iteratee=Xt,De.keys=Wt,De.keysIn=Kt,De.memoize=St,De.merge=Ht,De.property=Zt,De.toPlainObject=Ut,De.clone=function(e){return Xe(e,!1,!0)},De.eq=Ct,De.forEach=Tt,De.get=Bt,De.hasIn=Vt,De.identity=Yt,De.isArguments=xt,De.isArray=kt,De.isArrayLike=Rt,De.isArrayLikeObject=Pt,De.isBuffer=It,De.isEmpty=function(e){if(Rt(e)&&(kt(e)||"string"==typeof e||"function"==typeof e.splice||It(e)||xt(e)))return!e.length;var t=gt(e);if(t==u||t==d)return!e.size;if(Re||_t(e))return!we(e).length;for(var r in e)if(le.call(e,r))return!1;return!0},De.isFunction=jt,De.isLength=Lt,De.isObject=At,De.isObjectLike=Ft,De.isPlainObject=Mt,De.isSymbol=Nt,De.isTypedArray=Gt,De.stubArray=qt,De.stubFalse=Qt,De.toString=zt,De.each=Tt,De.VERSION="4.15.0",U&&((U.exports=De)._=De,G._=De)}).call(this)}).call(this,r(319),r(320)(e))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(322);function i(e,t){return function(r){return e(r,t)}}function o(e,t){t=!!t,e[0]=a(e[0],t);for(var r=1;r<e.length;r++)e[r]=a(e[r],!t);return e}function a(e,t){return function(e){return n.ring(e)>=0}(e)===t?e:e.reverse()}e.exports=function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(i(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(i(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){"Polygon"===e.type?e.coordinates=o(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(i(o,t)));return e}(t,r);default:return t}}},function(e,t,r){var n=r(323);function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(o(e[r]))}return t}function o(e){var t,r,i,o,s,l,u=0,c=e.length;if(c>2){for(l=0;l<c;l++)l===c-2?(i=c-2,o=c-1,s=0):l===c-1?(i=c-1,o=0,s=1):(i=l,o=l+1,s=l+2),t=e[i],r=e[o],u+=(a(e[s][0])-a(t[0]))*Math.sin(a(r[1]));u=u*n.RADIUS*n.RADIUS/2}return u}function a(e){return e*Math.PI/180}e.exports.geometry=function e(t){var r,n=0;switch(t.type){case"Polygon":return i(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=i(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},e.exports.ring=o},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t,r){e.exports=r(325)},function(e){e.exports=JSON.parse('[{"key":"building","polygon":"all"},{"key":"highway","polygon":"whitelist","values":["services","rest_area","escape","elevator"]},{"key":"natural","polygon":"blacklist","values":["coastline","cliff","ridge","arete","tree_row"]},{"key":"landuse","polygon":"all"},{"key":"waterway","polygon":"whitelist","values":["riverbank","dock","boatyard","dam"]},{"key":"amenity","polygon":"all"},{"key":"leisure","polygon":"all"},{"key":"barrier","polygon":"whitelist","values":["city_wall","ditch","hedge","retaining_wall","wall","spikes"]},{"key":"railway","polygon":"whitelist","values":["station","turntable","roundhouse","platform"]},{"key":"area","polygon":"all"},{"key":"boundary","polygon":"all"},{"key":"man_made","polygon":"blacklist","values":["cutline","embankment","pipeline"]},{"key":"power","polygon":"whitelist","values":["plant","substation","generator","transformer"]},{"key":"place","polygon":"all"},{"key":"shop","polygon":"all"},{"key":"aeroway","polygon":"blacklist","values":["taxiway"]},{"key":"tourism","polygon":"all"},{"key":"historic","polygon":"all"},{"key":"public_transport","polygon":"all"},{"key":"office","polygon":"all"},{"key":"building:part","polygon":"all"},{"key":"military","polygon":"all"},{"key":"ruins","polygon":"all"},{"key":"area:highway","polygon":"all"},{"key":"craft","polygon":"all"},{"key":"golf","polygon":"all"},{"key":"indoor","polygon":"all"}]')},function(e,t,r){"use strict";r.r(t);var n=r(25),i=r(21);function o(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function a(e,t,r){return e+"/"+t+"/"+r}function s(e){return a(e[0],e[1],e[2])}function l(e){return(e[1]<<e[0])+e[2]}function u(e,t){var r=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?e.replace(r,s[0].toString()).replace(i,s[1].toString()).replace(o,s[2].toString()).replace(a,(function(){var e=s[0],r=t.getFullTileRange(e);return Object(n.a)(r,55),(r.getHeight()-s[2]-1).toString()})):void 0}}function c(e,t){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=u(e[i],t);return h(n)}function h(e){return 1===e.length?e[0]:function(t,r,n){if(t){var o=l(t),a=Object(i.d)(o,e.length);return e[a](t,r,n)}}}function p(e,t,r){}function d(e){var t=[],r=/\{([a-z])-([a-z])\}/.exec(e);if(r){var n=r[1].charCodeAt(0),i=r[2].charCodeAt(0),o=void 0;for(o=n;o<=i;++o)t.push(e.replace(r[0],String.fromCharCode(o)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(r[2],10),s=parseInt(r[1],10);s<=a;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}var f=r(1),g=r(5);function m(e,t,r,n){var i=document.createElement("script"),o="olc_"+Object(g.c)(t);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=e+(-1==e.indexOf("?")?"?":"&")+(n||"callback")+"="+o;var s=setTimeout((function(){a(),r&&r()}),1e4);window[o]=function(e){clearTimeout(s),a(),t(e)},document.getElementsByTagName("head")[0].appendChild(i)}var y,_=r(7),b=r(52),v=r(83),w=r(15),O=r(78),E=r(110),T=r(11),S=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),C=function(e){function t(t,r,n){var i=e.call(this)||this,o=n||{};return i.tileCoord=t,i.state=r,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return S(t,e),t.prototype.changed=function(){this.dispatchEvent(T.a.CHANGE)},t.prototype.disposeInternal=function(){this.setState(w.a.ABORT)},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==w.a.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==w.a.LOADED){e.interimTile=null;break}e.getState()==w.a.LOADING?t=e:e.getState()==w.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==w.a.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){Object(g.b)()},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var r=this.transitionStarts_[e];if(r){if(-1===r)return 1}else r=t,this.transitionStarts_[e]=r;var n=t-r+1e3/60;return n>=this.transition_?1:Object(O.a)(n/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(E.a),x=r(29),k=r(112),R=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function P(){var e=Object(x.a)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var I=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.crossOrigin_=i,s.src_=n,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return R(t,e),t.prototype.disposeInternal=function(){this.state==w.a.LOADING&&(this.unlistenImage_(),this.image_=P()),this.interimTile&&this.interimTile.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.image_},t.prototype.getKey=function(){return this.src_},t.prototype.handleImageError_=function(){this.state=w.a.ERROR,this.unlistenImage_(),this.image_=P(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=w.a.LOADED:this.state=w.a.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==w.a.ERROR&&(this.state=w.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==w.a.IDLE&&(this.state=w.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(k.b)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(C),j=r(219),L=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),A=function(e){function t(t){return e.call(this,t)||this}return L(t,e),t.prototype.expireCache=function(e){for(;this.canExpireCache();){if(this.peekLast().getKey()in e)break;this.pop().dispose()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=function(e){return e.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove(s(t.tileCoord)),t.dispose())}.bind(this))}},t}(j.a),F=r(9);function M(e,t,r,n){var i=Object(_.transform)(r,t,e),o=Object(_.getPointResolution)(t,n,r),a=t.getMetersPerUnit();void 0!==a&&(o*=a);var s=e.getMetersPerUnit();void 0!==s&&(o/=s);var l=e.getExtent();if(!l||Object(f.containsCoordinate)(l,i)){var u=Object(_.getPointResolution)(e,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}function N(e,t,r,n){var i=r-e,o=n-t,a=Math.sqrt(i*i+o*o);return[Math.round(r+i/a),Math.round(n+o/a)]}function D(e,t,r,n,o,a,s,l,u,c,h){var p=Object(x.a)(Math.round(r*e),Math.round(r*t));if(0===u.length)return p.canvas;p.scale(r,r);var d=Object(f.createEmpty)();u.forEach((function(e,t,r){Object(f.extend)(d,e.extent)}));var g=Object(f.getWidth)(d),m=Object(f.getHeight)(d),y=Object(x.a)(Math.round(r*g/n),Math.round(r*m/n)),_=r/n;u.forEach((function(e,t,r){var n=e.extent[0]-d[0],i=-(e.extent[3]-d[3]),o=Object(f.getWidth)(e.extent),a=Object(f.getHeight)(e.extent);y.drawImage(e.image,c,c,e.image.width-2*c,e.image.height-2*c,n*_,i*_,o*_,a*_)}));var b=Object(f.getTopLeft)(s);return l.getTriangles().forEach((function(e,t,o){var s=e.source,l=e.target,u=s[0][0],c=s[0][1],h=s[1][0],f=s[1][1],g=s[2][0],m=s[2][1],_=(l[0][0]-b[0])/a,v=-(l[0][1]-b[1])/a,w=(l[1][0]-b[0])/a,O=-(l[1][1]-b[1])/a,E=(l[2][0]-b[0])/a,T=-(l[2][1]-b[1])/a,S=u,C=c;u=0,c=0;var x=[[h-=S,f-=C,0,0,w-_],[g-=S,m-=C,0,0,E-_],[0,0,h,f,O-v],[0,0,g,m,T-v]],k=Object(i.e)(x);if(k){p.save(),p.beginPath();var R=(_+w+E)/3,P=(v+O+T)/3,I=N(R,P,_,v),j=N(R,P,w,O),L=N(R,P,E,T);p.moveTo(j[0],j[1]),p.lineTo(I[0],I[1]),p.lineTo(L[0],L[1]),p.clip(),p.transform(k[0],k[2],k[1],k[3],_,v),p.translate(d[0]-S,d[3]-C),p.scale(n/r,-n/r),p.drawImage(y.canvas,0,0),p.restore()}})),h&&(p.save(),p.strokeStyle="black",p.lineWidth=1,l.getTriangles().forEach((function(e,t,r){var n=e.target,i=(n[0][0]-b[0])/a,o=-(n[0][1]-b[1])/a,s=(n[1][0]-b[0])/a,l=-(n[1][1]-b[1])/a,u=(n[2][0]-b[0])/a,c=-(n[2][1]-b[1])/a;p.beginPath(),p.moveTo(s,l),p.lineTo(i,o),p.lineTo(u,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}var G=function(){function e(e,t,r,n,i){this.sourceProj_=e,this.targetProj_=t;var o={},a=Object(_.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return o[t]||(o[t]=a(e)),o[t]},this.maxSourceExtent_=n,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&Object(f.getWidth)(n)==Object(f.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(f.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(f.getWidth)(this.targetProj_.getExtent()):null;var s=Object(f.getTopLeft)(r),l=Object(f.getTopRight)(r),u=Object(f.getBottomRight)(r),c=Object(f.getBottomLeft)(r),h=this.transformInv_(s),p=this.transformInv_(l),d=this.transformInv_(u),g=this.transformInv_(c);if(this.addQuad_(s,l,u,c,h,p,d,g,10),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach((function(e,t,r){m=Math.min(m,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-m>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-m>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-m>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-m>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var r=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-r<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}o={}}return e.prototype.addTriangle_=function(e,t,r,n,i,o){this.triangles_.push({source:[n,i,o],target:[e,t,r]})},e.prototype.addQuad_=function(e,t,r,n,o,a,s,l,u){var c=Object(f.boundingExtent)([o,a,s,l]),h=this.sourceWorldWidth_?Object(f.getWidth)(c)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1,g=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var m=Object(f.boundingExtent)([e,t,r,n]);g=Object(f.getWidth)(m)/this.targetWorldWidth_>.25||g}!d&&this.sourceProj_.isGlobal()&&h&&(g=h>.25||g)}if(g||!this.maxSourceExtent_||Object(f.intersects)(c,this.maxSourceExtent_)){if(!(g||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(u>0))return;g=!0}if(u>0){if(!g){var y=[(e[0]+r[0])/2,(e[1]+r[1])/2],_=this.transformInv_(y),b=void 0;if(d)b=(Object(i.d)(o[0],p)+Object(i.d)(s[0],p))/2-Object(i.d)(_[0],p);else b=(o[0]+s[0])/2-_[0];var v=(o[1]+s[1])/2-_[1];g=b*b+v*v>this.errorThresholdSquared_}if(g){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){var w=[(t[0]+r[0])/2,(t[1]+r[1])/2],O=this.transformInv_(w),E=[(n[0]+e[0])/2,(n[1]+e[1])/2],T=this.transformInv_(E);this.addQuad_(e,t,w,E,o,a,O,T,u-1),this.addQuad_(E,w,r,n,T,O,s,l,u-1)}else{var S=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(S),x=[(r[0]+n[0])/2,(r[1]+n[1])/2],k=this.transformInv_(x);this.addQuad_(e,S,x,n,o,C,k,l,u-1),this.addQuad_(S,t,r,x,C,a,s,k,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,r,n,o,s,l),this.addTriangle_(e,t,r,o,a,s)}},e.prototype.calculateSourceExtent=function(){var e=Object(f.createEmpty)();return this.triangles_.forEach((function(t,r,n){var i=t.source;Object(f.extendCoordinate)(e,i[0]),Object(f.extendCoordinate)(e,i[1]),Object(f.extendCoordinate)(e,i[2])})),e},e.prototype.getTriangles=function(){return this.triangles_},e}(),U=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),z=function(e){function t(t,r,n,o,a,s,l,u,c,h,p){var d=e.call(this,a,w.a.IDLE)||this;d.renderEdges_=void 0!==p&&p,d.pixelRatio_=l,d.gutter_=u,d.canvas_=null,d.sourceTileGrid_=r,d.targetTileGrid_=o,d.wrappedTileCoord_=s||a,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var g=o.getTileCoordExtent(d.wrappedTileCoord_),m=d.targetTileGrid_.getExtent(),y=d.sourceTileGrid_.getExtent(),_=m?Object(f.getIntersection)(g,m):g;if(0===Object(f.getArea)(_))return d.state=w.a.EMPTY,d;var b=t.getExtent();b&&(y=y?Object(f.getIntersection)(y,b):b);var O=o.getResolution(d.wrappedTileCoord_[0]),E=M(t,n,Object(f.getCenter)(_),O);if(!isFinite(E)||E<=0)return d.state=w.a.EMPTY,d;var T=void 0!==h?h:v.b;if(d.triangulation_=new G(t,n,_,y,E*T),0===d.triangulation_.getTriangles().length)return d.state=w.a.EMPTY,d;d.sourceZ_=r.getZForResolution(E);var S=d.triangulation_.calculateSourceExtent();if(y&&(t.canWrapX()?(S[1]=Object(i.a)(S[1],y[1],y[3]),S[3]=Object(i.a)(S[3],y[1],y[3])):S=Object(f.getIntersection)(S,y)),Object(f.getArea)(S)){for(var C=r.getTileRangeForExtentAndZ(S,d.sourceZ_),x=C.minX;x<=C.maxX;x++)for(var k=C.minY;k<=C.maxY;k++){var R=c(d.sourceZ_,x,k,l);R&&d.sourceTiles_.push(R)}0===d.sourceTiles_.length&&(d.state=w.a.EMPTY)}else d.state=w.a.EMPTY;return d}return U(t,e),t.prototype.disposeInternal=function(){this.state==w.a.LOADING&&this.unlistenSources_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,r,n){t&&t.getState()==w.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=w.a.ERROR;else{var t=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(t),n="number"==typeof r?r:r[0],i="number"==typeof r?r:r[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=D(n,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=w.a.LOADED}this.changed()},t.prototype.load=function(){if(this.state==w.a.IDLE){this.state=w.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,r,n){var i=t.getState();if(i==w.a.IDLE||i==w.a.LOADING){e++;var o=Object(F.a)(t,T.a.CHANGE,(function(r){var n=t.getState();n!=w.a.LOADED&&n!=w.a.ERROR&&n!=w.a.EMPTY||(Object(F.c)(o),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach((function(e,t,r){e.getState()==w.a.IDLE&&e.load()})),0===e&&setTimeout(this.reproject_.bind(this),0)}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(F.c),this.sourcesListenerKeys_=null},t}(C),B=r(50),V=r(55),W=r(127),K=r(117),H=r(163),Y=r(66),X=r(164),Z=r(26),q=[0,0,0],Q=function(){function e(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Object(n.a)(Object(Z.g)(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(t){if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}else t=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Object(n.a)(this.origins_.length==this.resolutions_.length,20));var o=e.extent;void 0===o||this.origin_||this.origins_||(this.origin_=Object(f.getTopLeft)(o)),Object(n.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Object(n.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:K.b,Object(n.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){return new X.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1))}),this):o&&this.calculateTileRanges_(o)}return e.prototype.forEachTileCoord=function(e,t,r){for(var n=this.getTileRangeForExtentAndZ(e,t),i=n.minX,o=n.maxX;i<=o;++i)for(var a=n.minY,s=n.maxY;a<=s;++a)r([t,i,a])},e.prototype.forEachTileCoordParentTileRange=function(e,t,r,n){var i,o,a,s=null,l=e[0]-1;for(2===this.zoomFactor_?(o=e[1],a=e[2]):s=this.getTileCoordExtent(e,n);l>=this.minZoom;){if(2===this.zoomFactor_?(o=Math.floor(o/2),a=Math.floor(a/2),i=Object(X.a)(o,o,a,a,r)):i=this.getTileRangeForExtentAndZ(s,l,r),t(l,i))return!0;--l}return!1},e.prototype.getExtent=function(){return this.extent_},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.getMinZoom=function(){return this.minZoom},e.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},e.prototype.getResolution=function(e){return this.resolutions_[e]},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getTileCoordChildTileRange=function(e,t,r){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var n=2*e[1],i=2*e[2];return Object(X.a)(n,n+1,i,i+1,t)}var o=this.getTileCoordExtent(e,r);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null},e.prototype.getTileRangeExtent=function(e,t,r){var n=this.getOrigin(e),i=this.getResolution(e),o=Object(V.d)(this.getTileSize(e),this.tmpSize_),a=n[0]+t.minX*o[0]*i,s=n[0]+(t.maxX+1)*o[0]*i,l=n[1]+t.minY*o[1]*i,u=n[1]+(t.maxY+1)*o[1]*i;return Object(f.createOrUpdate)(a,l,s,u,r)},e.prototype.getTileRangeForExtentAndZ=function(e,t,r){var n=q;this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,n);var i=n[1],o=n[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,n),Object(X.a)(i,n[1],o,n[2],r)},e.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),r=this.getResolution(e[0]),n=Object(V.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*n[0]*r,t[1]-(e[2]+.5)*n[1]*r]},e.prototype.getTileCoordExtent=function(e,t){var r=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=Object(V.d)(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*i[0]*n,a=r[1]-(e[2]+1)*i[1]*n,s=o+i[0]*n,l=a+i[1]*n;return Object(f.createOrUpdate)(o,a,s,l,t)},e.prototype.getTileCoordForCoordAndResolution=function(e,t,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordForXYAndResolution_=function(e,t,r,n,i){var a=this.getZForResolution(r),s=r/this.getResolution(a),l=this.getOrigin(a),u=Object(V.d)(this.getTileSize(a),this.tmpSize_),c=n?.5:0,h=n?.5:0,p=Math.floor((e-l[0])/r+c),d=Math.floor((l[1]-t)/r+h),f=s*p/u[0],g=s*d/u[1];return n?(f=Math.ceil(f)-1,g=Math.ceil(g)-1):(f=Math.floor(f),g=Math.floor(g)),o(a,f,g,i)},e.prototype.getTileCoordForXYAndZ_=function(e,t,r,n,i){var a=this.getOrigin(r),s=this.getResolution(r),l=Object(V.d)(this.getTileSize(r),this.tmpSize_),u=n?.5:0,c=n?.5:0,h=Math.floor((e-a[0])/s+u),p=Math.floor((a[1]-t)/s+c),d=h/l[0],f=p/l[1];return n?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),o(r,d,f,i)},e.prototype.getTileCoordForCoordAndZ=function(e,t,r){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r)},e.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},e.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},e.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},e.prototype.getZForResolution=function(e,t){var r=Object(Z.h)(this.resolutions_,e,t||0);return Object(i.a)(r,this.minZoom,this.maxZoom)},e.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,r=new Array(t),n=this.minZoom;n<t;++n)r[n]=this.getTileRangeForExtentAndZ(e,n);this.fullTileRanges_=r},e}();function $(e){var t=e.getDefaultTileGrid();return t||(t=te(e),e.setDefaultTileGrid(t)),t}function J(e){var t=e||{},r=t.extent||Object(_.get)("EPSG:3857").getExtent(),n={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:ee(r,t.maxZoom,t.tileSize)};return new Q(n)}function ee(e,t,r){for(var n=void 0!==t?t:K.a,i=Object(f.getHeight)(e),o=Object(f.getWidth)(e),a=Object(V.d)(void 0!==r?r:K.b),s=Math.max(o/a[0],i/a[1]),l=n+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u}function te(e,t,r,n){return function(e,t,r,n){var i=void 0!==n?n:H.a.TOP_LEFT,o=ee(e,t,r);return new Q({extent:e,origin:Object(f.getCorner)(e,i),resolutions:o,tileSize:r})}(re(e),t,r,n)}function re(e){var t=(e=Object(_.get)(e)).getExtent();if(!t){var r=180*_.METERS_PER_UNIT[Y.b.DEGREES]/e.getMetersPerUnit();t=Object(f.createOrUpdate)(-r,-r,r,r)}return t}var ne=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ie=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX})||this;r.opaque_=void 0!==t.opaque&&t.opaque,r.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,r.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;var n=t.cacheSize;if(void 0===n){var i=[256,256],o=t.tileGrid;o&&Object(V.d)(o.getTileSize(o.getMinZoom()),i);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;n=4*Math.ceil(s/i[0])*Math.ceil(l/i[1])}return r.tileCache=new A(n),r.tmpSize=[0,0],r.key_=t.key||"",r.tileOptions={transition:t.transition},r.zDirection=t.zDirection?t.zDirection:0,r}return ne(t,e),t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var r=this.getTileCacheForProjection(e);r&&r.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,r,n){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var o,s,l,u=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=a(t,c,h),l=!1,i.containsKey(s)&&(l=(o=i.get(s)).getState()===w.a.LOADED)&&(l=!1!==n(o)),l||(u=!1);return u},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,t,r,n,i){return Object(g.b)()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:$(e)},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!Object(_.equivalent)(t,e)?null:this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=this.getTilePixelRatio(t),o=Object(V.d)(n.getTileSize(e),this.tmpSize);return 1==i?o:Object(V.c)(o,i,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var r=void 0!==t?t:this.getProjection(),n=this.getTileGridForProjection(r);return this.getWrapX()&&r.isGlobal()&&(e=function(e,t,r){var n=t[0],i=e.getTileCoordCenter(t),o=re(r);if(Object(f.containsCoordinate)(o,i))return t;var a=Object(f.getWidth)(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,e.getTileCoordForCoordAndZ(i,n)}(n,e,r)),function(e,t){var r=e[0],n=e[1],i=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var o,a=t.getExtent();return!(o=a?t.getTileRangeForExtentAndZ(a,r):t.getFullTileRange(r))||o.containsXY(n,i)}(e,n)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),e.prototype.refresh.call(this)},t.prototype.useTile=function(e,t,r,n){},t}(W.a),oe=function(e){function t(t,r){var n=e.call(this,t)||this;return n.tile=r,n}return ne(t,e),t}(B.a),ae=ie,se="tileloadstart",le="tileloadend",ue="tileloaderror",ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),he=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.generateTileUrlFunction_=!t.tileUrlFunction,r.tileLoadFunction=t.tileLoadFunction,r.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(r):p,r.urls=null,t.urls?r.setUrls(t.urls):t.url&&r.setUrl(t.url),r.tileLoadingKeys_={},r}return ce(t,e),t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,r=e.target,n=Object(g.c)(r),i=r.getState();i==w.a.LOADING?(this.tileLoadingKeys_[n]=!0,t=se):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],t=i==w.a.ERROR?ue:i==w.a.LOADED||i==w.a.ABORT?le:void 0),null!=t&&this.dispatchEvent(new oe(t,r))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=d(e);this.urls=t,this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(c(e,this.tileGrid),t):this.setKey(t)},t.prototype.useTile=function(e,t,r){var n=a(e,t,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(ae),pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function de(e,t){e.getImage().src=t}var fe=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:de,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return r.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,r.tileClass=void 0!==t.tileClass?t.tileClass:I,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return pe(t,e),t.prototype.canExpireCache=function(){if(!v.a)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},t.prototype.expireCache=function(t,r){if(v.a){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?r:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?r:{})}}else e.prototype.expireCache.call(this,t,r)},t.prototype.getGutterForProjection=function(e){return v.a&&this.getProjection()&&e&&!Object(_.equivalent)(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getOpaque=function(t){return!(v.a&&this.getProjection()&&t&&!Object(_.equivalent)(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(t){if(!v.a)return e.prototype.getTileGridForProjection.call(this,t);var r=this.getProjection();if(!this.tileGrid||r&&!Object(_.equivalent)(r,t)){var n=Object(g.c)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=$(t)),this.tileGridForProjection[n]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(t){if(!v.a)return e.prototype.getTileCacheForProjection.call(this,t);var r=this.getProjection();if(!r||Object(_.equivalent)(r,t))return this.tileCache;var n=Object(g.c)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new A(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},t.prototype.createTile_=function(e,t,r,n,i,o){var a=[e,t,r],s=this.getTileCoordForTileUrlFunction(a,i),l=s?this.tileUrlFunction(s,n,i):void 0,u=new this.tileClass(a,void 0!==l?w.a.IDLE:w.a.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(T.a.CHANGE,this.handleTileChange.bind(this)),u},t.prototype.getTile=function(e,t,r,n,i){var o=this.getProjection();if(v.a&&o&&i&&!Object(_.equivalent)(o,i)){var a=this.getTileCacheForProjection(i),l=[e,t,r],u=void 0,c=s(l);a.containsKey(c)&&(u=a.get(c));var h=this.getKey();if(u&&u.key==h)return u;var p=this.getTileGridForProjection(o),d=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(l,i),g=new z(o,p,i,d,l,f,this.getTilePixelRatio(n),this.getGutter(),function(e,t,r,n){return this.getTileInternal(e,t,r,n,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=h,u?(g.interimTile=u,g.refreshInterimChain(),a.replace(c,g)):a.set(c,g),g}return this.getTileInternal(e,t,r,n,o||i)},t.prototype.getTileInternal=function(e,t,r,n,i){var o=null,s=a(e,t,r),l=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=l){var u=o;o=this.createTile_(e,t,r,n,i,l),u.getState()==w.a.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(e,t,r,n,i,l),this.tileCache.set(s,o);return o},t.prototype.setRenderReprojectionEdges=function(e){if(v.a&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){if(v.a){var r=Object(_.get)(e);if(r){var n=Object(g.c)(r);n in this.tileGridForProjection||(this.tileGridForProjection[n]=t)}}},t}(he),ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var me=function(e){function t(t){var r=this,n=void 0!==t.hidpi&&t.hidpi;return(r=e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(_.get)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:b.a.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this).hidpi_=n,r.culture_=void 0!==t.culture?t.culture:"en-us",r.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,r.apiKey_=t.key,r.imagerySet_=t.imagerySet,m("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+r.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+r.apiKey_+"&c="+r.culture_,r.handleImageryMetadataResponse.bind(r),void 0,"jsonp"),r}return ge(t,e),t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],r=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,n=re(this.getProjection()),i=this.hidpi_?2:1,a=t.imageWidth==t.imageHeight?t.imageWidth/i:[t.imageWidth/i,t.imageHeight/i],s=J({extent:n,minZoom:t.zoomMin,maxZoom:r,tileSize:a});this.tileGrid=s;var l=this.culture_,u=this.hidpi_;if(this.tileUrlFunction=h(t.imageUrlSubdomains.map((function(e){var r=[0,0,0],n=t.imageUrl.replace("{subdomain}",e).replace("{culture}",l);return function(e,t,i){if(e){o(e[0],e[1],e[2],r);var a=n;return u&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",function(e){var t,r,n=e[0],i=new Array(n),o=1<<n-1;for(t=0;t<n;++t)r=48,e[1]&o&&(r+=1),e[2]&o&&(r+=2),i[t]=String.fromCharCode(r),o>>=1;return i.join("")}(r))}}}))),t.imageryProviders){var c=Object(_.getTransformFromProjections)(Object(_.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var r=[],n=e.viewState,i=this.getTileGrid(),o=i.getZForResolution(n.resolution,this.zDirection),a=i.getTileCoordForCoordAndZ(n.center,o)[0];return t.imageryProviders.map((function(t){for(var n=!1,i=t.coverageAreas,o=0,s=i.length;o<s;++o){var l=i[o];if(a>=l.zoomMin&&a<=l.zoomMax){var u=l.bbox,h=[u[1],u[0],u[3],u[2]],p=Object(f.applyTransform)(h,c);if(Object(f.intersects)(p,e.extent)){n=!0;break}}}n&&r.push(t.attribution)})),r.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>'),r}.bind(this))}this.setState(b.a.READY)}else this.setState(b.a.ERROR)},t}(fe),ye=r(22),_e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be=function(e){function t(t){var r=t||{},n=void 0!==r.projection?r.projection:"EPSG:3857",i=void 0!==r.tileGrid?r.tileGrid:J({extent:re(n),maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return e.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:r.opaque,projection:n,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this}return _e(t,e),t}(fe),ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),we=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,wrapX:t.wrapX})||this;return r.account_=t.account,r.mapId_=t.map||"",r.config_=t.config||{},r.templateCache_={},r.initializeMap_(),r}return ve(t,e),t.prototype.getConfig=function(){return this.config_},t.prototype.updateConfig=function(e){Object(ye.a)(this.config_,e),this.initializeMap_()},t.prototype.setConfig=function(e){this.config_=e||{},this.initializeMap_()},t.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e])this.applyTemplate_(this.templateCache_[e]);else{var t="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(t+="/named/"+this.mapId_);var r=new XMLHttpRequest;r.addEventListener("load",this.handleInitResponse_.bind(this,e)),r.addEventListener("error",this.handleInitError_.bind(this)),r.open("POST",t),r.setRequestHeader("Content-type","application/json"),r.send(JSON.stringify(this.config_))}},t.prototype.handleInitResponse_=function(e,t){var r=t.target;if(!r.status||r.status>=200&&r.status<300){var n=void 0;try{n=JSON.parse(r.responseText)}catch(e){return void this.setState(b.a.ERROR)}this.applyTemplate_(n),this.templateCache_[e]=n,this.setState(b.a.READY)}else this.setState(b.a.ERROR)},t.prototype.handleInitError_=function(e){this.setState(b.a.ERROR)},t.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)},t}(be),Oe=r(108),Ee=r(6),Te=r(37),Se=r(102),Ce=r(129),xe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ke=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,wrapX:t.wrapX})||this;return r.resolution=void 0,r.distance=void 0!==t.distance?t.distance:20,r.features=[],r.geometryFunction=t.geometryFunction||function(e){var t=e.getGeometry();return Object(n.a)(t.getType()==Ee.a.POINT,10),t},r.source=t.source,r.source.addEventListener(T.a.CHANGE,r.refresh.bind(r)),r}return xe(t,e),t.prototype.getDistance=function(){return this.distance},t.prototype.getSource=function(){return this.source},t.prototype.loadFeatures=function(e,t,r){this.source.loadFeatures(e,t,r),t!==this.resolution&&(this.clear(),this.resolution=t,this.cluster(),this.addFeatures(this.features))},t.prototype.setDistance=function(e){this.distance=e,this.refresh()},t.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},t.prototype.cluster=function(){if(void 0!==this.resolution){this.features.length=0;for(var e=Object(f.createEmpty)(),t=this.distance*this.resolution,r=this.source.getFeatures(),n={},i=0,o=r.length;i<o;i++){var a=r[i];if(!(Object(g.c)(a)in n)){var s=this.geometryFunction(a);if(s){var l=s.getCoordinates();Object(f.createOrUpdateFromCoordinate)(l,e),Object(f.buffer)(e,t,e);var u=this.source.getFeaturesInExtent(e);u=u.filter((function(e){var t=Object(g.c)(e);return!(t in n)&&(n[t]=!0,!0)})),this.features.push(this.createCluster(u))}}}}},t.prototype.createCluster=function(e){for(var t=[0,0],r=e.length-1;r>=0;--r){var n=this.geometryFunction(e[r]);n?Object(Te.a)(t,n.getCoordinates()):e.splice(r,1)}Object(Te.g)(t,1/e.length);var i=new Oe.a(new Se.a(t));return i.set("features",e),i},t}(Ce.a),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe="default",Ie="truncated",je=function(e){function t(t,r,n,i,o,a,s,l){var u=e.call(this,n,i,o,a,s,l)||this;return u.zoomifyImage_=null,u.tileSize_=Object(V.d)(r.getTileSize(n[0])).map((function(e){return e*t})),u}return Re(t,e),t.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var t=e.prototype.getImage.call(this);if(this.state==w.a.LOADED){var r=this.tileSize_;if(t.width==r[0]&&t.height==r[1])return this.zoomifyImage_=t,t;var n=Object(x.a)(r[0],r[1]);return n.drawImage(t,0,0),this.zoomifyImage_=n.canvas,n.canvas}return t},t}(I),Le=function(e){function t(t){var r=this,i=t||{},o=i.size,a=void 0!==i.tierSizeCalculation?i.tierSizeCalculation:Pe,s=o[0],l=o[1],u=i.extent||[0,-o[1],o[0],0],c=[],p=i.tileSize||K.b,g=i.tilePixelRatio||1,m=p;switch(a){case Pe:for(;s>m||l>m;)c.push([Math.ceil(s/m),Math.ceil(l/m)]),m+=m;break;case Ie:for(var y=s,_=l;y>m||_>m;)c.push([Math.ceil(y/m),Math.ceil(_/m)]),y>>=1,_>>=1;break;default:Object(n.a)(!1,53)}c.push([1,1]),c.reverse();for(var b=[1],v=[0],w=1,O=c.length;w<O;w++)b.push(1<<w),v.push(c[w-1][0]*c[w-1][1]+v[w-1]);b.reverse();var E=new Q({tileSize:p,extent:u,origin:Object(f.getTopLeft)(u),resolutions:b}),T=i.url;T&&-1==T.indexOf("{TileGroup}")&&-1==T.indexOf("{tileIndex}")&&(T+="{TileGroup}/{z}-{x}-{y}.jpg");var S=h(d(T).map((function(e){return function(t,r,n){if(t){var i=t[0],o=t[1],a=t[2],s=o+a*c[i][0],l=E.getTileSize(i),u=Array.isArray(l)?l[0]:l,h={z:i,x:o,y:a,tileIndex:s,TileGroup:"TileGroup"+((s+v[i])/u|0)};return e.replace(/\{(\w+?)\}/g,(function(e,t){return h[t]}))}}}))),C=je.bind(null,g,E);return(r=e.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,tilePixelRatio:g,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileClass:C,tileGrid:E,tileUrlFunction:S,transition:i.transition})||this).zDirection=i.zDirection,r}return Re(t,e),t}(fe),Ae="version1",Fe="version2",Me="version3",Ne={};Ne[Ae]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},Ne[Fe]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},Ne[Me]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},Ne.none={none:{supports:[],formats:[],qualities:[]}};var De=new RegExp("^https?://library.stanford.edu/iiif/image-api/(1.1/)?compliance.html#level[0-2]$"),Ge=new RegExp("^https?://iiif.io/api/image/2/level[0-2](.json)?$"),Ue=new RegExp("(^https?://iiif.io/api/image/3/level[0-2](.json)?$)|(^level[0-2]$)");var ze={};ze[Ae]=function(e){var t=e.getComplianceLevelSupportedFeatures();return void 0===t&&(t=Ne[Ae].level0),{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),supports:t.supports,formats:t.formats.concat([void 0===e.imageInfo.formats?[]:e.imageInfo.formats]),qualities:t.qualities.concat([void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities]),resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:null!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}},ze[Fe]=function(e){var t=e.getComplianceLevelSupportedFeatures(),r=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,n=r&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],i=r&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],o=r&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(info.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return void 0===e.height?e.width:e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:t.supports.concat(n),formats:t.formats.concat(i),qualities:t.qualities.concat(o)}},ze[Me]=function(e){var t=e.getComplianceLevelSupportedFeatures(),r=void 0===e.imageInfo.extraFormats?t.formats:t.formats.concat(e.imageInfo.extraFormats),n=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter((function(e){return["jpg","png","gif"].includes(e)})).reduce((function(e,t){return void 0===e&&r.includes(t)?t:e}),void 0):void 0;return{url:e.imageInfo.id,sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map((function(e){return[e.width,e.height]})),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map((function(e){return e.width}))[0],e.imageInfo.tiles.map((function(e){return e.height}))[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map((function(e){return e.scaleFactors}))[0],supports:void 0===e.imageInfo.extraFeatures?t.supports:t.supports.concat(e.imageInfo.extraFeatures),formats:r,qualities:void 0===e.imageInfo.extraQualities?t.qualities:t.qualities.concat(e.imageInfo.extraQualities),preferredFormat:n}};!function(){function e(e){this.setImageInfo(e)}e.prototype.setImageInfo=function(e){this.imageInfo="string"==typeof e?JSON.parse(e):e},e.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var e=this.imageInfo["@context"]||"ol-no-context";"string"==typeof e&&(e=[e]);for(var t=0;t<e.length;t++)switch(e[t]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return Ae;case"http://iiif.io/api/image/2/context.json":return Fe;case"http://iiif.io/api/image/3/context.json":return Me;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(Ae)&&this.imageInfo.identifier)return Ae}Object(n.a)(!1,61)}},e.prototype.getComplianceLevelEntryFromProfile=function(e){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===e&&(e=this.getImageApiVersion()),e){case Ae:if(De.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Me:if(Ue.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Fe:if("string"==typeof this.imageInfo.profile&&Ge.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"==typeof this.imageInfo.profile[0]&&Ge.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}},e.prototype.getComplianceLevelFromProfile=function(e){var t=this.getComplianceLevelEntryFromProfile(e);if(void 0!==t){var r=t.match(/level[0-2](\.json)?$/g);return Array.isArray(r)?r[0].replace(".json",""):void 0}},e.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var e=this.getImageApiVersion(),t=this.getComplianceLevelFromProfile(e);return void 0===t?Ne.none.none:Ne[e][t]}},e.prototype.getTileSourceOptions=function(e){var t=e||{},r=this.getImageApiVersion();if(void 0!==r){var n=void 0===r?void 0:ze[r](this);if(void 0!==n)return{url:n.url,version:r,size:[this.imageInfo.width,this.imageInfo.height],sizes:n.sizes,format:void 0!==t.format&&n.formats.includes(t.format)?t.format:void 0!==n.preferredFormat?n.preferredFormat:"jpg",supports:n.supports,quality:t.quality&&n.qualities.includes(t.quality)?t.quality:n.qualities.includes("native")?"native":"default",resolutions:Array.isArray(n.resolutions)?n.resolutions.sort((function(e,t){return t-e})):void 0,tileSize:n.tileSize}}}}();var Be=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ve(e){return e.toLocaleString("en",{maximumFractionDigits:10})}var We=function(e){function t(t){var r=this,i=t||{},o=i.url||"";o+=o.lastIndexOf("/")===o.length-1||""===o?"":"/";var a=i.version||Fe,s=i.sizes||[],l=i.size;Object(n.a)(null!=l&&Array.isArray(l)&&2==l.length&&!isNaN(l[0])&&l[0]>0&&!isNaN(l[1])&&l[1]>0,60);var u,c,h,p=l[0],d=l[1],g=i.tileSize,m=i.tilePixelRatio||1,y=i.format||"jpg",_=i.quality||(i.version==Ae?"native":"default"),b=i.resolutions||[],v=i.supports||[],w=i.extent||[0,-d,p,0],O=null!=s&&Array.isArray(s)&&s.length>0,E=null!=g&&("number"==typeof g&&Number.isInteger(g)&&g>0||Array.isArray(g)&&g.length>0),T=null!=v&&Array.isArray(v)&&(v.includes("regionByPx")||v.includes("regionByPct"))&&(v.includes("sizeByWh")||v.includes("sizeByH")||v.includes("sizeByW")||v.includes("sizeByPct"));if(b.sort((function(e,t){return t-e})),E||T)if(null!=g&&("number"==typeof g&&Number.isInteger(g)&&g>0?(u=g,c=g):Array.isArray(g)&&g.length>0&&((1==g.length||null==g[1]&&Number.isInteger(g[0]))&&(u=g[0],c=g[0]),2==g.length&&(Number.isInteger(g[0])&&Number.isInteger(g[1])?(u=g[0],c=g[1]):null==g[0]&&Number.isInteger(g[1])&&(u=g[1],c=g[1])))),void 0!==u&&void 0!==c||(u=K.b,c=K.b),0==b.length)for(var S=h=Math.max(Math.ceil(Math.log(p/u)/Math.LN2),Math.ceil(Math.log(d/c)/Math.LN2));S>=0;S--)b.push(Math.pow(2,S));else{var C=Math.max.apply(Math,b);h=Math.round(Math.log(C)/Math.LN2)}else if(u=p,c=d,b=[],O){s.sort((function(e,t){return e[0]-t[0]})),h=-1;var x=[];for(S=0;S<s.length;S++){var k=p/s[S][0];b.length>0&&b[b.length-1]==k?x.push(S):(b.push(k),h++)}if(x.length>0)for(S=0;S<x.length;S++)s.splice(x[S]-S,1)}else b.push(1),s.push([p,d]),h=0;var R=new Q({tileSize:[u,c],extent:w,origin:Object(f.getTopLeft)(w),resolutions:b}),P=je.bind(null,m,R);return(r=e.call(this,{attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,state:i.state,tileClass:P,tileGrid:R,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:function(e,t,r){var n,i,l=e[0];if(!(l>h)){var f=e[1],g=e[2],m=b[l];if(!(void 0===f||void 0===g||void 0===m||f<0||Math.ceil(p/m/u)<=f||g<0||Math.ceil(d/m/c)<=g)){if(T||E){var w=f*u*m,S=g*c*m,C=u*m,x=c*m,k=u,R=c;if(w+C>p&&(C=p-w),S+x>d&&(x=d-S),w+u*m>p&&(k=Math.floor((p-w+m-1)/m)),S+c*m>d&&(R=Math.floor((d-S+m-1)/m)),0==w&&C==p&&0==S&&x==d)n="full";else if(!T||v.includes("regionByPx"))n=w+","+S+","+C+","+x;else if(v.includes("regionByPct")){n="pct:"+Ve(w/p*100)+","+Ve(S/d*100)+","+Ve(C/p*100)+","+Ve(x/d*100)}a!=Me||T&&!v.includes("sizeByWh")?!T||v.includes("sizeByW")?i=k+",":v.includes("sizeByH")?i=","+R:v.includes("sizeByWh")?i=k+","+R:v.includes("sizeByPct")&&(i="pct:"+Ve(100/m)):i=k+","+R}else if(n="full",O){var P=s[l][0],I=s[l][1];i=a==Me?P==p&&I==d?"max":P+","+I:P==p?"full":P+","}else i=a==Me?"max":"full";return o+n+"/"+i+"/0/"+_+"."+y}}},transition:i.transition})||this).zDirection=i.zDirection,r}return Be(t,e),t}(fe),Ke=r(30),He=r(178),Ye=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xe=function(e){function t(t,r,n,i,o,a){var s=this,l=t.getExtent(),u=r.getExtent(),c=u?Object(f.getIntersection)(n,u):n,h=M(t,r,Object(f.getCenter)(c),i),p=v.b,d=new G(t,r,c,l,h*p),g=a(d.calculateSourceExtent(),h,o),m=g?Ke.a.IDLE:Ke.a.EMPTY,y=g?g.getPixelRatio():1;return(s=e.call(this,n,i,y,m)||this).targetProj_=r,s.maxSourceExtent_=l,s.triangulation_=d,s.targetResolution_=i,s.targetExtent_=n,s.sourceImage_=g,s.sourcePixelRatio_=y,s.canvas_=null,s.sourceListenerKey_=null,s}return Ye(t,e),t.prototype.disposeInternal=function(){this.state==Ke.a.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.getProjection=function(){return this.targetProj_},t.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==Ke.a.LOADED){var t=Object(f.getWidth)(this.targetExtent_)/this.targetResolution_,r=Object(f.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=D(t,r,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e,this.changed()},t.prototype.load=function(){if(this.state==Ke.a.IDLE){this.state=Ke.a.LOADING,this.changed();var e=this.sourceImage_.getState();e==Ke.a.LOADED||e==Ke.a.ERROR?this.reproject_():(this.sourceListenerKey_=Object(F.a)(this.sourceImage_,T.a.CHANGE,(function(e){var t=this.sourceImage_.getState();t!=Ke.a.LOADED&&t!=Ke.a.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},t.prototype.unlistenSource_=function(){Object(F.c)(this.sourceListenerKey_),this.sourceListenerKey_=null},t}(He.a),Ze=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qe="imageloadstart",Qe="imageloadend",$e="imageloaderror",Je=function(e){function t(t,r){var n=e.call(this,t)||this;return n.image=r,n}return Ze(t,e),t}(B.a);function et(e,t){e.getImage().src=t}var tt=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,projection:t.projection,state:t.state})||this;return r.resolutions_=void 0!==t.resolutions?t.resolutions:null,r.reprojectedImage_=null,r.reprojectedRevision_=0,r}return Ze(t,e),t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=Object(Z.h)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},t.prototype.getImage=function(e,t,r,n){var i=this.getProjection();if(v.a&&i&&n&&!Object(_.equivalent)(i,n)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Object(_.equivalent)(this.reprojectedImage_.getProjection(),n)&&this.reprojectedImage_.getResolution()==t&&Object(f.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new Xe(i,n,e,t,r,function(e,t,r){return this.getImageInternal(e,t,r,i)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return i&&(n=i),this.getImageInternal(e,t,r,n)},t.prototype.getImageInternal=function(e,t,r,n){return Object(g.b)()},t.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case Ke.a.LOADING:this.loading=!0,this.dispatchEvent(new Je(qe,t));break;case Ke.a.LOADED:this.loading=!1,this.dispatchEvent(new Je(Qe,t));break;case Ke.a.ERROR:this.loading=!1,this.dispatchEvent(new Je($e,t))}},t}(W.a);function rt(e,t){var r=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&r.push(e+"="+encodeURIComponent(t[e]))}));var n=r.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+n}var nt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.hidpi_=void 0===n.hidpi||n.hidpi,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:et,r.params_=n.params||{},r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return nt(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(f.containsExtent)(i.getExtent(),e))return i;var o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object(ye.a)(o,this.params_);var a=((e=e.slice())[0]+e[2])/2,s=(e[1]+e[3])/2;if(1!=this.ratio_){var l=this.ratio_*Object(f.getWidth)(e)/2,u=this.ratio_*Object(f.getHeight)(e)/2;e[0]=a-l,e[1]=s-u,e[2]=a+l,e[3]=s+u}var c=t/r,h=Math.ceil(Object(f.getWidth)(e)/c),p=Math.ceil(Object(f.getHeight)(e)/c);e[0]=a-c*h/2,e[2]=a+c*h/2,e[1]=s-c*p/2,e[3]=s+c*p/2,this.imageSize_[0]=h,this.imageSize_[1]=p;var d=this.getRequestUrl_(e,this.imageSize_,r,n,o);return this.image_=new k.a(e,t,r,d,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(T.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,r,i,o){var a=i.getCode().split(":").pop();o.SIZE=t[0]+","+t[1],o.BBOX=e.join(","),o.BBOXSR=a,o.IMAGESR=a,o.DPI=Math.round(90*r);var s=this.url_,l=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return l==s&&Object(n.a)(!1,50),rt(l,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(ye.a)(this.params_,e),this.image_=null,this.changed()},t}(tt),ot=r(180),at=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),st=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions,state:n.state})||this).canvasFunction_=n.canvasFunction,r.canvas_=null,r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return at(t,e),t.prototype.getImageInternal=function(e,t,r,n){t=this.findNearestResolution(t);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(f.containsExtent)(i.getExtent(),e))return i;e=e.slice(),Object(f.scaleFromCenter)(e,this.ratio_);var o=[Object(f.getWidth)(e)/t*r,Object(f.getHeight)(e)/t*r],a=this.canvasFunction_.call(this,e,t,r,o,n);return a&&(i=new ot.a(e,t,r,a)),this.canvas_=i,this.renderedRevision_=this.getRevision(),i},t}(tt),lt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var ut=function(e){function t(t){var r=e.call(this,{projection:t.projection,resolutions:t.resolutions})||this;return r.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,r.displayDpi_=void 0!==t.displayDpi?t.displayDpi:96,r.params_=t.params||{},r.url_=t.url,r.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:et,r.hidpi_=void 0===t.hidpi||t.hidpi,r.metersPerUnit_=void 0!==t.metersPerUnit?t.metersPerUnit:1,r.ratio_=void 0!==t.ratio?t.ratio:1,r.useOverlay_=void 0!==t.useOverlay&&t.useOverlay,r.image_=null,r.renderedRevision_=0,r}return lt(t,e),t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){t=this.findNearestResolution(t),r=this.hidpi_?r:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==r&&Object(f.containsExtent)(i.getExtent(),e))return i;1!=this.ratio_&&(e=e.slice(),Object(f.scaleFromCenter)(e,this.ratio_));var o=[Object(f.getWidth)(e)/t*r,Object(f.getHeight)(e)/t*r];if(void 0!==this.url_){var a=this.getUrl(this.url_,this.params_,e,o,n);(i=new k.a(e,t,r,a,this.crossOrigin_,this.imageLoadFunction_)).addEventListener(T.a.CHANGE,this.handleImageChange.bind(this))}else i=null;return this.image_=i,this.renderedRevision_=this.getRevision(),i},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.updateParams=function(e){Object(ye.a)(this.params_,e),this.changed()},t.prototype.getUrl=function(e,t,r,n,i){var o=function(e,t,r,n){var i=Object(f.getWidth)(e),o=Object(f.getHeight)(e),a=t[0],s=t[1],l=.0254/n;return s*i>a*o?i*r/(a*l):o*r/(s*l)}(r,n,this.metersPerUnit_,this.displayDpi_),a=Object(f.getCenter)(r),s={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:o,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};return Object(ye.a)(s,t),rt(e,s)},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t}(tt),ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ht=function(e){function t(t){var r=this,n=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.imageLoadFunction?t.imageLoadFunction:et;return(r=e.call(this,{attributions:t.attributions,projection:Object(_.get)(t.projection)})||this).url_=t.url,r.imageExtent_=t.imageExtent,r.image_=new k.a(r.imageExtent_,void 0,1,r.url_,n,i),r.imageSize_=t.imageSize?t.imageSize:null,r.image_.addEventListener(T.a.CHANGE,r.handleImageChange.bind(r)),r}return ct(t,e),t.prototype.getImageExtent=function(){return this.imageExtent_},t.prototype.getImageInternal=function(e,t,r,n){return Object(f.intersects)(e,this.image_.getExtent())?this.image_:null},t.prototype.getUrl=function(){return this.url_},t.prototype.handleImageChange=function(t){if(this.image_.getState()==Ke.a.LOADED){var r=this.image_.getExtent(),n=this.image_.getImage(),i=void 0,o=void 0;this.imageSize_?(i=this.imageSize_[0],o=this.imageSize_[1]):(i=n.width,o=n.height);var a=Object(f.getHeight)(r)/o,s=Math.ceil(Object(f.getWidth)(r)/a);if(s!=i){var l=Object(x.a)(s,o),u=l.canvas;l.drawImage(n,0,0,i,o,0,0,u.width,u.height),this.image_.setImage(u)}}e.prototype.handleImageChange.call(this,t)},t}(tt),pt="carmentaserver",dt="geoserver",ft="mapserver",gt="qgis",mt=r(159),yt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),_t=[101,101],bt=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions})||this).crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,r.url_=n.url,r.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:et,r.params_=n.params||{},r.v13_=!0,r.updateV13_(),r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.image_=null,r.imageSize_=[0,0],r.renderedRevision_=0,r.ratio_=void 0!==n.ratio?n.ratio:1.5,r}return yt(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){if(void 0!==this.url_){var i=Object(_.get)(r),o=this.getProjection();o&&o!==i&&(t=M(o,i,e,t),e=Object(_.transform)(e,i,o));var a=Object(f.getForViewAndSize)(e,t,0,_t),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ye.a)(s,this.params_,n);var l=Math.floor((e[0]-a[0])/t),u=Math.floor((a[3]-e[1])/t);return s[this.v13_?"I":"X"]=l,s[this.v13_?"J":"Y"]=u,this.getRequestUrl_(a,_t,1,o||i,s)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.url_){var r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*i*39.37*(25.4/.28)}return Object(ye.a)(r,t),rt(this.url_,r)}},t.prototype.getParams=function(){return this.params_},t.prototype.getImageInternal=function(e,t,r,n){if(void 0===this.url_)return null;t=this.findNearestResolution(t),1==r||this.hidpi_&&void 0!==this.serverType_||(r=1);var i=t/r,o=Object(f.getCenter)(e),a=Math.ceil(Object(f.getWidth)(e)/i),s=Math.ceil(Object(f.getHeight)(e)/i),l=Object(f.getForViewAndSize)(o,i,0,[a,s]),u=Math.ceil(this.ratio_*Object(f.getWidth)(e)/i),c=Math.ceil(this.ratio_*Object(f.getHeight)(e)/i),h=Object(f.getForViewAndSize)(o,i,0,[u,c]),p=this.image_;if(p&&this.renderedRevision_==this.getRevision()&&p.getResolution()==t&&p.getPixelRatio()==r&&Object(f.containsExtent)(p.getExtent(),l))return p;var d={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object(ye.a)(d,this.params_),this.imageSize_[0]=Math.round(Object(f.getWidth)(h)/i),this.imageSize_[1]=Math.round(Object(f.getHeight)(h)/i);var g=this.getRequestUrl_(h,this.imageSize_,r,n,d);return this.image_=new k.a(h,t,r,g,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),this.image_.addEventListener(T.a.CHANGE,this.handleImageChange.bind(this)),this.image_},t.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},t.prototype.getRequestUrl_=function(e,t,r,i,o){if(Object(n.a)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case dt:var a=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case ft:o.MAP_RESOLUTION=90*r;break;case pt:case gt:o.DPI=90*r;break;default:Object(n.a)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];var s,l=i.getAxisOrientation();return s=this.v13_&&"ne"==l.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=s.join(","),rt(this.url_,o)},t.prototype.getUrl=function(){return this.url_},t.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},t.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},t.prototype.updateParams=function(e){Object(ye.a)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},t.prototype.updateV13_=function(){var e=this.params_.VERSION||"1.3.0";this.v13_=Object(mt.a)(e,"1.3")>=0},t}(tt),vt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),wt='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',Ot=function(e){function t(t){var r,n=t||{};r=void 0!==n.attributions?n.attributions:[wt];var i=void 0!==n.crossOrigin?n.crossOrigin:"anonymous",o=void 0!==n.url?n.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:r,cacheSize:n.cacheSize,crossOrigin:i,opaque:void 0===n.opaque||n.opaque,maxZoom:void 0!==n.maxZoom?n.maxZoom:19,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileLoadFunction:n.tileLoadFunction,url:o,wrapX:n.wrapX,attributionsCollapsible:!1})||this}return vt(t,e),t}(be),Et=r(233),Tt=r(271),St=r(211),Ct=r(214),xt=r(18),kt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rt="beforeoperations",Pt="afteroperations",It="pixel",jt="image",Lt=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.extent=r.extent,i.resolution=r.viewState.resolution/r.pixelRatio,i.data=n,i}return kt(t,e),t}(B.a),At=function(e){function t(t){var r=e.call(this,{projection:null})||this;r.worker_=null,r.operationType_=void 0!==t.operationType?t.operationType:It,r.threads_=void 0!==t.threads?t.threads:1,r.layers_=function(e){for(var t=e.length,r=new Array(t),n=0;n<t;++n)r[n]=Nt(e[n]);return r}(t.sources);for(var n,i=r.changed.bind(r),o=0,a=r.layers_.length;o<a;++o)r.layers_[o].addEventListener(T.a.CHANGE,i);return r.tileQueue_=new Et.a((function(){return 1}),r.changed.bind(r)),r.requestedFrameState_,r.renderedImageCanvas_=null,r.renderedRevision_,r.frameState_={animate:!1,coordinateToPixelTransform:Object(xt.c)(),extent:null,index:0,layerIndex:0,layerStatesArray:(n=r.layers_,n.map((function(e){return e.getLayerState()}))),pixelRatio:1,pixelToCoordinateTransform:Object(xt.c)(),postRenderFunctions:[],size:[0,0],tileQueue:r.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},declutterItems:[]},r.setAttributions((function(e){for(var r=[],n=0,i=t.sources.length;n<i;++n){var o=t.sources[n],a=(o instanceof W.a?o:o.getSource()).getAttributions();if("function"==typeof a){var s=a(e);r.push.apply(r,s)}}return 0!==r.length?r:null})),void 0!==t.operation&&r.setOperation(t.operation,t.lib),r}return kt(t,e),t.prototype.setOperation=function(e,t){this.worker_=new Tt.Processor({operation:e,imageOps:this.operationType_===jt,queue:1,lib:t,threads:this.threads_}),this.changed()},t.prototype.updateFrameState_=function(e,t,r){var n=Object(ye.a)({},this.frameState_);n.viewState=Object(ye.a)({},n.viewState);var i=Object(f.getCenter)(e);n.extent=e.slice(),n.size[0]=Math.round(Object(f.getWidth)(e)/t),n.size[1]=Math.round(Object(f.getHeight)(e)/t),n.time=1/0;var o=n.viewState;return o.center=i,o.projection=r,o.resolution=t,n},t.prototype.allSourcesReady_=function(){for(var e=!0,t=0,r=this.layers_.length;t<r;++t)if(this.layers_[t].getSource().getState()!==b.a.READY){e=!1;break}return e},t.prototype.getImage=function(e,t,r,n){if(!this.allSourcesReady_())return null;var i=this.updateFrameState_(e,t,n);if(this.requestedFrameState_=i,this.renderedImageCanvas_){var o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();t===o&&Object(f.equals)(e,a)||(this.renderedImageCanvas_=null)}return this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_(),i.tileQueue.loadMoreTiles(16,16),i.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_},t.prototype.processSources_=function(){for(var e=this.requestedFrameState_,t=this.layers_.length,r=new Array(t),n=0;n<t;++n){e.layerIndex=n;var i=Mt(this.layers_[n],e);if(!i)return;r[n]=i}var o={};this.dispatchEvent(new Lt(Rt,e,o)),this.worker_.process(r,o,this.onWorkerComplete_.bind(this,e))},t.prototype.onWorkerComplete_=function(e,t,r,n){if(!t&&r){var i=e.extent,o=e.viewState.resolution;if(o===this.requestedFrameState_.viewState.resolution&&Object(f.equals)(i,this.requestedFrameState_.extent)){var a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{var s=Math.round(Object(f.getWidth)(i)/o),l=Math.round(Object(f.getHeight)(i)/o);a=Object(x.a)(s,l),this.renderedImageCanvas_=new ot.a(i,o,1,a.canvas)}a.putImageData(r,0,0),this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new Lt(Pt,e,n))}}},t.prototype.getImageInternal=function(){return null},t}(tt),Ft=null;function Mt(e,t){var r=e.getRenderer();if(!r)throw new Error("Unsupported layer type: "+e);if(!r.prepareFrame(t))return null;var n,i=t.size[0],o=t.size[1],a=r.renderFrame(t,null);if(a&&(n=a.firstElementChild),!(n instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+n);if(n.width===i&&n.height===o)return n.getContext("2d").getImageData(0,0,i,o);if(Ft){var s=Ft.canvas;s.width!==i||s.height!==o?Ft=Object(x.a)(i,o):Ft.clearRect(0,0,i,o)}else Ft=Object(x.a)(i,o);return Ft.drawImage(n,0,0,i,o),Ft.getImageData(0,0,i,o)}function Nt(e){var t;return e instanceof W.a?e instanceof ae?t=new Ct.a({source:e}):e instanceof tt&&(t=new St.a({source:e})):t=e,t}var Dt=At,Gt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ut=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',wt],zt={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},Bt={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},Vt=function(e){function t(t){var r=t.layer.indexOf("-"),n=-1==r?t.layer:t.layer.slice(0,r),i=Bt[n],o=zt[t.layer],a=void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+o.extension;return e.call(this,{attributions:Ut,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:null!=t.maxZoom?t.maxZoom:i.maxZoom,minZoom:null!=t.minZoom?t.minZoom:i.minZoom,opaque:o.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:a,wrapX:t.wrapX})||this}return Gt(t,e),t}(be),Wt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Kt(e,t,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_||(t=1);var i=n.getTileCoordExtent(e,this.tmpExtent_),o=Object(V.d)(n.getTileSize(e[0]),this.tmpSize);1!=t&&(o=Object(V.c)(o,t,this.tmpSize));var a={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};return Object(ye.a)(a,this.params_),this.getRequestUrl_(e,o,i,t,r,a)}}var Ht=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:Kt,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).params_=n.params||{},r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(f.createEmpty)(),r.setKey(r.getKeyForParams_()),r}return Wt(t,e),t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,n,o,a){var s=this.urls;if(s){var u,c=o.getCode().split(":").pop();if(a.SIZE=t[0]+","+t[1],a.BBOX=r.join(","),a.BBOXSR=c,a.IMAGESR=c,a.DPI=Math.round(a.DPI?a.DPI*n:90*n),1==s.length)u=s[0];else u=s[Object(i.d)(l(e),s.length)];return rt(u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),a)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_?e:1},t.prototype.updateParams=function(e){Object(ye.a)(this.params_,e),this.setKey(this.getKeyForParams_())},t}(fe),Yt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Xt=function(e){function t(t,r,n){var i=e.call(this,t,w.a.LOADED)||this;return i.tileSize_=r,i.text_=n,i.canvas_=null,i}return Yt(t,e),t.prototype.getImage=function(){if(this.canvas_)return this.canvas_;var e=this.tileSize_,t=Object(x.a)(e[0],e[1]);return t.strokeStyle="grey",t.strokeRect(.5,.5,e[0]+.5,e[1]+.5),t.fillStyle="grey",t.strokeStyle="white",t.textAlign="center",t.textBaseline="middle",t.font="24px sans-serif",t.lineWidth=4,t.strokeText(this.text_,e[0]/2,e[1]/2,e[0]),t.fillText(this.text_,e[0]/2,e[1]/2,e[0]),this.canvas_=t.canvas,t.canvas},t.prototype.load=function(){},t}(C),Zt=function(e){function t(t){var r=t||{};return e.call(this,{opaque:!1,projection:r.projection,tileGrid:r.tileGrid,wrapX:void 0===r.wrapX||r.wrapX,zDirection:r.zDirection})||this}return Yt(t,e),t.prototype.getTile=function(e,t,r){var n=a(e,t,r);if(this.tileCache.containsKey(n))return this.tileCache.get(n);var i=Object(V.d)(this.tileGrid.getTileSize(e)),o=[e,t,r],s=this.getTileCoordForTileUrlFunction(o),l=void 0;l=s?"z:"+s[0]+" x:"+s[1]+" y:"+s[2]:"none";var u=new Xt(o,i,l);return this.tileCache.set(n,u),u},t}(be),qt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qt=function(e){function t(t){var r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Object(_.get)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:b.a.LOADING,tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})||this;if(r.tileJSON_=null,r.tileSize_=t.tileSize,t.url)if(t.jsonp)m(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",t.url),i.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):Object(n.a)(!1,51);return r}return qt(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTileJSON=function(){return this.tileJSON_},t.prototype.handleTileJSONResponse=function(e){var t,r=Object(_.get)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(_.getTransformFromProjections)(r,n);t=Object(f.applyTransform)(e.bounds,i)}var o=e.minzoom||0,a=e.maxzoom||22,s=J({extent:re(n),maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=c(e.tiles,s),void 0!==e.attribution&&!this.getAttributions()){var l=void 0!==t?t:r.getExtent();this.setAttributions((function(t){return Object(f.intersects)(l,t.extent)?[e.attribution]:null}))}this.tileJSON_=e,this.setState(b.a.READY)},t.prototype.handleTileJSONError=function(){this.setState(b.a.ERROR)},t}(fe),$t=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Jt(e,t,r){var n=this.getTileGrid();if(n||(n=this.getTileGridForProjection(r)),!(n.getResolutions().length<=e[0])){1==t||this.hidpi_&&void 0!==this.serverType_||(t=1);var i=n.getResolution(e[0]),o=n.getTileCoordExtent(e,this.tmpExtent_),a=Object(V.d)(n.getTileSize(e[0]),this.tmpSize),s=this.gutter_;0!==s&&(a=Object(V.a)(a,s,this.tmpSize),o=Object(f.buffer)(o,i*s,o)),1!=t&&(a=Object(V.c)(a,t,this.tmpSize));var l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return Object(ye.a)(l,this.params_),this.getRequestUrl_(e,a,o,t,r,l)}}var er=function(e){function t(t){var r=this,n=t||{},i=n.params||{},o=!("TRANSPARENT"in i)||i.TRANSPARENT;return(r=e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!o,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:Jt,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition})||this).gutter_=void 0!==n.gutter?n.gutter:0,r.params_=i,r.v13_=!0,r.serverType_=n.serverType,r.hidpi_=void 0===n.hidpi||n.hidpi,r.tmpExtent_=Object(f.createEmpty)(),r.updateV13_(),r.setKey(r.getKeyForParams_()),r}return $t(t,e),t.prototype.getFeatureInfoUrl=function(e,t,r,n){var i=Object(_.get)(r),o=this.getProjection(),a=this.getTileGrid();a||(a=this.getTileGridForProjection(i));var s=a.getZForResolution(t,this.zDirection),l=a.getTileCoordForCoordAndZ(e,s);if(!(a.getResolutions().length<=l[0])){var u=a.getResolution(l[0]),c=a.getTileCoordExtent(l,this.tmpExtent_),h=Object(V.d)(a.getTileSize(l[0]),this.tmpSize),p=this.gutter_;0!==p&&(h=Object(V.a)(h,p,this.tmpSize),c=Object(f.buffer)(c,u*p,c)),o&&o!==i&&(u=M(o,i,e,u),c=Object(_.transformExtent)(c,i,o),e=Object(_.transform)(e,i,o));var d={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object(ye.a)(d,this.params_,n);var g=Math.floor((e[0]-c[0])/u),m=Math.floor((c[3]-e[1])/u);return d[this.v13_?"I":"X"]=g,d[this.v13_?"J":"Y"]=m,this.getRequestUrl_(l,h,c,1,o||i,d)}},t.prototype.getLegendUrl=function(e,t){if(void 0!==this.urls[0]){var r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===t||void 0===t.LAYER){var n=this.params_.LAYERS;if(!(!Array.isArray(n)||1===n.length))return;r.LAYER=n}if(void 0!==e){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;r.SCALE=e*i*39.37*(25.4/.28)}return Object(ye.a)(r,t),rt(this.urls[0],r)}},t.prototype.getGutter=function(){return this.gutter_},t.prototype.getParams=function(){return this.params_},t.prototype.getRequestUrl_=function(e,t,r,o,a,s){var u=this.urls;if(u){if(s.WIDTH=t[0],s.HEIGHT=t[1],s[this.v13_?"CRS":"SRS"]=a.getCode(),"STYLES"in this.params_||(s.STYLES=""),1!=o)switch(this.serverType_){case dt:var c=90*o+.5|0;"FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+=";dpi:"+c:s.FORMAT_OPTIONS="dpi:"+c;break;case ft:s.MAP_RESOLUTION=90*o;break;case pt:case gt:s.DPI=90*o;break;default:Object(n.a)(!1,52)}var h,p=a.getAxisOrientation(),d=r;if(this.v13_&&"ne"==p.substr(0,2)){var f=void 0;f=r[0],d[0]=r[1],d[1]=f,f=r[2],d[2]=r[3],d[3]=f}if(s.BBOX=d.join(","),1==u.length)h=u[0];else h=u[Object(i.d)(l(e),u.length)];return rt(h,s)}},t.prototype.getTilePixelRatio=function(e){return this.hidpi_&&void 0!==this.serverType_?e:1},t.prototype.getKeyForParams_=function(){var e=0,t=[];for(var r in this.params_)t[e++]=r+"-"+this.params_[r];return t.join("/")},t.prototype.updateParams=function(e){Object(ye.a)(this.params_,e),this.updateV13_(),this.setKey(this.getKeyForParams_())},t.prototype.updateV13_=function(){var e=this.params_.VERSION||"1.3.0";this.v13_=Object(mt.a)(e,"1.3")>=0},t}(fe),tr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),rr=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r)||this;return s.src_=n,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return tr(t,e),t.prototype.getImage=function(){return null},t.prototype.getData=function(e){if(!this.grid_||!this.keys_)return null;var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),r=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]),n=this.grid_[Math.floor((1-r)*this.grid_.length)];if("string"!=typeof n)return null;var i=n.charCodeAt(Math.floor(t*n.length));i>=93&&i--,i>=35&&i--;var o=null;if((i-=32)in this.keys_){var a=this.keys_[i];o=this.data_&&a in this.data_?this.data_[a]:a}return o},t.prototype.forDataAtCoordinate=function(e,t,r){this.state==w.a.IDLE&&!0===r?(Object(F.b)(this,T.a.CHANGE,(function(r){t(this.getData(e))}),this),this.loadInternal_()):!0===r?setTimeout(function(){t(this.getData(e))}.bind(this),0):t(this.getData(e))},t.prototype.getKey=function(){return this.src_},t.prototype.handleError_=function(){this.state=w.a.ERROR,this.changed()},t.prototype.handleLoad_=function(e){this.grid_=e.grid,this.keys_=e.keys,this.data_=e.data,this.state=w.a.EMPTY,this.changed()},t.prototype.loadInternal_=function(){if(this.state==w.a.IDLE)if(this.state=w.a.LOADING,this.jsonp_)m(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this)),e.addEventListener("error",this.onXHRError_.bind(this)),e.open("GET",this.src_),e.send()}},t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleError_()}this.handleLoad_(r)}else this.handleError_()},t.prototype.onXHRError_=function(e){this.handleError_()},t.prototype.load=function(){this.preemptive_&&this.loadInternal_()},t}(C),nr=function(e){function t(t){var r=e.call(this,{projection:Object(_.get)("EPSG:3857"),state:b.a.LOADING})||this;if(r.preemptive_=void 0===t.preemptive||t.preemptive,r.tileUrlFunction_=p,r.template_=void 0,r.jsonp_=t.jsonp||!1,t.url)if(r.jsonp_)m(t.url,r.handleTileJSONResponse.bind(r),r.handleTileJSONError.bind(r));else{var i=new XMLHttpRequest;i.addEventListener("load",r.onXHRLoad_.bind(r)),i.addEventListener("error",r.onXHRError_.bind(r)),i.open("GET",t.url),i.send()}else t.tileJSON?r.handleTileJSONResponse(t.tileJSON):Object(n.a)(!1,51);return r}return tr(t,e),t.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var r=void 0;try{r=JSON.parse(t.responseText)}catch(e){return void this.handleTileJSONError()}this.handleTileJSONResponse(r)}else this.handleTileJSONError()},t.prototype.onXHRError_=function(e){this.handleTileJSONError()},t.prototype.getTemplate=function(){return this.template_},t.prototype.forDataAtCoordinateAndResolution=function(e,t,r,n){if(this.tileGrid){var i=this.tileGrid.getZForResolution(t,this.zDirection),o=this.tileGrid.getTileCoordForCoordAndZ(e,i);this.getTile(o[0],o[1],o[2],1,this.getProjection()).forDataAtCoordinate(e,r,n)}else!0===n?setTimeout((function(){r(null)}),0):r(null)},t.prototype.handleTileJSONError=function(){this.setState(b.a.ERROR)},t.prototype.handleTileJSONResponse=function(e){var t,r=Object(_.get)("EPSG:4326"),n=this.getProjection();if(void 0!==e.bounds){var i=Object(_.getTransformFromProjections)(r,n);t=Object(f.applyTransform)(e.bounds,i)}var o=e.minzoom||0,a=e.maxzoom||22,s=J({extent:re(n),maxZoom:a,minZoom:o});this.tileGrid=s,this.template_=e.template;var l=e.grids;if(l){if(this.tileUrlFunction_=c(l,s),void 0!==e.attribution){var u=void 0!==t?t:r.getExtent();this.setAttributions((function(t){return Object(f.intersects)(u,t.extent)?[e.attribution]:null}))}this.setState(b.a.READY)}else this.setState(b.a.ERROR)},t.prototype.getTile=function(e,t,r,n,i){var o=a(e,t,r);if(this.tileCache.containsKey(o))return this.tileCache.get(o);var s=[e,t,r],l=this.getTileCoordForTileUrlFunction(s,i),u=this.tileUrlFunction_(l,n,i),c=new rr(s,void 0!==u?w.a.IDLE:w.a.EMPTY,void 0!==u?u:"",this.tileGrid.getTileCoordExtent(s),this.preemptive_,this.jsonp_);return this.tileCache.set(o,c),c},t.prototype.useTile=function(e,t,r){var n=a(e,t,r);this.tileCache.containsKey(n)&&this.tileCache.get(n)},t}(ae),ir=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),or=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,{transition:0})||this;return s.context_={},s.executorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.hitDetectionImageData=null,s.replayState_={},s.wantedResolution,s.getSourceTiles=o.bind(s,s),s.removeSourceTiles_=a,s.sourceTileGrid_=i,s.sourceTileListenerKeys=[],s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=n,s}return ir(t,e),t.prototype.disposeInternal=function(){for(var t in this.sourceTileListenerKeys.forEach(F.c),this.sourceTileListenerKeys.length=0,this.removeSourceTiles_(this),this.context_){var r=this.context_[t].canvas;r.width=0,r.height=0}for(var t in this.executorGroups)for(var n=this.executorGroups[t],i=0,o=n.length;i<o;++i)n[i].disposeInternal();e.prototype.disposeInternal.call(this)},t.prototype.getContext=function(e){var t=Object(g.c)(e);return t in this.context_||(this.context_[t]=Object(x.a)()),this.context_[t]},t.prototype.hasContext=function(e){return Object(g.c)(e)in this.context_},t.prototype.getImage=function(e){return this.hasContext(e)?this.getContext(e).canvas:null},t.prototype.getReplayState=function(e){var t=Object(g.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[t]},t.prototype.load=function(){this.getSourceTiles()},t}(C),ar=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),sr=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t,r,a)||this;return s.consumers=0,s.extent=null,s.format_=i,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=o,s.url_=n,s}return ar(t,e),t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.getKey=function(){return this.url_},t.prototype.load=function(){this.state==w.a.IDLE&&(this.setState(w.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},t.prototype.onLoad=function(e,t){this.setFeatures(e)},t.prototype.onError=function(){this.setState(w.a.ERROR)},t.prototype.setFeatures=function(e){this.features_=e,this.setState(w.a.LOADED)},t.prototype.setLoader=function(e){this.loader_=e},t}(C),lr=r(199),ur=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),cr=function(e){function t(t){var r=this,n=t.projection||"EPSG:3857",i=t.extent||re(n),o=t.tileGrid||J({extent:i,maxZoom:void 0!==t.maxZoom?t.maxZoom:22,minZoom:t.minZoom,tileSize:t.tileSize||512});return(r=e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,opaque:!1,projection:n,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:hr,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:void 0===t.zDirection?1:t.zDirection})||this).format_=t.format?t.format:null,r.loadingTiles_={},r.sourceTileByCoordKey_={},r.sourceTilesByTileKey_={},r.overlaps_=null==t.overlaps||t.overlaps,r.tileClass=t.tileClass?t.tileClass:sr,r.tileGrids_={},r}return ur(t,e),t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTileByCoordKey_={},this.sourceTilesByTileKey_={}},t.prototype.getSourceTiles=function(e,t,r){var n=r.wrappedTileCoord,i=this.getTileGridForProjection(t),o=i.getTileCoordExtent(n),a=n[0],l=i.getResolution(a);Object(f.buffer)(o,-l,o);var u=this.tileGrid,c=u.getExtent();c&&Object(f.getIntersection)(o,c,o);var h,p,d,g=u.getZForResolution(l,1),m=u.getMinZoom(),y=this.sourceTilesByTileKey_[r.getKey()];if(y&&y.length>0&&y[0].tileCoord[0]===g)h=y,p=!0,d=g;else{h=[],d=g+1;do{--d,p=!0,u.forEachTileCoord(o,d,function(n){var i,o=s(n);if(o in this.sourceTileByCoordKey_){var a=(i=this.sourceTileByCoordKey_[o]).getState();if(a===w.a.LOADED||a===w.a.ERROR||a===w.a.EMPTY)return void h.push(i)}else if(d===g){var l=this.tileUrlFunction(n,e,t);void 0!==l&&((i=new this.tileClass(n,w.a.IDLE,l,this.format_,this.tileLoadFunction)).extent=u.getTileCoordExtent(n),i.projection=t,i.resolution=u.getResolution(n[0]),this.sourceTileByCoordKey_[o]=i,i.addEventListener(T.a.CHANGE,this.handleTileChange.bind(this)),i.load())}if(p=!1,i&&i.getState()!==w.a.EMPTY&&r.getState()===w.a.IDLE){r.loadingSourceTiles++;var c=Object(F.a)(i,T.a.CHANGE,(function(){var e=i.getState(),t=i.getKey();if(e===w.a.LOADED||e===w.a.ERROR){e===w.a.LOADED?(Object(Z.j)(r.sourceTileListenerKeys,c),Object(F.c)(c),r.loadingSourceTiles--,delete r.errorSourceTileKeys[t]):e===w.a.ERROR&&(r.errorSourceTileKeys[t]=!0);var n=Object.keys(r.errorSourceTileKeys).length;r.loadingSourceTiles-n==0&&(r.hifi=0===n,r.sourceZ=g,r.setState(w.a.LOADED))}}));r.sourceTileListenerKeys.push(c)}}.bind(this)),p||(h.length=0)}while(!p&&d>m)}return r.getState()===w.a.IDLE&&r.setState(w.a.LOADING),p&&(r.hifi=g===d,r.sourceZ=d,r.getState()<w.a.LOADED?r.setState(w.a.LOADED):y&&Object(Z.b)(h,y)||(this.removeSourceTiles(r),this.addSourceTiles(r,h))),h},t.prototype.addSourceTiles=function(e,t){this.sourceTilesByTileKey_[e.getKey()]=t;for(var r=0,n=t.length;r<n;++r)t[r].consumers++},t.prototype.removeSourceTiles=function(e){var t=e.getKey();if(t in this.sourceTilesByTileKey_)for(var r=this.sourceTilesByTileKey_[t],n=0,i=r.length;n<i;++n){var o=r[n];o.consumers--,0===o.consumers&&(o.dispose(),delete this.sourceTileByCoordKey_[s(o.tileCoord)])}delete this.sourceTilesByTileKey_[t]},t.prototype.getTile=function(e,t,r,n,i){var o,s=a(e,t,r),l=this.getKey();if(this.tileCache.containsKey(s)&&(o=this.tileCache.get(s)).key===l)return o;var u=[e,t,r],c=this.getTileCoordForTileUrlFunction(u,i),h=this.getTileGrid().getExtent(),p=this.getTileGridForProjection(i);if(c&&h){var d=p.getTileCoordExtent(c);Object(f.buffer)(d,-p.getResolution(e),d),Object(f.intersects)(h,d)||(c=null)}var g=!0;if(null!==c){var m=this.tileGrid,y=p.getResolution(e),_=m.getZForResolution(y,1),b=p.getTileCoordExtent(c);Object(f.buffer)(b,-y,b),m.forEachTileCoord(b,_,function(e){g=g&&!this.tileUrlFunction(e,n,i)}.bind(this))}var v=new or(u,g?w.a.EMPTY:w.a.IDLE,c,this.tileGrid,this.getSourceTiles.bind(this,n,i),this.removeSourceTiles.bind(this));return v.key=l,o?(v.interimTile=o,v.refreshInterimChain(),this.tileCache.replace(s,v)):this.tileCache.set(s,v),v},t.prototype.getTileGridForProjection=function(e){var t=e.getCode(),r=this.tileGrids_[t];if(!r){var n=this.tileGrid;r=te(e,void 0,n?n.getTileSize(n.getMinZoom()):void 0),this.tileGrids_[t]=r}return r},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.getTilePixelSize=function(e,t,r){var n=this.getTileGridForProjection(r),i=Object(V.d)(n.getTileSize(e),this.tmpSize);return[Math.round(i[0]*t),Math.round(i[1]*t)]},t}(he);function hr(e,t){var r=Object(lr.a)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(r)}var pr="KVP",dr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();!function(e){function t(t){var r=e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})||this;return r.matrixIds_=t.matrixIds,r}dr(t,e),t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_}}(Q);var fr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),gr=function(e){function t(t){var r=this,n=void 0!==t.requestEncoding?t.requestEncoding:pr,i=t.tileGrid,o=t.urls;return void 0===o&&void 0!==t.url&&(o=d(t.url)),(r=e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:p,urls:o,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition})||this).version_=void 0!==t.version?t.version:"1.0.0",r.format_=void 0!==t.format?t.format:"image/jpeg",r.dimensions_=void 0!==t.dimensions?t.dimensions:{},r.layer_=t.layer,r.matrixSet_=t.matrixSet,r.style_=t.style,r.requestEncoding_=n,r.setKey(r.getKeyForDimensions_()),o&&o.length>0&&(r.tileUrlFunction=h(o.map(mr.bind(r)))),r}return fr(t,e),t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(h(e.map(mr.bind(this))),t)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var r in this.dimensions_)t[e++]=r+"-"+this.dimensions_[r];return t.join("/")},t.prototype.updateDimensions=function(e){Object(ye.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t}(fe);function mr(e){var t=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==pr&&Object(ye.a)(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==pr?rt(e,r):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in r?r[t.toLowerCase()]:e}));var n=this.tileGrid,i=this.dimensions_;return function(r,o,a){if(r){var s={TileMatrix:n.getMatrixId(r[0]),TileCol:r[1],TileRow:r[2]};Object(ye.a)(s,i);var l=e;return l=t==pr?rt(l,s):l.replace(/\{(\w+?)\}/g,(function(e,t){return s[t]}))}}}r.d(t,"BingMaps",(function(){return me})),r.d(t,"CartoDB",(function(){return we})),r.d(t,"Cluster",(function(){return ke})),r.d(t,"IIIF",(function(){return We})),r.d(t,"Image",(function(){return tt})),r.d(t,"ImageArcGISRest",(function(){return it})),r.d(t,"ImageCanvas",(function(){return st})),r.d(t,"ImageMapGuide",(function(){return ut})),r.d(t,"ImageStatic",(function(){return ht})),r.d(t,"ImageWMS",(function(){return bt})),r.d(t,"OSM",(function(){return Ot})),r.d(t,"Raster",(function(){return Dt})),r.d(t,"Source",(function(){return W.a})),r.d(t,"Stamen",(function(){return Vt})),r.d(t,"Tile",(function(){return ae})),r.d(t,"TileArcGISRest",(function(){return Ht})),r.d(t,"TileDebug",(function(){return Zt})),r.d(t,"TileImage",(function(){return fe})),r.d(t,"TileJSON",(function(){return Qt})),r.d(t,"TileWMS",(function(){return er})),r.d(t,"UrlTile",(function(){return he})),r.d(t,"UTFGrid",(function(){return nr})),r.d(t,"Vector",(function(){return Ce.a})),r.d(t,"VectorTile",(function(){return cr})),r.d(t,"WMTS",(function(){return gr})),r.d(t,"XYZ",(function(){return be})),r.d(t,"Zoomify",(function(){return Le}))},function(e,t,r){"use strict";r.r(t);var n,i=r(63),o=function(){function e(e,t,r){this.decay_=e,this.minVelocity_=t,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var r=t-3;r>0&&this.points_[r+2]>e;)r-=3;var n=this.points_[t+2]-this.points_[r+2];if(n<1e3/60)return!1;var i=this.points_[t]-this.points_[r],o=this.points_[t+1]-this.points_[r+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/n,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}(),a=r(39),s=r(36),l=r(78),u="active",c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function h(e,t,r,n){var i=e.getZoom();if(void 0!==i){var o=e.getConstrainedZoom(i+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:r,duration:void 0!==n?n:250,easing:l.b})}}var p=function(e){function t(t){var r=e.call(this)||this;return t.handleEvent&&(r.handleEvent=t.handleEvent),r.map_=null,r.setActive(!0),r}return c(t,e),t.prototype.getActive=function(){return this.get(u)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(u,e)},t.prototype.setMap=function(e){this.map_=e},t}(s.a),d=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function f(e){var t=!1;if(e.type==a.a.DBLCLICK){var r=e.originalEvent,n=e.map,i=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_;h(n.getView(),o,i,this.duration_),e.preventDefault(),t=!0}return!t}var g=function(e){function t(t){var r=e.call(this,{handleEvent:f})||this,n=t||{};return r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:250,r}return d(t,e),t}(p),m=r(37),y=r(25),_=r(34),b=r(88),v=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},w=function(e){return e.target.getTargetElement()===document.activeElement},O=_.b,E=function(e){var t=e.originalEvent;return 0==t.button&&!(b.e&&b.d&&t.ctrlKey)},T=_.a,S=function(e){return e.type==a.a.SINGLECLICK},C=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},x=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},k=function(e){var t=e.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t},R=function(e){var t=e.pointerEvent;return Object(y.a)(void 0!==t,56),"mouse"==t.pointerType},P=function(e){var t=e.pointerEvent;return Object(y.a)(void 0!==t,56),t.isPrimary&&0===t.button},I=r(22),j=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function L(e){for(var t=e.length,r=0,n=0,i=0;i<t;i++)r+=e[i].clientX,n+=e[i].clientY;return[r/t,n/t]}var A=function(e){function t(t){var r=this,n=t||{};return r=e.call(this,n)||this,n.handleDownEvent&&(r.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(r.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(r.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(r.handleUpEvent=n.handleUpEvent),n.stopDown&&(r.stopDown=n.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return j(t,e),t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.pointerEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==a.a.POINTERDRAG)this.handleDragEvent(e);else if(e.type==a.a.POINTERUP){var r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==a.a.POINTERDOWN){var n=this.handleDownEvent(e);n&&e.preventDefault(),this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==a.a.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(function(e){var t=e.type;return t===a.a.POINTERDOWN||t===a.a.POINTERDRAG||t===a.a.POINTERUP}(e)){var t=e.pointerEvent,r=t.pointerId.toString();e.type==a.a.POINTERUP?delete this.trackedPointers_[r]:e.type==a.a.POINTERDOWN?this.trackedPointers_[r]=t:r in this.trackedPointers_&&(this.trackedPointers_[r]=t),this.targetPointers=Object(I.c)(this.trackedPointers_)}},t}(p),F=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function M(e){return C(e)&&P(e)}var N=function(e){function t(t){var r=e.call(this,{stopDown:_.a})||this,n=t||{};return r.kinetic_=n.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1,r.condition_=n.condition?n.condition:M,r.noKinetic_=!1,r}return F(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,r=L(t);if(t.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var n=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],i=e.map.getView();Object(m.g)(n,i.getResolution()),Object(m.f)(n,i.getRotation()),i.adjustCenterInternal(n)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=t.length},t.prototype.handleUpEvent=function(e){var t=e.map,r=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=r.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([a[0]-n*Math.cos(i),a[1]-n*Math.sin(i)]);r.animateInternal({center:r.getConstrainedCenter(s),duration:500,easing:l.b})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},t}(A),D=r(138),G=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),U=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{stopDown:_.a})||this).condition_=n.condition?n.condition:v,r.lastAngle_=void 0,r.duration_=void 0!==n.duration?n.duration:250,r}return G(t,e),t.prototype.handleDragEvent=function(e){if(R(e)){var t=e.map,r=t.getView();if(r.getConstraints().rotation!==D.c){var n=t.getSize(),i=e.pixel,o=Math.atan2(n[1]/2-i[1],i[0]-n[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;r.adjustRotationInternal(-a)}this.lastAngle_=o}}},t.prototype.handleUpEvent=function(e){return!R(e)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!(!E(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},t}(A),z=r(1),B=r(50),V=r(111),W=r(68),K=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),H=function(e){function t(t){var r=e.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.className="ol-box "+t,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return K(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,r=this.element_.style;r.left=Math.min(e[0],t[0])+"px",r.top=Math.min(e[1],t[1])+"px",r.width=Math.abs(t[0]-e[0])+"px",r.height=Math.abs(t[1]-e[1])+"px"},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new W.a([r])},t.prototype.getGeometry=function(){return this.geometry_},t}(V.a),Y=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),X="boxstart",Z="boxdrag",q="boxend",Q=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.coordinate=r,i.mapBrowserEvent=n,i}return Y(t,e),t}(B.a),$=function(e){function t(t){var r=e.call(this)||this,n=t||{};return r.box_=new H(n.className||"ol-dragbox"),r.minArea_=void 0!==n.minArea?n.minArea:64,r.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:_.c,r.startPixel_=null,r.condition_=n.condition?n.condition:O,r.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:r.defaultBoxEndCondition,r}return Y(t,e),t.prototype.defaultBoxEndCondition=function(e,t,r){var n=r[0]-t[0],i=r[1]-t[1];return n*n+i*i>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){R(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Q(Z,e.coordinate,e)))},t.prototype.handleUpEvent=function(e){return!R(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd_(e),this.dispatchEvent(new Q(q,e.coordinate,e))),!1)},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!(!E(e)||!this.condition_(e))&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Q(X,e.coordinate,e)),!0))},t}(A),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ee(){var e=this.getMap(),t=e.getView(),r=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtentInternal(r),o=Object(z.createOrUpdateFromCoordinates)([e.getPixelFromCoordinateInternal(Object(z.getBottomLeft)(n)),e.getPixelFromCoordinateInternal(Object(z.getTopRight)(n))]),a=t.getResolutionForExtentInternal(o,r);Object(z.scaleFromCenter)(i,1/a),n=i}var s=t.getConstrainedResolution(t.getResolutionForExtentInternal(n,r)),u=t.getConstrainedCenter(Object(z.getCenter)(n),s);t.animateInternal({resolution:s,center:u,duration:this.duration_,easing:l.b})}var te=function(e){function t(t){var r=this,n=t||{},i=n.condition?n.condition:x;return(r=e.call(this,{condition:i,className:n.className||"ol-dragzoom",minArea:n.minArea,onBoxEnd:ee})||this).duration_=void 0!==n.duration?n.duration:200,r.out_=void 0!==n.out&&n.out,r}return J(t,e),t}($),re=r(11),ne=37,ie=38,oe=39,ae=40,se=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function le(e){var t=!1;if(e.type==re.a.KEYDOWN){var r=e.originalEvent.keyCode;if(this.condition_(e)&&(r==ae||r==ne||r==oe||r==ie)){var n=e.map.getView(),i=n.getResolution()*this.pixelDelta_,o=0,a=0;r==ae?a=-i:r==ne?o=-i:r==oe?o=i:a=i;var s=[o,a];Object(m.f)(s,n.getRotation()),function(e,t,r){var n=e.getCenterInternal();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animateInternal({duration:void 0!==r?r:250,easing:l.d,center:e.getConstrainedCenter(i)})}}(n,s,this.duration_),e.preventDefault(),t=!0}}return!t}var ue=function(e){function t(t){var r=e.call(this,{handleEvent:le})||this,n=t||{};return r.defaultCondition_=function(e){return C(e)&&k(e)},r.condition_=void 0!==n.condition?n.condition:r.defaultCondition_,r.duration_=void 0!==n.duration?n.duration:100,r.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128,r}return se(t,e),t}(p),ce=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function he(e){var t=!1;if(e.type==re.a.KEYDOWN||e.type==re.a.KEYPRESS){var r=e.originalEvent.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var n=e.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_;h(n.getView(),i,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}var pe=function(e){function t(t){var r=e.call(this,{handleEvent:he})||this,n=t||{};return r.condition_=n.condition?n.condition:k,r.delta_=n.delta?n.delta:1,r.duration_=void 0!==n.duration?n.duration:100,r}return ce(t,e),t}(p),de=r(21),fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge="trackpad",me="wheel",ye=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).totalDelta_=0,r.lastDelta_=0,r.maxDelta_=void 0!==n.maxDelta?n.maxDelta:1,r.duration_=void 0!==n.duration?n.duration:250,r.timeout_=void 0!==n.timeout?n.timeout:80,r.useAnchor_=void 0===n.useAnchor||n.useAnchor,r.condition_=n.condition?n.condition:O,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.trackpadDeltaPerZoom_=300,r}return fe(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;if(e.type!==re.a.WHEEL)return!0;e.preventDefault();var t,r=e.map,n=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==re.a.WHEEL&&(t=n.deltaY,b.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=b.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var i=Date.now();if(void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?ge:me),this.mode_===ge){var o=r.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):o.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),o.adjustZoom(-t/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1}this.totalDelta_+=t;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations(),h(t,-Object(de.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(p),_e=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),be=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=void 0!==n.threshold?n.threshold:.3,r.duration_=void 0!==n.duration?n.duration:250,r}return _e(t,e),t.prototype.handleDragEvent=function(e){var t=0,r=this.targetPointers[0],n=this.targetPointers[1],i=Math.atan2(n.clientY-r.clientY,n.clientX-r.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=o}this.lastAngle_=i;var a=e.map,s=a.getView();if(s.getConstraints().rotation!==D.c){var l=a.getViewport().getBoundingClientRect(),u=L(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixelInternal(u),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_))}},t.prototype.handleUpEvent=function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(A),ve=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),we=function(e){function t(t){var r=this,n=t||{},i=n;return i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).anchor_=null,r.duration_=void 0!==n.duration?n.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return ve(t,e),t.prototype.handleDragEvent=function(e){var t=1,r=this.targetPointers[0],n=this.targetPointers[1],i=r.clientX-n.clientX,o=r.clientY-n.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t);var u=s.getViewport().getBoundingClientRect(),c=L(this.targetPointers);c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),l.adjustResolutionInternal(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),!1}return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(A),Oe=r(9),Ee=r(7),Te=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Se="addfeatures",Ce=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.features=n,o.file=r,o.projection=i,o}return Te(t,e),t}(B.a);function xe(e){for(var t=e.dataTransfer.files,r=0,n=t.length;r<n;++r){var i=t.item(r),o=new FileReader;o.addEventListener(re.a.LOAD,this.handleResult_.bind(this,i)),o.readAsText(i)}}function ke(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}var Re=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,{handleEvent:_.b})||this).formatConstructors_=n.formatConstructors?n.formatConstructors:[],r.projection_=n.projection?Object(Ee.get)(n.projection):null,r.dropListenKeys_=null,r.source_=n.source||null,r.target=n.target?n.target:null,r}return Te(t,e),t.prototype.handleResult_=function(e,t){var r=t.target.result,n=this.getMap(),i=this.projection_;i||(i=n.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var u=new o[s];if((a=this.tryReadFeatures_(u,r,{featureProjection:i}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new Ce(Se,e,a,i))},t.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(Oe.a)(t,re.a.DROP,xe,this),Object(Oe.a)(t,re.a.DRAGENTER,ke,this),Object(Oe.a)(t,re.a.DRAGOVER,ke,this),Object(Oe.a)(t,re.a.DROP,ke,this)]}},t.prototype.setActive=function(t){!this.getActive()&&t&&this.registerListeners_(),this.getActive()&&!t&&this.unregisterListeners_(),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.unregisterListeners_(),e.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},t.prototype.tryReadFeatures_=function(e,t,r){try{return e.readFeatures(t,r)}catch(e){return null}},t.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(Oe.c),this.dropListenKeys_=null)},t}(p),Pe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ie=function(e){function t(t){var r=this,n=t||{};return(r=e.call(this,n)||this).condition_=n.condition?n.condition:x,r.lastAngle_=void 0,r.lastMagnitude_=void 0,r.lastScaleDelta_=0,r.duration_=void 0!==n.duration?n.duration:400,r}return Pe(t,e),t.prototype.handleDragEvent=function(e){if(R(e)){var t=e.map,r=t.getSize(),n=e.pixel,i=n[0]-r[0]/2,o=r[1]/2-n[1],a=Math.atan2(o,i),s=Math.sqrt(i*i+o*o),l=t.getView();if(void 0!==this.lastAngle_){var u=this.lastAngle_-a;l.adjustRotationInternal(u)}this.lastAngle_=a,void 0!==this.lastMagnitude_&&l.adjustResolutionInternal(this.lastMagnitude_/s),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/s),this.lastMagnitude_=s}},t.prototype.handleUpEvent=function(e){if(!R(e))return!0;var t=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,r),this.lastScaleDelta_=0,!1},t.prototype.handleDownEvent=function(e){return!!R(e)&&(!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},t}(A),je=r(108),Le=r(141),Ae=r(229),Fe=r(6),Me=r(26),Ne=r(60),De=r(80),Ge=r(96),Ue=r(90),ze=r(91);function Be(e,t,r,n,i,o){var a=NaN,s=NaN,l=(r-t)/n;if(1===l)a=e[t],s=e[t+1];else if(2==l)a=(1-i)*e[t]+i*e[t+n],s=(1-i)*e[t+1]+i*e[t+n+1];else if(0!==l){for(var u=e[t],c=e[t+1],h=0,p=[0],d=t+n;d<r;d+=n){var f=e[d],g=e[d+1];h+=Math.sqrt((f-u)*(f-u)+(g-c)*(g-c)),p.push(h),u=f,c=g}var m=i*h,y=Object(Me.a)(p,m);if(y<0){var _=(m-p[-y-2])/(p[-y-1]-p[-y-2]),b=t+(-y-2)*n;a=Object(de.c)(e[b],e[b+n],_),s=Object(de.c)(e[b+1],e[b+n+1],_)}else a=e[t+y*n],s=e[t+y*n+1]}return o?(o[0]=a,o[1]=s,o):[a,s]}function Ve(e,t,r,n,i,o){if(r==t)return null;var a;if(i<e[t+n-1])return o?((a=e.slice(t,t+n))[n-1]=i,a):null;if(e[r-1]<i)return o?((a=e.slice(r-n,r))[n-1]=i,a):null;if(i==e[t+n-1])return e.slice(t,t+n);for(var s=t/n,l=r/n;s<l;){var u=s+l>>1;i<e[(u+1)*n-1]?l=u:s=u+1}var c=e[s*n-1];if(i==c)return e.slice((s-1)*n,(s-1)*n+n);var h=(i-c)/(e[(s+1)*n-1]-c);a=[];for(var p=0;p<n-1;++p)a.push(Object(de.c)(e[(s-1)*n+p],e[s*n+p],h));return a.push(i),a}var We=r(150),Ke=r(224),He=r(231),Ye=r(113),Xe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ze=function(e){function t(t,r){var n=e.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(t[0])?n.setCoordinates(t,r):n.setFlatCoordinates(r,t),n}return Xe(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(Me.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(z.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(Ge.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(Ge.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.forEachSegment=function(e){return Object(He.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=Ne.a.XYM&&this.layout!=Ne.a.XYZM)return null;var r=void 0!==t&&t;return Ve(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r)},t.prototype.getCoordinates=function(){return Object(ze.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return Be(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},t.prototype.getLength=function(){return Object(Ke.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=Object(Ye.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,Ne.a.XY)},t.prototype.getType=function(){return Fe.a.LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(We.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(Ue.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(De.a),qe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qe=function(e){function t(t,r,n){var i=e.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,r);else if(void 0!==r&&n)i.setFlatCoordinates(r,t),i.ends_=n;else{for(var o=i.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout()),Object(Me.c)(s,h.getFlatCoordinates()),l.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=l}return i}return qe(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(Me.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(z.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(Ge.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(Ge.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,r,n))},t.prototype.getCoordinateAtM=function(e,t,r){if(this.layout!=Ne.a.XYM&&this.layout!=Ne.a.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==t&&t,i=void 0!==r&&r;return function(e,t,r,n,i,o,a){if(a)return Ve(e,t,r[r.length-1],n,i,o);var s;if(i<e[n-1])return o?((s=e.slice(0,n))[n-1]=i,s):null;if(e[e.length-1]<i)return o?((s=e.slice(e.length-n))[n-1]=i,s):null;for(var l=0,u=r.length;l<u;++l){var c=r[l];if(t!=c){if(i<e[t+n-1])return null;if(i<=e[c-1])return Ve(e,t,c,n,i,!1);t=c}}return null}(this.flatCoordinates,0,this.ends_,this.stride,e,n,i)},t.prototype.getCoordinates=function(){return Object(ze.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return e<0||this.ends_.length<=e?null:new Ze(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,r=this.layout,n=[],i=0,o=0,a=t.length;o<a;++o){var s=t[o],l=new Ze(e.slice(i,s),r);n.push(l),i=s}return n},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,r=0,n=this.ends_,i=this.stride,o=0,a=n.length;o<a;++o){var s=n[o],l=Be(t,r,s,i,.5);Object(Me.c)(e,l),r=s}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(Ye.b)(this.flatCoordinates,0,this.ends_,this.stride,e,r,0,n),new t(r,Ne.a.XY,n)},t.prototype.getType=function(){return Fe.a.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(We.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(Ue.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},t}(De.a),$e=r(102),Je=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),et=function(e){function t(t,r){var n=e.call(this)||this;return r&&!Array.isArray(t[0])?n.setFlatCoordinates(r,t):n.setCoordinates(t,r),n}return Je(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(Me.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,r,n){if(n<Object(z.closestSquaredDistanceXY)(this.getExtent(),e,t))return n;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var l=Object(de.f)(e,t,i[a],i[a+1]);if(l<n){n=l;for(var u=0;u<o;++u)r[u]=i[a+u];r.length=o}}return n},t.prototype.getCoordinates=function(){return Object(ze.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return e<0||t<=e?null:new $e.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,r=this.stride,n=[],i=0,o=e.length;i<o;i+=r){var a=new $e.a(e.slice(i,i+r),t);n.push(a)}return n},t.prototype.getType=function(){return Fe.a.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,r=this.stride,n=0,i=t.length;n<i;n+=r){var o=t[n],a=t[n+1];if(Object(z.containsXY)(e,o,a))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(Ue.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(De.a),tt=r(181);var rt=r(120),nt=r(230),it=r(158),ot=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),at=function(e){function t(t,r,n){var i=e.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!n&&!Array.isArray(t[0])){for(var o=i.getLayout(),a=t,s=[],l=[],u=0,c=a.length;u<c;++u){var h=a[u];0===u&&(o=h.getLayout());for(var p=s.length,d=h.getEnds(),f=0,g=d.length;f<g;++f)d[f]+=p;Object(Me.c)(s,h.getFlatCoordinates()),l.push(d)}r=o,t=s,n=l}return void 0!==r&&n?(i.setFlatCoordinates(r,t),i.endss_=n):i.setCoordinates(t,r),i}return ot(t,e),t.prototype.appendPolygon=function(e){var t;if(this.flatCoordinates){var r=this.flatCoordinates.length;Object(Me.c)(this.flatCoordinates,e.getFlatCoordinates());for(var n=0,i=(t=e.getEnds().slice()).length;n<i;++n)t[n]+=r}else this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,r=new Array(e),n=0;n<e;++n)r[n]=this.endss_[n].slice();return new t(this.flatCoordinates.slice(),this.layout,r)},t.prototype.closestPointXY=function(e,t,r,n){return n<Object(z.closestSquaredDistanceXY)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(Ge.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(Ge.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,r,n))},t.prototype.containsXY=function(e,t){return Object(rt.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(tt.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0!==e?(t=this.getOrientedFlatCoordinates().slice(),Object(it.d)(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Object(ze.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=function(e,t,r,n){for(var i=[],o=Object(z.createEmpty)(),a=0,s=r.length;a<s;++a){var l=r[a];o=Object(z.createOrUpdateFromFlatCoordinates)(e,t,l[0],n),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(nt.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new et(this.getFlatInteriorPoints().slice(),Ne.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(it.b)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(it.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],n=[];return r.length=Object(Ye.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),r,0,n),new t(r,Ne.a.XY,n)},t.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var r=this.endss_[e-1];t=r[r.length-1]}var n=this.endss_[e].slice(),i=n[n.length-1];if(0!==t)for(var o=0,a=n.length;o<a;++o)n[o]-=t;return new W.a(this.flatCoordinates.slice(t,i),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,r=this.endss_,n=[],i=0,o=0,a=r.length;o<a;++o){var s=r[o].slice(),l=s[s.length-1];if(0!==i)for(var u=0,c=s.length;u<c;++u)s[u]-=i;var h=new W.a(t.slice(i,l),e,s);n.push(h),i=l}return n},t.prototype.getType=function(){return Fe.a.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Object(We.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=Object(Ue.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(De.a),st=r(126),lt=r(129),ut=r(119),ct=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ht="Point",pt="LineString",dt="Polygon",ft="Circle",gt="drawstart",mt="drawend",yt=function(e){function t(t,r){var n=e.call(this,t)||this;return n.feature=r,n}return ct(t,e),t}(B.a);var _t=function(e){function t(t){var r=this,n=t;n.stopDown||(n.stopDown=_.a),(r=e.call(this,n)||this).shouldHandle_=!1,r.downPx_=null,r.downTimeout_,r.lastDragTime_,r.freehand_=!1,r.source_=t.source?t.source:null,r.features_=t.features?t.features:null,r.snapTolerance_=t.snapTolerance?t.snapTolerance:12,r.type_=t.type,r.mode_=function(e){var t;e===Fe.a.POINT||e===Fe.a.MULTI_POINT?t=ht:e===Fe.a.LINE_STRING||e===Fe.a.MULTI_LINE_STRING?t=pt:e===Fe.a.POLYGON||e===Fe.a.MULTI_POLYGON?t=dt:e===Fe.a.CIRCLE&&(t=ft);return(t)}(r.type_),r.stopClick_=!!t.stopClick,r.minPoints_=t.minPoints?t.minPoints:r.mode_===dt?3:2,r.maxPoints_=t.maxPoints?t.maxPoints:1/0,r.finishCondition_=t.finishCondition?t.finishCondition:_.b;var i,o=t.geometryFunction;if(!o)if(r.type_===Fe.a.CIRCLE)o=function(e,t){var r=t||new Ae.default([NaN,NaN]),n=Object(m.h)(e[0],e[1]);return r.setCenterAndRadius(e[0],Math.sqrt(n)),r};else{var a,l=r.mode_;l===ht?a=$e.a:l===pt?a=Ze:l===dt&&(a=W.a),o=function(e,t){var r=t;return r?l===dt?e[0].length?r.setCoordinates([e[0].concat([e[0][0]])]):r.setCoordinates([]):r.setCoordinates(e):r=new a(e),r}}return r.geometryFunction_=o,r.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,r.finishCoordinate_=null,r.sketchFeature_=null,r.sketchPoint_=null,r.sketchCoords_=null,r.sketchLine_=null,r.sketchLineCoords_=null,r.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,r.overlay_=new st.a({source:new lt.a({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(i=Object(ut.b)(),function(e,t){return i[e.getGeometry().getType()]}),updateWhileInteracting:!0}),r.geometryName_=t.geometryName,r.condition_=t.condition?t.condition:C,r.freehandCondition_,t.freehand?r.freehandCondition_=O:r.freehandCondition_=t.freehandCondition?t.freehandCondition:x,r.addEventListener(Object(s.b)(u),r.updateState_),r}return ct(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===re.a.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==ht&&this.freehandCondition_(t);var r=t.type===a.a.POINTERMOVE,n=!0;!this.freehand_&&this.lastDragTime_&&t.type===a.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===a.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),n=!1):this.freehand_&&t.type===a.a.POINTERDOWN?n=!1:r?(n=t.type===a.a.POINTERMOVE)&&this.freehand_?n=this.handlePointerMove_(t):("mouse"==t.pointerEvent.pointerType||t.type===a.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===a.a.DBLCLICK&&(n=!1),e.prototype.handleEvent.call(this,t)&&n},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Le.a(a.a.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var r=this.mode_===ft;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||r?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===ht&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},t.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,r=e.pixel,n=t[0]-r[0],i=t[1]-r[1],o=n*n+i*i;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var r=!1,n=[this.finishCoordinate_];if(this.mode_===pt)r=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===dt){var i=this.sketchCoords_;r=i[0].length>this.minPoints_,n=[i[0][0],i[0][i[0].length-2]]}if(r)for(var o=e.map,a=0,s=n.length;a<s;a++){var l=n[a],u=o.getPixelFromCoordinate(l),c=e.pixel,h=c[0]-u[0],p=c[1]-u[1],d=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(h*h+p*p)<=d){this.finishCoordinate_=l;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new je.a(new $e.a(t)),this.updateSketchFeatures_())},t.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===ht?this.sketchCoords_=t.slice():this.mode_===dt?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new je.a(new Ze(this.sketchLineCoords_)));var r=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new je.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(r),this.updateSketchFeatures_(),this.dispatchEvent(new yt(gt,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t,r,n,i=e.coordinate,o=this.sketchFeature_.getGeometry();(this.mode_===ht?r=this.sketchCoords_:this.mode_===dt?(r=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(e)&&(i=this.finishCoordinate_.slice())):r=(t=this.sketchCoords_)[t.length-1],r[0]=i[0],r[1]=i[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(i);if(o.getType()==Fe.a.POLYGON&&this.mode_!==dt){this.sketchLine_||(this.sketchLine_=new je.a);var a=o.getLinearRing(0);(n=this.sketchLine_.getGeometry())?(n.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),n.changed()):(n=new Ze(a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(n))}else this.sketchLineCoords_&&(n=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t,r,n=e.coordinate,i=this.sketchFeature_.getGeometry();this.mode_===pt?(this.finishCoordinate_=n.slice(),(r=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?r.pop():t=!0),r.push(n.slice()),this.geometryFunction_(r,i)):this.mode_===dt&&((r=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?r.pop():t=!0),r.push(n.slice()),t&&(this.finishCoordinate_=r[0]),this.geometryFunction_(this.sketchCoords_,i)),this.updateSketchFeatures_(),t&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry();this.mode_===pt?((e=this.sketchCoords_).splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===dt&&((e=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,r=e.getGeometry();this.mode_===pt?(t.pop(),this.geometryFunction_(t,r)):this.mode_===dt&&(t[0].pop(),this.geometryFunction_(t,r),t=r.getCoordinates()),this.type_===Fe.a.MULTI_POINT?e.setGeometry(new et([t])):this.type_===Fe.a.MULTI_LINE_STRING?e.setGeometry(new Qe([t])):this.type_===Fe.a.MULTI_POLYGON&&e.setGeometry(new at([t])),this.dispatchEvent(new yt(mt,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new yt(gt,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t}(A),bt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vt="extentchanged",wt=function(e){function t(t){var r=e.call(this,vt)||this;return r.extent=t,r}return bt(t,e),t}(B.a);function Ot(){var e=Object(ut.b)();return function(t,r){return e[Fe.a.POINT]}}function Et(e){return function(t){return Object(z.boundingExtent)([e,t])}}function Tt(e,t){return e[0]==t[0]?function(r){return Object(z.boundingExtent)([e,[r[0],t[1]]])}:e[1]==t[1]?function(r){return Object(z.boundingExtent)([e,[t[0],r[1]]])}:null}var St=function(e){function t(t){var r,n=this,i=t||{};return(n=e.call(this,i)||this).extent_=null,n.pointerHandler_=null,n.pixelTolerance_=void 0!==i.pixelTolerance?i.pixelTolerance:10,n.snappedToVertex_=!1,n.extentFeature_=null,n.vertexFeature_=null,t||(t={}),n.extentOverlay_=new st.a({source:new lt.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:(r=Object(ut.b)(),function(e,t){return r[Fe.a.POLYGON]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),n.vertexOverlay_=new st.a({source:new lt.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:Ot(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&n.setExtent(t.extent),n}return bt(t,e),t.prototype.snapToVertex_=function(e,t){var r=t.getCoordinateFromPixelInternal(e),n=this.getExtentInternal();if(n){var i=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}(n);i.sort((function(e,t){return Object(m.i)(r,e)-Object(m.i)(r,t)}));var o=i[0],a=Object(m.c)(r,o),s=t.getPixelFromCoordinateInternal(a);if(Object(m.d)(e,s)<=this.pixelTolerance_){var l=t.getPixelFromCoordinateInternal(o[0]),u=t.getPixelFromCoordinateInternal(o[1]),c=Object(m.h)(s,l),h=Object(m.h)(s,u),p=Math.sqrt(Math.min(c,h));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=c>h?o[1]:o[0]),a}}return null},t.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,n=this.snapToVertex_(t,r);n||(n=r.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(n)},t.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?e?t.setGeometry(Object(W.c)(e)):t.setGeometry(void 0):(t=e?new je.a(Object(W.c)(e)):new je.a({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},t.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new je.a(new $e.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(t.type!=a.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),e.prototype.handleEvent.call(this,t),!1)},t.prototype.handleDownEvent=function(e){var t=e.pixel,r=e.map,n=this.getExtentInternal(),i=this.snapToVertex_(t,r),o=function(e){var t=null,r=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?r=n[3]:e[1]==n[3]&&(r=n[1]),null!==t&&null!==r?[t,r]:null};if(i&&n){var a=i[0]==n[0]||i[0]==n[2]?i[0]:null,s=i[1]==n[1]||i[1]==n[3]?i[1]:null;null!==a&&null!==s?this.pointerHandler_=Et(o(i)):null!==a?this.pointerHandler_=Tt(o([a,n[1]]),o([a,n[3]])):null!==s&&(this.pointerHandler_=Tt(o([n[0],s]),o([n[2],s])))}else i=r.getCoordinateFromPixelInternal(t),this.setExtent([i[0],i[1],i[0],i[1]]),this.pointerHandler_=Et(i);return!0},t.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},t.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtentInternal();return t&&0!==Object(z.getArea)(t)||this.setExtent(null),!1},t.prototype.setMap=function(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getExtent=function(){return Object(Ee.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())},t.prototype.getExtentInternal=function(){return this.extent_},t.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new wt(this.extent_))},t}(A),Ct=r(5),xt=r(61),kt=r(85),Rt=r(160),Pt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),It=[0,0,0,0],jt=[],Lt="modifystart",At="modifyend",Ft=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.features=r,i.mapBrowserEvent=n,i}return Pt(t,e),t}(B.a);function Mt(e,t){return e.index-t.index}function Nt(e,t,r){var n=t.geometry;if(n.getType()===Fe.a.CIRCLE){var i=n;if(1===t.index){var o=Object(m.h)(i.getCenter(),e),a=Math.sqrt(o)-i.getRadius();return a*a}}var s=Object(Ee.fromUserCoordinate)(e,r);return jt[0]=Object(Ee.fromUserCoordinate)(t.segment[0],r),jt[1]=Object(Ee.fromUserCoordinate)(t.segment[1],r),Object(m.i)(s,jt)}function Dt(e,t,r){var n=t.geometry;if(n.getType()===Fe.a.CIRCLE&&1===t.index)return n.getClosestPoint(e);var i=Object(Ee.fromUserCoordinate)(e,r);return jt[0]=Object(Ee.fromUserCoordinate)(t.segment[0],r),jt[1]=Object(Ee.fromUserCoordinate)(t.segment[1],r),Object(Ee.toUserCoordinate)(Object(m.c)(i,jt),r)}var Gt=function(e){function t(t){var r,n,o=e.call(this,t)||this;if(o.boundHandleFeatureChange_=o.handleFeatureChange_.bind(o),o.condition_=t.condition?t.condition:P,o.defaultDeleteCondition_=function(e){return function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}(e)&&S(e)},o.deleteCondition_=t.deleteCondition?t.deleteCondition:o.defaultDeleteCondition_,o.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:O,o.vertexFeature_=null,o.vertexSegments_=null,o.lastPixel_=[0,0],o.ignoreNextSingleClick_=!1,o.modified_=!1,o.rBush_=new Rt.a,o.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,o.snappedToVertex_=!1,o.changingFeature_=!1,o.dragSegments_=[],o.overlay_=new st.a({source:new lt.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(r=Object(ut.b)(),function(e,t){return r[Fe.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.SEGMENT_WRITERS_={Point:o.writePointGeometry_.bind(o),LineString:o.writeLineStringGeometry_.bind(o),LinearRing:o.writeLineStringGeometry_.bind(o),Polygon:o.writePolygonGeometry_.bind(o),MultiPoint:o.writeMultiPointGeometry_.bind(o),MultiLineString:o.writeMultiLineStringGeometry_.bind(o),MultiPolygon:o.writeMultiPolygonGeometry_.bind(o),Circle:o.writeCircleGeometry_.bind(o),GeometryCollection:o.writeGeometryCollectionGeometry_.bind(o)},o.source_=null,t.source?(o.source_=t.source,n=new i.a(o.source_.getFeatures()),o.source_.addEventListener(kt.a.ADDFEATURE,o.handleSourceAdd_.bind(o)),o.source_.addEventListener(kt.a.REMOVEFEATURE,o.handleSourceRemove_.bind(o))):n=t.features,!n)throw new Error("The modify interaction requires features or a source");return o.features_=n,o.features_.forEach(o.addFeature_.bind(o)),o.features_.addEventListener(xt.a.ADD,o.handleFeatureAdd_.bind(o)),o.features_.addEventListener(xt.a.REMOVE,o.handleFeatureRemove_.bind(o)),o.lastPointerEvent_=null,o}return Pt(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();if(t){var r=this.SEGMENT_WRITERS_[t.getType()];r&&r(e,t)}var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),e.addEventListener(re.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new Ft(Lt,this.features_,e)))},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.removeEventListener(re.a.CHANGE,this.boundHandleFeatureChange_)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach((function(t){e===t.feature&&r.push(t)}));for(var n=r.length-1;n>=0;--n){for(var i=r[n],o=this.dragSegments_.length-1;o>=0;--o)this.dragSegments_[o][0]===i&&this.dragSegments_.splice(o,1);t.remove(i)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:e,geometry:t,depth:[n],index:n,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,geometry:t,index:n,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,geometry:t,depth:[n],index:a,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:e,geometry:t,depth:[a,n],index:u,segment:h};this.rBush_.insert(Object(z.boundingExtent)(h),p)}},t.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),n={feature:e,geometry:t,index:0,segment:[r,r]},i={feature:e,geometry:t,index:1,segment:[r,r]},o=[n,i];n.featureSegments=o,i.featureSegments=o,this.rBush_.insert(Object(z.createOrUpdateFromCoordinate)(r),n),this.rBush_.insert(t.getExtent(),i)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=r[n];(0,this.SEGMENT_WRITERS_[i.getType()])(e,i)}},t.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new je.a(new $e.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=a.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(r=!(t.type!=a.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==a.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!r);var r},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,n=this.dragSegments_.length;r<n;++r){for(var i=this.dragSegments_[r],o=i[0],a=o.depth,s=o.geometry,l=void 0,u=o.segment,c=i[1];t.length<s.getStride();)t.push(u[c][t.length]);switch(s.getType()){case Fe.a.POINT:l=t,u[0]=t,u[1]=t;break;case Fe.a.MULTI_POINT:(l=s.getCoordinates())[o.index]=t,u[0]=t,u[1]=t;break;case Fe.a.LINE_STRING:(l=s.getCoordinates())[o.index+c]=t,u[c]=t;break;case Fe.a.MULTI_LINE_STRING:case Fe.a.POLYGON:(l=s.getCoordinates())[a[0]][o.index+c]=t,u[c]=t;break;case Fe.a.MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+c]=t,u[c]=t;break;case Fe.a.CIRCLE:u[0]=t,u[1]=t,0===o.index?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(m.d)(s.getCenter(),t)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(t)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.coordinate;this.dragSegments_.length=0,this.modified_=!1;var r=this.vertexFeature_;if(r){var n=e.map.getView().getProjection(),i=[],o=r.getGeometry().getCoordinates(),a=Object(z.boundingExtent)([o]),s=this.rBush_.getInExtent(a),l={};s.sort(Mt);for(var u=0,c=s.length;u<c;++u){var h=s[u],p=h.segment,d=Object(Ct.c)(h.feature),f=h.depth;if(f&&(d+="-"+f.join("-")),l[d]||(l[d]=new Array(2)),h.geometry.getType()!==Fe.a.CIRCLE||1!==h.index)if(!Object(m.e)(p[0],o)||l[d][0])if(!Object(m.e)(p[1],o)||l[d][1])Object(Ct.c)(p)in this.vertexSegments_&&!l[d][0]&&!l[d][1]&&this.insertVertexCondition_(e)&&i.push([h,o]);else{if((h.geometry.getType()===Fe.a.LINE_STRING||h.geometry.getType()===Fe.a.MULTI_LINE_STRING)&&l[d][0]&&0===l[d][0].index)continue;this.dragSegments_.push([h,1]),l[d][1]=h}else this.dragSegments_.push([h,0]),l[d][0]=h;else{var g=Dt(t,h,n);Object(m.e)(g,o)&&!l[d][0]&&(this.dragSegments_.push([h,0]),l[d][0]=h)}}i.length&&this.willModifyFeatures_(e);for(var y=i.length-1;y>=0;--y)this.insertVertex_.apply(this,i[y])}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],n=r.geometry;if(n.getType()===Fe.a.CIRCLE){var i=n.getCenter(),o=r.featureSegments[0],a=r.featureSegments[1];o.segment[0]=i,o.segment[1]=i,a.segment[0]=i,a.segment[1]=i,this.rBush_.update(Object(z.createOrUpdateFromCoordinate)(i),o),this.rBush_.update(n.getExtent(),a)}else this.rBush_.update(Object(z.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new Ft(At,this.features_,e)),this.modified_=!1),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},t.prototype.handlePointerAtPixel_=function(e,t){var r=t.getCoordinateFromPixel(e),n=t.getView().getProjection(),i=Object(Ee.fromUserExtent)(Object(z.createOrUpdateFromCoordinate)(r,It),n),o=t.getView().getResolution()*this.pixelTolerance_,a=Object(Ee.toUserExtent)(Object(z.buffer)(i,o,It),n),s=this.rBush_.getInExtent(a);if(s.length>0){s.sort((function(e,t){return Nt(r,e,n)-Nt(r,t,n)}));var l=s[0],u=l.segment,c=Dt(r,l,n),h=t.getPixelFromCoordinate(c),p=Object(m.d)(e,h);if(p<=this.pixelTolerance_){var d={};if(l.geometry.getType()===Fe.a.CIRCLE&&1===l.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var f=t.getPixelFromCoordinate(u[0]),g=t.getPixelFromCoordinate(u[1]),y=Object(m.h)(h,f),_=Object(m.h)(h,g);p=Math.sqrt(Math.min(y,_)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(c=y>_?u[1]:u[0]),this.createOrUpdateVertexFeature_(c);for(var b=1,v=s.length;b<v;++b){var w=s[b].segment;if(!(Object(m.e)(u[0],w[0])&&Object(m.e)(u[1],w[1])||Object(m.e)(u[0],w[1])&&Object(m.e)(u[1],w[0])))break;d[Object(Ct.c)(w)]=!0}}return d[Object(Ct.c)(u)]=!0,void(this.vertexSegments_=d)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var r,n=e.segment,i=e.feature,o=e.geometry,a=e.depth,s=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case Fe.a.MULTI_LINE_STRING:case Fe.a.POLYGON:(r=o.getCoordinates())[a[0]].splice(s+1,0,t);break;case Fe.a.MULTI_POLYGON:(r=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case Fe.a.LINE_STRING:(r=o.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(o,s,a,1);var u={segment:[n[0],t],feature:i,geometry:o,depth:a,index:s};l.insert(Object(z.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[t,n[1]],feature:i,geometry:o,depth:a,index:s+1};l.insert(Object(z.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=a.a.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);var t=this.removeVertex_();return this.dispatchEvent(new Ft(At,this.features_,e)),this.modified_=!1,t}return!1},t.prototype.removeVertex_=function(){var e,t,r,n,i,o,a,s,l,u,c,h=this.dragSegments_,p={},d=!1;for(i=h.length-1;i>=0;--i)u=(r=h[i])[0],c=Object(Ct.c)(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in p||(p[c]={}),0===r[1]?(p[c].right=u,p[c].index=u.index):1==r[1]&&(p[c].left=u,p[c].index=u.index+1);for(c in p){switch(l=p[c].right,a=p[c].left,(s=(o=p[c].index)-1)<0&&(s=0),e=t=(n=(u=void 0!==a?a:l).geometry).getCoordinates(),d=!1,n.getType()){case Fe.a.MULTI_LINE_STRING:t[u.depth[0]].length>2&&(t[u.depth[0]].splice(o,1),d=!0);break;case Fe.a.LINE_STRING:t.length>2&&(t.splice(o,1),d=!0);break;case Fe.a.MULTI_POLYGON:e=e[u.depth[1]];case Fe.a.POLYGON:(e=e[u.depth[0]]).length>4&&(o==e.length-1&&(o=0),e.splice(o,1),d=!0,0===o&&(e.pop(),e.push(e[0]),s=e.length-1))}if(d){this.setGeometryCoordinates_(n,t);var f=[];if(void 0!==a&&(this.rBush_.remove(a),f.push(a.segment[0])),void 0!==l&&(this.rBush_.remove(l),f.push(l.segment[1])),void 0!==a&&void 0!==l){var g={depth:u.depth,feature:u.feature,geometry:u.geometry,index:s,segment:f};this.rBush_.insert(Object(z.boundingExtent)(g.segment),g)}this.updateSegmentIndices_(n,o,u.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return d},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,r,n){this.rBush_.forEachInExtent(e.getExtent(),(function(i){i.geometry===e&&(void 0===r||void 0===i.depth||Object(Me.b)(i.depth,r))&&i.index>t&&(i.index+=n)}))},t}(A),Ut=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),zt="select",Bt=function(e){function t(t,r,n,i){var o=e.call(this,t)||this;return o.selected=r,o.deselected=n,o.mapBrowserEvent=i,o}return Ut(t,e),t}(B.a);function Vt(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),r=this.removeCondition_(e),n=this.toggleCondition_(e),i=!t&&!r&&!n,o=e.map,a=this.getFeatures(),s=[],l=[];if(i){Object(I.b)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return l.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var u=a.getLength()-1;u>=0;--u){var c=a.item(u),h=l.indexOf(c);h>-1?l.splice(h,1):(a.remove(c),s.push(c))}0!==l.length&&a.extend(l)}else{o.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i))return!t&&!n||Object(Me.f)(a.getArray(),e)?(r||n)&&Object(Me.f)(a.getArray(),e)&&(s.push(e),this.removeFeatureLayerAssociation_(e)):(l.push(e),this.addFeatureLayerAssociation_(e,i)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(l)}return(l.length>0||s.length>0)&&this.dispatchEvent(new Bt(zt,l,s,e)),!0}var Wt=function(e){function t(t){var r,n,o=e.call(this,{handleEvent:Vt})||this,a=t||{};if(o.condition_=a.condition?a.condition:S,o.addCondition_=a.addCondition?a.addCondition:T,o.removeCondition_=a.removeCondition?a.removeCondition:T,o.toggleCondition_=a.toggleCondition?a.toggleCondition:x,o.multi_=!!a.multi&&a.multi,o.filter_=a.filter?a.filter:_.b,o.hitTolerance_=a.hitTolerance?a.hitTolerance:0,o.style_=void 0!==a.style?a.style:(r=Object(ut.b)(),Object(Me.c)(r[Fe.a.POLYGON],r[Fe.a.LINE_STRING]),Object(Me.c)(r[Fe.a.GEOMETRY_COLLECTION],r[Fe.a.LINE_STRING]),function(e){return e.getGeometry()?r[e.getGeometry().getType()]:null}),o.featureStyleAssociation_={},o.features_=a.features||new i.a,a.layers)if("function"==typeof a.layers)n=a.layers;else{var s=a.layers;n=function(e){return Object(Me.f)(s,e)}}else n=_.b;o.layerFilter_=n,o.featureLayerAssociation_={};var l=o.getFeatures();return l.addEventListener(xt.a.ADD,o.addFeature_.bind(o)),l.addEventListener(xt.a.REMOVE,o.removeFeature_.bind(o)),o}return Ut(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(Ct.c)(e)]=t},t.prototype.getFeatures=function(){return this.features_},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(Ct.c)(e)]},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){this.getMap()&&this.style_&&this.features_.forEach(this.removeSelectedStyle_.bind(this)),e.prototype.setMap.call(this,t),t&&this.style_&&this.features_.forEach(this.giveSelectedStyle_.bind(this))},t.prototype.addFeature_=function(e){var t=e.element;this.style_&&this.giveSelectedStyle_(t)},t.prototype.removeFeature_=function(e){var t=e.element;this.style_&&this.removeSelectedStyle_(t)},t.prototype.giveSelectedStyle_=function(e){var t=Object(Ct.c)(e);this.featureStyleAssociation_[t]=e.getStyle(),e.setStyle(this.style_)},t.prototype.removeSelectedStyle_=function(e){var t=Object(Ct.c)(e);e.setStyle(this.featureStyleAssociation_[t]),delete this.featureStyleAssociation_[t]},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(Ct.c)(e)]},t}(p),Kt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function Ht(e){return e.feature?e.feature:e.element?e.element:void 0}var Yt=[],Xt=function(e){function t(t){var r=this,n=t||{},i=n;return i.handleDownEvent||(i.handleDownEvent=_.b),i.stopDown||(i.stopDown=_.a),(r=e.call(this,i)||this).source_=n.source?n.source:null,r.vertex_=void 0===n.vertex||n.vertex,r.edge_=void 0===n.edge||n.edge,r.features_=n.features?n.features:null,r.featuresListenerKeys_=[],r.featureChangeListenerKeys_={},r.indexedFeaturesExtents_={},r.pendingFeatures_={},r.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,r.rBush_=new Rt.a,r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r)},r}return Kt(t,e),t.prototype.addFeature=function(e,t){var r=void 0===t||t,n=Object(Ct.c)(e),i=e.getGeometry();if(i){var o=this.SEGMENT_WRITERS_[i.getType()];o&&(this.indexedFeaturesExtents_[n]=i.getExtent(Object(z.createEmpty)()),o(e,i))}r&&(this.featureChangeListenerKeys_[n]=Object(Oe.a)(e,re.a.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var r=this.snapTo(t.pixel,t.coordinate,t.map);return r.snapped&&(t.coordinate=r.vertex.slice(0,2),t.pixel=r.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=Ht(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=Ht(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var r=Object(Ct.c)(t);r in this.pendingFeatures_||(this.pendingFeatures_[r]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(e){var t=Object(I.c)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var r=void 0===t||t,n=Object(Ct.c)(e),i=this.indexedFeaturesExtents_[n];if(i){var o=this.rBush_,a=[];o.forEachInExtent(i,(function(t){e===t.feature&&a.push(t)}));for(var s=a.length-1;s>=0;--s)o.remove(a[s])}r&&(Object(Oe.c)(this.featureChangeListenerKeys_[n]),delete this.featureChangeListenerKeys_[n])},t.prototype.setMap=function(t){var r=this.getMap(),n=this.featuresListenerKeys_,i=this.getFeatures_();r&&(n.forEach(Oe.c),n.length=0,i.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?n.push(Object(Oe.a)(this.features_,xt.a.ADD,this.handleFeatureAdd_,this),Object(Oe.a)(this.features_,xt.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(Oe.a)(this.source_,kt.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(Oe.a)(this.source_,kt.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),i.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,r){var n=r.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=r.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),o=Object(z.boundingExtent)([n,i]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter((function(e){return e.feature.getGeometry().getType()!==Fe.a.CIRCLE})));var s=!1,l=null,u=null;if(0===a.length)return{snapped:s,vertex:l,vertexPixel:u};for(var c,h=r.getView().getProjection(),p=Object(Ee.fromUserCoordinate)(t,h),d=1/0,f=0;f<a.length;++f){var g=a[f];Yt[0]=Object(Ee.fromUserCoordinate)(g.segment[0],h),Yt[1]=Object(Ee.fromUserCoordinate)(g.segment[1],h);var y=Object(m.i)(p,Yt);y<d&&(c=g,d=y)}var _=c.segment;if(this.vertex_&&!this.edge_){var b=r.getPixelFromCoordinate(_[0]),v=r.getPixelFromCoordinate(_[1]),w=Object(m.h)(e,b),O=Object(m.h)(e,v);Math.sqrt(Math.min(w,O))<=this.pixelTolerance_&&(s=!0,l=w>O?_[1]:_[0],u=r.getPixelFromCoordinate(l))}else if(this.edge_){var E=c.feature.getGeometry().getType()===Fe.a.CIRCLE;if(E?l=Object(m.b)(t,c.feature.getGeometry()):(Yt[0]=Object(Ee.fromUserCoordinate)(_[0],h),Yt[1]=Object(Ee.fromUserCoordinate)(_[1],h),l=Object(Ee.toUserCoordinate)(Object(m.c)(p,Yt),h)),u=r.getPixelFromCoordinate(l),Object(m.d)(e,u)<=this.pixelTolerance_&&(s=!0,this.vertex_&&!E)){b=r.getPixelFromCoordinate(_[0]),v=r.getPixelFromCoordinate(_[1]),w=Object(m.h)(u,b),O=Object(m.h)(u,v);Math.sqrt(Math.min(w,O))<=this.pixelTolerance_&&(l=w>O?_[1]:_[0],u=r.getPixelFromCoordinate(l))}}return s&&(u=[Math.round(u[0]),Math.round(u[1])]),{snapped:s,vertex:l,vertexPixel:u}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){for(var r=Object(W.b)(t).getCoordinates()[0],n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),n=0;n<r.length;++n){var i=this.SEGMENT_WRITERS_[r[n].getType()];i&&i(e,r[n])}},t.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length-1;n<i;++n){var o=r.slice(n,n+2),a={feature:e,segment:o};this.rBush_.insert(Object(z.boundingExtent)(o),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n){var o=r[n],a={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),p={feature:e,segment:h};this.rBush_.insert(Object(z.boundingExtent)(h),p)}},t.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),n={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),n)},t.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:e,segment:l};this.rBush_.insert(Object(z.boundingExtent)(l),u)}},t}(A),Zt=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),qt="translatestart",Qt="translating",$t="translateend",Jt=function(e){function t(t,r,n,i,o){var a=e.call(this,t)||this;return a.features=r,a.coordinate=n,a.startCoordinate=i,a.mapBrowserEvent=o,a}return Zt(t,e),t}(B.a),er=function(e){function t(t){var r,n=this,i=t||{};if((n=e.call(this,i)||this).lastCoordinate_=null,n.startCoordinate_=null,n.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)r=i.layers;else{var o=i.layers;r=function(e){return Object(Me.f)(o,e)}}else r=_.b;return n.layerFilter_=r,n.filter_=i.filter?i.filter:_.b,n.hitTolerance_=i.hitTolerance?i.hitTolerance:0,n.lastFeature_=null,n.addEventListener(Object(s.b)(u),n.handleActiveChanged_),n}return Zt(t,e),t.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.startCoordinate_=e.coordinate,this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new Jt(qt,t,e.coordinate,this.startCoordinate_,e)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new i.a([this.lastFeature_]);return this.dispatchEvent(new Jt($t,t,e.coordinate,this.startCoordinate_,e)),this.startCoordinate_=null,!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,r=t[0]-this.lastCoordinate_[0],n=t[1]-this.lastCoordinate_[1],o=this.features_||new i.a([this.lastFeature_]);o.forEach((function(e){var t=e.getGeometry();t.translate(r,n),e.setGeometry(t)})),this.lastCoordinate_=t,this.dispatchEvent(new Jt(Qt,o,t,this.startCoordinate_,e))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e,t){if(this.filter_(e,t)&&(!this.features_||Object(Me.f)(this.features_.getArray(),e)))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var r=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(r)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),r=this.getActive();t&&r||(t=t||e)&&t.getViewport().classList.remove("ol-grab","ol-grabbing")},t}(A);function tr(e){var t=e||{},r=new i.a,n=new o(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&r.push(new U),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&r.push(new g({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&r.push(new N({condition:t.onFocusOnly?w:void 0,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&r.push(new be),(void 0===t.pinchZoom||t.pinchZoom)&&r.push(new we({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(r.push(new ue),r.push(new pe({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&r.push(new ye({condition:t.onFocusOnly?w:void 0,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&r.push(new te({duration:t.zoomDuration})),r}r.d(t,"defaults",(function(){return tr})),r.d(t,"DoubleClickZoom",(function(){return g})),r.d(t,"DragAndDrop",(function(){return Re})),r.d(t,"DragBox",(function(){return $})),r.d(t,"DragPan",(function(){return N})),r.d(t,"DragRotate",(function(){return U})),r.d(t,"DragRotateAndZoom",(function(){return Ie})),r.d(t,"DragZoom",(function(){return te})),r.d(t,"Draw",(function(){return _t})),r.d(t,"Extent",(function(){return St})),r.d(t,"Interaction",(function(){return p})),r.d(t,"KeyboardPan",(function(){return ue})),r.d(t,"KeyboardZoom",(function(){return pe})),r.d(t,"Modify",(function(){return Gt})),r.d(t,"MouseWheelZoom",(function(){return ye})),r.d(t,"PinchRotate",(function(){return be})),r.d(t,"PinchZoom",(function(){return we})),r.d(t,"Pointer",(function(){return A})),r.d(t,"Select",(function(){return Wt})),r.d(t,"Snap",(function(){return Xt})),r.d(t,"Translate",(function(){return er}))},function(e,t,r){"use strict";r.r(t);var n,i=r(203),o=r(36),a=r(29),s=r(126),l=r(21),u=r(22),c=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function h(e,t){for(var r=c.length,n=0;n<r;++n)try{var i=e.getContext(c[n],t);if(i)return i}catch(e){}return null}var p=r(25),d=35044;function f(e){switch(e){case 34962:return Float32Array;case 34963:return Uint32Array;default:return Float32Array}}var g=function(){function e(e,t){this.array=null,this.type=e,Object(p.a)(34962===e||34963===e,62),this.usage=void 0!==t?t:d}return e.prototype.ofSize=function(e){this.array=new(f(this.type))(e)},e.prototype.fromArray=function(e){this.array=f(this.type).from(e)},e.prototype.fromArrayBuffer=function(e){this.array=new(f(this.type))(e)},e.prototype.getType=function(){return this.type},e.prototype.getArray=function(){return this.array},e.prototype.getUsage=function(){return this.usage},e.prototype.getSize=function(){return this.array?this.array.length:0},e}(),m=r(5),y=r(111),_="webglcontextlost",b="webglcontextrestored",v=r(18);function w(e,t){return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}var O,E=function(){function e(e){this.gl_=e.webGlContext;var t=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=t.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=t.createFramebuffer();var r=t.createShader(t.VERTEX_SHADER);t.shaderSource(r,e.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord = a_position * 0.5 + 0.5;\n    v_screenCoord = v_texCoord * u_screenSize;\n    gl_Position = vec4(a_position, 0.0, 1.0);\n  }\n"),t.compileShader(r);var n=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(n,e.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n   \n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n   \n  void main() {\n    gl_FragColor = texture2D(u_image, v_texCoord);\n  }\n"),t.compileShader(n),this.renderTargetProgram_=t.createProgram(),t.attachShader(this.renderTargetProgram_,r),t.attachShader(this.renderTargetProgram_,n),t.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),t.STATIC_DRAW),this.renderTargetAttribLocation_=t.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=t.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(function(r){this.uniforms_.push({value:e.uniforms[r],location:t.getUniformLocation(this.renderTargetProgram_,r)})}.bind(this))}return e.prototype.getGL=function(){return this.gl_},e.prototype.init=function(e){var t=this.getGL(),r=t.canvas,n=e.size;if(t.bindFramebuffer(t.FRAMEBUFFER,this.getFrameBuffer()),t.viewport(0,0,r.width*this.scaleRatio_,r.height*this.scaleRatio_),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==n[0]||this.renderTargetTextureSize_[1]!==n[1]){this.renderTargetTextureSize_=n;var i=t.RGBA,o=t.RGBA,a=t.UNSIGNED_BYTE;t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.texImage2D(t.TEXTURE_2D,0,i,r.width*this.scaleRatio_,r.height*this.scaleRatio_,0,o,a,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.renderTargetTexture_,0)}},e.prototype.apply=function(e,t){var r=this.getGL(),n=r.canvas;r.bindFramebuffer(r.FRAMEBUFFER,t?t.getFrameBuffer():null),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.renderTargetTexture_),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.viewport(0,0,n.width,n.height),r.bindBuffer(r.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),r.useProgram(this.renderTargetProgram_),r.enableVertexAttribArray(this.renderTargetAttribLocation_),r.vertexAttribPointer(this.renderTargetAttribLocation_,2,r.FLOAT,!1,0,0),r.uniform2f(this.renderTargetUniformLocation_,n.width,n.height),r.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(e),r.drawArrays(r.TRIANGLES,0,6)},e.prototype.getFrameBuffer=function(){return this.frameBuffer_},e.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=1;this.uniforms_.forEach((function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t instanceof ImageData?r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,t.width,t.height,0,r.UNSIGNED_BYTE,new Uint8Array(t.data)):r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(i.location,n++);else if(Array.isArray(t))switch(t.length){case 2:return void r.uniform2f(i.location,t[0],t[1]);case 3:return void r.uniform3f(i.location,t[0],t[1],t[2]);case 4:return void r.uniform4f(i.location,t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(i.location,t)}))},e}(),T=r(26),S=(O=function(e,t){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),C="u_projectionMatrix",x="u_offsetScaleMatrix",k="u_offsetRotateMatrix",R="u_time",P="u_zoom",I="u_resolution",j={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};function L(e){switch(e){case j.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case j.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case j.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case j.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var A=function(e){function t(t){var r=e.call(this)||this,i=t||{};r.boundHandleWebGLContextLost_=r.handleWebGLContextLost.bind(r),r.boundHandleWebGLContextRestored_=r.handleWebGLContextRestored.bind(r),r.canvas_=document.createElement("canvas"),r.canvas_.style.position="absolute",r.canvas_.style.left="0",r.gl_=h(r.canvas_);var o=r.getGL();if(r.bufferCache_={},r.currentProgram_=null,Object(p.a)(Object(T.f)(function(){if(!n){var e=h(document.createElement("canvas"));e&&(n=e.getSupportedExtensions())}return n}(),"OES_element_index_uint"),63),o.getExtension("OES_element_index_uint"),r.canvas_.addEventListener(_,r.boundHandleWebGLContextLost_),r.canvas_.addEventListener(b,r.boundHandleWebGLContextRestored_),r.offsetRotateMatrix_=Object(v.c)(),r.offsetScaleMatrix_=Object(v.c)(),r.tmpMat4_=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r.uniformLocations_={},r.attribLocations_={},r.uniforms_=[],i.uniforms)for(var a in i.uniforms)r.uniforms_.push({name:a,value:i.uniforms[a]});return r.postProcessPasses_=i.postProcesses?i.postProcesses.map((function(e){return new E({webGlContext:o,scaleRatio:e.scaleRatio,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms})})):[new E({webGlContext:o})],r.shaderCompileErrors_=null,r.startTime_=Date.now(),r}return S(t,e),t.prototype.bindBuffer=function(e){var t=this.getGL(),r=Object(m.c)(e),n=this.bufferCache_[r];n||(n={buffer:e,webGlBuffer:t.createBuffer()},this.bufferCache_[r]=n);t.bindBuffer(e.getType(),n.webGlBuffer)},t.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},t.prototype.deleteBuffer=function(e){var t=this.getGL(),r=Object(m.c)(e),n=this.bufferCache_[r];t.isContextLost()||t.deleteBuffer(n.buffer),delete this.bufferCache_[r]},t.prototype.disposeInternal=function(){this.canvas_.removeEventListener(_,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(b,this.boundHandleWebGLContextRestored_)},t.prototype.prepareDraw=function(e){var t=this.getGL(),r=this.getCanvas(),n=e.size,i=e.pixelRatio;r.width=n[0]*i,r.height=n[1]*i,r.style.width=n[0]+"px",r.style.height=n[1]+"px",t.useProgram(this.currentProgram_);for(var o=this.postProcessPasses_.length-1;o>=0;o--)this.postProcessPasses_[o].init(e);t.bindTexture(t.TEXTURE_2D,null),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.prepareDrawToRenderTarget=function(e,t,r){var n=this.getGL(),i=t.getSize();n.bindFramebuffer(n.FRAMEBUFFER,t.getFramebuffer()),n.viewport(0,0,i[0],i[1]),n.bindTexture(n.TEXTURE_2D,t.getTexture()),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.enable(n.BLEND),n.blendFunc(n.ONE,r?n.ZERO:n.ONE_MINUS_SRC_ALPHA),n.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},t.prototype.drawElements=function(e,t){var r=this.getGL(),n=r.UNSIGNED_INT,i=t-e,o=4*e;r.drawElements(r.TRIANGLES,i,n,o)},t.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},t.prototype.getCanvas=function(){return this.canvas_},t.prototype.getGL=function(){return this.gl_},t.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,n=Object(v.g)(this.offsetScaleMatrix_);Object(v.i)(n,2/t[0],2/t[1]);var i=Object(v.g)(this.offsetRotateMatrix_);0!==r&&Object(v.h)(i,-r),this.setUniformMatrixValue(x,w(this.tmpMat4_,n)),this.setUniformMatrixValue(k,w(this.tmpMat4_,i)),this.setUniformFloatValue(R,.001*(Date.now()-this.startTime_)),this.setUniformFloatValue(P,e.viewState.zoom),this.setUniformFloatValue(I,e.viewState.resolution)},t.prototype.applyUniforms=function(e){var t,r=this.getGL(),n=0;this.uniforms_.forEach(function(i){if((t="function"==typeof i.value?i.value(e):i.value)instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof ImageData)i.texture||(i.texture=r.createTexture()),r.activeTexture(r["TEXTURE"+n]),r.bindTexture(r.TEXTURE_2D,i.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),(!(t instanceof HTMLImageElement)||t.complete)&&r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,t),r.uniform1i(this.getUniformLocation(i.name),n++);else if(Array.isArray(t)&&6===t.length)this.setUniformMatrixValue(i.name,w(this.tmpMat4_,t));else if(Array.isArray(t)&&t.length<=4)switch(t.length){case 2:return void r.uniform2f(this.getUniformLocation(i.name),t[0],t[1]);case 3:return void r.uniform3f(this.getUniformLocation(i.name),t[0],t[1],t[2]);case 4:return void r.uniform4f(this.getUniformLocation(i.name),t[0],t[1],t[2],t[3]);default:return}else"number"==typeof t&&r.uniform1f(this.getUniformLocation(i.name),t)}.bind(this))},t.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0)},t.prototype.compileShader=function(e,t){var r=this.getGL(),n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n},t.prototype.getProgram=function(e,t){var r=this.getGL(),n=this.compileShader(e,r.FRAGMENT_SHADER),i=this.compileShader(t,r.VERTEX_SHADER);this.shaderCompileErrors_=null,r.getShaderInfoLog(n)&&(this.shaderCompileErrors_="Fragment shader compilation failed:\n"+r.getShaderInfoLog(n)),r.getShaderInfoLog(i)&&(this.shaderCompileErrors_=(this.shaderCompileErrors_||"")+"Vertex shader compilation failed:\n"+r.getShaderInfoLog(i));var o=r.createProgram();return r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),o},t.prototype.getShaderCompileErrors=function(){return this.shaderCompileErrors_},t.prototype.getUniformLocation=function(e){return void 0===this.uniformLocations_[e]&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},t.prototype.getAttributeLocation=function(e){return void 0===this.attribLocations_[e]&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},t.prototype.makeProjectionTransform=function(e,t){var r=e.size,n=e.viewState.rotation,i=e.viewState.resolution,o=e.viewState.center;return Object(v.g)(t),Object(v.b)(t,0,0,2/(i*r[0]),2/(i*r[1]),-n,-o[0],-o[1]),t},t.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},t.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},t.prototype.enableAttributeArray_=function(e,t,r,n,i){var o=this.getAttributeLocation(e);o<0||(this.getGL().enableVertexAttribArray(o),this.getGL().vertexAttribPointer(o,t,r,!1,n,i))},t.prototype.enableAttributes=function(e){for(var t=function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r];t+=n.size*L(n.type)}return t}(e),r=0,n=0;n<e.length;n++){var i=e[n];this.enableAttributeArray_(i.name,i.size,i.type||5126,t,r),r+=i.size*L(i.type)}},t.prototype.handleWebGLContextLost=function(){Object(u.b)(this.bufferCache_),this.currentProgram_=null},t.prototype.handleWebGLContextRestored=function(){},t.prototype.createTexture=function(e,t,r){var n=this.getGL(),i=r||n.createTexture(),o=n.RGBA,a=n.RGBA,s=n.UNSIGNED_BYTE;return n.bindTexture(n.TEXTURE_2D,i),t?n.texImage2D(n.TEXTURE_2D,0,o,a,s,t):n.texImage2D(n.TEXTURE_2D,0,o,e[0],e[1],0,a,s,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i},t}(y.a),F=r(6),M=r(218),N=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),D="GENERATE_BUFFERS",G=function(e){function t(t,r){var n=e.call(this,t)||this,i=r||{};return n.helper=new A({postProcesses:i.postProcesses,uniforms:i.uniforms}),n}return N(t,e),t.prototype.disposeInternal=function(){this.helper.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getShaderCompileErrors=function(){return this.helper.getShaderCompileErrors()},t}(M.a);function U(e,t){var r=t||[];return r[0]=Math.floor(e/256/256/256)/255,r[1]=Math.floor(e/256/256)%256/255,r[2]=Math.floor(e/256)%256/255,r[3]=e%256/255,r}var z=G,B=r(48),V=r(1),W=new Blob(['var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};'],{type:"application/javascript"}),K=URL.createObjectURL(W);var H=new Uint8Array(4),Y=function(){function e(e,t){this.helper_=e;var r=e.getGL();this.texture_=r.createTexture(),this.framebuffer_=r.createFramebuffer(),this.size_=t||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return e.prototype.setSize=function(e){Object(T.b)(e,this.size_)||(this.size_[0]=e[0],this.size_[1]=e[1],this.updateSize_())},e.prototype.getSize=function(){return this.size_},e.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},e.prototype.readAll=function(){if(this.dataCacheDirty_){var e=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.readPixels(0,0,e[0],e[1],t.RGBA,t.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},e.prototype.readPixel=function(e,t){if(e<0||t<0||e>this.size_[0]||t>=this.size_[1])return H[0]=0,H[1]=0,H[2]=0,H[3]=0,H;this.readAll();var r=Math.floor(e)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];return H[0]=this.data_[4*r],H[1]=this.data_[4*r+1],H[2]=this.data_[4*r+2],H[3]=this.data_[4*r+3],H},e.prototype.getTexture=function(){return this.texture_},e.prototype.getFramebuffer=function(){return this.framebuffer_},e.prototype.updateSize_=function(){var e=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(e,null,this.texture_),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_),t.viewport(0,0,e[0],e[1]),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(e[0]*e[1]*4)},e}(),X=r(148),Z=r(9),q=r(85),Q=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),$=function(e){function t(t,r){var n=this,i=r.uniforms||{},o=Object(v.c)();if(i[C]=o,(n=e.call(this,t,{uniforms:i,postProcesses:r.postProcesses})||this).sourceRevision_=-1,n.verticesBuffer_=new g(34962,35048),n.hitVerticesBuffer_=new g(34962,35048),n.indicesBuffer_=new g(34963,35048),n.program_=n.helper.getProgram(r.fragmentShader,r.vertexShader),n.getShaderCompileErrors())throw new Error(n.getShaderCompileErrors());if(n.hitDetectionEnabled_=!(!r.hitFragmentShader||!r.hitVertexShader),n.hitProgram_=n.hitDetectionEnabled_&&n.helper.getProgram(r.hitFragmentShader,r.hitVertexShader),n.getShaderCompileErrors())throw new Error(n.getShaderCompileErrors());var a=r.attributes?r.attributes.map((function(e){return{name:"a_"+e.name,size:1,type:j.FLOAT}})):[];n.attributes=[{name:"a_position",size:2,type:j.FLOAT},{name:"a_index",size:1,type:j.FLOAT}].concat(a),n.hitDetectionAttributes=[{name:"a_position",size:2,type:j.FLOAT},{name:"a_index",size:1,type:j.FLOAT},{name:"a_hitColor",size:4,type:j.FLOAT},{name:"a_featureUid",size:1,type:j.FLOAT}].concat(a),n.customAttributes=r.attributes?r.attributes:[],n.previousExtent_=Object(V.createEmpty)(),n.currentTransform_=o,n.renderTransform_=Object(v.c)(),n.invertRenderTransform_=Object(v.c)(),n.renderInstructions_=new Float32Array(0),n.hitRenderInstructions_=new Float32Array(0),n.hitRenderTarget_=n.hitDetectionEnabled_&&new Y(n.helper),n.worker_=new Worker(K),n.worker_.addEventListener("message",function(e){var t=e.data;if(t.type===D){var r=t.projectionTransform;t.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(t.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(t.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=r,Object(v.d)(this.invertRenderTransform_,this.renderTransform_),t.hitDetection?this.hitRenderInstructions_=new Float32Array(e.data.renderInstructions):this.renderInstructions_=new Float32Array(e.data.renderInstructions),this.getLayer().changed()}}.bind(n)),n.featureCache_={},n.featureCount_=0;var s=n.getLayer().getSource();return n.sourceListenKeys_=[Object(Z.a)(s,q.a.ADDFEATURE,n.handleSourceFeatureAdded_,n),Object(Z.a)(s,q.a.CHANGEFEATURE,n.handleSourceFeatureChanged_,n),Object(Z.a)(s,q.a.REMOVEFEATURE,n.handleSourceFeatureDelete_,n)],s.forEachFeature(function(e){this.featureCache_[Object(m.c)(e)]={feature:e,properties:e.getProperties(),geometry:e.getGeometry()},this.featureCount_++}.bind(n)),n}return Q(t,e),t.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[Object(m.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},t.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[Object(m.c)(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},t.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[Object(m.c)(t)],this.featureCount_--},t.prototype.renderFrame=function(e){var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var r=this.helper.getCanvas(),n=e.layerStatesArray[e.layerIndex].opacity;return n!==parseFloat(r.style.opacity)&&(r.style.opacity=n),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),r},t.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),n=e.viewState,i=!e.viewHints[B.a.ANIMATING]&&!e.viewHints[B.a.INTERACTING],o=!Object(V.equals)(this.previousExtent_,e.extent),a=this.sourceRevision_<r.getRevision();if(a&&(this.sourceRevision_=r.getRevision()),i&&(o||a)){var s=n.projection,l=n.resolution,u=t instanceof X.a?t.getRenderBuffer():0,c=Object(V.buffer)(e.extent,u*l);r.loadFeatures(c,l,s),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),Object(v.f)(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},t.prototype.rebuildBuffers_=function(e){var t=Object(v.c)();this.helper.makeProjectionTransform(e,t);var r,n,i=(2+this.customAttributes.length)*this.featureCount_;if(this.renderInstructions_&&this.renderInstructions_.length===i||(this.renderInstructions_=new Float32Array(i)),this.hitDetectionEnabled_){var o=(7+this.customAttributes.length)*this.featureCount_;this.hitRenderInstructions_&&this.hitRenderInstructions_.length===o||(this.hitRenderInstructions_=new Float32Array(o))}var a,s=[],l=[],u=0,c=0;for(var h in this.featureCache_)if((n=(r=this.featureCache_[h]).geometry)&&n.getType()===F.a.POINT){s[0]=n.getFlatCoordinates()[0],s[1]=n.getFlatCoordinates()[1],Object(v.a)(t,s),a=U(c+6,l),this.renderInstructions_[u++]=s[0],this.renderInstructions_[u++]=s[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=s[0],this.hitRenderInstructions_[c++]=s[1],this.hitRenderInstructions_[c++]=a[0],this.hitRenderInstructions_[c++]=a[1],this.hitRenderInstructions_[c++]=a[2],this.hitRenderInstructions_[c++]=a[3],this.hitRenderInstructions_[c++]=Number(h));for(var p=void 0,d=0;d<this.customAttributes.length;d++)p=this.customAttributes[d].callback(r.feature,r.properties),this.renderInstructions_[u++]=p,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[c++]=p)}var f={type:D,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(f.projectionTransform=t,this.worker_.postMessage(f,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var g={type:D,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};g.projectionTransform=t,g.hitDetection=!0,this.worker_.postMessage(g,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){if(Object(p.a)(this.hitDetectionEnabled_,66),this.hitRenderInstructions_){var o=Object(v.a)(t.coordinateToPixelTransform,e.slice()),a=this.hitRenderTarget_.readPixel(o[0]/2,o[1]/2),s=function(e){var t=0;return t+=Math.round(256*e[0]*256*256*255),t+=Math.round(256*e[1]*256*255),t+=Math.round(256*e[2]*255),t+=Math.round(255*e[3])}([a[0]/255,a[1]/255,a[2]/255,a[3]/255]),l=this.hitRenderInstructions_[s],u=Math.floor(l).toString(),c=this.getLayer().getSource().getFeatureByUid(u);return c?n(c,this.getLayer()):void 0}},t.prototype.renderHitDetection=function(e){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},t.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach((function(e){Object(Z.c)(e)})),this.sourceListenKeys_=null,e.prototype.disposeInternal.call(this)},t}(z),J=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ee="blur",te="gradient",re="radius",ne=["#00f","#0ff","#0f0","#ff0","#f00"];var ie=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,(r=e.call(this,i)||this).gradient_=null,r.addEventListener(Object(o.b)(te),r.handleGradientChanged_),r.setGradient(n.gradient?n.gradient:ne),r.setBlur(void 0!==n.blur?n.blur:15),r.setRadius(void 0!==n.radius?n.radius:8);var a=n.weight?n.weight:"weight";return r.weightFunction_="string"==typeof a?function(e){return e.get(a)}:a,r.setRenderOrder(null),r}return J(t,e),t.prototype.getBlur=function(){return this.get(ee)},t.prototype.getGradient=function(){return this.get(te)},t.prototype.getRadius=function(){return this.get(re)},t.prototype.handleGradientChanged_=function(){this.gradient_=function(e){for(var t=Object(a.a)(1,256),r=t.createLinearGradient(0,0,1,256),n=1/(e.length-1),i=0,o=e.length;i<o;++i)r.addColorStop(i*n,e[i]);return t.fillStyle=r,t.fillRect(0,0,1,256),t.canvas}(this.getGradient())},t.prototype.setBlur=function(e){this.set(ee,e)},t.prototype.setGradient=function(e){this.set(te,e)},t.prototype.setRadius=function(e){this.set(re,e)},t.prototype.createRenderer=function(){return new $(this,{attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return void 0!==t?Object(l.a)(t,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_weight = a_weight;\n        }",fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor = vec4(alpha, alpha, alpha, alpha);\n        }",hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix = u_offsetScaleMatrix;\n          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;\n          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;\n          v_texCoord = vec2(u, v);\n          v_hitColor = a_hitColor;\n          v_weight = a_weight;\n        }",hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha = smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha < 0.05) {\n            discard;\n          }\n\n          gl_FragColor = v_hitColor;\n        }",uniforms:{u_size:function(){return 2*(this.get(re)+this.get(ee))}.bind(this),u_blurSlope:function(){return this.get(re)/Math.max(1,this.get(ee))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:this.gradient_}}]})},t}(s.a),oe=r(211),ae=r(93),se=r(214),le=r(180),ue=r(226),ce=r(221),he=r(11),pe=r(30),de=r(228),fe=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ge=function(e){function t(t){var r=e.call(this,t)||this;return r.vectorRenderer_=new ce.a(t),r.layerImageRatio_=t.getImageRatio(),r.coordinateToVectorPixelTransform_=Object(v.c)(),r.renderedPixelToCoordinateTransform_=null,r}return fe(t,e),t.prototype.disposeInternal=function(){this.vectorRenderer_.dispose(),e.prototype.disposeInternal.call(this)},t.prototype.getFeatures=function(e){if(this.vectorRenderer_){var t=Object(v.a)(this.coordinateToVectorPixelTransform_,Object(v.a)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(t)}return new Promise((function(e,t){e([])}))},t.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()},t.prototype.prepareFrame=function(e){var t=e.pixelRatio,r=e.viewState,n=r.resolution,i=e.viewHints,o=this.vectorRenderer_,a=e.extent;1!==this.layerImageRatio_&&(a=a.slice(0),Object(V.scaleFromCenter)(a,this.layerImageRatio_));var s=Object(V.getWidth)(a)/n,l=Object(V.getHeight)(a)/n;if(!i[B.a.ANIMATING]&&!i[B.a.INTERACTING]&&!Object(V.isEmpty)(a)){o.useContainer(null,null,1);var c=o.context,h=Object(u.a)({},e,{declutterItems:[],size:[s,l],viewState:Object(u.a)({},e.viewState,{rotation:0})}),p=new le.a(a,n,t,c.canvas,(function(e){o.prepareFrame(h)&&o.replayGroupChanged&&(o.renderFrame(h,null),Object(de.a)(h,null),e())}));p.addEventListener(he.a.CHANGE,function(){p.getState()===pe.a.LOADED&&(this.image_=p)}.bind(this)),p.load()}if(this.image_){var d=this.image_,f=d.getResolution()*t/d.getPixelRatio();this.renderedResolution=f,this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice(),this.coordinateToVectorPixelTransform_=Object(v.b)(this.coordinateToVectorPixelTransform_,s/2,l/2,1/f,-1/f,0,-r.center[0],-r.center[1])}return!!this.image_},t.prototype.preRender=function(){},t.prototype.postRender=function(){},t.prototype.forEachFeatureAtCoordinate=function(t,r,n,i,o){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(t,r,n,i,o):e.prototype.forEachFeatureAtCoordinate.call(this,t,r,n,i,o)},t}(ue.a),me=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ye=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);return delete i.imageRatio,(r=e.call(this,i)||this).imageRatio_=void 0!==n.imageRatio?n.imageRatio:1,r}return me(t,e),t.prototype.getImageRatio=function(){return this.imageRatio_},t.prototype.createRenderer=function(){return new ge(this)},t}(X.a),_e=r(140),be="image",ve="hybrid",we=r(15),Oe=r(43),Ee=r(249),Te=r(227),Se=r(55),Ce=r(124),xe=r(188),ke=r(157),Re=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Pe={image:[Oe.a.POLYGON,Oe.a.CIRCLE,Oe.a.LINE_STRING,Oe.a.IMAGE,Oe.a.TEXT],hybrid:[Oe.a.POLYGON,Oe.a.LINE_STRING]},Ie={image:[Oe.a.DEFAULT],hybrid:[Oe.a.IMAGE,Oe.a.TEXT,Oe.a.DEFAULT]},je=function(e){function t(t){var r=e.call(this,t)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.dirty_=!1,r.renderedLayerRevision_,r.renderedPixelToCoordinateTransform_=null,r.renderedRotation_,r.renderTileImageQueue_={},r.tileListenerKeys_={},r.tmpTransform_=Object(v.c)(),r}return Re(t,e),t.prototype.prepareTile=function(e,t,r,n){var i,o=Object(m.c)(e),a=e.getState();return(a===we.a.LOADED&&e.hifi||a===we.a.ERROR||a===we.a.ABORT)&&o in this.tileListenerKeys_&&(Object(Z.c)(this.tileListenerKeys_[o]),delete this.tileListenerKeys_[o]),a!==we.a.LOADED&&a!==we.a.ERROR||(this.updateExecutorGroup_(e,t,r),this.tileImageNeedsRender_(e,t,r)&&(i=!0,n&&(this.renderTileImageQueue_[o]=e))),i},t.prototype.getTile=function(t,r,n,i){var o=e.prototype.getTile.call(this,t,r,n,i),a=i.pixelRatio,s=i.viewState,l=s.resolution,u=s.projection;if(o.getState()<we.a.LOADED){o.wantedResolution=l;var c=Object(m.c)(o);if(!(c in this.tileListenerKeys_)){var h=Object(Z.a)(o,he.a.CHANGE,this.prepareTile.bind(this,o,a,u,!0));this.tileListenerKeys_[c]=h}}else{var p=i.viewHints;!!(p[B.a.ANIMATING]||p[B.a.INTERACTING])&&o.wantedResolution||(o.wantedResolution=l),this.prepareTile(o,a,u,!1)&&this.renderTileImage_(o,i)}return o},t.prototype.isDrawableTile=function(t){return e.prototype.isDrawableTile.call(this,t)&&t.hasContext(this.getLayer())},t.prototype.getTileImage=function(e){return e.getImage(this.getLayer())},t.prototype.prepareFrame=function(t){var r=this.getLayer().getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,e.prototype.prepareFrame.call(this,t)},t.prototype.updateExecutorGroup_=function(e,t,r){var n=this.getLayer(),i=n.getRevision(),o=n.getRenderOrder()||null,a=e.wantedResolution,s=e.getReplayState(n);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=i||s.renderedRenderOrder!=o||s.renderedZ!==e.sourceZ){var l=n.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(r).getTileCoordExtent(e.wrappedTileCoord),h=l.getSourceTiles(t,r,e),p=Object(m.c)(n),d=e.executorGroups[p];if(d)for(var f=0,g=d.length;f<g;++f)d[f].dispose();e.hitDetectionImageData=null,e.executorGroups[p]=[];for(var y=function(r,i){var d=h[r];if(d.getState()!=we.a.LOADED)return"continue";var f=d.tileCoord,g=u.getTileCoordExtent(f),m=Object(V.getIntersection)(c,g),y=Object(V.equals)(g,m)?null:Object(V.buffer)(m,n.getRenderBuffer()*a,_.tmpExtent);s.dirty=!1;var b=new Ee.a(0,m,a,t,n.getDeclutter()),v=Object(Ce.b)(a,t),w=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,a)),t){var i=this.renderFeature(e,v,t,b);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=d.getFeatures();o&&o!==s.renderedRenderOrder&&O.sort(o);for(var E=0,T=O.length;E<T;++E){var S=O[E];y&&!Object(V.intersects)(y,S.getGeometry().getExtent())||w.call(_,S)}var C=b.finish(),x=n.getDeclutter()&&1===h.length?null:m,k=new xe.a(x,a,t,l.getOverlaps(),C,n.getRenderBuffer());e.executorGroups[p].push(k)},_=this,b=0,v=h.length;b<v;++b)y(b);s.renderedRevision=i,s.renderedZ=e.sourceZ,s.renderedRenderOrder=o,s.renderedResolution=a}},t.prototype.forEachFeatureAtCoordinate=function(e,t,r,n,i){var o=t.viewState.resolution,a=t.viewState.rotation;r=null==r?0:r;var s,l,u,c=this.getLayer(),h=c.getDeclutter(),p=c.getSource().getTileGridForProjection(t.viewState.projection),d={},f=this.renderedTiles,g=function(){var t=f[l],u=p.getTileCoordExtent(t.wrappedTileCoord),g=Object(V.containsCoordinate)(u,e);if(!h&&!g)return"continue";for(var y=t.executorGroups[Object(m.c)(c)],_=0,b=y.length;_<b;++_){var v=y[_];s=s||v.forEachFeatureAtCoordinate(e,o,a,r,(function(e){if(g||i&&-1!==i.indexOf(e)){var t=e.getId();if(void 0===t&&(t=Object(m.c)(e)),!(t in d))return d[t]=!0,n(e,c)}}),c.getDeclutter()?i:null)}};for(l=0,u=f.length;l<u;++l)g();return s},t.prototype.getFeatures=function(e){return new Promise(function(t,r){for(var n,i=this.getLayer(),o=i.getSource(),a=this.renderedProjection,s=a.getExtent(),l=this.renderedResolution,u=o.getTileGridForProjection(a),c=Object(v.a)(this.renderedPixelToCoordinateTransform_,e.slice()),h=u.getTileCoordForCoordAndResolution(c,l),p=0,d=this.renderedTiles.length;p<d;++p)if(h.toString()===this.renderedTiles[p].tileCoord.toString()){if((n=this.renderedTiles[p]).getState()===we.a.LOADED&&n.hifi){var f=u.getTileCoordExtent(n.tileCoord);if(o.getWrapX()&&a.canWrapX()&&!Object(V.containsExtent)(s,f)){var g=Object(V.getWidth)(s),m=Math.floor((c[0]-s[0])/g);c[0]-=m*g}break}n=void 0}if(n){var y=u.getTileCoordExtent(n.wrappedTileCoord),_=Object(V.getTopLeft)(y),b=[(c[0]-_[0])/l,(_[1]-c[1])/l],w=n.getSourceTiles().reduce((function(e,t){return e.concat(t.getFeatures())}),[]);if(n.hitDetectionImageData)t(Object(ke.b)(b,w,n.hitDetectionImageData));else{var O=Object(Se.d)(u.getTileSize(u.getZForResolution(l))),E=[O[0]/2,O[1]/2],T=this.renderedRotation_,S=[this.getRenderTransform(u.getTileCoordCenter(n.wrappedTileCoord),l,0,.5,E[0],E[1],0)];requestAnimationFrame((function(){n.hitDetectionImageData=Object(ke.a)(O,S,w,i.getStyleFunction(),u.getTileCoordExtent(n.wrappedTileCoord),n.getReplayState(i).renderedResolution,T),t(Object(ke.b)(b,w,n.hitDetectionImageData))}))}}else t([])}.bind(this))},t.prototype.handleFontsChanged=function(){Object(u.b)(this.renderTileImageQueue_);var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.renderFrame=function(t,r){var n=t.viewHints,i=!(n[B.a.ANIMATING]||n[B.a.INTERACTING]);this.renderQueuedTileImages_(i,t),e.prototype.renderFrame.call(this,t,r),this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation;var o=this.getLayer(),a=o.getRenderMode();if(a===be)return this.container;var s=o.getSource(),l=t.usedTiles[Object(m.c)(s)];for(var u in this.renderTileImageQueue_)l&&u in l||delete this.renderTileImageQueue_[u];for(var c=this.context,h=o.getDeclutter()?{}:null,p=Ie[a],d=t.pixelRatio,f=t.viewState,g=f.center,y=f.resolution,_=f.rotation,b=t.size,w=Math.round(b[0]*d),O=Math.round(b[1]*d),E=this.renderedTiles,T=s.getTileGridForProjection(t.viewState.projection),S=[],C=[],x=E.length-1;x>=0;--x){var k=E[x];if(k.getState()!=we.a.ABORT)for(var R=k.tileCoord,P=T.getTileCoordExtent(k.wrappedTileCoord),I=T.getTileCoordExtent(R,this.tmpExtent)[0]-P[0],j=Object(v.f)(Object(v.i)(this.inversePixelTransform.slice(),1/d,1/d),this.getRenderTransform(g,y,_,d,w,O,I)),L=k.executorGroups[Object(m.c)(o)],A=!1,F=0,M=L.length;F<M;++F){var N=L[F];if(N.hasExecutors(p)){var D=k.tileCoord[0],G=void 0;if(!h&&!A){G=N.getClipCoords(j),c.save();for(var U=0,z=S.length;U<z;++U){var V=S[U];D<C[U]&&(c.beginPath(),c.moveTo(G[0],G[1]),c.lineTo(G[2],G[3]),c.lineTo(G[4],G[5]),c.lineTo(G[6],G[7]),c.moveTo(V[6],V[7]),c.lineTo(V[4],V[5]),c.lineTo(V[2],V[3]),c.lineTo(V[0],V[1]),c.clip())}}N.execute(c,j,_,i,p,h),h||A||(c.restore(),S.push(G),C.push(D),A=!0)}}}if(h){var W=t.layerStatesArray[t.layerIndex];Object(xe.b)(h,c,_,W.opacity,i,t.declutterItems)}return this.container},t.prototype.renderQueuedTileImages_=function(e,t){for(var r in this.renderTileImageQueue_){if(!e&&Date.now()-t.time>8){t.animate=!0;break}var n=this.renderTileImageQueue_[r];delete this.renderTileImageQueue_[r],this.renderTileImage_(n,t)}},t.prototype.renderFeature=function(e,t,r,n){if(!r)return!1;var i=!1;if(Array.isArray(r))for(var o=0,a=r.length;o<a;++o)i=Object(Ce.d)(n,e,r[o],t,this.boundHandleStyleImageChange_)||i;else i=Object(Ce.d)(n,e,r,t,this.boundHandleStyleImageChange_);return i},t.prototype.tileImageNeedsRender_=function(e,t,r){var n=this.getLayer(),i=e.getReplayState(n),o=n.getRevision(),a=e.sourceZ,s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==o||i.renderedTileZ!==a},t.prototype.renderTileImage_=function(e,t){var r=this.getLayer(),n=e.getReplayState(r),i=r.getRevision(),o=e.executorGroups[Object(m.c)(r)];n.renderedTileRevision=i,n.renderedTileZ=e.sourceZ;var a=e.wrappedTileCoord,s=a[0],l=r.getSource(),u=t.pixelRatio,c=t.viewState.projection,h=l.getTileGridForProjection(c),p=h.getResolution(e.tileCoord[0]),d=t.pixelRatio/e.wantedResolution*p,f=h.getResolution(s),g=e.getContext(r);u=Math.max(u,d/u);var y=l.getTilePixelSize(s,u,c);g.canvas.width=y[0],g.canvas.height=y[1];var _=u/d;if(1!==_){var b=Object(v.g)(this.tmpTransform_);Object(v.i)(b,_,_),g.setTransform.apply(g,b)}var w=h.getTileCoordExtent(a,this.tmpExtent),O=d/f,E=Object(v.g)(this.tmpTransform_);Object(v.i)(E,O,-O),Object(v.l)(E,-w[0],-w[3]);for(var T=0,S=o.length;T<S;++T){o[T].execute(g,E,0,!0,Pe[r.getRenderMode()])}n.renderedTileResolution=e.wantedResolution},t}(Te.a),Le=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ae=function(e){function t(t){var r=this,n=t||{},i=Object(u.a)({},n);delete i.preload,delete i.useInterimTilesOnError,r=e.call(this,i)||this;var o=n.renderMode||ve;return Object(p.a)(null==o||o==be||o==ve,28),r.renderMode_=o,r.setPreload(n.preload?n.preload:0),r.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),r}return Le(t,e),t.prototype.createRenderer=function(){return new je(this)},t.prototype.getFeatures=function(t){return e.prototype.getFeatures.call(this,t)},t.prototype.getRenderMode=function(){return this.renderMode_},t.prototype.getPreload=function(){return this.get(_e.a.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(_e.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(e){this.set(_e.a.PRELOAD,e)},t.prototype.setUseInterimTilesOnError=function(e){this.set(_e.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(X.a);r.d(t,"Group",(function(){return i.a})),r.d(t,"Heatmap",(function(){return ie})),r.d(t,"Image",(function(){return oe.a})),r.d(t,"Layer",(function(){return ae.a})),r.d(t,"Tile",(function(){return se.a})),r.d(t,"Vector",(function(){return s.a})),r.d(t,"VectorImage",(function(){return ye})),r.d(t,"VectorTile",(function(){return Ae}))}]);